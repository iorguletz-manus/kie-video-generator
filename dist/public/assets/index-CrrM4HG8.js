function I8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ex(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function F8(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var P0={exports:{}},Nf={};var zD;function L8(){if(zD)return Nf;zD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Nf.Fragment=t,Nf.jsx=n,Nf.jsxs=n,Nf}var $D;function H8(){return $D||($D=1,P0.exports=L8()),P0.exports}var l=H8(),Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},B8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},V8=class{#t=B8;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},Ec=new V8;function W8(e){setTimeout(e,0)}var jc=typeof window>"u"||"Deno"in globalThis;function sa(){}function z8(e,t){return typeof e=="function"?e(t):e}function Db(e){return typeof e=="number"&&e>=0&&e!==1/0}function xN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yl(e,t){return typeof e=="function"?e(t):e}function Ai(e,t){return typeof e=="function"?e(t):e}function qD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:c,stale:d}=e;if(c){if(r){if(t.queryHash!==m1(c,t.options))return!1}else if(!dh(t.queryKey,c))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||o&&!o(t))}function GD(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(bl(t.options.mutationKey)!==bl(o))return!1}else if(!dh(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function m1(e,t){return(t?.queryKeyHashFn||bl)(e)}function bl(e){return JSON.stringify(e,(t,n)=>Sb(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function dh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>dh(e[n],t[n])):!1}var $8=Object.prototype.hasOwnProperty;function x1(e,t){if(e===t)return e;const n=XD(e)&&XD(t);if(!n&&!(Sb(e)&&Sb(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),c=o.length,d=n?new Array(c):{};let f=0;for(let h=0;h<c;h++){const m=n?h:o[h],p=e[m],x=t[m];if(p===x){d[m]=p,(n?h<i:$8.call(e,m))&&f++;continue}if(p===null||x===null||typeof p!="object"||typeof x!="object"){d[m]=x;continue}const v=x1(p,x);d[m]=v,v===p&&f++}return i===c&&f===i?e:d}function uh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function XD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sb(e){if(!KD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!KD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function KD(e){return Object.prototype.toString.call(e)==="[object Object]"}function q8(e){return new Promise(t=>{Ec.setTimeout(t,e)})}function Cb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?x1(e,t):t}function G8(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function X8(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var si=Symbol();function yN(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===si?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function vN(e,t){return typeof e=="function"?e(...t):!!e}var K8=class extends Vc{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!jc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},y1=new K8;function Tb(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var Y8=W8;function Z8(){let e=[],t=0,n=d=>{d()},r=d=>{d()},i=Y8;const o=d=>{t?e.push(d):i(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&i(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{o(()=>{d(...f)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var vr=Z8(),Q8=class extends Vc{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!jc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Am=new Q8;function J8(e){return Math.min(1e3*2**e,3e4)}function bN(e){return(e??"online")==="online"?Am.isOnline():!0}var Eb=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function _N(e){let t=!1,n=0,r;const i=Tb(),o=()=>i.status!=="pending",c=y=>{if(!o()){const b=new Eb(y);x(b),e.onCancel?.(b)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>y1.isFocused()&&(e.networkMode==="always"||Am.isOnline())&&e.canRun(),m=()=>bN(e.networkMode)&&e.canRun(),p=y=>{o()||(r?.(),i.resolve(y))},x=y=>{o()||(r?.(),i.reject(y))},v=()=>new Promise(y=>{r=b=>{(o()||h())&&y(b)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),w=()=>{if(o())return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(p).catch(_=>{if(o())return;const D=e.retry??(jc?0:3),C=e.retryDelay??J8,M=typeof C=="function"?C(n,_):C,A=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,_);if(t||!A){x(_);return}n++,e.onFail?.(n,_),q8(M).then(()=>h()?void 0:v()).then(()=>{t?x(_):w()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(r?.(),i),cancelRetry:d,continueRetry:f,canStart:m,start:()=>(m()?w():v().then(w),i)}}var wN=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Db(this.gcTime)&&(this.#t=Ec.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Ec.clearTimeout(this.#t),this.#t=void 0)}},ek=class extends wN{#t;#e;#n;#a;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=ZD(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ZD(this.options);t.data!==void 0&&(this.setState(YD(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Cb(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(sa).catch(sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ai(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===si||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xN(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const d=yN(this.options,t),h=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(d,h,this):d(h)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};return r(d),d})();this.options.behavior?.onFetch(c,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=_N({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Eb&&d.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Eb){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#s({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DN(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...YD(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),vr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function DN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function YD(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ZD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ah=class extends Vc{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=Tb(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#a=void 0;#r;#i;#o;#s;#h;#u;#f;#c;#d;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),QD(this.#e,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#_(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ai(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!uh(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&JD(this.#e,n,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#e!==n||Ai(this.options.enabled,this.#e)!==Ai(t.enabled,this.#e)||yl(this.options.staleTime,this.#e)!==yl(t.staleTime,this.#e))&&this.#m();const i=this.#x();r&&(this.#e!==n||Ai(this.options.enabled,this.#e)!==Ai(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return nk(this,n)&&(this.#a=n,this.#i=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#p(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(sa)),t}#m(){this.#b();const e=yl(this.options.staleTime,this.#e);if(jc||this.#a.isStale||!Db(e))return;const n=xN(this.#a.dataUpdatedAt,e)+1;this.#c=Ec.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#_(),this.#l=e,!(jc||Ai(this.options.enabled,this.#e)===!1||!Db(this.#l)||this.#l===0)&&(this.#d=Ec.setInterval(()=>{(this.options.refetchIntervalInBackground||y1.isFocused())&&this.#p()},this.#l))}#v(){this.#m(),this.#y(this.#x())}#b(){this.#c&&(Ec.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#d&&(Ec.clearInterval(this.#d),this.#d=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#a,o=this.#r,c=this.#i,f=e!==n?e.state:this.#n,{state:h}=e;let m={...h},p=!1,x;if(t._optimisticResults){const F=this.hasListeners(),O=!F&&QD(e,t),$=F&&JD(e,n,t,r);(O||$)&&(m={...m,...DN(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:y}=m;x=m.data;let b=!1;if(t.placeholderData!==void 0&&x===void 0&&y==="pending"){let F;i?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(F=i.data,b=!0):F=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,F!==void 0&&(y="success",x=Cb(i?.data,F,t),p=!0)}if(t.select&&x!==void 0&&!b)if(i&&x===o?.data&&t.select===this.#h)x=this.#u;else try{this.#h=t.select,x=t.select(x),x=Cb(i?.data,x,t),this.#u=x,this.#s=null}catch(F){this.#s=F}this.#s&&(v=this.#s,x=this.#u,w=Date.now(),y="error");const _=m.fetchStatus==="fetching",D=y==="pending",C=y==="error",M=D&&_,A=x!==void 0,U={status:y,fetchStatus:m.fetchStatus,isPending:D,isSuccess:y==="success",isError:C,isInitialLoading:M,isLoading:M,data:x,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:_,isRefetching:_&&!D,isLoadingError:C&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&A,isStale:v1(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Ai(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=se=>{U.status==="error"?se.reject(U.error):U.data!==void 0&&se.resolve(U.data)},O=()=>{const se=this.#o=U.promise=Tb();F(se)},$=this.#o;switch($.status){case"pending":e.queryHash===n.queryHash&&F($);break;case"fulfilled":(U.status==="error"||U.data!==$.value)&&O();break;case"rejected":(U.status!=="error"||U.error!==$.reason)&&O();break}}return U}updateResult(){const e=this.#a,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#i=this.options,this.#r.data!==void 0&&(this.#f=this.#e),uh(t,e))return;this.#a=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const o=new Set(i??this.#g);return this.options.throwOnError&&o.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&o.has(d)})};this.#D({listeners:n()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#D(e){vr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function tk(e,t){return Ai(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function QD(e,t){return tk(e,t)||e.state.data!==void 0&&Nb(e,t,t.refetchOnMount)}function Nb(e,t,n){if(Ai(t.enabled,e)!==!1&&yl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&v1(e,t)}return!1}function JD(e,t,n,r){return(e!==t||Ai(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&v1(e,n)}function v1(e,t){return Ai(t.enabled,e)!==!1&&e.isStaleByTime(yl(t.staleTime,e))}function nk(e,t){return!uh(e.getCurrentResult(),t)}function Mm(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let m=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=yN(t.options,t.fetchOptions),v=async(w,y,b)=>{if(m)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const D=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:y,direction:b?"backward":"forward",meta:t.options.meta};return p(j),j})(),C=await x(D),{maxPages:M}=t.options,A=b?X8:G8;return{pages:A(w.pages,C,M),pageParams:A(w.pageParams,y,M)}};if(i&&o.length){const w=i==="backward",y=w?SN:Ab,b={pages:o,pageParams:c},_=y(r,b);d=await v(b,_,w)}else{const w=e??o.length;do{const y=f===0?c[0]??r.initialPageParam:Ab(r,d);if(f>0&&y==null)break;d=await v(d,y),f++}while(f<w)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function Ab(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function SN(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function rk(e,t){return t?Ab(e,t)!=null:!1}function ak(e,t){return!t||!e.getPreviousPageParam?!1:SN(e,t)!=null}var CN=class extends Ah{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Mm()})}getOptimisticResult(e){return e.behavior=Mm(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:o,isError:c,isRefetchError:d}=r,f=n.fetchMeta?.fetchMore?.direction,h=c&&f==="forward",m=i&&f==="forward",p=c&&f==="backward",x=i&&f==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:rk(t,n.data),hasPreviousPage:ak(t,n.data),isFetchNextPageError:h,isFetchingNextPage:m,isFetchPreviousPageError:p,isFetchingPreviousPage:x,isRefetchError:d&&!h&&!p,isRefetching:o&&!m&&!x}}},ik=class extends wN{#t;#e;#n;#a;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#e=[],this.state=e.state||TN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=_N({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#r({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#a.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const c=await this.options.onMutate?.(e,n);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:i})}const o=await this.#a.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function TN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sk=class extends Vc{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new ik({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=cg(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=cg(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=cg(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=cg(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>GD(t,n))}findAll(e={}){return this.getAll().filter(t=>GD(e,t))}notify(e){vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vr.batch(()=>Promise.all(e.map(t=>t.continue().catch(sa))))}};function cg(e){return e.options.scope?.id}var ok=class extends Vc{#t;#e=void 0;#n;#a;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),uh(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&bl(n.mutationKey)!==bl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??TN();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){vr.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,n,r,i),this.#a.onSettled?.(t.data,null,n,r,i)):t?.type==="error"&&(this.#a.onError?.(t.error,n,r,i),this.#a.onSettled?.(void 0,t.error,n,r,i))}this.listeners.forEach(n=>{n(this.#e)})})}};function eS(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function lk(e,t,n){const r=e.slice(0);return r[t]=n,r}var ck=class extends Vc{#t;#e;#n;#a;#r;#i;#o;#s;#h=[];constructor(e,t,n){super(),this.#t=e,this.#a=n,this.#n=[],this.#r=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#r.forEach(e=>{e.subscribe(t=>{this.#d(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,t){this.#n=e,this.#a=t,vr.batch(()=>{const n=this.#r,r=this.#c(this.#n);this.#h=r,r.forEach(m=>m.observer.setOptions(m.defaultedQueryOptions));const i=r.map(m=>m.observer),o=i.map(m=>m.getCurrentResult()),c=n.length!==i.length,d=i.some((m,p)=>m!==n[p]),f=c||d,h=f?!0:o.some((m,p)=>{const x=this.#e[p];return!x||!uh(m,x)});!f&&!h||(f&&(this.#r=i),this.#e=o,this.hasListeners()&&(f&&(eS(n,i).forEach(m=>{m.destroy()}),eS(i,n).forEach(m=>{m.subscribe(p=>{this.#d(m,p)})})),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,t){const n=this.#c(e),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>this.#f(i??r,t),()=>this.#u(r,n)]}#u(e,t){return t.map((n,r)=>{const i=e[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,o=>{t.forEach(c=>{c.observer.trackProp(o)})})})}#f(e,t){return t?((!this.#i||this.#e!==this.#s||t!==this.#o)&&(this.#o=t,this.#s=this.#e,this.#i=x1(this.#i,t(e))),this.#i):e}#c(e){const t=new Map;this.#r.forEach(r=>{const i=r.options.queryHash;if(!i)return;const o=t.get(i);o?o.push(r):t.set(i,[r])});const n=[];return e.forEach(r=>{const i=this.#t.defaultQueryOptions(r),c=t.get(i.queryHash)?.shift()??new Ah(this.#t,i);n.push({defaultedQueryOptions:i,observer:c})}),n}#d(e,t){const n=this.#r.indexOf(e);n!==-1&&(this.#e=lk(this.#e,n,t),this.#l())}#l(){if(this.hasListeners()){const e=this.#i,t=this.#u(this.#e,this.#h),n=this.#f(t,this.#a?.combine);e!==n&&vr.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},dk=class extends Vc{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??m1(r,t);let o=this.get(i);return o||(o=new ek({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>qD(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>qD(e,n)):t}notify(e){vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uk=class{#t;#e;#n;#a;#r;#i;#o;#s;constructor(e={}){this.#t=e.queryCache||new dk,this.#e=e.mutationCache||new sk,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=y1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Am.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(yl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(r.queryHash)?.state.data,c=z8(t,o);if(c!==void 0)return this.#t.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return vr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;vr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return vr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=vr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(sa).catch(sa)}invalidateQueries(e,t={}){return vr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=vr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(sa)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(sa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(yl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sa).catch(sa)}fetchInfiniteQuery(e){return e.behavior=Mm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sa).catch(sa)}ensureInfiniteQueryData(e){return e.behavior=Mm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Am.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(bl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{dh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(bl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{dh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=m1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===si&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},O0={exports:{}},on={};var tS;function fk(){if(tS)return on;tS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function _(B,te,J){this.props=B,this.context=te,this.refs=b,this.updater=J||w}_.prototype.isReactComponent={},_.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},_.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=_.prototype;function C(B,te,J){this.props=B,this.context=te,this.refs=b,this.updater=J||w}var M=C.prototype=new D;M.constructor=C,y(M,_.prototype),M.isPureReactComponent=!0;var A=Array.isArray;function j(){}var U={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function O(B,te,J){var de=J.ref;return{$$typeof:e,type:B,key:te,ref:de!==void 0?de:null,props:J}}function $(B,te){return O(B.type,te,B.props)}function se(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function I(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return te[J]})}var Q=/\/+/g;function k(B,te){return typeof B=="object"&&B!==null&&B.key!=null?I(""+B.key):te.toString(36)}function ae(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(j,j):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,te,J,de,_e){var Oe=typeof B;(Oe==="undefined"||Oe==="boolean")&&(B=null);var Ee=!1;if(B===null)Ee=!0;else switch(Oe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(B.$$typeof){case e:case t:Ee=!0;break;case m:return Ee=B._init,H(Ee(B._payload),te,J,de,_e)}}if(Ee)return _e=_e(B),Ee=de===""?"."+k(B,0):de,A(_e)?(J="",Ee!=null&&(J=Ee.replace(Q,"$&/")+"/"),H(_e,te,J,"",function(at){return at})):_e!=null&&(se(_e)&&(_e=$(_e,J+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(Q,"$&/")+"/")+Ee)),te.push(_e)),1;Ee=0;var He=de===""?".":de+":";if(A(B))for(var Qe=0;Qe<B.length;Qe++)de=B[Qe],Oe=He+k(de,Qe),Ee+=H(de,te,J,Oe,_e);else if(Qe=v(B),typeof Qe=="function")for(B=Qe.call(B),Qe=0;!(de=B.next()).done;)de=de.value,Oe=He+k(de,Qe++),Ee+=H(de,te,J,Oe,_e);else if(Oe==="object"){if(typeof B.then=="function")return H(ae(B),te,J,de,_e);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(B,te,J){if(B==null)return B;var de=[],_e=0;return H(B,de,"","",function(Oe){return te.call(J,Oe,_e++)}),de}function q(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var ee=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},xe={map:G,forEach:function(B,te,J){G(B,function(){te.apply(this,arguments)},J)},count:function(B){var te=0;return G(B,function(){te++}),te},toArray:function(B){return G(B,function(te){return te})||[]},only:function(B){if(!se(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return on.Activity=p,on.Children=xe,on.Component=_,on.Fragment=n,on.Profiler=i,on.PureComponent=C,on.StrictMode=r,on.Suspense=f,on.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,on.__COMPILER_RUNTIME={__proto__:null,c:function(B){return U.H.useMemoCache(B)}},on.cache=function(B){return function(){return B.apply(null,arguments)}},on.cacheSignal=function(){return null},on.cloneElement=function(B,te,J){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var de=y({},B.props),_e=B.key;if(te!=null)for(Oe in te.key!==void 0&&(_e=""+te.key),te)!F.call(te,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&te.ref===void 0||(de[Oe]=te[Oe]);var Oe=arguments.length-2;if(Oe===1)de.children=J;else if(1<Oe){for(var Ee=Array(Oe),He=0;He<Oe;He++)Ee[He]=arguments[He+2];de.children=Ee}return O(B.type,_e,de)},on.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},on.createElement=function(B,te,J){var de,_e={},Oe=null;if(te!=null)for(de in te.key!==void 0&&(Oe=""+te.key),te)F.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=te[de]);var Ee=arguments.length-2;if(Ee===1)_e.children=J;else if(1<Ee){for(var He=Array(Ee),Qe=0;Qe<Ee;Qe++)He[Qe]=arguments[Qe+2];_e.children=He}if(B&&B.defaultProps)for(de in Ee=B.defaultProps,Ee)_e[de]===void 0&&(_e[de]=Ee[de]);return O(B,Oe,_e)},on.createRef=function(){return{current:null}},on.forwardRef=function(B){return{$$typeof:d,render:B}},on.isValidElement=se,on.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:q}},on.memo=function(B,te){return{$$typeof:h,type:B,compare:te===void 0?null:te}},on.startTransition=function(B){var te=U.T,J={};U.T=J;try{var de=B(),_e=U.S;_e!==null&&_e(J,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(j,ee)}catch(Oe){ee(Oe)}finally{te!==null&&J.types!==null&&(te.types=J.types),U.T=te}},on.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},on.use=function(B){return U.H.use(B)},on.useActionState=function(B,te,J){return U.H.useActionState(B,te,J)},on.useCallback=function(B,te){return U.H.useCallback(B,te)},on.useContext=function(B){return U.H.useContext(B)},on.useDebugValue=function(){},on.useDeferredValue=function(B,te){return U.H.useDeferredValue(B,te)},on.useEffect=function(B,te){return U.H.useEffect(B,te)},on.useEffectEvent=function(B){return U.H.useEffectEvent(B)},on.useId=function(){return U.H.useId()},on.useImperativeHandle=function(B,te,J){return U.H.useImperativeHandle(B,te,J)},on.useInsertionEffect=function(B,te){return U.H.useInsertionEffect(B,te)},on.useLayoutEffect=function(B,te){return U.H.useLayoutEffect(B,te)},on.useMemo=function(B,te){return U.H.useMemo(B,te)},on.useOptimistic=function(B,te){return U.H.useOptimistic(B,te)},on.useReducer=function(B,te,J){return U.H.useReducer(B,te,J)},on.useRef=function(B){return U.H.useRef(B)},on.useState=function(B){return U.H.useState(B)},on.useSyncExternalStore=function(B,te,J){return U.H.useSyncExternalStore(B,te,J)},on.useTransition=function(){return U.H.useTransition()},on.version="19.2.3",on}var nS;function tx(){return nS||(nS=1,O0.exports=fk()),O0.exports}var N=tx();const mt=ex(N),Mh=I8({__proto__:null,default:mt},[N]);var EN=N.createContext(void 0),Uh=e=>{const t=N.useContext(EN);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hk=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(EN.Provider,{value:e,children:t})),NN=N.createContext(!1),AN=()=>N.useContext(NN);NN.Provider;function pk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gk=N.createContext(pk()),MN=()=>N.useContext(gk),UN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kN=e=>{N.useEffect(()=>{e.clearReset()},[e])},jN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||vN(n,[e.error,r])),b1=(e,t)=>t.state.data===void 0,RN=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PN=(e,t)=>e.isLoading&&e.isFetching&&!t,Mb=(e,t)=>e?.suspense&&t.isPending,Um=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ON({queries:e,...t},n){const r=Uh(n),i=AN(),o=MN(),c=N.useMemo(()=>e.map(y=>{const b=r.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[e,r,i]);c.forEach(y=>{RN(y),UN(y,o)}),kN(o);const[d]=N.useState(()=>new ck(r,c,t)),[f,h,m]=d.getOptimisticResult(c,t.combine),p=!i&&t.subscribed!==!1;N.useSyncExternalStore(N.useCallback(y=>p?d.subscribe(vr.batchCalls(y)):sa,[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setQueries(c,t)},[c,t,d]);const v=f.some((y,b)=>Mb(c[b],y))?f.flatMap((y,b)=>{const _=c[b];if(_){const D=new Ah(r,_);if(Mb(_,y))return Um(_,D,o);PN(y,i)&&Um(_,D,o)}return[]}):[];if(v.length>0)throw Promise.all(v);const w=f.find((y,b)=>{const _=c[b];return _&&jN({result:y,errorResetBoundary:o,throwOnError:_.throwOnError,query:r.getQueryCache().get(_.queryHash),suspense:_.suspense})});if(w?.error)throw w.error;return h(m())}function nx(e,t,n){const r=AN(),i=MN(),o=Uh(n),c=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=r?"isRestoring":"optimistic",RN(c),UN(c,i),kN(i);const d=!o.getQueryCache().get(c.queryHash),[f]=N.useState(()=>new t(o,c)),h=f.getOptimisticResult(c),m=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(p=>{const x=m?f.subscribe(vr.batchCalls(p)):sa;return f.updateResult(),x},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),N.useEffect(()=>{f.setOptions(c)},[c,f]),Mb(c,h))throw Um(c,f,i);if(jN({result:h,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,h),c.experimental_prefetchInRender&&!jc&&PN(h,r)&&(d?Um(c,f,i):o.getQueryCache().get(c.queryHash)?.promise)?.catch(sa).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?h:f.trackResult(h)}function mk(e,t){return nx(e,Ah,t)}function xk(e,t){return nx({...e,enabled:!0,suspense:!0,throwOnError:b1,placeholderData:void 0},Ah,t)}function yk(e,t){return nx({...e,enabled:!0,suspense:!0,throwOnError:b1},CN,t)}function vk(e,t){return ON({...e,queries:e.queries.map(n=>({...n,suspense:!0,throwOnError:b1,enabled:!0,placeholderData:void 0}))},t)}function bk(e,t){const n=Uh(t);n.getQueryState(e.queryKey)||n.prefetchQuery(e)}function _k(e,t){const n=Uh(t);n.getQueryState(e.queryKey)||n.prefetchInfiniteQuery(e)}function wk(e,t){const n=Uh(t),[r]=N.useState(()=>new ok(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(c=>r.subscribe(vr.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=N.useCallback((c,d)=>{r.mutate(c,d).catch(sa)},[r]);if(i.error&&vN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function Dk(e,t){return nx(e,CN,t)}function Rc(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function Sk(){return Object.create(null)}const Ck=typeof Symbol=="function"&&!!Symbol.asyncIterator;function IN(e){return Ck&&Rc(e)&&Symbol.asyncIterator in e}var Tk=Object.create,FN=Object.defineProperty,Ek=Object.getOwnPropertyDescriptor,LN=Object.getOwnPropertyNames,Nk=Object.getPrototypeOf,Ak=Object.prototype.hasOwnProperty,kh=(e,t)=>function(){return t||(0,e[LN(e)[0]])((t={exports:{}}).exports,t),t.exports},Mk=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var i=LN(t),o=0,c=i.length,d;o<c;o++)d=i[o],!Ak.call(e,d)&&d!==n&&FN(e,d,{get:(f=>t[f]).bind(null,d),enumerable:!(r=Ek(t,d))||r.enumerable});return e},rx=(e,t,n)=>(n=e!=null?Tk(Nk(e)):{},Mk(FN(n,"default",{value:e,enumerable:!0}),e));const HN=()=>{},rS=e=>{Object.freeze&&Object.freeze(e)};function BN(e,t,n){var r;const i=t.join(".");return(r=n[i])!==null&&r!==void 0||(n[i]=new Proxy(HN,{get(o,c){if(!(typeof c!="string"||c==="then"))return BN(e,[...t,c],n)},apply(o,c,d){const f=t[t.length-1];let h={args:d,path:t};return f==="call"?h={args:d.length>=2?[d[1]]:[],path:t.slice(0,-1)}:f==="apply"&&(h={args:d.length>=2?d[1]:[],path:t.slice(0,-1)}),rS(h.args),rS(h.path),e(h)}})),n[i]}const ax=e=>BN(e,[],Sk()),_1=e=>new Proxy(HN,{get(t,n){if(n!=="then")return e(n)}});var VN=kh({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function n(r){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Uk=kh({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var n=VN().default;function r(i,o){if(n(i)!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var d=c.call(i,o||"default");if(n(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),kk=kh({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var n=VN().default,r=Uk();function i(o){var c=r(o,"string");return n(c)=="symbol"?c:c+""}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}),WN=kh({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var n=kk();function r(i,o,c){return(o=n(o))in i?Object.defineProperty(i,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[o]=c,i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),w1=kh({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var n=WN();function r(o,c){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);c&&(f=f.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),d.push.apply(d,f)}return d}function i(o){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?r(Object(d),!0).forEach(function(f){n(o,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(d,f))})}return o}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}});rx(w1());rx(WN());var dg=rx(w1());function jk(e,t){if("error"in e){const r=t.deserialize(e.error);return{ok:!1,error:(0,dg.default)((0,dg.default)({},e),{},{error:r})}}return{ok:!0,result:(0,dg.default)((0,dg.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var I0=class extends Error{constructor(){super("Unable to transform response from server")}};function Rk(e,t){let n;try{n=jk(e,t)}catch{throw new I0}if(!n.ok&&(!Rc(n.error.error)||typeof n.error.error.code!="number"))throw new I0;if(n.ok&&!Rc(n.result))throw new I0;return n}rx(w1());function ix(e){const t={subscribe(n){let r=null,i=!1,o=!1,c=!1;function d(){if(r===null){c=!0;return}o||(o=!0,typeof r=="function"?r():r&&r.unsubscribe())}return r=e({next(f){var h;i||(h=n.next)===null||h===void 0||h.call(n,f)},error(f){var h;i||(i=!0,(h=n.error)===null||h===void 0||h.call(n,f),d())},complete(){var f;i||(i=!0,(f=n.complete)===null||f===void 0||f.call(n),d())}}),c&&d(),{unsubscribe:d}},pipe(...n){return n.reduce(Pk,t)}};return t}function Pk(e,t){return t(e)}function Ok(e){const t=new AbortController;return new Promise((r,i)=>{let o=!1;function c(){o||(o=!0,d.unsubscribe())}t.signal.addEventListener("abort",()=>{i(t.signal.reason)});const d=e.subscribe({next(f){o=!0,r(f),c()},error(f){i(f)},complete(){t.abort(),c()}})})}var Ik=Object.create,zN=Object.defineProperty,Fk=Object.getOwnPropertyDescriptor,$N=Object.getOwnPropertyNames,Lk=Object.getPrototypeOf,Hk=Object.prototype.hasOwnProperty,Nl=(e,t)=>function(){return t||(0,e[$N(e)[0]])((t={exports:{}}).exports,t),t.exports},Bk=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var i=$N(t),o=0,c=i.length,d;o<c;o++)d=i[o],!Hk.call(e,d)&&d!==n&&zN(e,d,{get:(f=>t[f]).bind(null,d),enumerable:!(r=Fk(t,d))||r.enumerable});return e},Wc=(e,t,n)=>(n=e!=null?Ik(Lk(e)):{},Bk(t||!e||!e.__esModule?zN(n,"default",{value:e,enumerable:!0}):n,e)),Vk=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,t){function n(r,i){if(r==null)return{};var o={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(i.includes(c))continue;o[c]=r[c]}return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Wk=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,t){var n=Vk();function r(i,o){if(i==null)return{};var c,d,f=n(i,o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(d=0;d<h.length;d++)c=h[d],o.includes(c)||{}.propertyIsEnumerable.call(i,c)&&(f[c]=i[c])}return f}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),qN=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function n(r){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),zk=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var n=qN().default;function r(i,o){if(n(i)!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var d=c.call(i,o||"default");if(n(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),$k=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var n=qN().default,r=zk();function i(o){var c=r(o,"string");return n(c)=="symbol"?c:c+""}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}),qk=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var n=$k();function r(i,o,c){return(o=n(o))in i?Object.defineProperty(i,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[o]=c,i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),jh=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var n=qk();function r(o,c){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);c&&(f=f.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),d.push.apply(d,f)}return d}function i(o){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?r(Object(d),!0).forEach(function(f){n(o,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(d,f))})}return o}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}),Gk=Wc(Wk(),1),aS=Wc(jh(),1);const Xk=["cursor","direction"];function ws(e,t,n){const r=e.flatMap(i=>i.split("."));if(!t&&(!n||n==="any"))return r.length?[r]:[];if(n==="infinite"&&Rc(t)&&("direction"in t||"cursor"in t)){const{cursor:i,direction:o}=t,c=(0,Gk.default)(t,Xk);return[r,{input:c,type:"infinite"}]}return[r,(0,aS.default)((0,aS.default)({},typeof t<"u"&&t!==si&&{input:t}),n&&n!=="any"&&{type:n})]}function Kg(e){return ws(e,void 0,"any")}var Kk=Object.create,GN=Object.defineProperty,Yk=Object.getOwnPropertyDescriptor,XN=Object.getOwnPropertyNames,Zk=Object.getPrototypeOf,Qk=Object.prototype.hasOwnProperty,As=(e,t)=>function(){return t||(0,e[XN(e)[0]])((t={exports:{}}).exports,t),t.exports},Jk=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(var i=XN(t),o=0,c=i.length,d;o<c;o++)d=i[o],!Qk.call(e,d)&&d!==n&&GN(e,d,{get:(f=>t[f]).bind(null,d),enumerable:!(r=Yk(t,d))||r.enumerable});return e},Sr=(e,t,n)=>(n=e!=null?Kk(Zk(e)):{},Jk(GN(n,"default",{value:e,enumerable:!0}),e)),KN=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function n(r){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),ej=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var n=KN().default;function r(i,o){if(n(i)!="object"||!i)return i;var c=i[Symbol.toPrimitive];if(c!==void 0){var d=c.call(i,o||"default");if(n(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),tj=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var n=KN().default,r=ej();function i(o){var c=r(o,"string");return n(c)=="symbol"?c:c+""}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}}),zc=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var n=tj();function r(i,o,c){return(o=n(o))in i?Object.defineProperty(i,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[o]=c,i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),os=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var n=zc();function r(o,c){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);c&&(f=f.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),d.push.apply(d,f)}return d}function i(o){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?r(Object(d),!0).forEach(function(f){n(o,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(d,f))})}return o}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}});function nj(e){return t=>{let n=0,r=null;const i=[];function o(){r||(r=t.subscribe({next(d){for(const h of i){var f;(f=h.next)===null||f===void 0||f.call(h,d)}},error(d){for(const h of i){var f;(f=h.error)===null||f===void 0||f.call(h,d)}},complete(){for(const f of i){var d;(d=f.complete)===null||d===void 0||d.call(f)}}}))}function c(){if(n===0&&r){const d=r;r=null,d.unsubscribe()}}return ix(d=>(n++,i.push(d),o(),{unsubscribe(){n--,c();const f=i.findIndex(h=>h===d);f>-1&&i.splice(f,1)}}))}}function rj(e){let t=e;const n=[],r=c=>{t!==void 0&&c.next(t),n.push(c)},i=c=>{n.splice(n.indexOf(c),1)},o=ix(c=>(r(c),()=>{i(c)}));return o.next=c=>{if(t!==c){t=c;for(const d of n)d.next(c)}},o.get=()=>t,o}function aj(e){return ix(t=>{function n(i=0,o=e.op){const c=e.links[i];if(!c)throw new Error("No more links to execute - did you forget to add an ending link?");return c({op:o,next(f){return n(i+1,f)}})}return n().subscribe(t)})}var ug=Sr(zc()),Kd=Sr(os());function ij(e){return e instanceof fh}function sj(e){return Rc(e)&&Rc(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function oj(e,t){return typeof e=="string"?e:Rc(e)&&typeof e.message=="string"?e.message:t}var fh=class Yg extends Error{constructor(t,n){var r,i;const o=n?.cause;super(t,{cause:o}),(0,ug.default)(this,"cause",void 0),(0,ug.default)(this,"shape",void 0),(0,ug.default)(this,"data",void 0),(0,ug.default)(this,"meta",void 0),this.meta=n?.meta,this.cause=o,this.shape=n==null||(r=n.result)===null||r===void 0?void 0:r.error,this.data=n==null||(i=n.result)===null||i===void 0?void 0:i.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,Yg.prototype)}static from(t,n={}){const r=t;return ij(r)?(n.meta&&(r.meta=(0,Kd.default)((0,Kd.default)({},r.meta),n.meta)),r):sj(r)?new Yg(r.error.message,(0,Kd.default)((0,Kd.default)({},n),{},{result:r})):new Yg(oj(r,"Unknown error"),(0,Kd.default)((0,Kd.default)({},n),{},{cause:r}))}};function lj(e){const t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:n=>n,deserialize:n=>n},output:{serialize:n=>n,deserialize:n=>n}}}const iS=e=>typeof e=="function";function cj(e){if(e)return e;if(typeof window<"u"&&iS(window.fetch))return window.fetch;if(typeof globalThis<"u"&&iS(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var rh=Sr(os());function dj(e){return{url:e.url.toString(),fetch:e.fetch,transformer:lj(e.transformer),methodOverride:e.methodOverride}}function uj(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];t[n]=r}return t}const fj={query:"GET",mutation:"POST",subscription:"PATCH"};function YN(e){return"input"in e?e.transformer.input.serialize(e.input):uj(e.inputs.map(t=>e.transformer.input.serialize(t)))}const ZN=e=>{const t=e.url.split("?");let r=t[0].replace(/\/$/,"")+"/"+e.path;const i=[];if(t[1]&&i.push(t[1]),"inputs"in e&&i.push("batch=1"),e.type==="query"||e.type==="subscription"){const o=YN(e);o!==void 0&&e.methodOverride!=="POST"&&i.push(`input=${encodeURIComponent(JSON.stringify(o))}`)}return i.length&&(r+="?"+i.join("&")),r},hj=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const t=YN(e);return t!==void 0?JSON.stringify(t):void 0},pj=e=>yj((0,rh.default)((0,rh.default)({},e),{},{contentTypeHeader:"application/json",getUrl:ZN,getBody:hj}));var gj=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const mj=e=>{var t;if(e?.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new gj};async function xj(e){var t;mj(e.signal);const n=e.getUrl(e),r=e.getBody(e),i=(t=e.methodOverride)!==null&&t!==void 0?t:fj[e.type],o=await(async()=>{const d=await e.headers();return Symbol.iterator in d?Object.fromEntries(d):d})(),c=(0,rh.default)((0,rh.default)((0,rh.default)({},e.contentTypeHeader&&i!=="GET"?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),o);return cj(e.fetch)(n,{method:i,signal:e.signal,body:r,headers:c})}async function yj(e){const t={},n=await xj(e);t.response=n;const r=await n.json();return t.responseJSON=r,{json:r,meta:t}}Sr(os());const sS=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function oS(e){let t=null,n=null;const r=()=>{clearTimeout(n),n=null,t=null};function i(d){const f=[[]];let h=0;for(;;){const x=d[h];if(!x)break;const v=f[f.length-1];if(x.aborted){var m;(m=x.reject)===null||m===void 0||m.call(x,new Error("Aborted")),h++;continue}if(e.validate(v.concat(x).map(y=>y.key))){v.push(x),h++;continue}if(v.length===0){var p;(p=x.reject)===null||p===void 0||p.call(x,new Error("Input is too big for a single dispatch")),h++;continue}f.push([])}return f}function o(){const d=i(t);r();for(const f of d){if(!f.length)continue;const h={items:f};for(const p of f)p.batch=h;e.fetch(h.items.map(p=>p.key)).then(async p=>{await Promise.all(p.map(async(v,w)=>{const y=h.items[w];try{var b;const D=await Promise.resolve(v);(b=y.resolve)===null||b===void 0||b.call(y,D)}catch(D){var _;(_=y.reject)===null||_===void 0||_.call(y,D)}y.batch=null,y.reject=null,y.resolve=null}));for(const v of h.items){var x;(x=v.reject)===null||x===void 0||x.call(v,new Error("Missing result")),v.batch=null}}).catch(p=>{for(const v of h.items){var x;(x=v.reject)===null||x===void 0||x.call(v,p),v.batch=null}})}}function c(d){var f;const h={aborted:!1,key:d,batch:null,resolve:sS,reject:sS},m=new Promise((p,x)=>{var v;h.reject=x,h.resolve=p,(v=t)!==null&&v!==void 0||(t=[]),t.push(h)});return(f=n)!==null&&f!==void 0||(n=setTimeout(o)),m}return{load:c}}function vj(...e){const t=new AbortController,n=e.length;let r=0;const i=()=>{++r===n&&t.abort()};for(const o of e)o?.aborted?i():o?.addEventListener("abort",i,{once:!0});return t.signal}var fg=Sr(os());function bj(e){var t,n;const r=dj(e),i=(t=e.maxURLLength)!==null&&t!==void 0?t:1/0,o=(n=e.maxItems)!==null&&n!==void 0?n:1/0;return()=>{const c=m=>({validate(p){if(i===1/0&&o===1/0)return!0;if(p.length>o)return!1;const x=p.map(y=>y.path).join(","),v=p.map(y=>y.input);return ZN((0,fg.default)((0,fg.default)({},r),{},{type:m,path:x,inputs:v,signal:null})).length<=i},async fetch(p){const x=p.map(D=>D.path).join(","),v=p.map(D=>D.input),w=vj(...p.map(D=>D.signal)),y=await pj((0,fg.default)((0,fg.default)({},r),{},{path:x,inputs:v,type:m,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:p}):e.headers:{}},signal:w}));return(Array.isArray(y.json)?y.json:p.map(()=>y.json)).map(D=>({meta:y.meta,json:D}))}}),d=oS(c("query")),f=oS(c("mutation")),h={query:d,mutation:f};return({op:m})=>ix(p=>{if(m.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const v=h[m.type].load(m);let w;return v.then(y=>{w=y;const b=Rk(y.json,r.transformer.output);if(!b.ok){p.error(fh.from(b.error,{meta:y.meta}));return}p.next({context:y.meta,result:b.result}),p.complete()}).catch(y=>{p.error(fh.from(y,{meta:w?.meta}))}),()=>{}})}}Sr(os());const QN=(e,...t)=>typeof e=="function"?e(...t):e;Sr(zc());function _j(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}async function wj(e){const t=await QN(e.url);if(!e.connectionParams)return t;const r=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+r}async function Dj(e){const t={method:"connectionParams",data:await QN(e)};return JSON.stringify(t)}Sr(zc());var wc=Sr(zc());function Sj(e){const{promise:t,resolve:n,reject:r}=_j();return e.addEventListener("open",()=>{e.removeEventListener("error",r),n()}),e.addEventListener("error",r),t}function Cj(e,{intervalMs:t,pongTimeoutMs:n}){let r,i;function o(){r=setTimeout(()=>{e.send("PING"),i=setTimeout(()=>{e.close()},n)},t)}function c(){clearTimeout(r),o()}function d(){clearTimeout(i),c()}e.addEventListener("open",o),e.addEventListener("message",({data:f})=>{clearTimeout(r),o(),f==="PONG"&&d()}),e.addEventListener("close",()=>{clearTimeout(r),clearTimeout(i)})}var Tj=class Ub{constructor(t){var n;if((0,wc.default)(this,"id",++Ub.connectCount),(0,wc.default)(this,"WebSocketPonyfill",void 0),(0,wc.default)(this,"urlOptions",void 0),(0,wc.default)(this,"keepAliveOpts",void 0),(0,wc.default)(this,"wsObservable",rj(null)),(0,wc.default)(this,"openPromise",null),this.WebSocketPonyfill=(n=t.WebSocketPonyfill)!==null&&n!==void 0?n:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++Ub.connectCount;const n=wj(t.urlOptions).then(r=>new t.WebSocketPonyfill(r));t.openPromise=n.then(async r=>{t.ws=r,r.addEventListener("message",function({data:i}){i==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&Cj(r,t.keepAliveOpts),r.addEventListener("close",()=>{t.ws===r&&(t.ws=null)}),await Sj(r),t.urlOptions.connectionParams&&r.send(await Dj(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var n;(n=t.ws)===null||n===void 0||n.close()}}};(0,wc.default)(Tj,"connectCount",0);Sr(zc());Sr(os());var F0=Sr(zc()),lS=Sr(os()),sx=class{constructor(e){(0,F0.default)(this,"links",void 0),(0,F0.default)(this,"runtime",void 0),(0,F0.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return aj({links:this.links,op:(0,lS.default)((0,lS.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(nj())}async requestAsPromise(e){var t=this;try{const n=t.$request(e);return(await Ok(n)).result.data}catch(n){throw fh.from(n)}}query(e,t,n){return this.requestAsPromise({type:"query",path:e,input:t,context:n?.context,signal:n?.signal})}mutation(e,t,n){return this.requestAsPromise({type:"mutation",path:e,input:t,context:n?.context,signal:n?.signal})}subscription(e,t,n){return this.$request({type:"subscription",path:e,input:t,context:n.context,signal:n.signal}).subscribe({next(i){switch(i.result.type){case"state":{var o;(o=n.onConnectionStateChange)===null||o===void 0||o.call(n,i.result);break}case"started":{var c;(c=n.onStarted)===null||c===void 0||c.call(n,{context:i.context});break}case"stopped":{var d;(d=n.onStopped)===null||d===void 0||d.call(n);break}case"data":case void 0:{var f;(f=n.onData)===null||f===void 0||f.call(n,i.result.data);break}}},error(i){var o;(o=n.onError)===null||o===void 0||o.call(n,i)},complete(){var i;(i=n.onComplete)===null||i===void 0||i.call(n)}})}};const JN=Symbol.for("trpc_untypedClient"),Ej={query:"query",mutate:"mutation",subscribe:"subscription"},Nj=e=>Ej[e];function e3(e){const t=ax(({path:n,args:r})=>{const i=[...n],o=Nj(i.pop()),c=i.join(".");return e[o](c,...r)});return _1(n=>n===JN?e:t[n])}function Aj(e){const t=new sx(e);return e3(t)}function D1(e){return e[JN]}Sr(os());Sr(os());var Mj=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function n(i){var o,c,d,f=2;for(typeof Symbol<"u"&&(c=Symbol.asyncIterator,d=Symbol.iterator);f--;){if(c&&(o=i[c])!=null)return o.call(i);if(d&&(o=i[d])!=null)return new r(o.call(i));c="@@asyncIterator",d="@@iterator"}throw new TypeError("Object is not async iterable")}function r(i){function o(c){if(Object(c)!==c)return Promise.reject(new TypeError(c+" is not an object."));var d=c.done;return Promise.resolve(c.value).then(function(f){return{value:f,done:d}})}return r=function(d){this.s=d,this.n=d.next},r.prototype={s:null,n:null,next:function(){return o(this.n.apply(this.s,arguments))},return:function(d){var f=this.s.return;return f===void 0?Promise.resolve({value:d,done:!0}):o(f.apply(this.s,arguments))},throw:function(d){var f=this.s.return;return f===void 0?Promise.reject(d):o(f.apply(this.s,arguments))}},new r(i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});Sr(Mj());Sr(os());var Uj=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function n(){var r=typeof SuppressedError=="function"?SuppressedError:function(d,f){var h=Error();return h.name="SuppressedError",h.error=d,h.suppressed=f,h},i={},o=[];function c(d,f){if(f!=null){if(Object(f)!==f)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(d)var h=f[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(h===void 0&&(h=f[Symbol.dispose||Symbol.for("Symbol.dispose")],d))var m=h;if(typeof h!="function")throw new TypeError("Object is not disposable.");m&&(h=function(){try{m.call(f)}catch(x){return Promise.reject(x)}}),o.push({v:f,d:h,a:d})}else d&&o.push({d:f,a:d});return f}return{e:i,u:c.bind(null,!1),a:c.bind(null,!0),d:function(){var f,h=this.e,m=0;function p(){for(;f=o.pop();)try{if(!f.a&&m===1)return m=0,o.push(f),Promise.resolve().then(p);if(f.d){var v=f.d.call(f.v);if(f.a)return m|=2,Promise.resolve(v).then(p,x)}else m|=1}catch(w){return x(w)}if(m===1)return h!==i?Promise.reject(h):Promise.resolve();if(h!==i)throw h}function x(v){return h=h!==i?new r(v,h):v,p()}return p()}}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),t3=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function n(r,i){this.v=r,this.k=i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),kj=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var n=t3();function r(i){return new n(i,0)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),jj=As({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var n=t3();function r(o){return function(){return new i(o.apply(this,arguments))}}function i(o){var c,d;function f(m,p){try{var x=o[m](p),v=x.value,w=v instanceof n;Promise.resolve(w?v.v:v).then(function(y){if(w){var b=m==="return"?"return":"next";if(!v.k||y.done)return f(b,y);y=o[b](y).value}h(x.done?"return":"normal",y)},function(y){f("throw",y)})}catch(y){h("throw",y)}}function h(m,p){switch(m){case"return":c.resolve({value:p,done:!0});break;case"throw":c.reject(p);break;default:c.resolve({value:p,done:!1})}(c=c.next)?f(c.key,c.arg):d=null}this._invoke=function(m,p){return new Promise(function(x,v){var w={key:m,arg:p,resolve:x,reject:v,next:null};d?d=d.next=w:(c=d=w,f(m,p))})},typeof o.return!="function"&&(this.return=void 0)}i.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(o){return this._invoke("next",o)},i.prototype.throw=function(o){return this._invoke("throw",o)},i.prototype.return=function(o){return this._invoke("return",o)},t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}});Sr(Uj());Sr(kj());Sr(jj());Sr(os());function Rj(e){return ax(({path:t,args:n})=>{var r;const i=[...t],o=i.pop();if(o==="useMutation")return e[o](i,...n);if(o==="_def")return{path:i};const[c,...d]=n,f=(r=d[0])!==null&&r!==void 0?r:{};return e[o](i,c,f)})}var L0;const Pj=["client","ssrContext","ssrState","abortOnUnmount"],Oj=(L0=N.createContext)===null||L0===void 0?void 0:L0.call(Mh,null),Ij=e=>{switch(e){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function Fj(e){return ax(t=>{const n=[...t.path],r=n.pop(),i=[...t.args],o=i.shift(),c=Ij(r),d=ws(n,o,c);return{infiniteQueryOptions:()=>e.infiniteQueryOptions(n,d,i[0]),queryOptions:()=>e.queryOptions(n,d,...i),fetch:()=>e.fetchQuery(d,...i),fetchInfinite:()=>e.fetchInfiniteQuery(d,i[0]),prefetch:()=>e.prefetchQuery(d,...i),prefetchInfinite:()=>e.prefetchInfiniteQuery(d,i[0]),ensureData:()=>e.ensureQueryData(d,...i),invalidate:()=>e.invalidateQueries(d,...i),reset:()=>e.resetQueries(d,...i),refetch:()=>e.refetchQueries(d,...i),cancel:()=>e.cancelQuery(d,...i),setData:()=>{e.setQueryData(d,i[0],i[1])},setQueriesData:()=>e.setQueriesData(d,i[0],i[1],i[2]),setInfiniteData:()=>{e.setInfiniteQueryData(d,i[0],i[1])},getData:()=>e.getQueryData(d),getInfiniteData:()=>e.getInfiniteQueryData(d),setMutationDefaults:()=>e.setMutationDefaults(Kg(n),o),getMutationDefaults:()=>e.getMutationDefaults(Kg(n)),isMutating:()=>e.isMutating({mutationKey:Kg(n)})}[r]()})}function Lj(e){const t=e3(e.client),n=Fj(e);return _1(r=>{const i=r;return i==="client"?t:Pj.includes(i)?e[i]:n[r]})}var Hj=Wc(jh(),1);function cS(e){const t=e instanceof sx?e:D1(e);return ax(n=>{const r=n.path,i=r.join("."),[o,c]=n.args;return(0,Hj.default)({queryKey:ws(r,o,"query"),queryFn:()=>t.query(i,o,c?.trpc)},c)})}var H0=Wc(jh(),1);function _a(e,t,n){var r;const i=e[0];let o=(r=e[1])===null||r===void 0?void 0:r.input;if(n){var c;o=(0,H0.default)((0,H0.default)((0,H0.default)({},(c=o)!==null&&c!==void 0?c:{}),n.pageParam?{cursor:n.pageParam}:{}),{},{direction:n.direction})}return[i.join("."),o,t?.trpc]}var Bj=Nl({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function n(i){var o,c,d,f=2;for(typeof Symbol<"u"&&(c=Symbol.asyncIterator,d=Symbol.iterator);f--;){if(c&&(o=i[c])!=null)return o.call(i);if(d&&(o=i[d])!=null)return new r(o.call(i));c="@@asyncIterator",d="@@iterator"}throw new TypeError("Object is not async iterable")}function r(i){function o(c){if(Object(c)!==c)return Promise.reject(new TypeError(c+" is not an object."));var d=c.done;return Promise.resolve(c.value).then(function(f){return{value:f,done:d}})}return r=function(d){this.s=d,this.n=d.next},r.prototype={s:null,n:null,next:function(){return o(this.n.apply(this.s,arguments))},return:function(d){var f=this.s.return;return f===void 0?Promise.resolve({value:d,done:!0}):o(f.apply(this.s,arguments))},throw:function(d){var f=this.s.return;return f===void 0?Promise.reject(d):o(f.apply(this.s,arguments))}},new r(i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Vj=Wc(Bj(),1);function kb(e){return{path:e.path.join(".")}}function Af(e){const t=kb(e);return N.useMemo(()=>t,[t])}async function n3(e,t,n){const i=t.getQueryCache().build(t,{queryKey:n});i.setState({data:[],status:"success"});const o=[];var c=!1,d=!1,f;try{for(var h=(0,Vj.default)(e),m;c=!(m=await h.next()).done;c=!1){const p=m.value;o.push(p),i.setState({data:[...o]})}}catch(p){d=!0,f=p}finally{try{c&&h.return!=null&&await h.return()}finally{if(d)throw f}}return o}var Un=Wc(jh(),1);function Wj(e){const{client:t,queryClient:n}=e,r=t instanceof sx?t:D1(t);return{infiniteQueryOptions:(i,o,c)=>{var d,f;const h=((d=o[1])===null||d===void 0?void 0:d.input)===si,m=async p=>{var x;const v=(0,Un.default)((0,Un.default)({},c),{},{trpc:(0,Un.default)((0,Un.default)({},c?.trpc),!(c==null||(x=c.trpc)===null||x===void 0)&&x.abortOnUnmount?{signal:p.signal}:{signal:null})});return await r.query(..._a(o,v,{direction:p.direction,pageParam:p.pageParam}))};return Object.assign((0,Un.default)((0,Un.default)({},c),{},{initialData:c?.initialData,queryKey:o,queryFn:h?si:m,initialPageParam:(f=c?.initialCursor)!==null&&f!==void 0?f:null}),{trpc:kb({path:i})})},queryOptions:(i,o,c)=>{var d;const f=((d=o[1])===null||d===void 0?void 0:d.input)===si,h=async m=>{var p;const x=(0,Un.default)((0,Un.default)({},c),{},{trpc:(0,Un.default)((0,Un.default)({},c?.trpc),!(c==null||(p=c.trpc)===null||p===void 0)&&p.abortOnUnmount?{signal:m.signal}:{signal:null})}),v=await r.query(..._a(o,x));return IN(v)?n3(v,n,o):v};return Object.assign((0,Un.default)((0,Un.default)({},c),{},{initialData:c?.initialData,queryKey:o,queryFn:f?si:h}),{trpc:kb({path:i})})},fetchQuery:(i,o)=>n.fetchQuery((0,Un.default)((0,Un.default)({},o),{},{queryKey:i,queryFn:()=>r.query(..._a(i,o))})),fetchInfiniteQuery:(i,o)=>{var c;return n.fetchInfiniteQuery((0,Un.default)((0,Un.default)({},o),{},{queryKey:i,queryFn:({pageParam:d,direction:f})=>r.query(..._a(i,o,{pageParam:d,direction:f})),initialPageParam:(c=o?.initialCursor)!==null&&c!==void 0?c:null}))},prefetchQuery:(i,o)=>n.prefetchQuery((0,Un.default)((0,Un.default)({},o),{},{queryKey:i,queryFn:()=>r.query(..._a(i,o))})),prefetchInfiniteQuery:(i,o)=>{var c;return n.prefetchInfiniteQuery((0,Un.default)((0,Un.default)({},o),{},{queryKey:i,queryFn:({pageParam:d,direction:f})=>r.query(..._a(i,o,{pageParam:d,direction:f})),initialPageParam:(c=o?.initialCursor)!==null&&c!==void 0?c:null}))},ensureQueryData:(i,o)=>n.ensureQueryData((0,Un.default)((0,Un.default)({},o),{},{queryKey:i,queryFn:()=>r.query(..._a(i,o))})),invalidateQueries:(i,o,c)=>n.invalidateQueries((0,Un.default)((0,Un.default)({},o),{},{queryKey:i}),c),resetQueries:(i,o,c)=>n.resetQueries((0,Un.default)((0,Un.default)({},o),{},{queryKey:i}),c),refetchQueries:(i,o,c)=>n.refetchQueries((0,Un.default)((0,Un.default)({},o),{},{queryKey:i}),c),cancelQuery:(i,o)=>n.cancelQueries({queryKey:i},o),setQueryData:(i,o,c)=>n.setQueryData(i,o,c),setQueriesData:(i,o,c,d)=>n.setQueriesData((0,Un.default)((0,Un.default)({},o),{},{queryKey:i}),c,d),getQueryData:i=>n.getQueryData(i),setInfiniteQueryData:(i,o,c)=>n.setQueryData(i,o,c),getInfiniteQueryData:i=>n.getQueryData(i),setMutationDefaults:(i,o)=>{const c=i[0],d=f=>r.mutation(..._a([c,{input:f}],e));return n.setMutationDefaults(i,typeof o=="function"?o({canonicalMutationFn:d}):o)},getMutationDefaults:i=>n.getMutationDefaults(i),isMutating:i=>n.isMutating((0,Un.default)((0,Un.default)({},i),{},{exact:!0}))}}var At=Wc(jh());const dS=(e,t)=>new Proxy(e,{get(r,i){return t(i),r[i]}});function zj(e){var t,n;const r=(t=void 0)!==null&&t!==void 0?t:A=>A.originalFn(),i=(n=void 0)!==null&&n!==void 0?n:Oj,o=Aj,c=A=>{var j;const{abortOnUnmount:U=!1,queryClient:F,ssrContext:O}=A,[$,se]=N.useState((j=A.ssrState)!==null&&j!==void 0?j:!1),I=A.client instanceof sx?A.client:D1(A.client),Q=N.useMemo(()=>Wj({client:I,queryClient:F}),[I,F]),k=N.useMemo(()=>(0,At.default)({abortOnUnmount:U,queryClient:F,client:I,ssrContext:O??null,ssrState:$},Q),[U,I,Q,F,O,$]);return N.useEffect(()=>{se(ae=>ae?"mounted":!1)},[]),l.jsx(i.Provider,{value:k,children:A.children})};function d(){const A=N.useContext(i);if(!A)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return A}function f(A,j){var U;const{queryClient:F,ssrState:O}=d();return O&&O!=="mounted"&&((U=F.getQueryCache().find({queryKey:A}))===null||U===void 0?void 0:U.state.status)==="error"?(0,At.default)({retryOnMount:!1},j):j}function h(A,j,U){var F,O,$,se,I;const Q=d(),{abortOnUnmount:k,client:ae,ssrState:H,queryClient:G,prefetchQuery:q}=Q,ee=ws(A,j,"query"),xe=G.getQueryDefaults(ee),B=j===si;typeof window>"u"&&H==="prepass"&&(U==null||(F=U.trpc)===null||F===void 0?void 0:F.ssr)!==!1&&((O=U?.enabled)!==null&&O!==void 0?O:xe?.enabled)!==!1&&!B&&!G.getQueryCache().find({queryKey:ee})&&q(ee,U);const te=f(ee,(0,At.default)((0,At.default)({},xe),U)),J=($=(se=U==null||(I=U.trpc)===null||I===void 0?void 0:I.abortOnUnmount)!==null&&se!==void 0?se:void 0)!==null&&$!==void 0?$:k,de=mk((0,At.default)((0,At.default)({},te),{},{queryKey:ee,queryFn:B?j:async _e=>{const Oe=(0,At.default)((0,At.default)({},te),{},{trpc:(0,At.default)((0,At.default)({},te?.trpc),J?{signal:_e.signal}:{signal:null})}),Ee=await ae.query(..._a(ee,Oe));return IN(Ee)?n3(Ee,G,ee):Ee}}),G);return de.trpc=Af({path:A}),de}function m(A,j,U){var F,O,$;const se=d(),I=ws(A,j,"query"),Q=j===si,k=(F=(O=U==null||($=U.trpc)===null||$===void 0?void 0:$.abortOnUnmount)!==null&&O!==void 0?O:void 0)!==null&&F!==void 0?F:se.abortOnUnmount;bk((0,At.default)((0,At.default)({},U),{},{queryKey:I,queryFn:Q?j:ae=>{const H={trpc:(0,At.default)((0,At.default)({},U?.trpc),k?{signal:ae.signal}:{})};return se.client.query(..._a(I,H))}}))}function p(A,j,U){var F,O,$;const se=d(),I=ws(A,j,"query"),Q=(F=(O=U==null||($=U.trpc)===null||$===void 0?void 0:$.abortOnUnmount)!==null&&O!==void 0?O:void 0)!==null&&F!==void 0?F:se.abortOnUnmount,k=xk((0,At.default)((0,At.default)({},U),{},{queryKey:I,queryFn:ae=>{const H=(0,At.default)((0,At.default)({},U),{},{trpc:(0,At.default)((0,At.default)({},U?.trpc),Q?{signal:ae.signal}:{signal:null})});return se.client.query(..._a(I,H))}}),se.queryClient);return k.trpc=Af({path:A}),[k.data,k]}function x(A,j){const{client:U,queryClient:F}=d(),O=Kg(A),$=F.defaultMutationOptions(F.getMutationDefaults(O)),se=wk((0,At.default)((0,At.default)({},j),{},{mutationKey:O,mutationFn:I=>U.mutation(..._a([A,{input:I}],j)),onSuccess(...I){var Q,k;return r({originalFn:()=>{var H,G,q;return(H=j==null||(G=j.onSuccess)===null||G===void 0?void 0:G.call(j,...I))!==null&&H!==void 0?H:$==null||(q=$.onSuccess)===null||q===void 0?void 0:q.call($,...I)},queryClient:F,meta:(Q=(k=j?.meta)!==null&&k!==void 0?k:$?.meta)!==null&&Q!==void 0?Q:{}})}}),F);return se.trpc=Af({path:A}),se}const v={data:void 0,error:null,status:"idle"},w={data:void 0,error:null,status:"connecting"};function y(A,j,U){var F;const O=(F=U?.enabled)!==null&&F!==void 0?F:j!==si,$=bl(ws(A,j,"any")),{client:se}=d(),I=N.useRef(U);N.useEffect(()=>{I.current=U});const[Q]=N.useState(new Set([])),k=N.useCallback(B=>{Q.add(B)},[Q]),ae=N.useRef(null),H=N.useCallback(B=>{const te=q.current,J=q.current=B(te);let de=!1;for(const _e of Q)if(te[_e]!==J[_e]){de=!0;break}de&&xe(dS(J,k))},[k,Q]),G=N.useCallback(()=>{var B;if((B=ae.current)===null||B===void 0||B.unsubscribe(),!O){H(()=>(0,At.default)((0,At.default)({},v),{},{reset:G}));return}H(()=>(0,At.default)((0,At.default)({},w),{},{reset:G}));const te=se.subscription(A.join("."),j??void 0,{onStarted:()=>{var J,de;(J=(de=I.current).onStarted)===null||J===void 0||J.call(de),H(_e=>(0,At.default)((0,At.default)({},_e),{},{status:"pending",error:null}))},onData:J=>{var de,_e;(de=(_e=I.current).onData)===null||de===void 0||de.call(_e,J),H(Oe=>(0,At.default)((0,At.default)({},Oe),{},{status:"pending",data:J,error:null}))},onError:J=>{var de,_e;(de=(_e=I.current).onError)===null||de===void 0||de.call(_e,J),H(Oe=>(0,At.default)((0,At.default)({},Oe),{},{status:"error",error:J}))},onConnectionStateChange:J=>{H(de=>{switch(J.state){case"idle":return(0,At.default)((0,At.default)({},de),{},{status:J.state,error:null,data:void 0});case"connecting":return(0,At.default)((0,At.default)({},de),{},{error:J.error,status:J.state});case"pending":return de}})},onComplete:()=>{var J,de;(J=(de=I.current).onComplete)===null||J===void 0||J.call(de),H(_e=>(0,At.default)((0,At.default)({},_e),{},{status:"idle",error:null,data:void 0}))}});ae.current=te},[se,$,O,H]);N.useEffect(()=>(G(),()=>{var B;(B=ae.current)===null||B===void 0||B.unsubscribe()}),[G]);const q=N.useRef(O?(0,At.default)((0,At.default)({},w),{},{reset:G}):(0,At.default)((0,At.default)({},v),{},{reset:G})),[ee,xe]=N.useState(dS(q.current,k));return ee}function b(A,j,U){var F,O,$,se,I;const{client:Q,ssrState:k,prefetchInfiniteQuery:ae,queryClient:H,abortOnUnmount:G}=d(),q=ws(A,j,"infinite"),ee=H.getQueryDefaults(q),xe=j===si;typeof window>"u"&&k==="prepass"&&(U==null||(F=U.trpc)===null||F===void 0?void 0:F.ssr)!==!1&&((O=U?.enabled)!==null&&O!==void 0?O:ee?.enabled)!==!1&&!xe&&!H.getQueryCache().find({queryKey:q})&&ae(q,(0,At.default)((0,At.default)({},ee),U));const B=f(q,(0,At.default)((0,At.default)({},ee),U)),te=($=U==null||(se=U.trpc)===null||se===void 0?void 0:se.abortOnUnmount)!==null&&$!==void 0?$:G,J=Dk((0,At.default)((0,At.default)({},B),{},{initialPageParam:(I=U.initialCursor)!==null&&I!==void 0?I:null,persister:U.persister,queryKey:q,queryFn:xe?j:de=>{var _e;const Oe=(0,At.default)((0,At.default)({},B),{},{trpc:(0,At.default)((0,At.default)({},B?.trpc),te?{signal:de.signal}:{signal:null})});return Q.query(..._a(q,Oe,{pageParam:(_e=de.pageParam)!==null&&_e!==void 0?_e:U.initialCursor,direction:de.direction}))}}),H);return J.trpc=Af({path:A}),J}function _(A,j,U){var F,O,$;const se=d(),I=ws(A,j,"infinite"),Q=se.queryClient.getQueryDefaults(I),k=j===si,ae=f(I,(0,At.default)((0,At.default)({},Q),U)),H=(F=U==null||(O=U.trpc)===null||O===void 0?void 0:O.abortOnUnmount)!==null&&F!==void 0?F:se.abortOnUnmount;_k((0,At.default)((0,At.default)({},U),{},{initialPageParam:($=U.initialCursor)!==null&&$!==void 0?$:null,queryKey:I,queryFn:k?j:G=>{var q;const ee=(0,At.default)((0,At.default)({},ae),{},{trpc:(0,At.default)((0,At.default)({},ae?.trpc),H?{signal:G.signal}:{})});return se.client.query(..._a(I,ee,{pageParam:(q=G.pageParam)!==null&&q!==void 0?q:U.initialCursor,direction:G.direction}))}}))}function D(A,j,U){var F,O,$;const se=d(),I=ws(A,j,"infinite"),Q=se.queryClient.getQueryDefaults(I),k=f(I,(0,At.default)((0,At.default)({},Q),U)),ae=(F=U==null||(O=U.trpc)===null||O===void 0?void 0:O.abortOnUnmount)!==null&&F!==void 0?F:se.abortOnUnmount,H=yk((0,At.default)((0,At.default)({},U),{},{initialPageParam:($=U.initialCursor)!==null&&$!==void 0?$:null,queryKey:I,queryFn:G=>{var q;const ee=(0,At.default)((0,At.default)({},k),{},{trpc:(0,At.default)((0,At.default)({},k?.trpc),ae?{signal:G.signal}:{})});return se.client.query(..._a(I,ee,{pageParam:(q=G.pageParam)!==null&&q!==void 0?q:U.initialCursor,direction:G.direction}))}}),se.queryClient);return H.trpc=Af({path:A}),[H.data,H]}return{Provider:c,createClient:o,useContext:d,useUtils:d,useQuery:h,usePrefetchQuery:m,useSuspenseQuery:p,useQueries:(A,j)=>{const{ssrState:U,queryClient:F,prefetchQuery:O,client:$}=d(),se=cS($),I=A(se);if(typeof window>"u"&&U==="prepass")for(const k of I){var Q;const ae=k;((Q=ae.trpc)===null||Q===void 0?void 0:Q.ssr)!==!1&&!F.getQueryCache().find({queryKey:ae.queryKey})&&O(ae.queryKey,ae)}return ON({queries:I.map(k=>(0,At.default)((0,At.default)({},k),{},{queryKey:k.queryKey})),combine:j?.combine},F)},useSuspenseQueries:A=>{const{queryClient:j,client:U}=d(),F=cS(U),O=A(F),$=vk({queries:O.map(se=>(0,At.default)((0,At.default)({},se),{},{queryFn:se.queryFn,queryKey:se.queryKey}))},j);return[$.map(se=>se.data),$]},useMutation:x,useSubscription:y,useInfiniteQuery:b,usePrefetchInfiniteQuery:_,useSuspenseInfiniteQuery:D}}function $j(e){const t=Rj(e);return _1(n=>n==="useContext"||n==="useUtils"?()=>{const r=e.useUtils();return N.useMemo(()=>Lj(r),[r])}:e.hasOwnProperty(n)?e[n]:t[n])}function qj(e){const t=zj();return $j(t)}const Tt=qj(),Gj="Please login (10001)";var B0={exports:{}},Mf={},V0={exports:{}},W0={};var uS;function Xj(){return uS||(uS=1,(function(e){function t(H,G){var q=H.length;H.push(G);e:for(;0<q;){var ee=q-1>>>1,xe=H[ee];if(0<i(xe,G))H[ee]=G,H[q]=xe,q=ee;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],q=H.pop();if(q!==G){H[0]=q;e:for(var ee=0,xe=H.length,B=xe>>>1;ee<B;){var te=2*(ee+1)-1,J=H[te],de=te+1,_e=H[de];if(0>i(J,q))de<xe&&0>i(_e,J)?(H[ee]=_e,H[de]=q,ee=de):(H[ee]=J,H[te]=q,ee=te);else if(de<xe&&0>i(_e,q))H[ee]=_e,H[de]=q,ee=de;else break e}}return G}function i(H,G){var q=H.sortIndex-G.sortIndex;return q!==0?q:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],h=[],m=1,p=null,x=3,v=!1,w=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=H)r(h),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(h)}}function A(H){if(y=!1,M(H),!w)if(n(f)!==null)w=!0,j||(j=!0,I());else{var G=n(h);G!==null&&ae(A,G.startTime-H)}}var j=!1,U=-1,F=5,O=-1;function $(){return b?!0:!(e.unstable_now()-O<F)}function se(){if(b=!1,j){var H=e.unstable_now();O=H;var G=!0;try{e:{w=!1,y&&(y=!1,D(U),U=-1),v=!0;var q=x;try{t:{for(M(H),p=n(f);p!==null&&!(p.expirationTime>H&&$());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,x=p.priorityLevel;var xe=ee(p.expirationTime<=H);if(H=e.unstable_now(),typeof xe=="function"){p.callback=xe,M(H),G=!0;break t}p===n(f)&&r(f),M(H)}else r(f);p=n(f)}if(p!==null)G=!0;else{var B=n(h);B!==null&&ae(A,B.startTime-H),G=!1}}break e}finally{p=null,x=q,v=!1}G=void 0}}finally{G?I():j=!1}}}var I;if(typeof C=="function")I=function(){C(se)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,k=Q.port2;Q.port1.onmessage=se,I=function(){k.postMessage(null)}}else I=function(){_(se,0)};function ae(H,G){U=_(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(H){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var q=x;x=G;try{return H()}finally{x=q}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=x;x=H;try{return G()}finally{x=q}},e.unstable_scheduleCallback=function(H,G,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,H){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=q+xe,H={id:m++,callback:G,priorityLevel:H,startTime:q,expirationTime:xe,sortIndex:-1},q>ee?(H.sortIndex=q,t(h,H),n(f)===null&&H===n(h)&&(y?(D(U),U=-1):y=!0,ae(A,q-ee))):(H.sortIndex=xe,t(f,H),w||v||(w=!0,j||(j=!0,I()))),H},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(H){var G=x;return function(){var q=x;x=G;try{return H.apply(this,arguments)}finally{x=q}}}})(W0)),W0}var fS;function Kj(){return fS||(fS=1,V0.exports=Xj()),V0.exports}var z0={exports:{}},ia={};var hS;function Yj(){if(hS)return ia;hS=1;var e=tx();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:f,containerInfo:h,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ia.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ia.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,m)},ia.flushSync=function(f){var h=c.T,m=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=m,r.d.f()}},ia.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},ia.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ia.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:v}):m==="script"&&r.d.X(f,{crossOrigin:p,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ia.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},ia.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=d(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ia.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},ia.requestFormReset=function(f){r.d.r(f)},ia.unstable_batchedUpdates=function(f,h){return f(h)},ia.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},ia.useFormStatus=function(){return c.H.useHostTransitionStatus()},ia.version="19.2.3",ia}var pS;function r3(){if(pS)return z0.exports;pS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),z0.exports=Yj(),z0.exports}var gS;function Zj(){if(gS)return Mf;gS=1;var e=Kj(),t=tx(),n=r3();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,g=s;;){var S=u.return;if(S===null)break;var E=S.alternate;if(E===null){if(g=S.return,g!==null){u=g;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===u)return f(S),a;if(E===g)return f(S),s;E=E.sibling}throw Error(r(188))}if(u.return!==g.return)u=S,g=E;else{for(var W=!1,ie=S.child;ie;){if(ie===u){W=!0,u=S,g=E;break}if(ie===g){W=!0,g=S,u=E;break}ie=ie.sibling}if(!W){for(ie=E.child;ie;){if(ie===u){W=!0,u=E,g=S;break}if(ie===g){W=!0,g=E,u=S;break}ie=ie.sibling}if(!W)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Symbol.for("react.client.reference");function k(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case _:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case j:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case C:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case M:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return s=a.displayName||null,s!==null?s:k(a.type)||"Memo";case F:s=a._payload,a=a._init;try{return k(a(s))}catch{}}return null}var ae=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ee=[],xe=-1;function B(a){return{current:a}}function te(a){0>xe||(a.current=ee[xe],ee[xe]=null,xe--)}function J(a,s){xe++,ee[xe]=a.current,a.current=s}var de=B(null),_e=B(null),Oe=B(null),Ee=B(null);function He(a,s){switch(J(Oe,s),J(_e,a),J(de,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?hD(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=hD(s),a=pD(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(de),J(de,a)}function Qe(){te(de),te(_e),te(Oe)}function at(a){a.memoizedState!==null&&J(Ee,a);var s=de.current,u=pD(s,a.type);s!==u&&(J(_e,a),J(de,u))}function Ie(a){_e.current===a&&(te(de),te(_e)),Ee.current===a&&(te(Ee),Sf._currentValue=q)}var tt,nt;function P(a){if(tt===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);tt=s&&s[1]||"",nt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+a+nt}var he=!1;function ye(a,s){if(!a||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Ke){var $e=Ke}Reflect.construct(a,[],ot)}else{try{ot.call()}catch(Ke){$e=Ke}a.call(ot.prototype)}}else{try{throw Error()}catch(Ke){$e=Ke}(ot=a())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Ke){if(Ke&&$e&&typeof Ke.stack=="string")return[Ke.stack,$e.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),W=E[0],ie=E[1];if(W&&ie){var Te=W.split(`
`),We=ie.split(`
`);for(S=g=0;g<Te.length&&!Te[g].includes("DetermineComponentFrameRoot");)g++;for(;S<We.length&&!We[S].includes("DetermineComponentFrameRoot");)S++;if(g===Te.length||S===We.length)for(g=Te.length-1,S=We.length-1;1<=g&&0<=S&&Te[g]!==We[S];)S--;for(;1<=g&&0<=S;g--,S--)if(Te[g]!==We[S]){if(g!==1||S!==1)do if(g--,S--,0>S||Te[g]!==We[S]){var et=`
`+Te[g].replace(" at new "," at ");return a.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",a.displayName)),et}while(1<=g&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?P(u):""}function ne(a,s){switch(a.tag){case 26:case 27:case 5:return P(a.type);case 16:return P("Lazy");case 13:return a.child!==s&&s!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return ye(a.type,!1);case 11:return ye(a.type.render,!1);case 1:return ye(a.type,!0);case 31:return P("Activity");default:return""}}function le(a){try{var s="",u=null;do s+=ne(a,u),u=a,a=a.return;while(a);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var fe=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,Se=e.unstable_shouldYield,oe=e.unstable_requestPaint,Y=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,Et=e.unstable_LowPriority,yt=e.unstable_IdlePriority,_t=e.log,Xt=e.unstable_setDisableYieldValue,Me=null,Ze=null;function pt(a){if(typeof _t=="function"&&Xt(a),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Me,a)}catch{}}var gt=Math.clz32?Math.clz32:an,Vt=Math.log,Kt=Math.LN2;function an(a){return a>>>=0,a===0?32:31-(Vt(a)/Kt|0)|0}var Dn=256,jn=262144,Ln=4194304;function V(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function X(a,s,u){var g=a.pendingLanes;if(g===0)return 0;var S=0,E=a.suspendedLanes,W=a.pingedLanes;a=a.warmLanes;var ie=g&134217727;return ie!==0?(g=ie&~E,g!==0?S=V(g):(W&=ie,W!==0?S=V(W):u||(u=ie&~a,u!==0&&(S=V(u))))):(ie=g&~E,ie!==0?S=V(ie):W!==0?S=V(W):u||(u=g&~a,u!==0&&(S=V(u)))),S===0?0:s!==0&&s!==S&&(s&E)===0&&(E=S&-S,u=s&-s,E>=u||E===32&&(u&4194048)!==0)?s:S}function pe(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Re(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var a=Ln;return Ln<<=1,(Ln&62914560)===0&&(Ln=4194304),a}function Ct(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function wt(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Zt(a,s,u,g,S,E){var W=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var ie=a.entanglements,Te=a.expirationTimes,We=a.hiddenUpdates;for(u=W&~u;0<u;){var et=31-gt(u),ot=1<<et;ie[et]=0,Te[et]=-1;var $e=We[et];if($e!==null)for(We[et]=null,et=0;et<$e.length;et++){var Ke=$e[et];Ke!==null&&(Ke.lane&=-536870913)}u&=~ot}g!==0&&pn(a,g,0),E!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=E&~(W&~s))}function pn(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var g=31-gt(s);a.entangledLanes|=s,a.entanglements[g]=a.entanglements[g]|1073741824|u&261930}function Qt(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var g=31-gt(u),S=1<<g;S&s|a[g]&s&&(a[g]|=s),u&=~S}}function Ne(a,s){var u=s&-s;return u=(u&42)!==0?1:ze(u),(u&(a.suspendedLanes|s))!==0?0:u}function ze(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function st(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function qt(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:ID(a.type))}function Nt(a,s){var u=G.p;try{return G.p=a,s()}finally{G.p=u}}var Ut=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ut,Wt="__reactProps$"+Ut,ln="__reactContainer$"+Ut,Sn="__reactEvents$"+Ut,qr="__reactListeners$"+Ut,Ri="__reactHandles$"+Ut,rn="__reactResources$"+Ut,Qr="__reactMarker$"+Ut;function Pi(a){delete a[kt],delete a[Wt],delete a[Sn],delete a[qr],delete a[Ri]}function Ca(a){var s=a[kt];if(s)return s;for(var u=a.parentNode;u;){if(s=u[ln]||u[kt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=_D(a);a!==null;){if(u=a[kt])return u;a=_D(a)}return s}a=u,u=a.parentNode}return null}function Fr(a){if(a=a[kt]||a[ln]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Oi(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function en(a){var s=a[rn];return s||(s=a[rn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rr(a){a[Qr]=!0}var rd=new Set,Qh={};function mi(a,s){ko(a,s),ko(a+"Capture",s)}function ko(a,s){for(Qh[a]=s,a=0;a<s.length;a++)rd.add(s[a])}var Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},Ot={};function zn(a){return fe.call(Ot,a)?!0:fe.call(ad,a)?!1:Jh.test(a)?Ot[a]=!0:(ad[a]=!0,!1)}function Bl(a,s,u){if(zn(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function Vl(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function Ii(a,s,u,g){if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+g)}}function Ga(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ep(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ju(a,s,u){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,E=g.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return S.call(this)},set:function(W){u=""+W,E.call(this,W)}}),Object.defineProperty(a,s,{enumerable:g.enumerable}),{getValue:function(){return u},setValue:function(W){u=""+W},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ct(a){if(!a._valueTracker){var s=ep(a)?"checked":"value";a._valueTracker=ju(a,s,""+a[s])}}function id(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return a&&(g=ep(a)?a.checked?"true":"false":a.value),a=g,a!==u?(s.setValue(a),!0):!1}function sd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Fi=/[\n"\\]/g;function jr(a){return a.replace(Fi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jo(a,s,u,g,S,E,W,ie){a.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.type=W:a.removeAttribute("type"),s!=null?W==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Ga(s)):a.value!==""+Ga(s)&&(a.value=""+Ga(s)):W!=="submit"&&W!=="reset"||a.removeAttribute("value"),s!=null?zl(a,W,Ga(s)):u!=null?zl(a,W,Ga(u)):g!=null&&a.removeAttribute("value"),S==null&&E!=null&&(a.defaultChecked=!!E),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?a.name=""+Ga(ie):a.removeAttribute("name")}function Wl(a,s,u,g,S,E,W,ie){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),s!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||s!=null)){ct(a);return}u=u!=null?""+Ga(u):"",s=s!=null?""+Ga(s):u,ie||s===a.value||(a.value=s),a.defaultValue=s}g=g??S,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=ie?a.checked:!!g,a.defaultChecked=!!g,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(a.name=W),ct(a)}function zl(a,s,u){s==="number"&&sd(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Li(a,s,u,g){if(a=a.options,s){s={};for(var S=0;S<u.length;S++)s["$"+u[S]]=!0;for(u=0;u<a.length;u++)S=s.hasOwnProperty("$"+a[u].value),a[u].selected!==S&&(a[u].selected=S),S&&g&&(a[u].defaultSelected=!0)}else{for(u=""+Ga(u),s=null,S=0;S<a.length;S++){if(a[S].value===u){a[S].selected=!0,g&&(a[S].defaultSelected=!0);return}s!==null||a[S].disabled||(s=a[S])}s!==null&&(s.selected=!0)}}function Ru(a,s,u){if(s!=null&&(s=""+Ga(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+Ga(u):""}function Pu(a,s,u,g){if(s==null){if(g!=null){if(u!=null)throw Error(r(92));if(ae(g)){if(1<g.length)throw Error(r(93));g=g[0]}u=g}u==null&&(u=""),s=u}u=Ga(s),a.defaultValue=u,g=a.textContent,g===u&&g!==""&&g!==null&&(a.value=g),ct(a)}function Rs(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _n(a,s,u){var g=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":g?a.setProperty(s,u):typeof u!="number"||u===0||St.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function od(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var S in s)g=s[S],s.hasOwnProperty(S)&&u[S]!==g&&_n(a,S,g)}else for(var E in s)s.hasOwnProperty(E)&&_n(a,E,s[E])}function Ro(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ld(a){return Ou.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ta(){}var $l=null;function ql(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xi=null,Ps=null;function Iu(a){var s=Fr(a);if(s&&(a=s.stateNode)){var u=a[Wt]||null;e:switch(a=s.stateNode,s.type){case"input":if(jo(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+jr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==a&&g.form===a.form){var S=g[Wt]||null;if(!S)throw Error(r(90));jo(g,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(s=0;s<u.length;s++)g=u[s],g.form===a.form&&id(g)}break e;case"textarea":Ru(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Li(a,!!u.multiple,s,!1)}}}var Fu=!1;function Po(a,s,u){if(Fu)return a(s,u);Fu=!0;try{var g=a(s);return g}finally{if(Fu=!1,(xi!==null||Ps!==null)&&(Bp(),xi&&(s=xi,a=Ps,Ps=xi=null,Iu(s),a)))for(s=0;s<a.length;s++)Iu(a[s])}}function Gl(a,s){var u=a.stateNode;if(u===null)return null;var g=u[Wt]||null;if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(Bi)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Os=!1}var yi=null,vi=null,Vi=null;function Kl(){if(Vi)return Vi;var a,s=vi,u=s.length,g,S="value"in yi?yi.value:yi.textContent,E=S.length;for(a=0;a<u&&s[a]===S[a];a++);var W=u-a;for(g=1;g<=W&&s[u-g]===S[E-g];g++);return Vi=S.slice(a,1<g?1-g:void 0)}function Jr(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Xa(){return!0}function Oo(){return!1}function pr(a){function s(u,g,S,E,W){this._reactName=u,this._targetInst=S,this.type=g,this.nativeEvent=E,this.target=W,this.currentTarget=null;for(var ie in a)a.hasOwnProperty(ie)&&(u=a[ie],this[ie]=u?u(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xa:Oo,this.isPropagationStopped=Oo,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),s}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=pr(ar),$n=p({},ar,{view:0,detail:0}),Is=pr($n),cd,Wi,Yl,Fs=p({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Yl&&(Yl&&a.type==="mousemove"?(cd=a.screenX-Yl.screenX,Wi=a.screenY-Yl.screenY):Wi=cd=0,Yl=a),cd)},movementY:function(a){return"movementY"in a?a.movementY:Wi}}),Ls=pr(Fs),ay=p({},Fs,{dataTransfer:0}),iy=pr(ay),sy=p({},$n,{relatedTarget:0}),Io=pr(sy),oy=p({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),dd=pr(oy),ly=p({},ar,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Lu=pr(ly),tp=p({},ar,{data:0}),ud=pr(tp),Zl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=o_[a])?!!s[a]:!1}function Ql(){return l_}var np=p({},$n,{key:function(a){if(a.key){var s=Zl[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Jr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Hu[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(a){return a.type==="keypress"?Jr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bu=pr(np),cy=p({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=pr(cy),Fo=p({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Tr=pr(Fo),Jl=p({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),cr=pr(Jl),hd=p({},Fs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pd=pr(hd),bi=p({},ar,{newState:0,oldState:0}),dy=pr(bi),rp=[9,13,27,32],En=Bi&&"CompositionEvent"in window,sn=null;Bi&&"documentMode"in document&&(sn=document.documentMode);var Cn=Bi&&"TextEvent"in window&&!sn,Ea=Bi&&(!En||sn&&8<sn&&11>=sn),Jt=" ",Na=!1;function Vu(a,s){switch(a){case"keyup":return rp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gr=!1;function ta(a,s){switch(a){case"compositionend":return gd(s);case"keypress":return s.which!==32?null:(Na=!0,Jt);case"textInput":return a=s.data,a===Jt&&Na?null:a;default:return null}}function dr(a,s){if(gr)return a==="compositionend"||!En&&Vu(a,s)?(a=Kl(),Vi=vi=yi=null,gr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ea&&s.locale!=="ko"?null:s.data;default:return null}}var Lo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Lo[a.type]:s==="textarea"}function md(a,s,u,g){xi?Ps?Ps.push(g):Ps=[g]:xi=g,s=Xp(s,"onChange"),0<s.length&&(u=new ea("onChange","change",null,u,g),a.push({event:u,listeners:s}))}var zi=null,na=null;function c_(a){oD(a,0)}function Wu(a){var s=Oi(a);if(id(s))return a}function zu(a,s){if(a==="change")return s}var ip=!1;if(Bi){var ec;if(Bi){var xd="oninput"in document;if(!xd){var Ho=document.createElement("div");Ho.setAttribute("oninput","return;"),xd=typeof Ho.oninput=="function"}ec=xd}else ec=!1;ip=ec&&(!document.documentMode||9<document.documentMode)}function yd(){zi&&(zi.detachEvent("onpropertychange",tc),na=zi=null)}function tc(a){if(a.propertyName==="value"&&Wu(na)){var s=[];md(s,na,a,ql(a)),Po(c_,s)}}function sp(a,s,u){a==="focusin"?(yd(),zi=s,na=u,zi.attachEvent("onpropertychange",tc)):a==="focusout"&&yd()}function uy(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wu(na)}function $u(a,s){if(a==="click")return Wu(s)}function op(a,s){if(a==="input"||a==="change")return Wu(s)}function vd(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Er=typeof Object.is=="function"?Object.is:vd;function Hs(a,s){if(Er(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var S=u[g];if(!fe.call(s,S)||!Er(a[S],s[S]))return!1}return!0}function lp(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function bd(a,s){var u=lp(a);a=0;for(var g;u;){if(u.nodeType===3){if(g=a+u.textContent.length,a<=s&&g>=s)return{node:u,offset:s-a};a=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lp(u)}}function qu(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?qu(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function nc(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=sd(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=sd(a.document)}return s}function rc(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var _d=Bi&&"documentMode"in document&&11>=document.documentMode,Lr=null,wd=null,Ka=null,ac=!1;function Bs(a,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ac||Lr==null||Lr!==sd(g)||(g=Lr,"selectionStart"in g&&rc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ka&&Hs(Ka,g)||(Ka=g,g=Xp(wd,"onSelect"),0<g.length&&(s=new ea("onSelect","select",null,s,u),a.push({event:s,listeners:g}),s.target=Lr)))}function $i(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Vs={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Dd={},qi={};Bi&&(qi=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function fs(a){if(Dd[a])return Dd[a];if(!Vs[a])return a;var s=Vs[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in qi)return Dd[a]=s[u];return a}var Gu=fs("animationend"),cp=fs("animationiteration"),dp=fs("animationstart"),fy=fs("transitionrun"),Xu=fs("transitionstart"),Sd=fs("transitioncancel"),Ya=fs("transitionend"),Ws=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function Za(a,s){Ws.set(a,s),mi(s,[a])}var zs=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ra=[],Gi=0,sc=0;function Qa(){for(var a=Gi,s=sc=Gi=0;s<a;){var u=ra[s];ra[s++]=null;var g=ra[s];ra[s++]=null;var S=ra[s];ra[s++]=null;var E=ra[s];if(ra[s++]=null,g!==null&&S!==null){var W=g.pending;W===null?S.next=S:(S.next=W.next,W.next=S),g.pending=S}E!==0&&Ja(u,S,E)}}function Bo(a,s,u,g){ra[Gi++]=a,ra[Gi++]=s,ra[Gi++]=u,ra[Gi++]=g,sc|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function br(a,s,u,g){return Bo(a,s,u,g),Ku(a)}function hs(a,s){return Bo(a,null,null,s),Ku(a)}function Ja(a,s,u){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u);for(var S=!1,E=a.return;E!==null;)E.childLanes|=u,g=E.alternate,g!==null&&(g.childLanes|=u),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(S=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,S&&s!==null&&(S=31-gt(u),a=E.hiddenUpdates,g=a[S],g===null?a[S]=[s]:g.push(s),s.lane=u|536870912),E):null}function Ku(a){if(50<xf)throw xf=0,i0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ei={};function hy(a,s,u,g){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(a,s,u,g){return new hy(a,s,u,g)}function ht(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Hr(a,s){var u=a.alternate;return u===null?(u=ua(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Xi(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Gr(a,s,u,g,S,E){var W=0;if(g=a,typeof a=="function")ht(a)&&(W=1);else if(typeof a=="string")W=C8(a,u,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=ua(31,u,s,S),a.elementType=O,a.lanes=E,a;case y:return $s(u.children,S,E,s);case b:W=8,S|=24;break;case _:return a=ua(12,u,s,S|2),a.elementType=_,a.lanes=E,a;case A:return a=ua(13,u,s,S),a.elementType=A,a.lanes=E,a;case j:return a=ua(19,u,s,S),a.elementType=j,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:W=10;break e;case D:W=9;break e;case M:W=11;break e;case U:W=14;break e;case F:W=16,g=null;break e}W=29,u=Error(r(130,a===null?"null":typeof a,"")),g=null}return s=ua(W,u,s,S),s.elementType=a,s.type=g,s.lanes=E,s}function $s(a,s,u,g){return a=ua(7,a,g,s),a.lanes=u,a}function Yu(a,s,u){return a=ua(6,a,null,s),a.lanes=u,a}function up(a){var s=ua(18,null,null,0);return s.stateNode=a,s}function Ki(a,s,u){return s=ua(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var fp=new WeakMap;function fa(a,s){if(typeof a=="object"&&a!==null){var u=fp.get(a);return u!==void 0?u:(s={value:a,source:s,stack:le(s)},fp.set(a,s),s)}return{value:a,source:s,stack:le(s)}}var qs=[],Gs=0,oc=null,Xs=0,Aa=[],Gt=0,Ks=null,Yi=1,ha="";function aa(a,s){qs[Gs++]=Xs,qs[Gs++]=oc,oc=a,Xs=s}function lc(a,s,u){Aa[Gt++]=Yi,Aa[Gt++]=ha,Aa[Gt++]=Ks,Ks=a;var g=Yi;a=ha;var S=32-gt(g)-1;g&=~(1<<S),u+=1;var E=32-gt(s)+S;if(30<E){var W=S-S%5;E=(g&(1<<W)-1).toString(32),g>>=W,S-=W,Yi=1<<32-gt(s)+S|u<<S|g,ha=E+a}else Yi=1<<E|u<<S|g,ha=a}function Cd(a){a.return!==null&&(aa(a,1),lc(a,1,0))}function Td(a){for(;a===oc;)oc=qs[--Gs],qs[Gs]=null,Xs=qs[--Gs],qs[Gs]=null;for(;a===Ks;)Ks=Aa[--Gt],Aa[Gt]=null,ha=Aa[--Gt],Aa[Gt]=null,Yi=Aa[--Gt],Aa[Gt]=null}function hp(a,s){Aa[Gt++]=Yi,Aa[Gt++]=ha,Aa[Gt++]=Ks,Yi=s.id,ha=s.overflow,Ks=a}var _r=null,Hn=null,mn=!1,ps=null,Br=!1,Zu=Error(r(519));function pa(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cc(fa(s,a)),Zu}function pp(a){var s=a.stateNode,u=a.type,g=a.memoizedProps;switch(s[kt]=a,s[Wt]=g,u){case"dialog":yn("cancel",s),yn("close",s);break;case"iframe":case"object":case"embed":yn("load",s);break;case"video":case"audio":for(u=0;u<vf.length;u++)yn(vf[u],s);break;case"source":yn("error",s);break;case"img":case"image":case"link":yn("error",s),yn("load",s);break;case"details":yn("toggle",s);break;case"input":yn("invalid",s),Wl(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":yn("invalid",s);break;case"textarea":yn("invalid",s),Pu(s,g.value,g.defaultValue,g.children)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||g.suppressHydrationWarning===!0||uD(s.textContent,u)?(g.popover!=null&&(yn("beforetoggle",s),yn("toggle",s)),g.onScroll!=null&&yn("scroll",s),g.onScrollEnd!=null&&yn("scrollend",s),g.onClick!=null&&(s.onclick=Ta),s=!0):s=!1,s||pa(a,!0)}function gp(a){for(_r=a.return;_r;)switch(_r.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:_r=_r.return}}function Vo(a){if(a!==_r)return!1;if(!mn)return gp(a),mn=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||b0(a.type,a.memoizedProps)),u=!u),u&&Hn&&pa(a),gp(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Hn=bD(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Hn=bD(a)}else s===27?(s=Hn,nl(a.type)?(a=C0,C0=null,Hn=a):Hn=s):Hn=_r?Di(a.stateNode.nextSibling):null;return!0}function Ys(){Hn=_r=null,mn=!1}function Qu(){var a=ps;return a!==null&&(ja===null?ja=a:ja.push.apply(ja,a),ps=null),a}function cc(a){ps===null?ps=[a]:ps.push(a)}var Ju=B(null),Zs=null,_i=null;function Zi(a,s,u){J(Ju,s._currentValue),s._currentValue=u}function wi(a){a._currentValue=Ju.current,te(Ju)}function Ed(a,s,u){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===u)break;a=a.return}}function ef(a,s,u,g){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var E=S.dependencies;if(E!==null){var W=S.child;E=E.firstContext;e:for(;E!==null;){var ie=E;E=S;for(var Te=0;Te<s.length;Te++)if(ie.context===s[Te]){E.lanes|=u,ie=E.alternate,ie!==null&&(ie.lanes|=u),Ed(E.return,u,a),g||(W=null);break e}E=ie.next}}else if(S.tag===18){if(W=S.return,W===null)throw Error(r(341));W.lanes|=u,E=W.alternate,E!==null&&(E.lanes|=u),Ed(W,u,a),W=null}else W=S.child;if(W!==null)W.return=S;else for(W=S;W!==null;){if(W===a){W=null;break}if(S=W.sibling,S!==null){S.return=W.return,W=S;break}W=W.return}S=W}}function Wo(a,s,u,g){a=null;for(var S=s,E=!1;S!==null;){if(!E){if((S.flags&524288)!==0)E=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var W=S.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var ie=S.type;Er(S.pendingProps.value,W.value)||(a!==null?a.push(ie):a=[ie])}}else if(S===Ee.current){if(W=S.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Sf):a=[Sf])}S=S.return}a!==null&&ef(s,a,u,g),s.flags|=262144}function Nd(a){for(a=a.firstContext;a!==null;){if(!Er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function gs(a){Zs=a,_i=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rr(a){return ms(Zs,a)}function Ad(a,s){return Zs===null&&gs(a),ms(a,s)}function ms(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},_i===null){if(a===null)throw Error(r(308));_i=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else _i=_i.next=s;return u}var Md=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,g){a.push(g)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},py=e.unstable_scheduleCallback,gy=e.unstable_NormalPriority,mr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Md,data:new Map,refCount:0}}function dc(a){a.refCount--,a.refCount===0&&py(gy,function(){a.controller.abort()})}var uc=null,nf=0,zo=0,$o=null;function my(a,s){if(uc===null){var u=uc=[];nf=0,zo=u0(),$o={status:"pending",value:void 0,then:function(g){u.push(g)}}}return nf++,s.then(mp,mp),s}function mp(){if(--nf===0&&uc!==null){$o!==null&&($o.status="fulfilled");var a=uc;uc=null,zo=0,$o=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function xy(a,s){var u=[],g={status:"pending",value:null,reason:null,then:function(S){u.push(S)}};return a.then(function(){g.status="fulfilled",g.value=s;for(var S=0;S<u.length;S++)(0,u[S])(s)},function(S){for(g.status="rejected",g.reason=S,S=0;S<u.length;S++)(0,u[S])(void 0)}),g}var xp=H.S;H.S=function(a,s){Pw=Y(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&my(a,s),xp!==null&&xp(a,s)};var Qs=B(null);function rf(){var a=Qs.current;return a!==null?a:Zn.pooledCache}function Js(a,s){s===null?J(Qs,Qs.current):J(Qs,s.pool)}function qo(){var a=rf();return a===null?null:{parent:mr._currentValue,pool:a}}var Go=Error(r(460)),Ud=Error(r(474)),kd=Error(r(542)),jd={then:function(){}};function yp(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vp(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ta,Ta),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ga(a),a;default:if(typeof s.status=="string")s.then(Ta,Ta);else{if(a=Zn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(g){if(s.status==="pending"){var S=s;S.status="fulfilled",S.value=g}},function(g){if(s.status==="pending"){var S=s;S.status="rejected",S.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ga(a),a}throw to=s,Go}}function eo(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(to=u,Go):u}}var to=null;function bp(){if(to===null)throw Error(r(459));var a=to;return to=null,a}function ga(a){if(a===Go||a===kd)throw Error(r(483))}var Xo=null,T=0;function L(a){var s=T;return T+=1,Xo===null&&(Xo=[]),vp(Xo,a,s)}function R(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function z(a,s){throw s.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Z(a){function s(Pe,Ue){if(a){var Ve=Pe.deletions;Ve===null?(Pe.deletions=[Ue],Pe.flags|=16):Ve.push(Ue)}}function u(Pe,Ue){if(!a)return null;for(;Ue!==null;)s(Pe,Ue),Ue=Ue.sibling;return null}function g(Pe){for(var Ue=new Map;Pe!==null;)Pe.key!==null?Ue.set(Pe.key,Pe):Ue.set(Pe.index,Pe),Pe=Pe.sibling;return Ue}function S(Pe,Ue){return Pe=Hr(Pe,Ue),Pe.index=0,Pe.sibling=null,Pe}function E(Pe,Ue,Ve){return Pe.index=Ve,a?(Ve=Pe.alternate,Ve!==null?(Ve=Ve.index,Ve<Ue?(Pe.flags|=67108866,Ue):Ve):(Pe.flags|=67108866,Ue)):(Pe.flags|=1048576,Ue)}function W(Pe){return a&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function ie(Pe,Ue,Ve,it){return Ue===null||Ue.tag!==6?(Ue=Yu(Ve,Pe.mode,it),Ue.return=Pe,Ue):(Ue=S(Ue,Ve),Ue.return=Pe,Ue)}function Te(Pe,Ue,Ve,it){var zt=Ve.type;return zt===y?et(Pe,Ue,Ve.props.children,it,Ve.key):Ue!==null&&(Ue.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===F&&eo(zt)===Ue.type)?(Ue=S(Ue,Ve.props),R(Ue,Ve),Ue.return=Pe,Ue):(Ue=Gr(Ve.type,Ve.key,Ve.props,null,Pe.mode,it),R(Ue,Ve),Ue.return=Pe,Ue)}function We(Pe,Ue,Ve,it){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Ve.containerInfo||Ue.stateNode.implementation!==Ve.implementation?(Ue=Ki(Ve,Pe.mode,it),Ue.return=Pe,Ue):(Ue=S(Ue,Ve.children||[]),Ue.return=Pe,Ue)}function et(Pe,Ue,Ve,it,zt){return Ue===null||Ue.tag!==7?(Ue=$s(Ve,Pe.mode,it,zt),Ue.return=Pe,Ue):(Ue=S(Ue,Ve),Ue.return=Pe,Ue)}function ot(Pe,Ue,Ve){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=Yu(""+Ue,Pe.mode,Ve),Ue.return=Pe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case v:return Ve=Gr(Ue.type,Ue.key,Ue.props,null,Pe.mode,Ve),R(Ve,Ue),Ve.return=Pe,Ve;case w:return Ue=Ki(Ue,Pe.mode,Ve),Ue.return=Pe,Ue;case F:return Ue=eo(Ue),ot(Pe,Ue,Ve)}if(ae(Ue)||I(Ue))return Ue=$s(Ue,Pe.mode,Ve,null),Ue.return=Pe,Ue;if(typeof Ue.then=="function")return ot(Pe,L(Ue),Ve);if(Ue.$$typeof===C)return ot(Pe,Ad(Pe,Ue),Ve);z(Pe,Ue)}return null}function $e(Pe,Ue,Ve,it){var zt=Ue!==null?Ue.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return zt!==null?null:ie(Pe,Ue,""+Ve,it);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return Ve.key===zt?Te(Pe,Ue,Ve,it):null;case w:return Ve.key===zt?We(Pe,Ue,Ve,it):null;case F:return Ve=eo(Ve),$e(Pe,Ue,Ve,it)}if(ae(Ve)||I(Ve))return zt!==null?null:et(Pe,Ue,Ve,it,null);if(typeof Ve.then=="function")return $e(Pe,Ue,L(Ve),it);if(Ve.$$typeof===C)return $e(Pe,Ue,Ad(Pe,Ve),it);z(Pe,Ve)}return null}function Ke(Pe,Ue,Ve,it,zt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Pe=Pe.get(Ve)||null,ie(Ue,Pe,""+it,zt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return Pe=Pe.get(it.key===null?Ve:it.key)||null,Te(Ue,Pe,it,zt);case w:return Pe=Pe.get(it.key===null?Ve:it.key)||null,We(Ue,Pe,it,zt);case F:return it=eo(it),Ke(Pe,Ue,Ve,it,zt)}if(ae(it)||I(it))return Pe=Pe.get(Ve)||null,et(Ue,Pe,it,zt,null);if(typeof it.then=="function")return Ke(Pe,Ue,Ve,L(it),zt);if(it.$$typeof===C)return Ke(Pe,Ue,Ve,Ad(Ue,it),zt);z(Ue,it)}return null}function Rt(Pe,Ue,Ve,it){for(var zt=null,An=null,Ht=Ue,un=Ue=0,bn=null;Ht!==null&&un<Ve.length;un++){Ht.index>un?(bn=Ht,Ht=null):bn=Ht.sibling;var Mn=$e(Pe,Ht,Ve[un],it);if(Mn===null){Ht===null&&(Ht=bn);break}a&&Ht&&Mn.alternate===null&&s(Pe,Ht),Ue=E(Mn,Ue,un),An===null?zt=Mn:An.sibling=Mn,An=Mn,Ht=bn}if(un===Ve.length)return u(Pe,Ht),mn&&aa(Pe,un),zt;if(Ht===null){for(;un<Ve.length;un++)Ht=ot(Pe,Ve[un],it),Ht!==null&&(Ue=E(Ht,Ue,un),An===null?zt=Ht:An.sibling=Ht,An=Ht);return mn&&aa(Pe,un),zt}for(Ht=g(Ht);un<Ve.length;un++)bn=Ke(Ht,Pe,un,Ve[un],it),bn!==null&&(a&&bn.alternate!==null&&Ht.delete(bn.key===null?un:bn.key),Ue=E(bn,Ue,un),An===null?zt=bn:An.sibling=bn,An=bn);return a&&Ht.forEach(function(ol){return s(Pe,ol)}),mn&&aa(Pe,un),zt}function Yt(Pe,Ue,Ve,it){if(Ve==null)throw Error(r(151));for(var zt=null,An=null,Ht=Ue,un=Ue=0,bn=null,Mn=Ve.next();Ht!==null&&!Mn.done;un++,Mn=Ve.next()){Ht.index>un?(bn=Ht,Ht=null):bn=Ht.sibling;var ol=$e(Pe,Ht,Mn.value,it);if(ol===null){Ht===null&&(Ht=bn);break}a&&Ht&&ol.alternate===null&&s(Pe,Ht),Ue=E(ol,Ue,un),An===null?zt=ol:An.sibling=ol,An=ol,Ht=bn}if(Mn.done)return u(Pe,Ht),mn&&aa(Pe,un),zt;if(Ht===null){for(;!Mn.done;un++,Mn=Ve.next())Mn=ot(Pe,Mn.value,it),Mn!==null&&(Ue=E(Mn,Ue,un),An===null?zt=Mn:An.sibling=Mn,An=Mn);return mn&&aa(Pe,un),zt}for(Ht=g(Ht);!Mn.done;un++,Mn=Ve.next())Mn=Ke(Ht,Pe,un,Mn.value,it),Mn!==null&&(a&&Mn.alternate!==null&&Ht.delete(Mn.key===null?un:Mn.key),Ue=E(Mn,Ue,un),An===null?zt=Mn:An.sibling=Mn,An=Mn);return a&&Ht.forEach(function(O8){return s(Pe,O8)}),mn&&aa(Pe,un),zt}function Xn(Pe,Ue,Ve,it){if(typeof Ve=="object"&&Ve!==null&&Ve.type===y&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:e:{for(var zt=Ve.key;Ue!==null;){if(Ue.key===zt){if(zt=Ve.type,zt===y){if(Ue.tag===7){u(Pe,Ue.sibling),it=S(Ue,Ve.props.children),it.return=Pe,Pe=it;break e}}else if(Ue.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===F&&eo(zt)===Ue.type){u(Pe,Ue.sibling),it=S(Ue,Ve.props),R(it,Ve),it.return=Pe,Pe=it;break e}u(Pe,Ue);break}else s(Pe,Ue);Ue=Ue.sibling}Ve.type===y?(it=$s(Ve.props.children,Pe.mode,it,Ve.key),it.return=Pe,Pe=it):(it=Gr(Ve.type,Ve.key,Ve.props,null,Pe.mode,it),R(it,Ve),it.return=Pe,Pe=it)}return W(Pe);case w:e:{for(zt=Ve.key;Ue!==null;){if(Ue.key===zt)if(Ue.tag===4&&Ue.stateNode.containerInfo===Ve.containerInfo&&Ue.stateNode.implementation===Ve.implementation){u(Pe,Ue.sibling),it=S(Ue,Ve.children||[]),it.return=Pe,Pe=it;break e}else{u(Pe,Ue);break}else s(Pe,Ue);Ue=Ue.sibling}it=Ki(Ve,Pe.mode,it),it.return=Pe,Pe=it}return W(Pe);case F:return Ve=eo(Ve),Xn(Pe,Ue,Ve,it)}if(ae(Ve))return Rt(Pe,Ue,Ve,it);if(I(Ve)){if(zt=I(Ve),typeof zt!="function")throw Error(r(150));return Ve=zt.call(Ve),Yt(Pe,Ue,Ve,it)}if(typeof Ve.then=="function")return Xn(Pe,Ue,L(Ve),it);if(Ve.$$typeof===C)return Xn(Pe,Ue,Ad(Pe,Ve),it);z(Pe,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint"?(Ve=""+Ve,Ue!==null&&Ue.tag===6?(u(Pe,Ue.sibling),it=S(Ue,Ve),it.return=Pe,Pe=it):(u(Pe,Ue),it=Yu(Ve,Pe.mode,it),it.return=Pe,Pe=it),W(Pe)):u(Pe,Ue)}return function(Pe,Ue,Ve,it){try{T=0;var zt=Xn(Pe,Ue,Ve,it);return Xo=null,zt}catch(Ht){if(Ht===Go||Ht===kd)throw Ht;var An=ua(29,Ht,null,Pe.mode);return An.lanes=it,An.return=Pe,An}}}var ce=Z(!0),K=Z(!1),re=!1;function me(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ge(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ve(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ue(a,s,u){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Rn&2)!==0){var S=g.pending;return S===null?s.next=s:(s.next=S.next,S.next=s),g.pending=s,s=Ku(a),Ja(a,null,u),s}return Bo(a,g,s,u),Ku(a)}function we(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var g=s.lanes;g&=a.pendingLanes,u|=g,s.lanes=u,Qt(a,u)}}function Ae(a,s){var u=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var S=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var W={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?S=E=W:E=E.next=W,u=u.next}while(u!==null);E===null?S=E=s:E=E.next=s}else S=E=s;u={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Be=!1;function Xe(){if(Be){var a=$o;if(a!==null)throw a}}function je(a,s,u,g){Be=!1;var S=a.updateQueue;re=!1;var E=S.firstBaseUpdate,W=S.lastBaseUpdate,ie=S.shared.pending;if(ie!==null){S.shared.pending=null;var Te=ie,We=Te.next;Te.next=null,W===null?E=We:W.next=We,W=Te;var et=a.alternate;et!==null&&(et=et.updateQueue,ie=et.lastBaseUpdate,ie!==W&&(ie===null?et.firstBaseUpdate=We:ie.next=We,et.lastBaseUpdate=Te))}if(E!==null){var ot=S.baseState;W=0,et=We=Te=null,ie=E;do{var $e=ie.lane&-536870913,Ke=$e!==ie.lane;if(Ke?(vn&$e)===$e:(g&$e)===$e){$e!==0&&$e===zo&&(Be=!0),et!==null&&(et=et.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Rt=a,Yt=ie;$e=s;var Xn=u;switch(Yt.tag){case 1:if(Rt=Yt.payload,typeof Rt=="function"){ot=Rt.call(Xn,ot,$e);break e}ot=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Yt.payload,$e=typeof Rt=="function"?Rt.call(Xn,ot,$e):Rt,$e==null)break e;ot=p({},ot,$e);break e;case 2:re=!0}}$e=ie.callback,$e!==null&&(a.flags|=64,Ke&&(a.flags|=8192),Ke=S.callbacks,Ke===null?S.callbacks=[$e]:Ke.push($e))}else Ke={lane:$e,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},et===null?(We=et=Ke,Te=ot):et=et.next=Ke,W|=$e;if(ie=ie.next,ie===null){if(ie=S.shared.pending,ie===null)break;Ke=ie,ie=Ke.next,Ke.next=null,S.lastBaseUpdate=Ke,S.shared.pending=null}}while(!0);et===null&&(Te=ot),S.baseState=Te,S.firstBaseUpdate=We,S.lastBaseUpdate=et,E===null&&(S.shared.lanes=0),Zo|=W,a.lanes=W,a.memoizedState=ot}}function De(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Je(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)De(u[a],s)}var ft=B(null),ut=B(0);function rt(a,s){a=uo,J(ut,a),J(ft,s),uo=a|s.baseLanes}function xt(){J(ut,uo),J(ft,ft.current)}function It(){uo=ut.current,te(ft),te(ut)}var Mt=B(null),Dt=null;function fn(a){var s=a.alternate;J(wr,wr.current&1),J(Mt,a),Dt===null&&(s===null||ft.current!==null||s.memoizedState!==null)&&(Dt=a)}function ma(a){J(wr,wr.current),J(Mt,a),Dt===null&&(Dt=a)}function ur(a){a.tag===22?(J(wr,wr.current),J(Mt,a),Dt===null&&(Dt=a)):Bn()}function Bn(){J(wr,wr.current),J(Mt,Mt.current)}function Xr(a){te(Mt),Dt===a&&(Dt=null),te(wr)}var wr=B(0);function _p(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||D0(u)||S0(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var no=0,cn=null,qn=null,Nr=null,wp=!1,Rd=!1,fc=!1,Dp=0,af=0,Pd=null,T6=0;function xr(){throw Error(r(321))}function yy(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Er(a[u],s[u]))return!1;return!0}function vy(a,s,u,g,S,E){return no=E,cn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=a===null||a.memoizedState===null?q_:Ry,fc=!1,E=u(g,S),fc=!1,Rd&&(E=u_(s,u,g,S)),d_(a),E}function d_(a){H.H=lf;var s=qn!==null&&qn.next!==null;if(no=0,Nr=qn=cn=null,wp=!1,af=0,Pd=null,s)throw Error(r(300));a===null||Ar||(a=a.dependencies,a!==null&&Nd(a)&&(Ar=!0))}function u_(a,s,u,g){cn=a;var S=0;do{if(Rd&&(Pd=null),af=0,Rd=!1,25<=S)throw Error(r(301));if(S+=1,Nr=qn=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}H.H=G_,E=s(u,g)}while(Rd);return E}function E6(){var a=H.H,s=a.useState()[0];return s=typeof s.then=="function"?sf(s):s,a=a.useState()[0],(qn!==null?qn.memoizedState:null)!==a&&(cn.flags|=1024),s}function by(){var a=Dp!==0;return Dp=0,a}function _y(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function wy(a){if(wp){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}wp=!1}no=0,Nr=qn=cn=null,Rd=!1,af=Dp=0,Pd=null}function xa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?cn.memoizedState=Nr=a:Nr=Nr.next=a,Nr}function Dr(){if(qn===null){var a=cn.alternate;a=a!==null?a.memoizedState:null}else a=qn.next;var s=Nr===null?cn.memoizedState:Nr.next;if(s!==null)Nr=s,qn=a;else{if(a===null)throw cn.alternate===null?Error(r(467)):Error(r(310));qn=a,a={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Nr===null?cn.memoizedState=Nr=a:Nr=Nr.next=a}return Nr}function Sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sf(a){var s=af;return af+=1,Pd===null&&(Pd=[]),a=vp(Pd,a,s),s=cn,(Nr===null?s.memoizedState:Nr.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?q_:Ry),a}function Cp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return sf(a);if(a.$$typeof===C)return Rr(a)}throw Error(r(438,String(a)))}function Dy(a){var s=null,u=cn.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var g=cn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(S){return S.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Sp(),cn.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),g=0;g<a;g++)u[g]=$;return s.index++,u}function ro(a,s){return typeof s=="function"?s(a):s}function Tp(a){var s=Dr();return Sy(s,qn,a)}function Sy(a,s,u){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var S=a.baseQueue,E=g.pending;if(E!==null){if(S!==null){var W=S.next;S.next=E.next,E.next=W}s.baseQueue=S=E,g.pending=null}if(E=a.baseState,S===null)a.memoizedState=E;else{s=S.next;var ie=W=null,Te=null,We=s,et=!1;do{var ot=We.lane&-536870913;if(ot!==We.lane?(vn&ot)===ot:(no&ot)===ot){var $e=We.revertLane;if($e===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),ot===zo&&(et=!0);else if((no&$e)===$e){We=We.next,$e===zo&&(et=!0);continue}else ot={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Te===null?(ie=Te=ot,W=E):Te=Te.next=ot,cn.lanes|=$e,Zo|=$e;ot=We.action,fc&&u(E,ot),E=We.hasEagerState?We.eagerState:u(E,ot)}else $e={lane:ot,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Te===null?(ie=Te=$e,W=E):Te=Te.next=$e,cn.lanes|=ot,Zo|=ot;We=We.next}while(We!==null&&We!==s);if(Te===null?W=E:Te.next=ie,!Er(E,a.memoizedState)&&(Ar=!0,et&&(u=$o,u!==null)))throw u;a.memoizedState=E,a.baseState=W,a.baseQueue=Te,g.lastRenderedState=E}return S===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Cy(a){var s=Dr(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var g=u.dispatch,S=u.pending,E=s.memoizedState;if(S!==null){u.pending=null;var W=S=S.next;do E=a(E,W.action),W=W.next;while(W!==S);Er(E,s.memoizedState)||(Ar=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,g]}function f_(a,s,u){var g=cn,S=Dr(),E=mn;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=s();var W=!Er((qn||S).memoizedState,u);if(W&&(S.memoizedState=u,Ar=!0),S=S.queue,Ny(g_.bind(null,g,S,a),[a]),S.getSnapshot!==s||W||Nr!==null&&Nr.memoizedState.tag&1){if(g.flags|=2048,Od(9,{destroy:void 0},p_.bind(null,g,S,u,s),null),Zn===null)throw Error(r(349));E||(no&127)!==0||h_(g,s,u)}return u}function h_(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=cn.updateQueue,s===null?(s=Sp(),cn.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function p_(a,s,u,g){s.value=u,s.getSnapshot=g,m_(s)&&x_(a)}function g_(a,s,u){return u(function(){m_(s)&&x_(a)})}function m_(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Er(a,u)}catch{return!0}}function x_(a){var s=hs(a,2);s!==null&&Ra(s,a,2)}function Ty(a){var s=xa();if(typeof a=="function"){var u=a;if(a=u(),fc){pt(!0);try{u()}finally{pt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:a},s}function y_(a,s,u,g){return a.baseState=u,Sy(a,qn,typeof g=="function"?g:ro)}function N6(a,s,u,g,S){if(Ap(a))throw Error(r(485));if(a=s.action,a!==null){var E={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){E.listeners.push(W)}};H.T!==null?u(!0):E.isTransition=!1,g(E),u=s.pending,u===null?(E.next=s.pending=E,v_(s,E)):(E.next=u.next,s.pending=u.next=E)}}function v_(a,s){var u=s.action,g=s.payload,S=a.state;if(s.isTransition){var E=H.T,W={};H.T=W;try{var ie=u(S,g),Te=H.S;Te!==null&&Te(W,ie),b_(a,s,ie)}catch(We){Ey(a,s,We)}finally{E!==null&&W.types!==null&&(E.types=W.types),H.T=E}}else try{E=u(S,g),b_(a,s,E)}catch(We){Ey(a,s,We)}}function b_(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){__(a,s,g)},function(g){return Ey(a,s,g)}):__(a,s,u)}function __(a,s,u){s.status="fulfilled",s.value=u,w_(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,v_(a,u)))}function Ey(a,s,u){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=u,w_(s),s=s.next;while(s!==g)}a.action=null}function w_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function D_(a,s){return s}function S_(a,s){if(mn){var u=Zn.formState;if(u!==null){e:{var g=cn;if(mn){if(Hn){t:{for(var S=Hn,E=Br;S.nodeType!==8;){if(!E){S=null;break t}if(S=Di(S.nextSibling),S===null){S=null;break t}}E=S.data,S=E==="F!"||E==="F"?S:null}if(S){Hn=Di(S.nextSibling),g=S.data==="F!";break e}}pa(g)}g=!1}g&&(s=u[0])}}return u=xa(),u.memoizedState=u.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:s},u.queue=g,u=W_.bind(null,cn,g),g.dispatch=u,g=Ty(!1),E=jy.bind(null,cn,!1,g.queue),g=xa(),S={state:s,dispatch:null,action:a,pending:null},g.queue=S,u=N6.bind(null,cn,S,E,u),S.dispatch=u,g.memoizedState=a,[s,u,!1]}function C_(a){var s=Dr();return T_(s,qn,a)}function T_(a,s,u){if(s=Sy(a,s,D_)[0],a=Tp(ro)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=sf(s)}catch(W){throw W===Go?kd:W}else g=s;s=Dr();var S=s.queue,E=S.dispatch;return u!==s.memoizedState&&(cn.flags|=2048,Od(9,{destroy:void 0},A6.bind(null,S,u),null)),[g,E,a]}function A6(a,s){a.action=s}function E_(a){var s=Dr(),u=qn;if(u!==null)return T_(s,u,a);Dr(),s=s.memoizedState,u=Dr();var g=u.queue.dispatch;return u.memoizedState=a,[s,g,!1]}function Od(a,s,u,g){return a={tag:a,create:u,deps:g,inst:s,next:null},s=cn.updateQueue,s===null&&(s=Sp(),cn.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(g=u.next,u.next=a,a.next=g,s.lastEffect=a),a}function N_(){return Dr().memoizedState}function Ep(a,s,u,g){var S=xa();cn.flags|=a,S.memoizedState=Od(1|s,{destroy:void 0},u,g===void 0?null:g)}function Np(a,s,u,g){var S=Dr();g=g===void 0?null:g;var E=S.memoizedState.inst;qn!==null&&g!==null&&yy(g,qn.memoizedState.deps)?S.memoizedState=Od(s,E,u,g):(cn.flags|=a,S.memoizedState=Od(1|s,E,u,g))}function A_(a,s){Ep(8390656,8,a,s)}function Ny(a,s){Np(2048,8,a,s)}function M6(a){cn.flags|=4;var s=cn.updateQueue;if(s===null)s=Sp(),cn.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function M_(a){var s=Dr().memoizedState;return M6({ref:s,nextImpl:a}),function(){if((Rn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function U_(a,s){return Np(4,2,a,s)}function k_(a,s){return Np(4,4,a,s)}function j_(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function R_(a,s,u){u=u!=null?u.concat([a]):null,Np(4,4,j_.bind(null,s,a),u)}function Ay(){}function P_(a,s){var u=Dr();s=s===void 0?null:s;var g=u.memoizedState;return s!==null&&yy(s,g[1])?g[0]:(u.memoizedState=[a,s],a)}function O_(a,s){var u=Dr();s=s===void 0?null:s;var g=u.memoizedState;if(s!==null&&yy(s,g[1]))return g[0];if(g=a(),fc){pt(!0);try{a()}finally{pt(!1)}}return u.memoizedState=[g,s],g}function My(a,s,u){return u===void 0||(no&1073741824)!==0&&(vn&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=Iw(),cn.lanes|=a,Zo|=a,u)}function I_(a,s,u,g){return Er(u,s)?u:ft.current!==null?(a=My(a,u,g),Er(a,s)||(Ar=!0),a):(no&42)===0||(no&1073741824)!==0&&(vn&261930)===0?(Ar=!0,a.memoizedState=u):(a=Iw(),cn.lanes|=a,Zo|=a,s)}function F_(a,s,u,g,S){var E=G.p;G.p=E!==0&&8>E?E:8;var W=H.T,ie={};H.T=ie,jy(a,!1,s,u);try{var Te=S(),We=H.S;if(We!==null&&We(ie,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var et=xy(Te,g);of(a,s,et,ri(a))}else of(a,s,g,ri(a))}catch(ot){of(a,s,{then:function(){},status:"rejected",reason:ot},ri())}finally{G.p=E,W!==null&&ie.types!==null&&(W.types=ie.types),H.T=W}}function U6(){}function Uy(a,s,u,g){if(a.tag!==5)throw Error(r(476));var S=L_(a).queue;F_(a,S,s,q,u===null?U6:function(){return H_(a),u(g)})}function L_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:q},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function H_(a){var s=L_(a);s.next===null&&(s=a.alternate.memoizedState),of(a,s.next.queue,{},ri())}function ky(){return Rr(Sf)}function B_(){return Dr().memoizedState}function V_(){return Dr().memoizedState}function k6(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=ri();a=ve(u);var g=ue(s,a,u);g!==null&&(Ra(g,s,u),we(g,s,u)),s={cache:tf()},a.payload=s;return}s=s.return}}function j6(a,s,u){var g=ri();u={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ap(a)?z_(s,u):(u=br(a,s,u,g),u!==null&&(Ra(u,a,g),$_(u,s,g)))}function W_(a,s,u){var g=ri();of(a,s,u,g)}function of(a,s,u,g){var S={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ap(a))z_(s,S);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var W=s.lastRenderedState,ie=E(W,u);if(S.hasEagerState=!0,S.eagerState=ie,Er(ie,W))return Bo(a,s,S,0),Zn===null&&Qa(),!1}catch{}if(u=br(a,s,S,g),u!==null)return Ra(u,a,g),$_(u,s,g),!0}return!1}function jy(a,s,u,g){if(g={lane:2,revertLane:u0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ap(a)){if(s)throw Error(r(479))}else s=br(a,u,g,2),s!==null&&Ra(s,a,2)}function Ap(a){var s=a.alternate;return a===cn||s!==null&&s===cn}function z_(a,s){Rd=wp=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function $_(a,s,u){if((u&4194048)!==0){var g=s.lanes;g&=a.pendingLanes,u|=g,s.lanes=u,Qt(a,u)}}var lf={readContext:Rr,use:Cp,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useInsertionEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useSyncExternalStore:xr,useId:xr,useHostTransitionStatus:xr,useFormState:xr,useActionState:xr,useOptimistic:xr,useMemoCache:xr,useCacheRefresh:xr};lf.useEffectEvent=xr;var q_={readContext:Rr,use:Cp,useCallback:function(a,s){return xa().memoizedState=[a,s===void 0?null:s],a},useContext:Rr,useEffect:A_,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Ep(4194308,4,j_.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Ep(4194308,4,a,s)},useInsertionEffect:function(a,s){Ep(4,2,a,s)},useMemo:function(a,s){var u=xa();s=s===void 0?null:s;var g=a();if(fc){pt(!0);try{a()}finally{pt(!1)}}return u.memoizedState=[g,s],g},useReducer:function(a,s,u){var g=xa();if(u!==void 0){var S=u(s);if(fc){pt(!0);try{u(s)}finally{pt(!1)}}}else S=s;return g.memoizedState=g.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},g.queue=a,a=a.dispatch=j6.bind(null,cn,a),[g.memoizedState,a]},useRef:function(a){var s=xa();return a={current:a},s.memoizedState=a},useState:function(a){a=Ty(a);var s=a.queue,u=W_.bind(null,cn,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:Ay,useDeferredValue:function(a,s){var u=xa();return My(u,a,s)},useTransition:function(){var a=Ty(!1);return a=F_.bind(null,cn,a.queue,!0,!1),xa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var g=cn,S=xa();if(mn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Zn===null)throw Error(r(349));(vn&127)!==0||h_(g,s,u)}S.memoizedState=u;var E={value:u,getSnapshot:s};return S.queue=E,A_(g_.bind(null,g,E,a),[a]),g.flags|=2048,Od(9,{destroy:void 0},p_.bind(null,g,E,u,s),null),u},useId:function(){var a=xa(),s=Zn.identifierPrefix;if(mn){var u=ha,g=Yi;u=(g&~(1<<32-gt(g)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Dp++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=T6++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:ky,useFormState:S_,useActionState:S_,useOptimistic:function(a){var s=xa();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=jy.bind(null,cn,!0,u),u.dispatch=s,[a,s]},useMemoCache:Dy,useCacheRefresh:function(){return xa().memoizedState=k6.bind(null,cn)},useEffectEvent:function(a){var s=xa(),u={impl:a};return s.memoizedState=u,function(){if((Rn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Ry={readContext:Rr,use:Cp,useCallback:P_,useContext:Rr,useEffect:Ny,useImperativeHandle:R_,useInsertionEffect:U_,useLayoutEffect:k_,useMemo:O_,useReducer:Tp,useRef:N_,useState:function(){return Tp(ro)},useDebugValue:Ay,useDeferredValue:function(a,s){var u=Dr();return I_(u,qn.memoizedState,a,s)},useTransition:function(){var a=Tp(ro)[0],s=Dr().memoizedState;return[typeof a=="boolean"?a:sf(a),s]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:ky,useFormState:C_,useActionState:C_,useOptimistic:function(a,s){var u=Dr();return y_(u,qn,a,s)},useMemoCache:Dy,useCacheRefresh:V_};Ry.useEffectEvent=M_;var G_={readContext:Rr,use:Cp,useCallback:P_,useContext:Rr,useEffect:Ny,useImperativeHandle:R_,useInsertionEffect:U_,useLayoutEffect:k_,useMemo:O_,useReducer:Cy,useRef:N_,useState:function(){return Cy(ro)},useDebugValue:Ay,useDeferredValue:function(a,s){var u=Dr();return qn===null?My(u,a,s):I_(u,qn.memoizedState,a,s)},useTransition:function(){var a=Cy(ro)[0],s=Dr().memoizedState;return[typeof a=="boolean"?a:sf(a),s]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:ky,useFormState:E_,useActionState:E_,useOptimistic:function(a,s){var u=Dr();return qn!==null?y_(u,qn,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:V_};G_.useEffectEvent=M_;function Py(a,s,u,g){s=a.memoizedState,u=u(g,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Oy={enqueueSetState:function(a,s,u){a=a._reactInternals;var g=ri(),S=ve(g);S.payload=s,u!=null&&(S.callback=u),s=ue(a,S,g),s!==null&&(Ra(s,a,g),we(s,a,g))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var g=ri(),S=ve(g);S.tag=1,S.payload=s,u!=null&&(S.callback=u),s=ue(a,S,g),s!==null&&(Ra(s,a,g),we(s,a,g))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=ri(),g=ve(u);g.tag=2,s!=null&&(g.callback=s),s=ue(a,g,u),s!==null&&(Ra(s,a,u),we(s,a,u))}};function X_(a,s,u,g,S,E,W){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,W):s.prototype&&s.prototype.isPureReactComponent?!Hs(u,g)||!Hs(S,E):!0}function K_(a,s,u,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==a&&Oy.enqueueReplaceState(s,s.state,null)}function hc(a,s){var u=s;if("ref"in s){u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var S in a)u[S]===void 0&&(u[S]=a[S])}return u}function Y_(a){zs(a)}function Z_(a){console.error(a)}function Q_(a){zs(a)}function Mp(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function J_(a,s,u){try{var g=a.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Iy(a,s,u){return u=ve(u),u.tag=3,u.payload={element:null},u.callback=function(){Mp(a,s)},u}function ew(a){return a=ve(a),a.tag=3,a}function tw(a,s,u,g){var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var E=g.value;a.payload=function(){return S(E)},a.callback=function(){J_(s,u,g)}}var W=u.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(a.callback=function(){J_(s,u,g),typeof S!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var ie=g.stack;this.componentDidCatch(g.value,{componentStack:ie!==null?ie:""})})}function R6(a,s,u,g,S){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=u.alternate,s!==null&&Wo(s,u,S,!0),u=Mt.current,u!==null){switch(u.tag){case 31:case 13:return Dt===null?Vp():u.alternate===null&&yr===0&&(yr=3),u.flags&=-257,u.flags|=65536,u.lanes=S,g===jd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([g]):s.add(g),l0(a,g,S)),!1;case 22:return u.flags|=65536,g===jd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([g]):u.add(g)),l0(a,g,S)),!1}throw Error(r(435,u.tag))}return l0(a,g,S),Vp(),!1}if(mn)return s=Mt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=S,g!==Zu&&(a=Error(r(422),{cause:g}),cc(fa(a,u)))):(g!==Zu&&(s=Error(r(423),{cause:g}),cc(fa(s,u))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,g=fa(g,u),S=Iy(a.stateNode,g,S),Ae(a,S),yr!==4&&(yr=2)),!1;var E=Error(r(520),{cause:g});if(E=fa(E,u),mf===null?mf=[E]:mf.push(E),yr!==4&&(yr=2),s===null)return!0;g=fa(g,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=S&-S,u.lanes|=a,a=Iy(u.stateNode,g,a),Ae(u,a),!1;case 1:if(s=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qo===null||!Qo.has(E))))return u.flags|=65536,S&=-S,u.lanes|=S,S=ew(S),tw(S,a,u,g),Ae(u,S),!1}u=u.return}while(u!==null);return!1}var Fy=Error(r(461)),Ar=!1;function Kr(a,s,u,g){s.child=a===null?K(s,null,u,g):ce(s,a.child,u,g)}function nw(a,s,u,g,S){u=u.render;var E=s.ref;if("ref"in g){var W={};for(var ie in g)ie!=="ref"&&(W[ie]=g[ie])}else W=g;return gs(s),g=vy(a,s,u,W,E,S),ie=by(),a!==null&&!Ar?(_y(a,s,S),ao(a,s,S)):(mn&&ie&&Cd(s),s.flags|=1,Kr(a,s,g,S),s.child)}function rw(a,s,u,g,S){if(a===null){var E=u.type;return typeof E=="function"&&!ht(E)&&E.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=E,aw(a,s,E,g,S)):(a=Gr(u.type,null,g,s,s.mode,S),a.ref=s.ref,a.return=s,s.child=a)}if(E=a.child,!qy(a,S)){var W=E.memoizedProps;if(u=u.compare,u=u!==null?u:Hs,u(W,g)&&a.ref===s.ref)return ao(a,s,S)}return s.flags|=1,a=Hr(E,g),a.ref=s.ref,a.return=s,s.child=a}function aw(a,s,u,g,S){if(a!==null){var E=a.memoizedProps;if(Hs(E,g)&&a.ref===s.ref)if(Ar=!1,s.pendingProps=g=E,qy(a,S))(a.flags&131072)!==0&&(Ar=!0);else return s.lanes=a.lanes,ao(a,s,S)}return Ly(a,s,u,g,S)}function iw(a,s,u,g){var S=g.children,E=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,a!==null){for(g=s.child=a.child,S=0;g!==null;)S=S|g.lanes|g.childLanes,g=g.sibling;g=S&~E}else g=0,s.child=null;return sw(a,s,E,u,g)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Js(s,E!==null?E.cachePool:null),E!==null?rt(s,E):xt(),ur(s);else return g=s.lanes=536870912,sw(a,s,E!==null?E.baseLanes|u:u,u,g)}else E!==null?(Js(s,E.cachePool),rt(s,E),Bn(),s.memoizedState=null):(a!==null&&Js(s,null),xt(),Bn());return Kr(a,s,S,u),s.child}function cf(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function sw(a,s,u,g,S){var E=rf();return E=E===null?null:{parent:mr._currentValue,pool:E},s.memoizedState={baseLanes:u,cachePool:E},a!==null&&Js(s,null),xt(),ur(s),a!==null&&Wo(a,s,g,!0),s.childLanes=S,null}function Up(a,s){return s=jp({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function ow(a,s,u){return ce(s,a.child,null,u),a=Up(s,s.pendingProps),a.flags|=2,Xr(s),s.memoizedState=null,a}function P6(a,s,u){var g=s.pendingProps,S=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(mn){if(g.mode==="hidden")return a=Up(s,g),s.lanes=536870912,cf(null,a);if(ma(s),(a=Hn)?(a=vD(a,Br),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ks!==null?{id:Yi,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=up(a),u.return=s,s.child=u,_r=s,Hn=null)):a=null,a===null)throw pa(s);return s.lanes=536870912,null}return Up(s,g)}var E=a.memoizedState;if(E!==null){var W=E.dehydrated;if(ma(s),S)if(s.flags&256)s.flags&=-257,s=ow(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ar||Wo(a,s,u,!1),S=(u&a.childLanes)!==0,Ar||S){if(g=Zn,g!==null&&(W=Ne(g,u),W!==0&&W!==E.retryLane))throw E.retryLane=W,hs(a,W),Ra(g,a,W),Fy;Vp(),s=ow(a,s,u)}else a=E.treeContext,Hn=Di(W.nextSibling),_r=s,mn=!0,ps=null,Br=!1,a!==null&&hp(s,a),s=Up(s,g),s.flags|=4096;return s}return a=Hr(a.child,{mode:g.mode,children:g.children}),a.ref=s.ref,s.child=a,a.return=s,a}function kp(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Ly(a,s,u,g,S){return gs(s),u=vy(a,s,u,g,void 0,S),g=by(),a!==null&&!Ar?(_y(a,s,S),ao(a,s,S)):(mn&&g&&Cd(s),s.flags|=1,Kr(a,s,u,S),s.child)}function lw(a,s,u,g,S,E){return gs(s),s.updateQueue=null,u=u_(s,g,u,S),d_(a),g=by(),a!==null&&!Ar?(_y(a,s,E),ao(a,s,E)):(mn&&g&&Cd(s),s.flags|=1,Kr(a,s,u,E),s.child)}function cw(a,s,u,g,S){if(gs(s),s.stateNode===null){var E=ei,W=u.contextType;typeof W=="object"&&W!==null&&(E=Rr(W)),E=new u(g,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Oy,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=g,E.state=s.memoizedState,E.refs={},me(s),W=u.contextType,E.context=typeof W=="object"&&W!==null?Rr(W):ei,E.state=s.memoizedState,W=u.getDerivedStateFromProps,typeof W=="function"&&(Py(s,u,W,g),E.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(W=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),W!==E.state&&Oy.enqueueReplaceState(E,E.state,null),je(s,g,E,S),Xe(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(a===null){E=s.stateNode;var ie=s.memoizedProps,Te=hc(u,ie);E.props=Te;var We=E.context,et=u.contextType;W=ei,typeof et=="object"&&et!==null&&(W=Rr(et));var ot=u.getDerivedStateFromProps;et=typeof ot=="function"||typeof E.getSnapshotBeforeUpdate=="function",ie=s.pendingProps!==ie,et||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(ie||We!==W)&&K_(s,E,g,W),re=!1;var $e=s.memoizedState;E.state=$e,je(s,g,E,S),Xe(),We=s.memoizedState,ie||$e!==We||re?(typeof ot=="function"&&(Py(s,u,ot,g),We=s.memoizedState),(Te=re||X_(s,u,Te,g,$e,We,W))?(et||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=We),E.props=g,E.state=We,E.context=W,g=Te):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{E=s.stateNode,ge(a,s),W=s.memoizedProps,et=hc(u,W),E.props=et,ot=s.pendingProps,$e=E.context,We=u.contextType,Te=ei,typeof We=="object"&&We!==null&&(Te=Rr(We)),ie=u.getDerivedStateFromProps,(We=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(W!==ot||$e!==Te)&&K_(s,E,g,Te),re=!1,$e=s.memoizedState,E.state=$e,je(s,g,E,S),Xe();var Ke=s.memoizedState;W!==ot||$e!==Ke||re||a!==null&&a.dependencies!==null&&Nd(a.dependencies)?(typeof ie=="function"&&(Py(s,u,ie,g),Ke=s.memoizedState),(et=re||X_(s,u,et,g,$e,Ke,Te)||a!==null&&a.dependencies!==null&&Nd(a.dependencies))?(We||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,Ke,Te),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,Ke,Te)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||W===a.memoizedProps&&$e===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&$e===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Ke),E.props=g,E.state=Ke,E.context=Te,g=et):(typeof E.componentDidUpdate!="function"||W===a.memoizedProps&&$e===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||W===a.memoizedProps&&$e===a.memoizedState||(s.flags|=1024),g=!1)}return E=g,kp(a,s),g=(s.flags&128)!==0,E||g?(E=s.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,a!==null&&g?(s.child=ce(s,a.child,null,S),s.child=ce(s,null,u,S)):Kr(a,s,u,S),s.memoizedState=E.state,a=s.child):a=ao(a,s,S),a}function dw(a,s,u,g){return Ys(),s.flags|=256,Kr(a,s,u,g),s.child}var Hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function By(a){return{baseLanes:a,cachePool:qo()}}function Vy(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=ni),a}function uw(a,s,u){var g=s.pendingProps,S=!1,E=(s.flags&128)!==0,W;if((W=E)||(W=a!==null&&a.memoizedState===null?!1:(wr.current&2)!==0),W&&(S=!0,s.flags&=-129),W=(s.flags&32)!==0,s.flags&=-33,a===null){if(mn){if(S?fn(s):Bn(),(a=Hn)?(a=vD(a,Br),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ks!==null?{id:Yi,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=up(a),u.return=s,s.child=u,_r=s,Hn=null)):a=null,a===null)throw pa(s);return S0(a)?s.lanes=32:s.lanes=536870912,null}var ie=g.children;return g=g.fallback,S?(Bn(),S=s.mode,ie=jp({mode:"hidden",children:ie},S),g=$s(g,S,u,null),ie.return=s,g.return=s,ie.sibling=g,s.child=ie,g=s.child,g.memoizedState=By(u),g.childLanes=Vy(a,W,u),s.memoizedState=Hy,cf(null,g)):(fn(s),Wy(s,ie))}var Te=a.memoizedState;if(Te!==null&&(ie=Te.dehydrated,ie!==null)){if(E)s.flags&256?(fn(s),s.flags&=-257,s=zy(a,s,u)):s.memoizedState!==null?(Bn(),s.child=a.child,s.flags|=128,s=null):(Bn(),ie=g.fallback,S=s.mode,g=jp({mode:"visible",children:g.children},S),ie=$s(ie,S,u,null),ie.flags|=2,g.return=s,ie.return=s,g.sibling=ie,s.child=g,ce(s,a.child,null,u),g=s.child,g.memoizedState=By(u),g.childLanes=Vy(a,W,u),s.memoizedState=Hy,s=cf(null,g));else if(fn(s),S0(ie)){if(W=ie.nextSibling&&ie.nextSibling.dataset,W)var We=W.dgst;W=We,g=Error(r(419)),g.stack="",g.digest=W,cc({value:g,source:null,stack:null}),s=zy(a,s,u)}else if(Ar||Wo(a,s,u,!1),W=(u&a.childLanes)!==0,Ar||W){if(W=Zn,W!==null&&(g=Ne(W,u),g!==0&&g!==Te.retryLane))throw Te.retryLane=g,hs(a,g),Ra(W,a,g),Fy;D0(ie)||Vp(),s=zy(a,s,u)}else D0(ie)?(s.flags|=192,s.child=a.child,s=null):(a=Te.treeContext,Hn=Di(ie.nextSibling),_r=s,mn=!0,ps=null,Br=!1,a!==null&&hp(s,a),s=Wy(s,g.children),s.flags|=4096);return s}return S?(Bn(),ie=g.fallback,S=s.mode,Te=a.child,We=Te.sibling,g=Hr(Te,{mode:"hidden",children:g.children}),g.subtreeFlags=Te.subtreeFlags&65011712,We!==null?ie=Hr(We,ie):(ie=$s(ie,S,u,null),ie.flags|=2),ie.return=s,g.return=s,g.sibling=ie,s.child=g,cf(null,g),g=s.child,ie=a.child.memoizedState,ie===null?ie=By(u):(S=ie.cachePool,S!==null?(Te=mr._currentValue,S=S.parent!==Te?{parent:Te,pool:Te}:S):S=qo(),ie={baseLanes:ie.baseLanes|u,cachePool:S}),g.memoizedState=ie,g.childLanes=Vy(a,W,u),s.memoizedState=Hy,cf(a.child,g)):(fn(s),u=a.child,a=u.sibling,u=Hr(u,{mode:"visible",children:g.children}),u.return=s,u.sibling=null,a!==null&&(W=s.deletions,W===null?(s.deletions=[a],s.flags|=16):W.push(a)),s.child=u,s.memoizedState=null,u)}function Wy(a,s){return s=jp({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function jp(a,s){return a=ua(22,a,null,s),a.lanes=0,a}function zy(a,s,u){return ce(s,a.child,null,u),a=Wy(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function fw(a,s,u){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),Ed(a.return,s,u)}function $y(a,s,u,g,S,E){var W=a.memoizedState;W===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:S,treeForkCount:E}:(W.isBackwards=s,W.rendering=null,W.renderingStartTime=0,W.last=g,W.tail=u,W.tailMode=S,W.treeForkCount=E)}function hw(a,s,u){var g=s.pendingProps,S=g.revealOrder,E=g.tail;g=g.children;var W=wr.current,ie=(W&2)!==0;if(ie?(W=W&1|2,s.flags|=128):W&=1,J(wr,W),Kr(a,s,g,u),g=mn?Xs:0,!ie&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fw(a,u,s);else if(a.tag===19)fw(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(u=s.child,S=null;u!==null;)a=u.alternate,a!==null&&_p(a)===null&&(S=u),u=u.sibling;u=S,u===null?(S=s.child,s.child=null):(S=u.sibling,u.sibling=null),$y(s,!1,S,u,E,g);break;case"backwards":case"unstable_legacy-backwards":for(u=null,S=s.child,s.child=null;S!==null;){if(a=S.alternate,a!==null&&_p(a)===null){s.child=S;break}a=S.sibling,S.sibling=u,u=S,S=a}$y(s,!0,u,null,E,g);break;case"together":$y(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function ao(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Zo|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(Wo(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Hr(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Hr(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function qy(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Nd(a)))}function O6(a,s,u){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),Zi(s,mr,a.memoizedState.cache),Ys();break;case 27:case 5:at(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ma(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(fn(s),s.flags|=128,null):(u&s.child.childLanes)!==0?uw(a,s,u):(fn(s),a=ao(a,s,u),a!==null?a.sibling:null);fn(s);break;case 19:var S=(a.flags&128)!==0;if(g=(u&s.childLanes)!==0,g||(Wo(a,s,u,!1),g=(u&s.childLanes)!==0),S){if(g)return hw(a,s,u);s.flags|=128}if(S=s.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),J(wr,wr.current),g)break;return null;case 22:return s.lanes=0,iw(a,s,u,s.pendingProps);case 24:Zi(s,mr,a.memoizedState.cache)}return ao(a,s,u)}function pw(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ar=!0;else{if(!qy(a,u)&&(s.flags&128)===0)return Ar=!1,O6(a,s,u);Ar=(a.flags&131072)!==0}else Ar=!1,mn&&(s.flags&1048576)!==0&&lc(s,Xs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(a=eo(s.elementType),s.type=a,typeof a=="function")ht(a)?(g=hc(a,g),s.tag=1,s=cw(null,s,a,g,u)):(s.tag=0,s=Ly(null,s,a,g,u));else{if(a!=null){var S=a.$$typeof;if(S===M){s.tag=11,s=nw(null,s,a,g,u);break e}else if(S===U){s.tag=14,s=rw(null,s,a,g,u);break e}}throw s=k(a)||a,Error(r(306,s,""))}}return s;case 0:return Ly(a,s,s.type,s.pendingProps,u);case 1:return g=s.type,S=hc(g,s.pendingProps),cw(a,s,g,S,u);case 3:e:{if(He(s,s.stateNode.containerInfo),a===null)throw Error(r(387));g=s.pendingProps;var E=s.memoizedState;S=E.element,ge(a,s),je(s,g,null,u);var W=s.memoizedState;if(g=W.cache,Zi(s,mr,g),g!==E.cache&&ef(s,[mr],u,!0),Xe(),g=W.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:W.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=dw(a,s,g,u);break e}else if(g!==S){S=fa(Error(r(424)),s),cc(S),s=dw(a,s,g,u);break e}else for(a=s.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Hn=Di(a.firstChild),_r=s,mn=!0,ps=null,Br=!0,u=K(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ys(),g===S){s=ao(a,s,u);break e}Kr(a,s,g,u)}s=s.child}return s;case 26:return kp(a,s),a===null?(u=CD(s.type,null,s.pendingProps,null))?s.memoizedState=u:mn||(u=s.type,a=s.pendingProps,g=Kp(Oe.current).createElement(u),g[kt]=s,g[Wt]=a,Yr(g,u,a),rr(g),s.stateNode=g):s.memoizedState=CD(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return at(s),a===null&&mn&&(g=s.stateNode=wD(s.type,s.pendingProps,Oe.current),_r=s,Br=!0,S=Hn,nl(s.type)?(C0=S,Hn=Di(g.firstChild)):Hn=S),Kr(a,s,s.pendingProps.children,u),kp(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&mn&&((S=g=Hn)&&(g=f8(g,s.type,s.pendingProps,Br),g!==null?(s.stateNode=g,_r=s,Hn=Di(g.firstChild),Br=!1,S=!0):S=!1),S||pa(s)),at(s),S=s.type,E=s.pendingProps,W=a!==null?a.memoizedProps:null,g=E.children,b0(S,E)?g=null:W!==null&&b0(S,W)&&(s.flags|=32),s.memoizedState!==null&&(S=vy(a,s,E6,null,null,u),Sf._currentValue=S),kp(a,s),Kr(a,s,g,u),s.child;case 6:return a===null&&mn&&((a=u=Hn)&&(u=h8(u,s.pendingProps,Br),u!==null?(s.stateNode=u,_r=s,Hn=null,a=!0):a=!1),a||pa(s)),null;case 13:return uw(a,s,u);case 4:return He(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=ce(s,null,g,u):Kr(a,s,g,u),s.child;case 11:return nw(a,s,s.type,s.pendingProps,u);case 7:return Kr(a,s,s.pendingProps,u),s.child;case 8:return Kr(a,s,s.pendingProps.children,u),s.child;case 12:return Kr(a,s,s.pendingProps.children,u),s.child;case 10:return g=s.pendingProps,Zi(s,s.type,g.value),Kr(a,s,g.children,u),s.child;case 9:return S=s.type._context,g=s.pendingProps.children,gs(s),S=Rr(S),g=g(S),s.flags|=1,Kr(a,s,g,u),s.child;case 14:return rw(a,s,s.type,s.pendingProps,u);case 15:return aw(a,s,s.type,s.pendingProps,u);case 19:return hw(a,s,u);case 31:return P6(a,s,u);case 22:return iw(a,s,u,s.pendingProps);case 24:return gs(s),g=Rr(mr),a===null?(S=rf(),S===null&&(S=Zn,E=tf(),S.pooledCache=E,E.refCount++,E!==null&&(S.pooledCacheLanes|=u),S=E),s.memoizedState={parent:g,cache:S},me(s),Zi(s,mr,S)):((a.lanes&u)!==0&&(ge(a,s),je(s,null,null,u),Xe()),S=a.memoizedState,E=s.memoizedState,S.parent!==g?(S={parent:g,cache:g},s.memoizedState=S,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=S),Zi(s,mr,g)):(g=E.cache,Zi(s,mr,g),g!==S.cache&&ef(s,[mr],u,!0))),Kr(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function io(a){a.flags|=4}function Gy(a,s,u,g,S){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(S&335544128)===S)if(a.stateNode.complete)a.flags|=8192;else if(Bw())a.flags|=8192;else throw to=jd,Ud}else a.flags&=-16777217}function gw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!MD(s))if(Bw())a.flags|=8192;else throw to=jd,Ud}function Rp(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ye():536870912,a.lanes|=s,Hd|=s)}function df(a,s){if(!mn)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function ir(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,g=0;if(s)for(var S=a.child;S!==null;)u|=S.lanes|S.childLanes,g|=S.subtreeFlags&65011712,g|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)u|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=g,a.childLanes=u,s}function I6(a,s,u){var g=s.pendingProps;switch(Td(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(s),null;case 1:return ir(s),null;case 3:return u=s.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),wi(mr),Qe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Vo(s)?io(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qu())),ir(s),null;case 26:var S=s.type,E=s.memoizedState;return a===null?(io(s),E!==null?(ir(s),gw(s,E)):(ir(s),Gy(s,S,null,g,u))):E?E!==a.memoizedState?(io(s),ir(s),gw(s,E)):(ir(s),s.flags&=-16777217):(a=a.memoizedProps,a!==g&&io(s),ir(s),Gy(s,S,a,g,u)),null;case 27:if(Ie(s),u=Oe.current,S=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&io(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return ir(s),null}a=de.current,Vo(s)?pp(s):(a=wD(S,g,u),s.stateNode=a,io(s))}return ir(s),null;case 5:if(Ie(s),S=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&io(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return ir(s),null}if(E=de.current,Vo(s))pp(s);else{var W=Kp(Oe.current);switch(E){case 1:E=W.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:E=W.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":E=W.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":E=W.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":E=W.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?W.createElement("select",{is:g.is}):W.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?W.createElement(S,{is:g.is}):W.createElement(S)}}E[kt]=s,E[Wt]=g;e:for(W=s.child;W!==null;){if(W.tag===5||W.tag===6)E.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===s)break e;for(;W.sibling===null;){if(W.return===null||W.return===s)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}s.stateNode=E;e:switch(Yr(E,S,g),S){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&io(s)}}return ir(s),Gy(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==g&&io(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(a=Oe.current,Vo(s)){if(a=s.stateNode,u=s.memoizedProps,g=null,S=_r,S!==null)switch(S.tag){case 27:case 5:g=S.memoizedProps}a[kt]=s,a=!!(a.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||uD(a.nodeValue,u)),a||pa(s,!0)}else a=Kp(a).createTextNode(g),a[kt]=s,s.stateNode=a}return ir(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(g=Vo(s),u!==null){if(a===null){if(!g)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[kt]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ir(s),a=!1}else u=Qu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Xr(s),s):(Xr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ir(s),null;case 13:if(g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=Vo(s),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[kt]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ir(s),S=!1}else S=Qu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return s.flags&256?(Xr(s),s):(Xr(s),null)}return Xr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=g!==null,a=a!==null&&a.memoizedState!==null,u&&(g=s.child,S=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(S=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==S&&(g.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),Rp(s,s.updateQueue),ir(s),null);case 4:return Qe(),a===null&&g0(s.stateNode.containerInfo),ir(s),null;case 10:return wi(s.type),ir(s),null;case 19:if(te(wr),g=s.memoizedState,g===null)return ir(s),null;if(S=(s.flags&128)!==0,E=g.rendering,E===null)if(S)df(g,!1);else{if(yr!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(E=_p(a),E!==null){for(s.flags|=128,df(g,!1),a=E.updateQueue,s.updateQueue=a,Rp(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)Xi(u,a),u=u.sibling;return J(wr,wr.current&1|2),mn&&aa(s,g.treeForkCount),s.child}a=a.sibling}g.tail!==null&&Y()>Lp&&(s.flags|=128,S=!0,df(g,!1),s.lanes=4194304)}else{if(!S)if(a=_p(E),a!==null){if(s.flags|=128,S=!0,a=a.updateQueue,s.updateQueue=a,Rp(s,a),df(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!mn)return ir(s),null}else 2*Y()-g.renderingStartTime>Lp&&u!==536870912&&(s.flags|=128,S=!0,df(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Y(),a.sibling=null,u=wr.current,J(wr,S?u&1|2:u&1),mn&&aa(s,g.treeForkCount),a):(ir(s),null);case 22:case 23:return Xr(s),It(),g=s.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(u&536870912)!==0&&(s.flags&128)===0&&(ir(s),s.subtreeFlags&6&&(s.flags|=8192)):ir(s),u=s.updateQueue,u!==null&&Rp(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==u&&(s.flags|=2048),a!==null&&te(Qs),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wi(mr),ir(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function F6(a,s){switch(Td(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return wi(mr),Qe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 31:if(s.memoizedState!==null){if(Xr(s),s.alternate===null)throw Error(r(340));Ys()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Xr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ys()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return te(wr),null;case 4:return Qe(),null;case 10:return wi(s.type),null;case 22:case 23:return Xr(s),It(),a!==null&&te(Qs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return wi(mr),null;case 25:return null;default:return null}}function mw(a,s){switch(Td(s),s.tag){case 3:wi(mr),Qe();break;case 26:case 27:case 5:Ie(s);break;case 4:Qe();break;case 31:s.memoizedState!==null&&Xr(s);break;case 13:Xr(s);break;case 19:te(wr);break;case 10:wi(s.type);break;case 22:case 23:Xr(s),It(),a!==null&&te(Qs);break;case 24:wi(mr)}}function uf(a,s){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var S=g.next;u=S;do{if((u.tag&a)===a){g=void 0;var E=u.create,W=u.inst;g=E(),W.destroy=g}u=u.next}while(u!==S)}}catch(ie){Wn(s,s.return,ie)}}function Ko(a,s,u){try{var g=s.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var E=S.next;g=E;do{if((g.tag&a)===a){var W=g.inst,ie=W.destroy;if(ie!==void 0){W.destroy=void 0,S=s;var Te=u,We=ie;try{We()}catch(et){Wn(S,Te,et)}}}g=g.next}while(g!==E)}}catch(et){Wn(s,s.return,et)}}function xw(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{Je(s,u)}catch(g){Wn(a,a.return,g)}}}function yw(a,s,u){u.props=hc(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(g){Wn(a,s,g)}}function ff(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof u=="function"?a.refCleanup=u(g):u.current=g}}catch(S){Wn(a,s,S)}}function xs(a,s){var u=a.ref,g=a.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(S){Wn(a,s,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(S){Wn(a,s,S)}else u.current=null}function vw(a){var s=a.type,u=a.memoizedProps,g=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(S){Wn(a,a.return,S)}}function Xy(a,s,u){try{var g=a.stateNode;s8(g,a.type,u,s),g[Wt]=s}catch(S){Wn(a,a.return,S)}}function bw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&nl(a.type)||a.tag===4}function Ky(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||bw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&nl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yy(a,s,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ta));else if(g!==4&&(g===27&&nl(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(Yy(a,s,u),a=a.sibling;a!==null;)Yy(a,s,u),a=a.sibling}function Pp(a,s,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(g!==4&&(g===27&&nl(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Pp(a,s,u),a=a.sibling;a!==null;)Pp(a,s,u),a=a.sibling}function _w(a){var s=a.stateNode,u=a.memoizedProps;try{for(var g=a.type,S=s.attributes;S.length;)s.removeAttributeNode(S[0]);Yr(s,g,u),s[kt]=a,s[Wt]=u}catch(E){Wn(a,a.return,E)}}var so=!1,Mr=!1,Zy=!1,ww=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function L6(a,s){if(a=a.containerInfo,y0=ng,a=nc(a),rc(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var S=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var W=0,ie=-1,Te=-1,We=0,et=0,ot=a,$e=null;t:for(;;){for(var Ke;ot!==u||S!==0&&ot.nodeType!==3||(ie=W+S),ot!==E||g!==0&&ot.nodeType!==3||(Te=W+g),ot.nodeType===3&&(W+=ot.nodeValue.length),(Ke=ot.firstChild)!==null;)$e=ot,ot=Ke;for(;;){if(ot===a)break t;if($e===u&&++We===S&&(ie=W),$e===E&&++et===g&&(Te=W),(Ke=ot.nextSibling)!==null)break;ot=$e,$e=ot.parentNode}ot=Ke}u=ie===-1||Te===-1?null:{start:ie,end:Te}}else u=null}u=u||{start:0,end:0}}else u=null;for(v0={focusedElem:a,selectionRange:u},ng=!1,Vr=s;Vr!==null;)if(s=Vr,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Vr=a;else for(;Vr!==null;){switch(s=Vr,E=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)S=a[u],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,u=s,S=E.memoizedProps,E=E.memoizedState,g=u.stateNode;try{var Rt=hc(u.type,S);a=g.getSnapshotBeforeUpdate(Rt,E),g.__reactInternalSnapshotBeforeUpdate=a}catch(Yt){Wn(u,u.return,Yt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)w0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":w0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Vr=a;break}Vr=s.return}}function Dw(a,s,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:lo(a,u),g&4&&uf(5,u);break;case 1:if(lo(a,u),g&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(W){Wn(u,u.return,W)}else{var S=hc(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(S,s,a.__reactInternalSnapshotBeforeUpdate)}catch(W){Wn(u,u.return,W)}}g&64&&xw(u),g&512&&ff(u,u.return);break;case 3:if(lo(a,u),g&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Je(a,s)}catch(W){Wn(u,u.return,W)}}break;case 27:s===null&&g&4&&_w(u);case 26:case 5:lo(a,u),s===null&&g&4&&vw(u),g&512&&ff(u,u.return);break;case 12:lo(a,u);break;case 31:lo(a,u),g&4&&Tw(a,u);break;case 13:lo(a,u),g&4&&Ew(a,u),g&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=X6.bind(null,u),p8(a,u))));break;case 22:if(g=u.memoizedState!==null||so,!g){s=s!==null&&s.memoizedState!==null||Mr,S=so;var E=Mr;so=g,(Mr=s)&&!E?co(a,u,(u.subtreeFlags&8772)!==0):lo(a,u),so=S,Mr=E}break;case 30:break;default:lo(a,u)}}function Sw(a){var s=a.alternate;s!==null&&(a.alternate=null,Sw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Pi(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var sr=null,Ma=!1;function oo(a,s,u){for(u=u.child;u!==null;)Cw(a,s,u),u=u.sibling}function Cw(a,s,u){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Me,u)}catch{}switch(u.tag){case 26:Mr||xs(u,s),oo(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Mr||xs(u,s);var g=sr,S=Ma;nl(u.type)&&(sr=u.stateNode,Ma=!1),oo(a,s,u),_f(u.stateNode),sr=g,Ma=S;break;case 5:Mr||xs(u,s);case 6:if(g=sr,S=Ma,sr=null,oo(a,s,u),sr=g,Ma=S,sr!==null)if(Ma)try{(sr.nodeType===9?sr.body:sr.nodeName==="HTML"?sr.ownerDocument.body:sr).removeChild(u.stateNode)}catch(E){Wn(u,s,E)}else try{sr.removeChild(u.stateNode)}catch(E){Wn(u,s,E)}break;case 18:sr!==null&&(Ma?(a=sr,xD(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Xd(a)):xD(sr,u.stateNode));break;case 4:g=sr,S=Ma,sr=u.stateNode.containerInfo,Ma=!0,oo(a,s,u),sr=g,Ma=S;break;case 0:case 11:case 14:case 15:Ko(2,u,s),Mr||Ko(4,u,s),oo(a,s,u);break;case 1:Mr||(xs(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"&&yw(u,s,g)),oo(a,s,u);break;case 21:oo(a,s,u);break;case 22:Mr=(g=Mr)||u.memoizedState!==null,oo(a,s,u),Mr=g;break;default:oo(a,s,u)}}function Tw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Xd(a)}catch(u){Wn(s,s.return,u)}}}function Ew(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Xd(a)}catch(u){Wn(s,s.return,u)}}function H6(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new ww),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new ww),s;default:throw Error(r(435,a.tag))}}function Op(a,s){var u=H6(a);s.forEach(function(g){if(!u.has(g)){u.add(g);var S=K6.bind(null,a,g);g.then(S,S)}})}function Ua(a,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var S=u[g],E=a,W=s,ie=W;e:for(;ie!==null;){switch(ie.tag){case 27:if(nl(ie.type)){sr=ie.stateNode,Ma=!1;break e}break;case 5:sr=ie.stateNode,Ma=!1;break e;case 3:case 4:sr=ie.stateNode.containerInfo,Ma=!0;break e}ie=ie.return}if(sr===null)throw Error(r(160));Cw(E,W,S),sr=null,Ma=!1,E=S.alternate,E!==null&&(E.return=null),S.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Nw(s,a),s=s.sibling}var Qi=null;function Nw(a,s){var u=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ua(s,a),ka(a),g&4&&(Ko(3,a,a.return),uf(3,a),Ko(5,a,a.return));break;case 1:Ua(s,a),ka(a),g&512&&(Mr||u===null||xs(u,u.return)),g&64&&so&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var S=Qi;if(Ua(s,a),ka(a),g&512&&(Mr||u===null||xs(u,u.return)),g&4){var E=u!==null?u.memoizedState:null;if(g=a.memoizedState,u===null)if(g===null)if(a.stateNode===null){e:{g=a.type,u=a.memoizedProps,S=S.ownerDocument||S;t:switch(g){case"title":E=S.getElementsByTagName("title")[0],(!E||E[Qr]||E[kt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=S.createElement(g),S.head.insertBefore(E,S.querySelector("head > title"))),Yr(E,g,u),E[kt]=a,rr(E),g=E;break e;case"link":var W=ND("link","href",S).get(g+(u.href||""));if(W){for(var ie=0;ie<W.length;ie++)if(E=W[ie],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){W.splice(ie,1);break t}}E=S.createElement(g),Yr(E,g,u),S.head.appendChild(E);break;case"meta":if(W=ND("meta","content",S).get(g+(u.content||""))){for(ie=0;ie<W.length;ie++)if(E=W[ie],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){W.splice(ie,1);break t}}E=S.createElement(g),Yr(E,g,u),S.head.appendChild(E);break;default:throw Error(r(468,g))}E[kt]=a,rr(E),g=E}a.stateNode=g}else AD(S,a.type,a.stateNode);else a.stateNode=ED(S,g,a.memoizedProps);else E!==g?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,g===null?AD(S,a.type,a.stateNode):ED(S,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Xy(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ua(s,a),ka(a),g&512&&(Mr||u===null||xs(u,u.return)),u!==null&&g&4&&Xy(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ua(s,a),ka(a),g&512&&(Mr||u===null||xs(u,u.return)),a.flags&32){S=a.stateNode;try{Rs(S,"")}catch(Rt){Wn(a,a.return,Rt)}}g&4&&a.stateNode!=null&&(S=a.memoizedProps,Xy(a,S,u!==null?u.memoizedProps:S)),g&1024&&(Zy=!0);break;case 6:if(Ua(s,a),ka(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,u=a.stateNode;try{u.nodeValue=g}catch(Rt){Wn(a,a.return,Rt)}}break;case 3:if(Qp=null,S=Qi,Qi=Yp(s.containerInfo),Ua(s,a),Qi=S,ka(a),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Xd(s.containerInfo)}catch(Rt){Wn(a,a.return,Rt)}Zy&&(Zy=!1,Aw(a));break;case 4:g=Qi,Qi=Yp(a.stateNode.containerInfo),Ua(s,a),ka(a),Qi=g;break;case 12:Ua(s,a),ka(a);break;case 31:Ua(s,a),ka(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Op(a,g)));break;case 13:Ua(s,a),ka(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Fp=Y()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Op(a,g)));break;case 22:S=a.memoizedState!==null;var Te=u!==null&&u.memoizedState!==null,We=so,et=Mr;if(so=We||S,Mr=et||Te,Ua(s,a),Mr=et,so=We,ka(a),g&8192)e:for(s=a.stateNode,s._visibility=S?s._visibility&-2:s._visibility|1,S&&(u===null||Te||so||Mr||pc(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){Te=u=s;try{if(E=Te.stateNode,S)W=E.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ie=Te.stateNode;var ot=Te.memoizedProps.style,$e=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;ie.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(Rt){Wn(Te,Te.return,Rt)}}}else if(s.tag===6){if(u===null){Te=s;try{Te.stateNode.nodeValue=S?"":Te.memoizedProps}catch(Rt){Wn(Te,Te.return,Rt)}}}else if(s.tag===18){if(u===null){Te=s;try{var Ke=Te.stateNode;S?yD(Ke,!0):yD(Te.stateNode,!1)}catch(Rt){Wn(Te,Te.return,Rt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=a.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Op(a,u))));break;case 19:Ua(s,a),ka(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Op(a,g)));break;case 30:break;case 21:break;default:Ua(s,a),ka(a)}}function ka(a){var s=a.flags;if(s&2){try{for(var u,g=a.return;g!==null;){if(bw(g)){u=g;break}g=g.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var S=u.stateNode,E=Ky(a);Pp(a,E,S);break;case 5:var W=u.stateNode;u.flags&32&&(Rs(W,""),u.flags&=-33);var ie=Ky(a);Pp(a,ie,W);break;case 3:case 4:var Te=u.stateNode.containerInfo,We=Ky(a);Yy(a,We,Te);break;default:throw Error(r(161))}}catch(et){Wn(a,a.return,et)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Aw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Aw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function lo(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dw(a,s.alternate,s),s=s.sibling}function pc(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ko(4,s,s.return),pc(s);break;case 1:xs(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&yw(s,s.return,u),pc(s);break;case 27:_f(s.stateNode);case 26:case 5:xs(s,s.return),pc(s);break;case 22:s.memoizedState===null&&pc(s);break;case 30:pc(s);break;default:pc(s)}a=a.sibling}}function co(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,S=a,E=s,W=E.flags;switch(E.tag){case 0:case 11:case 15:co(S,E,u),uf(4,E);break;case 1:if(co(S,E,u),g=E,S=g.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(We){Wn(g,g.return,We)}if(g=E,S=g.updateQueue,S!==null){var ie=g.stateNode;try{var Te=S.shared.hiddenCallbacks;if(Te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Te.length;S++)De(Te[S],ie)}catch(We){Wn(g,g.return,We)}}u&&W&64&&xw(E),ff(E,E.return);break;case 27:_w(E);case 26:case 5:co(S,E,u),u&&g===null&&W&4&&vw(E),ff(E,E.return);break;case 12:co(S,E,u);break;case 31:co(S,E,u),u&&W&4&&Tw(S,E);break;case 13:co(S,E,u),u&&W&4&&Ew(S,E);break;case 22:E.memoizedState===null&&co(S,E,u),ff(E,E.return);break;case 30:break;default:co(S,E,u)}s=s.sibling}}function Qy(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&dc(u))}function Jy(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&dc(a))}function Ji(a,s,u,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mw(a,s,u,g),s=s.sibling}function Mw(a,s,u,g){var S=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(a,s,u,g),S&2048&&uf(9,s);break;case 1:Ji(a,s,u,g);break;case 3:Ji(a,s,u,g),S&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&dc(a)));break;case 12:if(S&2048){Ji(a,s,u,g),a=s.stateNode;try{var E=s.memoizedProps,W=E.id,ie=E.onPostCommit;typeof ie=="function"&&ie(W,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Te){Wn(s,s.return,Te)}}else Ji(a,s,u,g);break;case 31:Ji(a,s,u,g);break;case 13:Ji(a,s,u,g);break;case 23:break;case 22:E=s.stateNode,W=s.alternate,s.memoizedState!==null?E._visibility&2?Ji(a,s,u,g):hf(a,s):E._visibility&2?Ji(a,s,u,g):(E._visibility|=2,Id(a,s,u,g,(s.subtreeFlags&10256)!==0||!1)),S&2048&&Qy(W,s);break;case 24:Ji(a,s,u,g),S&2048&&Jy(s.alternate,s);break;default:Ji(a,s,u,g)}}function Id(a,s,u,g,S){for(S=S&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var E=a,W=s,ie=u,Te=g,We=W.flags;switch(W.tag){case 0:case 11:case 15:Id(E,W,ie,Te,S),uf(8,W);break;case 23:break;case 22:var et=W.stateNode;W.memoizedState!==null?et._visibility&2?Id(E,W,ie,Te,S):hf(E,W):(et._visibility|=2,Id(E,W,ie,Te,S)),S&&We&2048&&Qy(W.alternate,W);break;case 24:Id(E,W,ie,Te,S),S&&We&2048&&Jy(W.alternate,W);break;default:Id(E,W,ie,Te,S)}s=s.sibling}}function hf(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,g=s,S=g.flags;switch(g.tag){case 22:hf(u,g),S&2048&&Qy(g.alternate,g);break;case 24:hf(u,g),S&2048&&Jy(g.alternate,g);break;default:hf(u,g)}s=s.sibling}}var pf=8192;function Fd(a,s,u){if(a.subtreeFlags&pf)for(a=a.child;a!==null;)Uw(a,s,u),a=a.sibling}function Uw(a,s,u){switch(a.tag){case 26:Fd(a,s,u),a.flags&pf&&a.memoizedState!==null&&T8(u,Qi,a.memoizedState,a.memoizedProps);break;case 5:Fd(a,s,u);break;case 3:case 4:var g=Qi;Qi=Yp(a.stateNode.containerInfo),Fd(a,s,u),Qi=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=pf,pf=16777216,Fd(a,s,u),pf=g):Fd(a,s,u));break;default:Fd(a,s,u)}}function kw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function gf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];Vr=g,Rw(g,a)}kw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jw(a),a=a.sibling}function jw(a){switch(a.tag){case 0:case 11:case 15:gf(a),a.flags&2048&&Ko(9,a,a.return);break;case 3:gf(a);break;case 12:gf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Ip(a)):gf(a);break;default:gf(a)}}function Ip(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];Vr=g,Rw(g,a)}kw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ko(8,s,s.return),Ip(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Ip(s));break;default:Ip(s)}a=a.sibling}}function Rw(a,s){for(;Vr!==null;){var u=Vr;switch(u.tag){case 0:case 11:case 15:Ko(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dc(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,Vr=g;else e:for(u=a;Vr!==null;){g=Vr;var S=g.sibling,E=g.return;if(Sw(g),g===u){Vr=null;break e}if(S!==null){S.return=E,Vr=S;break e}Vr=E}}}var B6={getCacheForType:function(a){var s=Rr(mr),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return Rr(mr).controller.signal}},V6=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Zn=null,xn=null,vn=0,Vn=0,ti=null,Yo=!1,Ld=!1,e0=!1,uo=0,yr=0,Zo=0,gc=0,t0=0,ni=0,Hd=0,mf=null,ja=null,n0=!1,Fp=0,Pw=0,Lp=1/0,Hp=null,Qo=null,Pr=0,Jo=null,Bd=null,fo=0,r0=0,a0=null,Ow=null,xf=0,i0=null;function ri(){return(Rn&2)!==0&&vn!==0?vn&-vn:H.T!==null?u0():qt()}function Iw(){if(ni===0)if((vn&536870912)===0||mn){var a=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),ni=a}else ni=536870912;return a=Mt.current,a!==null&&(a.flags|=32),ni}function Ra(a,s,u){(a===Zn&&(Vn===2||Vn===9)||a.cancelPendingCommit!==null)&&(Vd(a,0),el(a,vn,ni,!1)),wt(a,u),((Rn&2)===0||a!==Zn)&&(a===Zn&&((Rn&2)===0&&(gc|=u),yr===4&&el(a,vn,ni,!1)),ys(a))}function Fw(a,s,u){if((Rn&6)!==0)throw Error(r(327));var g=!u&&(s&127)===0&&(s&a.expiredLanes)===0||pe(a,s),S=g?$6(a,s):o0(a,s,!0),E=g;do{if(S===0){Ld&&!g&&el(a,s,0,!1);break}else{if(u=a.current.alternate,E&&!W6(u)){S=o0(a,s,!1),E=!1;continue}if(S===2){if(E=s,a.errorRecoveryDisabledLanes&E)var W=0;else W=a.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){s=W;e:{var ie=a;S=mf;var Te=ie.current.memoizedState.isDehydrated;if(Te&&(Vd(ie,W).flags|=256),W=o0(ie,W,!1),W!==2){if(e0&&!Te){ie.errorRecoveryDisabledLanes|=E,gc|=E,S=4;break e}E=ja,ja=S,E!==null&&(ja===null?ja=E:ja.push.apply(ja,E))}S=W}if(E=!1,S!==2)continue}}if(S===1){Vd(a,0),el(a,s,0,!0);break}e:{switch(g=a,E=S,E){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:el(g,s,ni,!Yo);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(S=Fp+300-Y(),10<S)){if(el(g,s,ni,!Yo),X(g,0,!0)!==0)break e;fo=s,g.timeoutHandle=gD(Lw.bind(null,g,u,ja,Hp,n0,s,ni,gc,Hd,Yo,E,"Throttled",-0,0),S);break e}Lw(g,u,ja,Hp,n0,s,ni,gc,Hd,Yo,E,null,-0,0)}}break}while(!0);ys(a)}function Lw(a,s,u,g,S,E,W,ie,Te,We,et,ot,$e,Ke){if(a.timeoutHandle=-1,ot=s.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},Uw(s,E,ot);var Rt=(E&62914560)===E?Fp-Y():(E&4194048)===E?Pw-Y():0;if(Rt=E8(ot,Rt),Rt!==null){fo=E,a.cancelPendingCommit=Rt(Gw.bind(null,a,s,E,u,g,S,W,ie,Te,et,ot,null,$e,Ke)),el(a,E,W,!We);return}}Gw(a,s,E,u,g,S,W,ie,Te)}function W6(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var S=u[g],E=S.getSnapshot;S=S.value;try{if(!Er(E(),S))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function el(a,s,u,g){s&=~t0,s&=~gc,a.suspendedLanes|=s,a.pingedLanes&=~s,g&&(a.warmLanes|=s),g=a.expirationTimes;for(var S=s;0<S;){var E=31-gt(S),W=1<<E;g[E]=-1,S&=~W}u!==0&&pn(a,u,s)}function Bp(){return(Rn&6)===0?(yf(0),!1):!0}function s0(){if(xn!==null){if(Vn===0)var a=xn.return;else a=xn,_i=Zs=null,wy(a),Xo=null,T=0,a=xn;for(;a!==null;)mw(a.alternate,a),a=a.return;xn=null}}function Vd(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,c8(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),fo=0,s0(),Zn=a,xn=u=Hr(a.current,null),vn=s,Vn=0,ti=null,Yo=!1,Ld=pe(a,s),e0=!1,Hd=ni=t0=gc=Zo=yr=0,ja=mf=null,n0=!1,(s&8)!==0&&(s|=s&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=s;0<g;){var S=31-gt(g),E=1<<S;s|=a[S],g&=~E}return uo=s,Qa(),u}function Hw(a,s){cn=null,H.H=lf,s===Go||s===kd?(s=bp(),Vn=3):s===Ud?(s=bp(),Vn=4):Vn=s===Fy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ti=s,xn===null&&(yr=1,Mp(a,fa(s,a.current)))}function Bw(){var a=Mt.current;return a===null?!0:(vn&4194048)===vn?Dt===null:(vn&62914560)===vn||(vn&536870912)!==0?a===Dt:!1}function Vw(){var a=H.H;return H.H=lf,a===null?lf:a}function Ww(){var a=H.A;return H.A=B6,a}function Vp(){yr=4,Yo||(vn&4194048)!==vn&&Mt.current!==null||(Ld=!0),(Zo&134217727)===0&&(gc&134217727)===0||Zn===null||el(Zn,vn,ni,!1)}function o0(a,s,u){var g=Rn;Rn|=2;var S=Vw(),E=Ww();(Zn!==a||vn!==s)&&(Hp=null,Vd(a,s)),s=!1;var W=yr;e:do try{if(Vn!==0&&xn!==null){var ie=xn,Te=ti;switch(Vn){case 8:s0(),W=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(s=!0);var We=Vn;if(Vn=0,ti=null,Wd(a,ie,Te,We),u&&Ld){W=0;break e}break;default:We=Vn,Vn=0,ti=null,Wd(a,ie,Te,We)}}z6(),W=yr;break}catch(et){Hw(a,et)}while(!0);return s&&a.shellSuspendCounter++,_i=Zs=null,Rn=g,H.H=S,H.A=E,xn===null&&(Zn=null,vn=0,Qa()),W}function z6(){for(;xn!==null;)zw(xn)}function $6(a,s){var u=Rn;Rn|=2;var g=Vw(),S=Ww();Zn!==a||vn!==s?(Hp=null,Lp=Y()+500,Vd(a,s)):Ld=pe(a,s);e:do try{if(Vn!==0&&xn!==null){s=xn;var E=ti;t:switch(Vn){case 1:Vn=0,ti=null,Wd(a,s,E,1);break;case 2:case 9:if(yp(E)){Vn=0,ti=null,$w(s);break}s=function(){Vn!==2&&Vn!==9||Zn!==a||(Vn=7),ys(a)},E.then(s,s);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:yp(E)?(Vn=0,ti=null,$w(s)):(Vn=0,ti=null,Wd(a,s,E,7));break;case 5:var W=null;switch(xn.tag){case 26:W=xn.memoizedState;case 5:case 27:var ie=xn;if(W?MD(W):ie.stateNode.complete){Vn=0,ti=null;var Te=ie.sibling;if(Te!==null)xn=Te;else{var We=ie.return;We!==null?(xn=We,Wp(We)):xn=null}break t}}Vn=0,ti=null,Wd(a,s,E,5);break;case 6:Vn=0,ti=null,Wd(a,s,E,6);break;case 8:s0(),yr=6;break e;default:throw Error(r(462))}}q6();break}catch(et){Hw(a,et)}while(!0);return _i=Zs=null,H.H=g,H.A=S,Rn=u,xn!==null?0:(Zn=null,vn=0,Qa(),yr)}function q6(){for(;xn!==null&&!Se();)zw(xn)}function zw(a){var s=pw(a.alternate,a,uo);a.memoizedProps=a.pendingProps,s===null?Wp(a):xn=s}function $w(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=lw(u,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=lw(u,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:wy(s);default:mw(u,s),s=xn=Xi(s,uo),s=pw(u,s,uo)}a.memoizedProps=a.pendingProps,s===null?Wp(a):xn=s}function Wd(a,s,u,g){_i=Zs=null,wy(s),Xo=null,T=0;var S=s.return;try{if(R6(a,S,s,u,vn)){yr=1,Mp(a,fa(u,a.current)),xn=null;return}}catch(E){if(S!==null)throw xn=S,E;yr=1,Mp(a,fa(u,a.current)),xn=null;return}s.flags&32768?(mn||g===1?a=!0:Ld||(vn&536870912)!==0?a=!1:(Yo=a=!0,(g===2||g===9||g===3||g===6)&&(g=Mt.current,g!==null&&g.tag===13&&(g.flags|=16384))),qw(s,a)):Wp(s)}function Wp(a){var s=a;do{if((s.flags&32768)!==0){qw(s,Yo);return}a=s.return;var u=I6(s.alternate,s,uo);if(u!==null){xn=u;return}if(s=s.sibling,s!==null){xn=s;return}xn=s=a}while(s!==null);yr===0&&(yr=5)}function qw(a,s){do{var u=F6(a.alternate,a);if(u!==null){u.flags&=32767,xn=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){xn=a;return}xn=a=u}while(a!==null);yr=6,xn=null}function Gw(a,s,u,g,S,E,W,ie,Te){a.cancelPendingCommit=null;do zp();while(Pr!==0);if((Rn&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(E=s.lanes|s.childLanes,E|=sc,Zt(a,u,E,W,ie,Te),a===Zn&&(xn=Zn=null,vn=0),Bd=s,Jo=a,fo=u,r0=E,a0=S,Ow=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Y6(vt,function(){return Qw(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=H.T,H.T=null,S=G.p,G.p=2,W=Rn,Rn|=4;try{L6(a,s,u)}finally{Rn=W,G.p=S,H.T=g}}Pr=1,Xw(),Kw(),Yw()}}function Xw(){if(Pr===1){Pr=0;var a=Jo,s=Bd,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var g=G.p;G.p=2;var S=Rn;Rn|=4;try{Nw(s,a);var E=v0,W=nc(a.containerInfo),ie=E.focusedElem,Te=E.selectionRange;if(W!==ie&&ie&&ie.ownerDocument&&qu(ie.ownerDocument.documentElement,ie)){if(Te!==null&&rc(ie)){var We=Te.start,et=Te.end;if(et===void 0&&(et=We),"selectionStart"in ie)ie.selectionStart=We,ie.selectionEnd=Math.min(et,ie.value.length);else{var ot=ie.ownerDocument||document,$e=ot&&ot.defaultView||window;if($e.getSelection){var Ke=$e.getSelection(),Rt=ie.textContent.length,Yt=Math.min(Te.start,Rt),Xn=Te.end===void 0?Yt:Math.min(Te.end,Rt);!Ke.extend&&Yt>Xn&&(W=Xn,Xn=Yt,Yt=W);var Pe=bd(ie,Yt),Ue=bd(ie,Xn);if(Pe&&Ue&&(Ke.rangeCount!==1||Ke.anchorNode!==Pe.node||Ke.anchorOffset!==Pe.offset||Ke.focusNode!==Ue.node||Ke.focusOffset!==Ue.offset)){var Ve=ot.createRange();Ve.setStart(Pe.node,Pe.offset),Ke.removeAllRanges(),Yt>Xn?(Ke.addRange(Ve),Ke.extend(Ue.node,Ue.offset)):(Ve.setEnd(Ue.node,Ue.offset),Ke.addRange(Ve))}}}}for(ot=[],Ke=ie;Ke=Ke.parentNode;)Ke.nodeType===1&&ot.push({element:Ke,left:Ke.scrollLeft,top:Ke.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<ot.length;ie++){var it=ot[ie];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}ng=!!y0,v0=y0=null}finally{Rn=S,G.p=g,H.T=u}}a.current=s,Pr=2}}function Kw(){if(Pr===2){Pr=0;var a=Jo,s=Bd,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var g=G.p;G.p=2;var S=Rn;Rn|=4;try{Dw(a,s.alternate,s)}finally{Rn=S,G.p=g,H.T=u}}Pr=3}}function Yw(){if(Pr===4||Pr===3){Pr=0,oe();var a=Jo,s=Bd,u=fo,g=Ow;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pr=5:(Pr=0,Bd=Jo=null,Zw(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(Qo=null),st(u),s=s.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Me,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=H.T,S=G.p,G.p=2,H.T=null;try{for(var E=a.onRecoverableError,W=0;W<g.length;W++){var ie=g[W];E(ie.value,{componentStack:ie.stack})}}finally{H.T=s,G.p=S}}(fo&3)!==0&&zp(),ys(a),S=a.pendingLanes,(u&261930)!==0&&(S&42)!==0?a===i0?xf++:(xf=0,i0=a):xf=0,yf(0)}}function Zw(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,dc(s)))}function zp(){return Xw(),Kw(),Yw(),Qw()}function Qw(){if(Pr!==5)return!1;var a=Jo,s=r0;r0=0;var u=st(fo),g=H.T,S=G.p;try{G.p=32>u?32:u,H.T=null,u=a0,a0=null;var E=Jo,W=fo;if(Pr=0,Bd=Jo=null,fo=0,(Rn&6)!==0)throw Error(r(331));var ie=Rn;if(Rn|=4,jw(E.current),Mw(E,E.current,W,u),Rn=ie,yf(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Me,E)}catch{}return!0}finally{G.p=S,H.T=g,Zw(a,s)}}function Jw(a,s,u){s=fa(u,s),s=Iy(a.stateNode,s,2),a=ue(a,s,2),a!==null&&(wt(a,2),ys(a))}function Wn(a,s,u){if(a.tag===3)Jw(a,a,u);else for(;s!==null;){if(s.tag===3){Jw(s,a,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Qo===null||!Qo.has(g))){a=fa(u,a),u=ew(2),g=ue(s,u,2),g!==null&&(tw(u,g,s,a),wt(g,2),ys(g));break}}s=s.return}}function l0(a,s,u){var g=a.pingCache;if(g===null){g=a.pingCache=new V6;var S=new Set;g.set(s,S)}else S=g.get(s),S===void 0&&(S=new Set,g.set(s,S));S.has(u)||(e0=!0,S.add(u),a=G6.bind(null,a,s,u),s.then(a,a))}function G6(a,s,u){var g=a.pingCache;g!==null&&g.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Zn===a&&(vn&u)===u&&(yr===4||yr===3&&(vn&62914560)===vn&&300>Y()-Fp?(Rn&2)===0&&Vd(a,0):t0|=u,Hd===vn&&(Hd=0)),ys(a)}function eD(a,s){s===0&&(s=Ye()),a=hs(a,s),a!==null&&(wt(a,s),ys(a))}function X6(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),eD(a,u)}function K6(a,s){var u=0;switch(a.tag){case 31:case 13:var g=a.stateNode,S=a.memoizedState;S!==null&&(u=S.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(s),eD(a,u)}function Y6(a,s){return Le(a,s)}var $p=null,zd=null,c0=!1,qp=!1,d0=!1,tl=0;function ys(a){a!==zd&&a.next===null&&(zd===null?$p=zd=a:zd=zd.next=a),qp=!0,c0||(c0=!0,Q6())}function yf(a,s){if(!d0&&qp){d0=!0;do for(var u=!1,g=$p;g!==null;){if(a!==0){var S=g.pendingLanes;if(S===0)var E=0;else{var W=g.suspendedLanes,ie=g.pingedLanes;E=(1<<31-gt(42|a)+1)-1,E&=S&~(W&~ie),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,aD(g,E))}else E=vn,E=X(g,g===Zn?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||pe(g,E)||(u=!0,aD(g,E));g=g.next}while(u);d0=!1}}function Z6(){tD()}function tD(){qp=c0=!1;var a=0;tl!==0&&l8()&&(a=tl);for(var s=Y(),u=null,g=$p;g!==null;){var S=g.next,E=nD(g,s);E===0?(g.next=null,u===null?$p=S:u.next=S,S===null&&(zd=u)):(u=g,(a!==0||(E&3)!==0)&&(qp=!0)),g=S}Pr!==0&&Pr!==5||yf(a),tl!==0&&(tl=0)}function nD(a,s){for(var u=a.suspendedLanes,g=a.pingedLanes,S=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var W=31-gt(E),ie=1<<W,Te=S[W];Te===-1?((ie&u)===0||(ie&g)!==0)&&(S[W]=Re(ie,s)):Te<=s&&(a.expiredLanes|=ie),E&=~ie}if(s=Zn,u=vn,u=X(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,u===0||a===s&&(Vn===2||Vn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&qe(g),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||pe(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(g!==null&&qe(g),st(u)){case 2:case 8:u=lt;break;case 32:u=vt;break;case 268435456:u=yt;break;default:u=vt}return g=rD.bind(null,a),u=Le(u,g),a.callbackPriority=s,a.callbackNode=u,s}return g!==null&&g!==null&&qe(g),a.callbackPriority=2,a.callbackNode=null,2}function rD(a,s){if(Pr!==0&&Pr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(zp()&&a.callbackNode!==u)return null;var g=vn;return g=X(a,a===Zn?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Fw(a,g,s),nD(a,Y()),a.callbackNode!=null&&a.callbackNode===u?rD.bind(null,a):null)}function aD(a,s){if(zp())return null;Fw(a,s,!0)}function Q6(){d8(function(){(Rn&6)!==0?Le(Fe,Z6):tD()})}function u0(){if(tl===0){var a=zo;a===0&&(a=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),tl=a}return tl}function iD(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ld(""+a)}function sD(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function J6(a,s,u,g,S){if(s==="submit"&&u&&u.stateNode===S){var E=iD((S[Wt]||null).action),W=g.submitter;W&&(s=(s=W[Wt]||null)?iD(s.formAction):W.getAttribute("formAction"),s!==null&&(E=s,W=null));var ie=new ea("action","action",null,g,S);a.push({event:ie,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(tl!==0){var Te=W?sD(S,W):new FormData(S);Uy(u,{pending:!0,data:Te,method:S.method,action:E},null,Te)}}else typeof E=="function"&&(ie.preventDefault(),Te=W?sD(S,W):new FormData(S),Uy(u,{pending:!0,data:Te,method:S.method,action:E},E,Te))},currentTarget:S}]})}}for(var f0=0;f0<ic.length;f0++){var h0=ic[f0],e8=h0.toLowerCase(),t8=h0[0].toUpperCase()+h0.slice(1);Za(e8,"on"+t8)}Za(Gu,"onAnimationEnd"),Za(cp,"onAnimationIteration"),Za(dp,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(fy,"onTransitionRun"),Za(Xu,"onTransitionStart"),Za(Sd,"onTransitionCancel"),Za(Ya,"onTransitionEnd"),ko("onMouseEnter",["mouseout","mouseover"]),ko("onMouseLeave",["mouseout","mouseover"]),ko("onPointerEnter",["pointerout","pointerover"]),ko("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function oD(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var g=a[u],S=g.event;g=g.listeners;e:{var E=void 0;if(s)for(var W=g.length-1;0<=W;W--){var ie=g[W],Te=ie.instance,We=ie.currentTarget;if(ie=ie.listener,Te!==E&&S.isPropagationStopped())break e;E=ie,S.currentTarget=We;try{E(S)}catch(et){zs(et)}S.currentTarget=null,E=Te}else for(W=0;W<g.length;W++){if(ie=g[W],Te=ie.instance,We=ie.currentTarget,ie=ie.listener,Te!==E&&S.isPropagationStopped())break e;E=ie,S.currentTarget=We;try{E(S)}catch(et){zs(et)}S.currentTarget=null,E=Te}}}}function yn(a,s){var u=s[Sn];u===void 0&&(u=s[Sn]=new Set);var g=a+"__bubble";u.has(g)||(lD(s,a,2,!1),u.add(g))}function p0(a,s,u){var g=0;s&&(g|=4),lD(u,a,g,s)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function g0(a){if(!a[Gp]){a[Gp]=!0,rd.forEach(function(u){u!=="selectionchange"&&(n8.has(u)||p0(u,!1,a),p0(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Gp]||(s[Gp]=!0,p0("selectionchange",!1,s))}}function lD(a,s,u,g){switch(ID(s)){case 2:var S=M8;break;case 8:S=U8;break;default:S=M0}u=S.bind(null,s,u,a),S=void 0,!Os||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(S=!0),g?S!==void 0?a.addEventListener(s,u,{capture:!0,passive:S}):a.addEventListener(s,u,!0):S!==void 0?a.addEventListener(s,u,{passive:S}):a.addEventListener(s,u,!1)}function m0(a,s,u,g,S){var E=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var W=g.tag;if(W===3||W===4){var ie=g.stateNode.containerInfo;if(ie===S)break;if(W===4)for(W=g.return;W!==null;){var Te=W.tag;if((Te===3||Te===4)&&W.stateNode.containerInfo===S)return;W=W.return}for(;ie!==null;){if(W=Ca(ie),W===null)return;if(Te=W.tag,Te===5||Te===6||Te===26||Te===27){g=E=W;continue e}ie=ie.parentNode}}g=g.return}Po(function(){var We=E,et=ql(u),ot=[];e:{var $e=Ws.get(a);if($e!==void 0){var Ke=ea,Rt=a;switch(a){case"keypress":if(Jr(u)===0)break e;case"keydown":case"keyup":Ke=Bu;break;case"focusin":Rt="focus",Ke=Io;break;case"focusout":Rt="blur",Ke=Io;break;case"beforeblur":case"afterblur":Ke=Io;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=Tr;break;case Gu:case cp:case dp:Ke=dd;break;case Ya:Ke=cr;break;case"scroll":case"scrollend":Ke=Is;break;case"wheel":Ke=pd;break;case"copy":case"cut":case"paste":Ke=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=fd;break;case"toggle":case"beforetoggle":Ke=dy}var Yt=(s&4)!==0,Xn=!Yt&&(a==="scroll"||a==="scrollend"),Pe=Yt?$e!==null?$e+"Capture":null:$e;Yt=[];for(var Ue=We,Ve;Ue!==null;){var it=Ue;if(Ve=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Ve===null||Pe===null||(it=Gl(Ue,Pe),it!=null&&Yt.push(bf(Ue,it,Ve))),Xn)break;Ue=Ue.return}0<Yt.length&&($e=new Ke($e,Rt,null,u,et),ot.push({event:$e,listeners:Yt}))}}if((s&7)===0){e:{if($e=a==="mouseover"||a==="pointerover",Ke=a==="mouseout"||a==="pointerout",$e&&u!==$l&&(Rt=u.relatedTarget||u.fromElement)&&(Ca(Rt)||Rt[ln]))break e;if((Ke||$e)&&($e=et.window===et?et:($e=et.ownerDocument)?$e.defaultView||$e.parentWindow:window,Ke?(Rt=u.relatedTarget||u.toElement,Ke=We,Rt=Rt?Ca(Rt):null,Rt!==null&&(Xn=o(Rt),Yt=Rt.tag,Rt!==Xn||Yt!==5&&Yt!==27&&Yt!==6)&&(Rt=null)):(Ke=null,Rt=We),Ke!==Rt)){if(Yt=Ls,it="onMouseLeave",Pe="onMouseEnter",Ue="mouse",(a==="pointerout"||a==="pointerover")&&(Yt=fd,it="onPointerLeave",Pe="onPointerEnter",Ue="pointer"),Xn=Ke==null?$e:Oi(Ke),Ve=Rt==null?$e:Oi(Rt),$e=new Yt(it,Ue+"leave",Ke,u,et),$e.target=Xn,$e.relatedTarget=Ve,it=null,Ca(et)===We&&(Yt=new Yt(Pe,Ue+"enter",Rt,u,et),Yt.target=Ve,Yt.relatedTarget=Xn,it=Yt),Xn=it,Ke&&Rt)t:{for(Yt=r8,Pe=Ke,Ue=Rt,Ve=0,it=Pe;it;it=Yt(it))Ve++;it=0;for(var zt=Ue;zt;zt=Yt(zt))it++;for(;0<Ve-it;)Pe=Yt(Pe),Ve--;for(;0<it-Ve;)Ue=Yt(Ue),it--;for(;Ve--;){if(Pe===Ue||Ue!==null&&Pe===Ue.alternate){Yt=Pe;break t}Pe=Yt(Pe),Ue=Yt(Ue)}Yt=null}else Yt=null;Ke!==null&&cD(ot,$e,Ke,Yt,!1),Rt!==null&&Xn!==null&&cD(ot,Xn,Rt,Yt,!0)}}e:{if($e=We?Oi(We):window,Ke=$e.nodeName&&$e.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&$e.type==="file")var An=zu;else if(ap($e))if(ip)An=op;else{An=uy;var Ht=sp}else Ke=$e.nodeName,!Ke||Ke.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?We&&Ro(We.elementType)&&(An=zu):An=$u;if(An&&(An=An(a,We))){md(ot,An,u,et);break e}Ht&&Ht(a,$e,We),a==="focusout"&&We&&$e.type==="number"&&We.memoizedProps.value!=null&&zl($e,"number",$e.value)}switch(Ht=We?Oi(We):window,a){case"focusin":(ap(Ht)||Ht.contentEditable==="true")&&(Lr=Ht,wd=We,Ka=null);break;case"focusout":Ka=wd=Lr=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Bs(ot,u,et);break;case"selectionchange":if(_d)break;case"keydown":case"keyup":Bs(ot,u,et)}var un;if(En)e:{switch(a){case"compositionstart":var bn="onCompositionStart";break e;case"compositionend":bn="onCompositionEnd";break e;case"compositionupdate":bn="onCompositionUpdate";break e}bn=void 0}else gr?Vu(a,u)&&(bn="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(bn="onCompositionStart");bn&&(Ea&&u.locale!=="ko"&&(gr||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&gr&&(un=Kl()):(yi=et,vi="value"in yi?yi.value:yi.textContent,gr=!0)),Ht=Xp(We,bn),0<Ht.length&&(bn=new ud(bn,a,null,u,et),ot.push({event:bn,listeners:Ht}),un?bn.data=un:(un=gd(u),un!==null&&(bn.data=un)))),(un=Cn?ta(a,u):dr(a,u))&&(bn=Xp(We,"onBeforeInput"),0<bn.length&&(Ht=new ud("onBeforeInput","beforeinput",null,u,et),ot.push({event:Ht,listeners:bn}),Ht.data=un)),J6(ot,a,We,u,et)}oD(ot,s)})}function bf(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Xp(a,s){for(var u=s+"Capture",g=[];a!==null;){var S=a,E=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||E===null||(S=Gl(a,u),S!=null&&g.unshift(bf(a,S,E)),S=Gl(a,s),S!=null&&g.push(bf(a,S,E))),a.tag===3)return g;a=a.return}return[]}function r8(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function cD(a,s,u,g,S){for(var E=s._reactName,W=[];u!==null&&u!==g;){var ie=u,Te=ie.alternate,We=ie.stateNode;if(ie=ie.tag,Te!==null&&Te===g)break;ie!==5&&ie!==26&&ie!==27||We===null||(Te=We,S?(We=Gl(u,E),We!=null&&W.unshift(bf(u,We,Te))):S||(We=Gl(u,E),We!=null&&W.push(bf(u,We,Te)))),u=u.return}W.length!==0&&a.push({event:s,listeners:W})}var a8=/\r\n?/g,i8=/\u0000|\uFFFD/g;function dD(a){return(typeof a=="string"?a:""+a).replace(a8,`
`).replace(i8,"")}function uD(a,s){return s=dD(s),dD(a)===s}function Gn(a,s,u,g,S,E){switch(u){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||Rs(a,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&Rs(a,""+g);break;case"className":Vl(a,"class",g);break;case"tabIndex":Vl(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(a,u,g);break;case"style":od(a,g,E);break;case"data":if(s!=="object"){Vl(a,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(u);break}g=ld(""+g),a.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(s!=="input"&&Gn(a,s,"name",S.name,S,null),Gn(a,s,"formEncType",S.formEncType,S,null),Gn(a,s,"formMethod",S.formMethod,S,null),Gn(a,s,"formTarget",S.formTarget,S,null)):(Gn(a,s,"encType",S.encType,S,null),Gn(a,s,"method",S.method,S,null),Gn(a,s,"target",S.target,S,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(u);break}g=ld(""+g),a.setAttribute(u,g);break;case"onClick":g!=null&&(a.onclick=Ta);break;case"onScroll":g!=null&&yn("scroll",a);break;case"onScrollEnd":g!=null&&yn("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}u=ld(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,""+g):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":g===!0?a.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,g):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(u,g):a.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(u):a.setAttribute(u,g);break;case"popover":yn("beforetoggle",a),yn("toggle",a),Bl(a,"popover",g);break;case"xlinkActuate":Ii(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ii(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ii(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ii(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ii(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ii(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Bl(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hi.get(u)||u,Bl(a,u,g))}}function x0(a,s,u,g,S,E){switch(u){case"style":od(a,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(S.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof g=="string"?Rs(a,g):(typeof g=="number"||typeof g=="bigint")&&Rs(a,""+g);break;case"onScroll":g!=null&&yn("scroll",a);break;case"onScrollEnd":g!=null&&yn("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qh.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(S=u.endsWith("Capture"),s=u.slice(2,S?u.length-7:void 0),E=a[Wt]||null,E=E!=null?E[u]:null,typeof E=="function"&&a.removeEventListener(s,E,S),typeof g=="function")){typeof E!="function"&&E!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,g,S);break e}u in a?a[u]=g:g===!0?a.setAttribute(u,""):Bl(a,u,g)}}}function Yr(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",a),yn("load",a);var g=!1,S=!1,E;for(E in u)if(u.hasOwnProperty(E)){var W=u[E];if(W!=null)switch(E){case"src":g=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Gn(a,s,E,W,u,null)}}S&&Gn(a,s,"srcSet",u.srcSet,u,null),g&&Gn(a,s,"src",u.src,u,null);return;case"input":yn("invalid",a);var ie=E=W=S=null,Te=null,We=null;for(g in u)if(u.hasOwnProperty(g)){var et=u[g];if(et!=null)switch(g){case"name":S=et;break;case"type":W=et;break;case"checked":Te=et;break;case"defaultChecked":We=et;break;case"value":E=et;break;case"defaultValue":ie=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,s));break;default:Gn(a,s,g,et,u,null)}}Wl(a,E,ie,Te,We,W,S,!1);return;case"select":yn("invalid",a),g=W=E=null;for(S in u)if(u.hasOwnProperty(S)&&(ie=u[S],ie!=null))switch(S){case"value":E=ie;break;case"defaultValue":W=ie;break;case"multiple":g=ie;default:Gn(a,s,S,ie,u,null)}s=E,u=W,a.multiple=!!g,s!=null?Li(a,!!g,s,!1):u!=null&&Li(a,!!g,u,!0);return;case"textarea":yn("invalid",a),E=S=g=null;for(W in u)if(u.hasOwnProperty(W)&&(ie=u[W],ie!=null))switch(W){case"value":g=ie;break;case"defaultValue":S=ie;break;case"children":E=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(91));break;default:Gn(a,s,W,ie,u,null)}Pu(a,g,S,E);return;case"option":for(Te in u)u.hasOwnProperty(Te)&&(g=u[Te],g!=null)&&(Te==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":Gn(a,s,Te,g,u,null));return;case"dialog":yn("beforetoggle",a),yn("toggle",a),yn("cancel",a),yn("close",a);break;case"iframe":case"object":yn("load",a);break;case"video":case"audio":for(g=0;g<vf.length;g++)yn(vf[g],a);break;case"image":yn("error",a),yn("load",a);break;case"details":yn("toggle",a);break;case"embed":case"source":case"link":yn("error",a),yn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in u)if(u.hasOwnProperty(We)&&(g=u[We],g!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Gn(a,s,We,g,u,null)}return;default:if(Ro(s)){for(et in u)u.hasOwnProperty(et)&&(g=u[et],g!==void 0&&x0(a,s,et,g,u,void 0));return}}for(ie in u)u.hasOwnProperty(ie)&&(g=u[ie],g!=null&&Gn(a,s,ie,g,u,null))}function s8(a,s,u,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,E=null,W=null,ie=null,Te=null,We=null,et=null;for(Ke in u){var ot=u[Ke];if(u.hasOwnProperty(Ke)&&ot!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":Te=ot;default:g.hasOwnProperty(Ke)||Gn(a,s,Ke,null,g,ot)}}for(var $e in g){var Ke=g[$e];if(ot=u[$e],g.hasOwnProperty($e)&&(Ke!=null||ot!=null))switch($e){case"type":E=Ke;break;case"name":S=Ke;break;case"checked":We=Ke;break;case"defaultChecked":et=Ke;break;case"value":W=Ke;break;case"defaultValue":ie=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,s));break;default:Ke!==ot&&Gn(a,s,$e,Ke,g,ot)}}jo(a,W,ie,Te,We,et,E,S);return;case"select":Ke=W=ie=$e=null;for(E in u)if(Te=u[E],u.hasOwnProperty(E)&&Te!=null)switch(E){case"value":break;case"multiple":Ke=Te;default:g.hasOwnProperty(E)||Gn(a,s,E,null,g,Te)}for(S in g)if(E=g[S],Te=u[S],g.hasOwnProperty(S)&&(E!=null||Te!=null))switch(S){case"value":$e=E;break;case"defaultValue":ie=E;break;case"multiple":W=E;default:E!==Te&&Gn(a,s,S,E,g,Te)}s=ie,u=W,g=Ke,$e!=null?Li(a,!!u,$e,!1):!!g!=!!u&&(s!=null?Li(a,!!u,s,!0):Li(a,!!u,u?[]:"",!1));return;case"textarea":Ke=$e=null;for(ie in u)if(S=u[ie],u.hasOwnProperty(ie)&&S!=null&&!g.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Gn(a,s,ie,null,g,S)}for(W in g)if(S=g[W],E=u[W],g.hasOwnProperty(W)&&(S!=null||E!=null))switch(W){case"value":$e=S;break;case"defaultValue":Ke=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==E&&Gn(a,s,W,S,g,E)}Ru(a,$e,Ke);return;case"option":for(var Rt in u)$e=u[Rt],u.hasOwnProperty(Rt)&&$e!=null&&!g.hasOwnProperty(Rt)&&(Rt==="selected"?a.selected=!1:Gn(a,s,Rt,null,g,$e));for(Te in g)$e=g[Te],Ke=u[Te],g.hasOwnProperty(Te)&&$e!==Ke&&($e!=null||Ke!=null)&&(Te==="selected"?a.selected=$e&&typeof $e!="function"&&typeof $e!="symbol":Gn(a,s,Te,$e,g,Ke));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in u)$e=u[Yt],u.hasOwnProperty(Yt)&&$e!=null&&!g.hasOwnProperty(Yt)&&Gn(a,s,Yt,null,g,$e);for(We in g)if($e=g[We],Ke=u[We],g.hasOwnProperty(We)&&$e!==Ke&&($e!=null||Ke!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,s));break;default:Gn(a,s,We,$e,g,Ke)}return;default:if(Ro(s)){for(var Xn in u)$e=u[Xn],u.hasOwnProperty(Xn)&&$e!==void 0&&!g.hasOwnProperty(Xn)&&x0(a,s,Xn,void 0,g,$e);for(et in g)$e=g[et],Ke=u[et],!g.hasOwnProperty(et)||$e===Ke||$e===void 0&&Ke===void 0||x0(a,s,et,$e,g,Ke);return}}for(var Pe in u)$e=u[Pe],u.hasOwnProperty(Pe)&&$e!=null&&!g.hasOwnProperty(Pe)&&Gn(a,s,Pe,null,g,$e);for(ot in g)$e=g[ot],Ke=u[ot],!g.hasOwnProperty(ot)||$e===Ke||$e==null&&Ke==null||Gn(a,s,ot,$e,g,Ke)}function fD(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),g=0;g<u.length;g++){var S=u[g],E=S.transferSize,W=S.initiatorType,ie=S.duration;if(E&&ie&&fD(W)){for(W=0,ie=S.responseEnd,g+=1;g<u.length;g++){var Te=u[g],We=Te.startTime;if(We>ie)break;var et=Te.transferSize,ot=Te.initiatorType;et&&fD(ot)&&(Te=Te.responseEnd,W+=et*(Te<ie?1:(ie-We)/(Te-We)))}if(--g,s+=8*(E+W)/(S.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var y0=null,v0=null;function Kp(a){return a.nodeType===9?a:a.ownerDocument}function hD(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pD(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function b0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var _0=null;function l8(){var a=window.event;return a&&a.type==="popstate"?a===_0?!1:(_0=a,!0):(_0=null,!1)}var gD=typeof setTimeout=="function"?setTimeout:void 0,c8=typeof clearTimeout=="function"?clearTimeout:void 0,mD=typeof Promise=="function"?Promise:void 0,d8=typeof queueMicrotask=="function"?queueMicrotask:typeof mD<"u"?function(a){return mD.resolve(null).then(a).catch(u8)}:gD;function u8(a){setTimeout(function(){throw a})}function nl(a){return a==="head"}function xD(a,s){var u=s,g=0;do{var S=u.nextSibling;if(a.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"||u==="/&"){if(g===0){a.removeChild(S),Xd(s);return}g--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")g++;else if(u==="html")_f(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,_f(u);for(var E=u.firstChild;E;){var W=E.nextSibling,ie=E.nodeName;E[Qr]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=W}}else u==="body"&&_f(a.ownerDocument.body);u=S}while(u);Xd(s)}function yD(a,s){var u=a;a=0;do{var g=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=g}while(u)}function w0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":w0(u),Pi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function f8(a,s,u,g){for(;a.nodeType===1;){var S=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Qr])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var E=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Di(a.nextSibling),a===null)break}return null}function h8(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Di(a.nextSibling),a===null))return null;return a}function vD(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Di(a.nextSibling),a===null))return null;return a}function D0(a){return a.data==="$?"||a.data==="$~"}function S0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function p8(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var g=function(){s(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Di(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var C0=null;function bD(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return Di(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function _D(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function wD(a,s,u){switch(s=Kp(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function _f(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Pi(a)}var Si=new Map,DD=new Set;function Yp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ho=G.d;G.d={f:g8,r:m8,D:x8,C:y8,L:v8,m:b8,X:w8,S:_8,M:D8};function g8(){var a=ho.f(),s=Bp();return a||s}function m8(a){var s=Fr(a);s!==null&&s.tag===5&&s.type==="form"?H_(s):ho.r(a)}var $d=typeof document>"u"?null:document;function SD(a,s,u){var g=$d;if(g&&typeof s=="string"&&s){var S=jr(s);S='link[rel="'+a+'"][href="'+S+'"]',typeof u=="string"&&(S+='[crossorigin="'+u+'"]'),DD.has(S)||(DD.add(S),a={rel:a,crossOrigin:u,href:s},g.querySelector(S)===null&&(s=g.createElement("link"),Yr(s,"link",a),rr(s),g.head.appendChild(s)))}}function x8(a){ho.D(a),SD("dns-prefetch",a,null)}function y8(a,s){ho.C(a,s),SD("preconnect",a,s)}function v8(a,s,u){ho.L(a,s,u);var g=$d;if(g&&a&&s){var S='link[rel="preload"][as="'+jr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(S+='[imagesrcset="'+jr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(S+='[imagesizes="'+jr(u.imageSizes)+'"]')):S+='[href="'+jr(a)+'"]';var E=S;switch(s){case"style":E=qd(a);break;case"script":E=Gd(a)}Si.has(E)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),Si.set(E,a),g.querySelector(S)!==null||s==="style"&&g.querySelector(wf(E))||s==="script"&&g.querySelector(Df(E))||(s=g.createElement("link"),Yr(s,"link",a),rr(s),g.head.appendChild(s)))}}function b8(a,s){ho.m(a,s);var u=$d;if(u&&a){var g=s&&typeof s.as=="string"?s.as:"script",S='link[rel="modulepreload"][as="'+jr(g)+'"][href="'+jr(a)+'"]',E=S;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Gd(a)}if(!Si.has(E)&&(a=p({rel:"modulepreload",href:a},s),Si.set(E,a),u.querySelector(S)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Df(E)))return}g=u.createElement("link"),Yr(g,"link",a),rr(g),u.head.appendChild(g)}}}function _8(a,s,u){ho.S(a,s,u);var g=$d;if(g&&a){var S=en(g).hoistableStyles,E=qd(a);s=s||"default";var W=S.get(E);if(!W){var ie={loading:0,preload:null};if(W=g.querySelector(wf(E)))ie.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=Si.get(E))&&T0(a,u);var Te=W=g.createElement("link");rr(Te),Yr(Te,"link",a),Te._p=new Promise(function(We,et){Te.onload=We,Te.onerror=et}),Te.addEventListener("load",function(){ie.loading|=1}),Te.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,Zp(W,s,g)}W={type:"stylesheet",instance:W,count:1,state:ie},S.set(E,W)}}}function w8(a,s){ho.X(a,s);var u=$d;if(u&&a){var g=en(u).hoistableScripts,S=Gd(a),E=g.get(S);E||(E=u.querySelector(Df(S)),E||(a=p({src:a,async:!0},s),(s=Si.get(S))&&E0(a,s),E=u.createElement("script"),rr(E),Yr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(S,E))}}function D8(a,s){ho.M(a,s);var u=$d;if(u&&a){var g=en(u).hoistableScripts,S=Gd(a),E=g.get(S);E||(E=u.querySelector(Df(S)),E||(a=p({src:a,async:!0,type:"module"},s),(s=Si.get(S))&&E0(a,s),E=u.createElement("script"),rr(E),Yr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(S,E))}}function CD(a,s,u,g){var S=(S=Oe.current)?Yp(S):null;if(!S)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=qd(u.href),u=en(S).hoistableStyles,g=u.get(s),g||(g={type:"style",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=qd(u.href);var E=en(S).hoistableStyles,W=E.get(a);if(W||(S=S.ownerDocument||S,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,W),(E=S.querySelector(wf(a)))&&!E._p&&(W.instance=E,W.state.loading=5),Si.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Si.set(a,u),E||S8(S,a,u,W.state))),s&&g===null)throw Error(r(528,""));return W}if(s&&g!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Gd(u),u=en(S).hoistableScripts,g=u.get(s),g||(g={type:"script",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function qd(a){return'href="'+jr(a)+'"'}function wf(a){return'link[rel="stylesheet"]['+a+"]"}function TD(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function S8(a,s,u,g){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=a.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),Yr(s,"link",u),rr(s),a.head.appendChild(s))}function Gd(a){return'[src="'+jr(a)+'"]'}function Df(a){return"script[async]"+a}function ED(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var g=a.querySelector('style[data-href~="'+jr(u.href)+'"]');if(g)return s.instance=g,rr(g),g;var S=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),rr(g),Yr(g,"style",S),Zp(g,u.precedence,a),s.instance=g;case"stylesheet":S=qd(u.href);var E=a.querySelector(wf(S));if(E)return s.state.loading|=4,s.instance=E,rr(E),E;g=TD(u),(S=Si.get(S))&&T0(g,S),E=(a.ownerDocument||a).createElement("link"),rr(E);var W=E;return W._p=new Promise(function(ie,Te){W.onload=ie,W.onerror=Te}),Yr(E,"link",g),s.state.loading|=4,Zp(E,u.precedence,a),s.instance=E;case"script":return E=Gd(u.src),(S=a.querySelector(Df(E)))?(s.instance=S,rr(S),S):(g=u,(S=Si.get(E))&&(g=p({},u),E0(g,S)),a=a.ownerDocument||a,S=a.createElement("script"),rr(S),Yr(S,"link",g),a.head.appendChild(S),s.instance=S);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Zp(g,u.precedence,a));return s.instance}function Zp(a,s,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=g.length?g[g.length-1]:null,E=S,W=0;W<g.length;W++){var ie=g[W];if(ie.dataset.precedence===s)E=ie;else if(E!==S)break}E?E.parentNode.insertBefore(a,E.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function T0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function E0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Qp=null;function ND(a,s,u){if(Qp===null){var g=new Map,S=Qp=new Map;S.set(u,g)}else S=Qp,g=S.get(u),g||(g=new Map,S.set(u,g));if(g.has(a))return g;for(g.set(a,null),u=u.getElementsByTagName(a),S=0;S<u.length;S++){var E=u[S];if(!(E[Qr]||E[kt]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var W=E.getAttribute(s)||"";W=a+W;var ie=g.get(W);ie?ie.push(E):g.set(W,[E])}}return g}function AD(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function C8(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(a=s.disabled,typeof s.precedence=="string"&&a==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function MD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function T8(a,s,u,g){if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var S=qd(g.href),E=s.querySelector(wf(S));if(E){s=E._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Jp.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=E,rr(E);return}E=s.ownerDocument||s,g=TD(g),(S=Si.get(S))&&T0(g,S),E=E.createElement("link"),rr(E);var W=E;W._p=new Promise(function(ie,Te){W.onload=ie,W.onerror=Te}),Yr(E,"link",g),u.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Jp.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var N0=0;function E8(a,s){return a.stylesheets&&a.count===0&&tg(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var g=setTimeout(function(){if(a.stylesheets&&tg(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+s);0<a.imgBytes&&N0===0&&(N0=62500*o8());var S=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&tg(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>N0?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(S)}}:null}function Jp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var eg=null;function tg(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,eg=new Map,s.forEach(N8,a),eg=null,Jp.call(a))}function N8(a,s){if(!(s.state.loading&4)){var u=eg.get(a);if(u)var g=u.get(null);else{u=new Map,eg.set(a,u);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<S.length;E++){var W=S[E];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(u.set(W.dataset.precedence,W),g=W)}g&&u.set(null,g)}S=s.instance,W=S.getAttribute("data-precedence"),E=u.get(W)||g,E===g&&u.set(null,S),u.set(W,S),this.count++,g=Jp.bind(this),S.addEventListener("load",g),S.addEventListener("error",g),E?E.parentNode.insertBefore(S,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),s.state.loading|=4}}var Sf={$$typeof:C,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function A8(a,s,u,g,S,E,W,ie,Te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=g,this.onUncaughtError=S,this.onCaughtError=E,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function UD(a,s,u,g,S,E,W,ie,Te,We,et,ot){return a=new A8(a,s,u,W,Te,We,et,ot,ie),s=1,E===!0&&(s|=24),E=ua(3,null,null,s),a.current=E,E.stateNode=a,s=tf(),s.refCount++,a.pooledCache=s,s.refCount++,E.memoizedState={element:g,isDehydrated:u,cache:s},me(E),a}function kD(a){return a?(a=ei,a):ei}function jD(a,s,u,g,S,E){S=kD(S),g.context===null?g.context=S:g.pendingContext=S,g=ve(s),g.payload={element:u},E=E===void 0?null:E,E!==null&&(g.callback=E),u=ue(a,g,s),u!==null&&(Ra(u,a,s),we(u,a,s))}function RD(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function A0(a,s){RD(a,s),(a=a.alternate)&&RD(a,s)}function PD(a){if(a.tag===13||a.tag===31){var s=hs(a,67108864);s!==null&&Ra(s,a,67108864),A0(a,67108864)}}function OD(a){if(a.tag===13||a.tag===31){var s=ri();s=ze(s);var u=hs(a,s);u!==null&&Ra(u,a,s),A0(a,s)}}var ng=!0;function M8(a,s,u,g){var S=H.T;H.T=null;var E=G.p;try{G.p=2,M0(a,s,u,g)}finally{G.p=E,H.T=S}}function U8(a,s,u,g){var S=H.T;H.T=null;var E=G.p;try{G.p=8,M0(a,s,u,g)}finally{G.p=E,H.T=S}}function M0(a,s,u,g){if(ng){var S=U0(g);if(S===null)m0(a,s,g,rg,u),FD(a,g);else if(j8(S,a,s,u,g))g.stopPropagation();else if(FD(a,g),s&4&&-1<k8.indexOf(a)){for(;S!==null;){var E=Fr(S);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var W=V(E.pendingLanes);if(W!==0){var ie=E;for(ie.pendingLanes|=2,ie.entangledLanes|=2;W;){var Te=1<<31-gt(W);ie.entanglements[1]|=Te,W&=~Te}ys(E),(Rn&6)===0&&(Lp=Y()+500,yf(0))}}break;case 31:case 13:ie=hs(E,2),ie!==null&&Ra(ie,E,2),Bp(),A0(E,2)}if(E=U0(g),E===null&&m0(a,s,g,rg,u),E===S)break;S=E}S!==null&&g.stopPropagation()}else m0(a,s,g,null,u)}}function U0(a){return a=ql(a),k0(a)}var rg=null;function k0(a){if(rg=null,a=Ca(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=c(s),a!==null)return a;a=null}else if(u===31){if(a=d(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return rg=a,null}function ID(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Fe:return 2;case lt:return 8;case vt:case Et:return 32;case yt:return 268435456;default:return 32}default:return 32}}var j0=!1,rl=null,al=null,il=null,Cf=new Map,Tf=new Map,sl=[],k8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FD(a,s){switch(a){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Cf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(s.pointerId)}}function Ef(a,s,u,g,S,E){return a===null||a.nativeEvent!==E?(a={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:E,targetContainers:[S]},s!==null&&(s=Fr(s),s!==null&&PD(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,S!==null&&s.indexOf(S)===-1&&s.push(S),a)}function j8(a,s,u,g,S){switch(s){case"focusin":return rl=Ef(rl,a,s,u,g,S),!0;case"dragenter":return al=Ef(al,a,s,u,g,S),!0;case"mouseover":return il=Ef(il,a,s,u,g,S),!0;case"pointerover":var E=S.pointerId;return Cf.set(E,Ef(Cf.get(E)||null,a,s,u,g,S)),!0;case"gotpointercapture":return E=S.pointerId,Tf.set(E,Ef(Tf.get(E)||null,a,s,u,g,S)),!0}return!1}function LD(a){var s=Ca(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=c(u),s!==null){a.blockedOn=s,Nt(a.priority,function(){OD(u)});return}}else if(s===31){if(s=d(u),s!==null){a.blockedOn=s,Nt(a.priority,function(){OD(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ag(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=U0(a.nativeEvent);if(u===null){u=a.nativeEvent;var g=new u.constructor(u.type,u);$l=g,u.target.dispatchEvent(g),$l=null}else return s=Fr(u),s!==null&&PD(s),a.blockedOn=u,!1;s.shift()}return!0}function HD(a,s,u){ag(a)&&u.delete(s)}function R8(){j0=!1,rl!==null&&ag(rl)&&(rl=null),al!==null&&ag(al)&&(al=null),il!==null&&ag(il)&&(il=null),Cf.forEach(HD),Tf.forEach(HD)}function ig(a,s){a.blockedOn===s&&(a.blockedOn=null,j0||(j0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,R8)))}var sg=null;function BD(a){sg!==a&&(sg=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sg===a&&(sg=null);for(var s=0;s<a.length;s+=3){var u=a[s],g=a[s+1],S=a[s+2];if(typeof g!="function"){if(k0(g||u)===null)continue;break}var E=Fr(u);E!==null&&(a.splice(s,3),s-=3,Uy(E,{pending:!0,data:S,method:u.method,action:g},g,S))}}))}function Xd(a){function s(Te){return ig(Te,a)}rl!==null&&ig(rl,a),al!==null&&ig(al,a),il!==null&&ig(il,a),Cf.forEach(s),Tf.forEach(s);for(var u=0;u<sl.length;u++){var g=sl[u];g.blockedOn===a&&(g.blockedOn=null)}for(;0<sl.length&&(u=sl[0],u.blockedOn===null);)LD(u),u.blockedOn===null&&sl.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var S=u[g],E=u[g+1],W=S[Wt]||null;if(typeof E=="function")W||BD(u);else if(W){var ie=null;if(E&&E.hasAttribute("formAction")){if(S=E,W=E[Wt]||null)ie=W.formAction;else if(k0(S)!==null)continue}else ie=W.action;typeof ie=="function"?u[g+1]=ie:(u.splice(g,3),g-=3),BD(u)}}}function VD(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(W){return S=W})},focusReset:"manual",scroll:"manual"})}function s(){S!==null&&(S(),S=null),g||setTimeout(u,20)}function u(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,S=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),S!==null&&(S(),S=null)}}}function R0(a){this._internalRoot=a}og.prototype.render=R0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,g=ri();jD(u,g,a,s,null,null)},og.prototype.unmount=R0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;jD(a.current,2,null,a,null,null),Bp(),s[ln]=null}};function og(a){this._internalRoot=a}og.prototype.unstable_scheduleHydration=function(a){if(a){var s=qt();a={blockedOn:null,target:a,priority:s};for(var u=0;u<sl.length&&s!==0&&s<sl[u].priority;u++);sl.splice(u,0,a),u===0&&LD(a)}};var WD=t.version;if(WD!=="19.2.3")throw Error(r(527,WD,"19.2.3"));G.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var P8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lg.isDisabled&&lg.supportsFiber)try{Me=lg.inject(P8),Ze=lg}catch{}}return Mf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,g="",S=Y_,E=Z_,W=Q_;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(S=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(W=s.onRecoverableError)),s=UD(a,1,!1,null,null,u,g,null,S,E,W,VD),a[ln]=s.current,g0(a),new R0(s)},Mf.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var g=!1,S="",E=Y_,W=Z_,ie=Q_,Te=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(W=u.onCaughtError),u.onRecoverableError!==void 0&&(ie=u.onRecoverableError),u.formState!==void 0&&(Te=u.formState)),s=UD(a,1,!0,s,u??null,g,S,Te,E,W,ie,VD),s.context=kD(null),u=s.current,g=ri(),g=ze(g),S=ve(g),S.callback=null,ue(u,S,g),u=g,s.current.lanes=u,wt(s,u),ys(s),a[ln]=s.current,g0(a),new og(s)},Mf.version="19.2.3",Mf}var mS;function Qj(){if(mS)return B0.exports;mS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B0.exports=Zj(),B0.exports}var Jj=Qj(),eR=(function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)},e.prototype.getByKey=function(t){return this.keyToValue.get(t)},e.prototype.getByValue=function(t){return this.valueToKey.get(t)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e})(),a3=(function(){function e(t){this.generateIdentifier=t,this.kv=new eR}return e.prototype.register=function(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(t){return this.kv.getByValue(t)},e.prototype.getValue=function(t){return this.kv.getByKey(t)},e})(),tR=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),nR=(function(e){tR(t,e);function t(){var n=e.call(this,function(r){return r.name})||this;return n.classToAllowedProps=new Map,n}return t.prototype.register=function(n,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(n,r.allowProps),e.prototype.register.call(this,n,r.identifier)):e.prototype.register.call(this,n,r)},t.prototype.getAllowedProps=function(n){return this.classToAllowedProps.get(n)},t})(a3),rR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return o};function aR(e){if("values"in Object)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function iR(e,t){var n=aR(e);if("find"in n)return n.find(t);for(var r=n,i=0;i<r.length;i++){var o=r[i];if(t(o))return o}}function xu(e,t){Object.entries(e).forEach(function(n){var r=rR(n,2),i=r[0],o=r[1];return t(o,i)})}function Zg(e,t){return e.indexOf(t)!==-1}function xS(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}}var sR=(function(){function e(){this.transfomers={}}return e.prototype.register=function(t){this.transfomers[t.name]=t},e.prototype.findApplicable=function(t){return iR(this.transfomers,function(n){return n.isApplicable(t)})},e.prototype.findByName=function(t){return this.transfomers[t]},e})(),oR=function(e){return Object.prototype.toString.call(e).slice(8,-1)},i3=function(e){return typeof e>"u"},lR=function(e){return e===null},hh=function(e){return typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype},jb=function(e){return hh(e)&&Object.keys(e).length===0},_l=function(e){return Array.isArray(e)},cR=function(e){return typeof e=="string"},dR=function(e){return typeof e=="number"&&!isNaN(e)},uR=function(e){return typeof e=="boolean"},fR=function(e){return e instanceof RegExp},ph=function(e){return e instanceof Map},gh=function(e){return e instanceof Set},s3=function(e){return oR(e)==="Symbol"},hR=function(e){return e instanceof Date&&!isNaN(e.valueOf())},pR=function(e){return e instanceof Error},yS=function(e){return typeof e=="number"&&isNaN(e)},gR=function(e){return uR(e)||lR(e)||i3(e)||dR(e)||cR(e)||s3(e)},mR=function(e){return typeof e=="bigint"},xR=function(e){return e===1/0||e===-1/0},yR=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},vR=function(e){return e instanceof URL},o3=function(e){return e.replace(/\./g,"\\.")},$0=function(e){return e.map(String).map(o3).join(".")},ah=function(e){for(var t=[],n="",r=0;r<e.length;r++){var i=e.charAt(r),o=i==="\\"&&e.charAt(r+1)===".";if(o){n+=".",r++;continue}var c=i===".";if(c){t.push(n),n="";continue}n+=i}var d=n;return t.push(d),t},Rb=function(){return Rb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rb.apply(this,arguments)},Pb=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return o},Ob=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function vs(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var l3=[vs(i3,"undefined",function(){return null},function(){}),vs(mR,"bigint",function(e){return e.toString()},function(e){return typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),vs(hR,"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),vs(pR,"Error",function(e,t){var n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(r){n[r]=e[r]}),n},function(e,t){var n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(function(r){n[r]=e[r]}),n}),vs(fR,"regexp",function(e){return""+e},function(e){var t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),vs(gh,"set",function(e){return Ob([],Pb(e.values()))},function(e){return new Set(e)}),vs(ph,"map",function(e){return Ob([],Pb(e.entries()))},function(e){return new Map(e)}),vs(function(e){return yS(e)||xR(e)},"number",function(e){return yS(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),vs(function(e){return e===0&&1/e===-1/0},"number",function(){return"-0"},Number),vs(vR,"URL",function(e){return e.toString()},function(e){return new URL(e)})];function ox(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var c3=ox(function(e,t){if(s3(e)){var n=!!t.symbolRegistry.getIdentifier(e);return n}return!1},function(e,t){var n=t.symbolRegistry.getIdentifier(e);return["symbol",n]},function(e){return e.description},function(e,t,n){var r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),bR=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),d3=ox(yR,function(e){return["typed-array",e.constructor.name]},function(e){return Ob([],Pb(e))},function(e,t){var n=bR[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function u3(e,t){if(e?.constructor){var n=!!t.classRegistry.getIdentifier(e.constructor);return n}return!1}var f3=ox(u3,function(e,t){var n=t.classRegistry.getIdentifier(e.constructor);return["class",n]},function(e,t){var n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return Rb({},e);var r={};return n.forEach(function(i){r[i]=e[i]}),r},function(e,t,n){var r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),h3=ox(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){var n=t.customTransformerRegistry.findApplicable(e);return["custom",n.name]},function(e,t){var n=t.customTransformerRegistry.findApplicable(e);return n.serialize(e)},function(e,t,n){var r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),_R=[f3,c3,h3,d3],vS=function(e,t){var n=xS(_R,function(i){return i.isApplicable(e,t)});if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};var r=xS(l3,function(i){return i.isApplicable(e,t)});if(r)return{value:r.transform(e,t),type:r.annotation}},p3={};l3.forEach(function(e){p3[e.annotation]=e});var wR=function(e,t,n){if(_l(t))switch(t[0]){case"symbol":return c3.untransform(e,t,n);case"class":return f3.untransform(e,t,n);case"custom":return h3.untransform(e,t,n);case"typed-array":return d3.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{var r=p3[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},lu=function(e,t){for(var n=e.keys();t>0;)n.next(),t--;return n.next().value};function g3(e){if(Zg(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Zg(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Zg(e,"constructor"))throw new Error("constructor is not allowed as a property")}var DR=function(e,t){g3(t);for(var n=0;n<t.length;n++){var r=t[n];if(gh(e))e=lu(e,+r);else if(ph(e)){var i=+r,o=+t[++n]==0?"key":"value",c=lu(e,i);switch(o){case"key":e=c;break;case"value":e=e.get(c);break}}else e=e[r]}return e},Ib=function(e,t,n){if(g3(t),t.length===0)return n(e);for(var r=e,i=0;i<t.length-1;i++){var o=t[i];if(_l(r)){var c=+o;r=r[c]}else if(hh(r))r=r[o];else if(gh(r)){var d=+o;r=lu(r,d)}else if(ph(r)){var f=i===t.length-2;if(f)break;var d=+o,h=+t[++i]==0?"key":"value",m=lu(r,d);switch(h){case"key":r=m;break;case"value":r=r.get(m);break}}}var p=t[t.length-1];if(_l(r)?r[+p]=n(r[+p]):hh(r)&&(r[p]=n(r[p])),gh(r)){var x=lu(r,+p),v=n(x);x!==v&&(r.delete(x),r.add(v))}if(ph(r)){var d=+t[t.length-2],w=lu(r,d),h=+p==0?"key":"value";switch(h){case"key":{var y=n(w);r.set(y,r.get(w)),y!==w&&r.delete(w);break}case"value":{r.set(w,n(r.get(w)));break}}}return e},yo=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return o},ml=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function Fb(e,t,n){if(n===void 0&&(n=[]),!!e){if(!_l(e)){xu(e,function(c,d){return Fb(c,t,ml(ml([],yo(n)),yo(ah(d))))});return}var r=yo(e,2),i=r[0],o=r[1];o&&xu(o,function(c,d){Fb(c,t,ml(ml([],yo(n)),yo(ah(d))))}),t(i,n)}}function SR(e,t,n){return Fb(t,function(r,i){e=Ib(e,i,function(o){return wR(o,r,n)})}),e}function CR(e,t){function n(c,d){var f=DR(e,ah(d));c.map(ah).forEach(function(h){e=Ib(e,h,function(){return f})})}if(_l(t)){var r=yo(t,2),i=r[0],o=r[1];i.forEach(function(c){e=Ib(e,ah(c),function(){return e})}),o&&xu(o,n)}else xu(t,n);return e}var TR=function(e,t){return hh(e)||_l(e)||ph(e)||gh(e)||u3(e,t)};function ER(e,t,n){var r=n.get(e);r?r.push(t):n.set(e,[t])}function NR(e,t){var n={},r=void 0;return e.forEach(function(i){if(!(i.length<=1)){t||(i=i.map(function(f){return f.map(String)}).sort(function(f,h){return f.length-h.length}));var o=yo(i),c=o[0],d=o.slice(1);c.length===0?r=d.map($0):n[$0(c)]=d.map($0)}}),r?jb(n)?[r]:[r,n]:jb(n)?void 0:n}var m3=function(e,t,n,r,i,o,c){var d;i===void 0&&(i=[]),o===void 0&&(o=[]),c===void 0&&(c=new Map);var f=gR(e);if(!f){ER(e,i,t);var h=c.get(e);if(h)return r?{transformedValue:null}:h}if(!TR(e,n)){var m=vS(e,n),p=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:e};return f||c.set(e,p),p}if(Zg(o,e))return{transformedValue:null};var x=vS(e,n),v=(d=x?.value)!==null&&d!==void 0?d:e,w=_l(v)?[]:{},y={};xu(v,function(_,D){var C=m3(_,t,n,r,ml(ml([],yo(i)),[D]),ml(ml([],yo(o)),[e]),c);w[D]=C.transformedValue,_l(C.annotations)?y[D]=C.annotations:hh(C.annotations)&&xu(C.annotations,function(M,A){y[o3(D)+"."+A]=M})});var b=jb(y)?{transformedValue:w,annotations:x?[x.type]:void 0}:{transformedValue:w,annotations:x?[x.type,y]:y};return f||c.set(e,b),b};function x3(e){return Object.prototype.toString.call(e).slice(8,-1)}function bS(e){return x3(e)==="Array"}function AR(e){if(x3(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function MR(e,t,n,r,i){const o={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=n),i&&o==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Lb(e,t={}){if(bS(e))return e.map(i=>Lb(i,t));if(!AR(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((i,o)=>{if(bS(t.props)&&!t.props.includes(o))return i;const c=e[o],d=Lb(c,t);return MR(i,o,d,e,t.nonenumerable),i},{})}var Sc=function(){return Sc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sc.apply(this,arguments)},UR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return o},kR=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Co=(function(){function e(t){var n=t===void 0?{}:t,r=n.dedupe,i=r===void 0?!1:r;this.classRegistry=new nR,this.symbolRegistry=new a3(function(o){var c;return(c=o.description)!==null&&c!==void 0?c:""}),this.customTransformerRegistry=new sR,this.allowedErrorProps=[],this.dedupe=i}return e.prototype.serialize=function(t){var n=new Map,r=m3(t,n,this,this.dedupe),i={json:r.transformedValue};r.annotations&&(i.meta=Sc(Sc({},i.meta),{values:r.annotations}));var o=NR(n,this.dedupe);return o&&(i.meta=Sc(Sc({},i.meta),{referentialEqualities:o})),i},e.prototype.deserialize=function(t){var n=t.json,r=t.meta,i=Lb(n);return r?.values&&(i=SR(i,r.values,this)),r?.referentialEqualities&&(i=CR(i,r.referentialEqualities)),i},e.prototype.stringify=function(t){return JSON.stringify(this.serialize(t))},e.prototype.parse=function(t){return this.deserialize(JSON.parse(t))},e.prototype.registerClass=function(t,n){this.classRegistry.register(t,n)},e.prototype.registerSymbol=function(t,n){this.symbolRegistry.register(t,n)},e.prototype.registerCustom=function(t,n){this.customTransformerRegistry.register(Sc({name:n},t))},e.prototype.allowErrorProps=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.allowedErrorProps).push.apply(t,kR([],UR(n)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e})();Co.serialize;Co.deserialize;Co.stringify;Co.parse;Co.registerClass;Co.registerCustom;Co.registerSymbol;Co.allowErrorProps;var jR=(e,t,n,r,i,o,c,d)=>{let f=document.documentElement,h=["light","dark"];function m(v){(Array.isArray(e)?e:[e]).forEach(w=>{let y=w==="class",b=y&&o?i.map(_=>o[_]||_):i;y?(f.classList.remove(...b),f.classList.add(o&&o[v]?o[v]:v)):f.setAttribute(w,v)}),p(v)}function p(v){d&&h.includes(v)&&(f.style.colorScheme=v)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let v=localStorage.getItem(t)||n,w=c&&v==="system"?x():v;m(w)}catch{}},RR=N.createContext(void 0),PR={setTheme:e=>{},themes:[]},OR=()=>{var e;return(e=N.useContext(RR))!=null?e:PR};N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:c,themes:d,nonce:f,scriptProps:h})=>{let m=JSON.stringify([n,t,o,e,d,c,r,i]).slice(1,-1);return N.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${jR.toString()})(${m})`}})});var Rh=r3();const y3=ex(Rh);function IR(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const FR=e=>{switch(e){case"success":return BR;case"info":return WR;case"warning":return VR;case"error":return zR;default:return null}},LR=Array(12).fill(0),HR=({visible:e,className:t})=>mt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},mt.createElement("div",{className:"sonner-spinner"},LR.map((n,r)=>mt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BR=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VR=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WR=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zR=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$R=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},mt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),mt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qR=()=>{const[e,t]=mt.useState(document.hidden);return mt.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let Hb=1;class GR{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,o=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Hb++,c=this.toasts.find(f=>f.id===o),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...t,id:o,title:r}),{...f,...t,id:o,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,c;const d=i.then(async h=>{if(c=["resolve",h],mt.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(KR(h)&&!h.ok){o=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,w=typeof p=="object"&&!mt.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:x,...w})}else if(h instanceof Error){o=!1;const p=typeof n.error=="function"?await n.error(h):n.error,x=typeof n.description=="function"?await n.description(h):n.description,w=typeof p=="object"&&!mt.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:x,...w})}else if(n.success!==void 0){o=!1;const p=typeof n.success=="function"?await n.success(h):n.success,x=typeof n.description=="function"?await n.description(h):n.description,w=typeof p=="object"&&!mt.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:x,...w})}}).catch(async h=>{if(c=["reject",h],n.error!==void 0){o=!1;const m=typeof n.error=="function"?await n.error(h):n.error,p=typeof n.description=="function"?await n.description(h):n.description,v=typeof m=="object"&&!mt.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:p,...v})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,m)=>d.then(()=>c[0]==="reject"?m(c[1]):h(c[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(t,n)=>{const r=n?.id||Hb++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const La=new GR,XR=(e,t)=>{const n=t?.id||Hb++;return La.addToast({title:e,...t,id:n}),n},KR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YR=XR,ZR=()=>La.toasts,QR=()=>La.getActiveToasts(),be=Object.assign(YR,{success:La.success,info:La.info,warning:La.warning,error:La.error,custom:La.custom,message:La.message,promise:La.promise,dismiss:La.dismiss,loading:La.loading},{getHistory:ZR,getToasts:QR});IR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hg(e){return e.label!==void 0}const JR=3,eP="24px",tP="16px",_S=4e3,nP=356,rP=14,aP=45,iP=200;function bs(...e){return e.filter(Boolean).join(" ")}function sP(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const oP=e=>{var t,n,r,i,o,c,d,f,h;const{invert:m,toast:p,unstyled:x,interacting:v,setHeights:w,visibleToasts:y,heights:b,index:_,toasts:D,expanded:C,removeToast:M,defaultRichColors:A,closeButton:j,style:U,cancelButtonStyle:F,actionButtonStyle:O,className:$="",descriptionClassName:se="",duration:I,position:Q,gap:k,expandByDefault:ae,classNames:H,icons:G,closeButtonAriaLabel:q="Close toast"}=e,[ee,xe]=mt.useState(null),[B,te]=mt.useState(null),[J,de]=mt.useState(!1),[_e,Oe]=mt.useState(!1),[Ee,He]=mt.useState(!1),[Qe,at]=mt.useState(!1),[Ie,tt]=mt.useState(!1),[nt,P]=mt.useState(0),[he,ye]=mt.useState(0),ne=mt.useRef(p.duration||I||_S),le=mt.useRef(null),fe=mt.useRef(null),Le=_===0,qe=_+1<=y,Se=p.type,oe=p.dismissible!==!1,Y=p.className||"",Ce=p.descriptionClassName||"",Fe=mt.useMemo(()=>b.findIndex(X=>X.toastId===p.id)||0,[b,p.id]),lt=mt.useMemo(()=>{var X;return(X=p.closeButton)!=null?X:j},[p.closeButton,j]),vt=mt.useMemo(()=>p.duration||I||_S,[p.duration,I]),Et=mt.useRef(0),yt=mt.useRef(0),_t=mt.useRef(0),Xt=mt.useRef(null),[Me,Ze]=Q.split("-"),pt=mt.useMemo(()=>b.reduce((X,pe,Re)=>Re>=Fe?X:X+pe.height,0),[b,Fe]),gt=qR(),Vt=p.invert||m,Kt=Se==="loading";yt.current=mt.useMemo(()=>Fe*k+pt,[Fe,pt]),mt.useEffect(()=>{ne.current=vt},[vt]),mt.useEffect(()=>{de(!0)},[]),mt.useEffect(()=>{const X=fe.current;if(X){const pe=X.getBoundingClientRect().height;return ye(pe),w(Re=>[{toastId:p.id,height:pe,position:p.position},...Re]),()=>w(Re=>Re.filter(Ye=>Ye.toastId!==p.id))}},[w,p.id]),mt.useLayoutEffect(()=>{if(!J)return;const X=fe.current,pe=X.style.height;X.style.height="auto";const Re=X.getBoundingClientRect().height;X.style.height=pe,ye(Re),w(Ye=>Ye.find(wt=>wt.toastId===p.id)?Ye.map(wt=>wt.toastId===p.id?{...wt,height:Re}:wt):[{toastId:p.id,height:Re,position:p.position},...Ye])},[J,p.title,p.description,w,p.id,p.jsx,p.action,p.cancel]);const an=mt.useCallback(()=>{Oe(!0),P(yt.current),w(X=>X.filter(pe=>pe.toastId!==p.id)),setTimeout(()=>{M(p)},iP)},[p,M,w,yt]);mt.useEffect(()=>{if(p.promise&&Se==="loading"||p.duration===1/0||p.type==="loading")return;let X;return C||v||gt?(()=>{if(_t.current<Et.current){const Ye=new Date().getTime()-Et.current;ne.current=ne.current-Ye}_t.current=new Date().getTime()})():ne.current!==1/0&&(Et.current=new Date().getTime(),X=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),an()},ne.current)),()=>clearTimeout(X)},[C,v,p,Se,gt,an]),mt.useEffect(()=>{p.delete&&(an(),p.onDismiss==null||p.onDismiss.call(p,p))},[an,p.delete]);function Dn(){var X;if(G?.loading){var pe;return mt.createElement("div",{className:bs(H?.loader,p==null||(pe=p.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":Se==="loading"},G.loading)}return mt.createElement(HR,{className:bs(H?.loader,p==null||(X=p.classNames)==null?void 0:X.loader),visible:Se==="loading"})}const jn=p.icon||G?.[Se]||FR(Se);var Ln,V;return mt.createElement("li",{tabIndex:0,ref:fe,className:bs($,Y,H?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,H?.default,H?.[Se],p==null||(n=p.classNames)==null?void 0:n[Se]),"data-sonner-toast":"","data-rich-colors":(Ln=p.richColors)!=null?Ln:A,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":Ie,"data-removed":_e,"data-visible":qe,"data-y-position":Me,"data-x-position":Ze,"data-index":_,"data-front":Le,"data-swiping":Ee,"data-dismissible":oe,"data-type":Se,"data-invert":Vt,"data-swipe-out":Qe,"data-swipe-direction":B,"data-expanded":!!(C||ae&&J),"data-testid":p.testId,style:{"--index":_,"--toasts-before":_,"--z-index":D.length-_,"--offset":`${_e?nt:yt.current}px`,"--initial-height":ae?"auto":`${he}px`,...U,...p.style},onDragEnd:()=>{He(!1),xe(null),Xt.current=null},onPointerDown:X=>{X.button!==2&&(Kt||!oe||(le.current=new Date,P(yt.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(He(!0),Xt.current={x:X.clientX,y:X.clientY})))},onPointerUp:()=>{var X,pe,Re;if(Qe||!oe)return;Xt.current=null;const Ye=Number(((X=fe.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ct=Number(((pe=fe.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wt=new Date().getTime()-((Re=le.current)==null?void 0:Re.getTime()),Zt=ee==="x"?Ye:Ct,pn=Math.abs(Zt)/wt;if(Math.abs(Zt)>=aP||pn>.11){P(yt.current),p.onDismiss==null||p.onDismiss.call(p,p),te(ee==="x"?Ye>0?"right":"left":Ct>0?"down":"up"),an(),at(!0);return}else{var Qt,Ne;(Qt=fe.current)==null||Qt.style.setProperty("--swipe-amount-x","0px"),(Ne=fe.current)==null||Ne.style.setProperty("--swipe-amount-y","0px")}tt(!1),He(!1),xe(null)},onPointerMove:X=>{var pe,Re,Ye;if(!Xt.current||!oe||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;const wt=X.clientY-Xt.current.y,Zt=X.clientX-Xt.current.x;var pn;const Qt=(pn=e.swipeDirections)!=null?pn:sP(Q);!ee&&(Math.abs(Zt)>1||Math.abs(wt)>1)&&xe(Math.abs(Zt)>Math.abs(wt)?"x":"y");let Ne={x:0,y:0};const ze=st=>1/(1.5+Math.abs(st)/20);if(ee==="y"){if(Qt.includes("top")||Qt.includes("bottom"))if(Qt.includes("top")&&wt<0||Qt.includes("bottom")&&wt>0)Ne.y=wt;else{const st=wt*ze(wt);Ne.y=Math.abs(st)<Math.abs(wt)?st:wt}}else if(ee==="x"&&(Qt.includes("left")||Qt.includes("right")))if(Qt.includes("left")&&Zt<0||Qt.includes("right")&&Zt>0)Ne.x=Zt;else{const st=Zt*ze(Zt);Ne.x=Math.abs(st)<Math.abs(Zt)?st:Zt}(Math.abs(Ne.x)>0||Math.abs(Ne.y)>0)&&tt(!0),(Re=fe.current)==null||Re.style.setProperty("--swipe-amount-x",`${Ne.x}px`),(Ye=fe.current)==null||Ye.style.setProperty("--swipe-amount-y",`${Ne.y}px`)}},lt&&!p.jsx&&Se!=="loading"?mt.createElement("button",{"aria-label":q,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!oe?()=>{}:()=>{an(),p.onDismiss==null||p.onDismiss.call(p,p)},className:bs(H?.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(V=G?.close)!=null?V:$R):null,(Se||p.icon||p.promise)&&p.icon!==null&&(G?.[Se]!==null||p.icon)?mt.createElement("div",{"data-icon":"",className:bs(H?.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Dn():null,p.type!=="loading"?jn:null):null,mt.createElement("div",{"data-content":"",className:bs(H?.content,p==null||(o=p.classNames)==null?void 0:o.content)},mt.createElement("div",{"data-title":"",className:bs(H?.title,p==null||(c=p.classNames)==null?void 0:c.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?mt.createElement("div",{"data-description":"",className:bs(se,Ce,H?.description,p==null||(d=p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),mt.isValidElement(p.cancel)?p.cancel:p.cancel&&hg(p.cancel)?mt.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||F,onClick:X=>{hg(p.cancel)&&oe&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,X),an())},className:bs(H?.cancelButton,p==null||(f=p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,mt.isValidElement(p.action)?p.action:p.action&&hg(p.action)?mt.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:X=>{hg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,X),!X.defaultPrevented&&an())},className:bs(H?.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function wS(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lP(e,t){const n={};return[e,t].forEach((r,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",d=o?tP:eP;function f(h){["top","right","bottom","left"].forEach(m=>{n[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${c}-${h}`]=d:n[`${c}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):f(d)}),n}const cP=mt.forwardRef(function(t,n){const{id:r,invert:i,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:m,mobileOffset:p,theme:x="light",richColors:v,duration:w,style:y,visibleToasts:b=JR,toastOptions:_,dir:D=wS(),gap:C=rP,icons:M,containerAriaLabel:A="Notifications"}=t,[j,U]=mt.useState([]),F=mt.useMemo(()=>r?j.filter(J=>J.toasterId===r):j.filter(J=>!J.toasterId),[j,r]),O=mt.useMemo(()=>Array.from(new Set([o].concat(F.filter(J=>J.position).map(J=>J.position)))),[F,o]),[$,se]=mt.useState([]),[I,Q]=mt.useState(!1),[k,ae]=mt.useState(!1),[H,G]=mt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=mt.useRef(null),ee=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),xe=mt.useRef(null),B=mt.useRef(!1),te=mt.useCallback(J=>{U(de=>{var _e;return(_e=de.find(Oe=>Oe.id===J.id))!=null&&_e.delete||La.dismiss(J.id),de.filter(({id:Oe})=>Oe!==J.id)})},[]);return mt.useEffect(()=>La.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{U(de=>de.map(_e=>_e.id===J.id?{..._e,delete:!0}:_e))});return}setTimeout(()=>{y3.flushSync(()=>{U(de=>{const _e=de.findIndex(Oe=>Oe.id===J.id);return _e!==-1?[...de.slice(0,_e),{...de[_e],...J},...de.slice(_e+1)]:[J,...de]})})})}),[j]),mt.useEffect(()=>{if(x!=="system"){G(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:de})=>{G(de?"dark":"light")})}catch{J.addListener(({matches:_e})=>{try{G(_e?"dark":"light")}catch(Oe){console.error(Oe)}})}},[x]),mt.useEffect(()=>{j.length<=1&&Q(!1)},[j]),mt.useEffect(()=>{const J=de=>{var _e;if(c.every(He=>de[He]||de.code===He)){var Ee;Q(!0),(Ee=q.current)==null||Ee.focus()}de.code==="Escape"&&(document.activeElement===q.current||(_e=q.current)!=null&&_e.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[c]),mt.useEffect(()=>{if(q.current)return()=>{xe.current&&(xe.current.focus({preventScroll:!0}),xe.current=null,B.current=!1)}},[q.current]),mt.createElement("section",{ref:n,"aria-label":`${A} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((J,de)=>{var _e;const[Oe,Ee]=J.split("-");return F.length?mt.createElement("ol",{key:J,dir:D==="auto"?wS():D,tabIndex:-1,ref:q,className:h,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":Oe,"data-x-position":Ee,style:{"--front-toast-height":`${((_e=$[0])==null?void 0:_e.height)||0}px`,"--width":`${nP}px`,"--gap":`${C}px`,...y,...lP(m,p)},onBlur:He=>{B.current&&!He.currentTarget.contains(He.relatedTarget)&&(B.current=!1,xe.current&&(xe.current.focus({preventScroll:!0}),xe.current=null))},onFocus:He=>{He.target instanceof HTMLElement&&He.target.dataset.dismissible==="false"||B.current||(B.current=!0,xe.current=He.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{k||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:He=>{He.target instanceof HTMLElement&&He.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},F.filter(He=>!He.position&&de===0||He.position===J).map((He,Qe)=>{var at,Ie;return mt.createElement(oP,{key:He.id,icons:M,index:Qe,toast:He,defaultRichColors:v,duration:(at=_?.duration)!=null?at:w,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:i,visibleToasts:b,closeButton:(Ie=_?.closeButton)!=null?Ie:f,interacting:k,position:J,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:te,toasts:F.filter(tt=>tt.position==He.position),heights:$.filter(tt=>tt.position==He.position),setHeights:se,expandByDefault:d,gap:C,expanded:I,swipeDirections:t.swipeDirections})})):null}))}),dP=({...e})=>{const{theme:t="system"}=OR();return l.jsx(cP,{"data-loc":"client/src/components/ui/sonner.tsx:8",theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function Pt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function DS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function To(...e){return t=>{let n=!1;const r=e.map(i=>{const o=DS(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():DS(e[i],null)}}}}function Nn(...e){return N.useCallback(To(...e),e)}function uP(e,t){const n=N.createContext(t),r=o=>{const{children:c,...d}=o,f=N.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:f,children:c})};r.displayName=e+"Provider";function i(o){const c=N.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Ms(e,t=[]){let n=[];function r(o,c){const d=N.createContext(c),f=n.length;n=[...n,c];const h=p=>{const{scope:x,children:v,...w}=p,y=x?.[e]?.[f]||d,b=N.useMemo(()=>w,Object.values(w));return l.jsx(y.Provider,{value:b,children:v})};h.displayName=o+"Provider";function m(p,x){const v=x?.[e]?.[f]||d,w=N.useContext(v);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=n.map(c=>N.createContext(c));return function(d){const f=d?.[e]||o;return N.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return i.scopeName=e,[r,fP(i,...t)]}function fP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=r.reduce((d,{useScope:f,scopeName:h})=>{const p=f(o)[`__scope${h}`];return{...d,...p}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function hP(e){const t=pP(e),n=N.forwardRef((r,i)=>{const{children:o,...c}=r,d=N.Children.toArray(o),f=d.find(mP);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function pP(e){const t=N.forwardRef((n,r)=>{const{children:i,...o}=n;if(N.isValidElement(i)){const c=yP(i),d=xP(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gP=Symbol("radix.slottable");function mP(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gP}function xP(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function yP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gn=vP.reduce((e,t)=>{const n=hP(`Primitive.${t}`),r=N.forwardRef((i,o)=>{const{asChild:c,...d}=i,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function v3(e,t){e&&Rh.flushSync(()=>e.dispatchEvent(t))}function Es(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>t.current?.(...n),[])}function bP(e,t=globalThis?.document){const n=Es(e);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _P="DismissableLayer",Bb="dismissableLayer.update",wP="dismissableLayer.pointerDownOutside",DP="dismissableLayer.focusOutside",SS,b3=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ph=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...f}=e,h=N.useContext(b3),[m,p]=N.useState(null),x=m?.ownerDocument??globalThis?.document,[,v]=N.useState({}),w=Nn(t,U=>p(U)),y=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),D=m?y.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,M=D>=_,A=TP(U=>{const F=U.target,O=[...h.branches].some($=>$.contains(F));!M||O||(i?.(U),c?.(U),U.defaultPrevented||d?.())},x),j=EP(U=>{const F=U.target;[...h.branches].some($=>$.contains(F))||(o?.(U),c?.(U),U.defaultPrevented||d?.())},x);return bP(U=>{D===h.layers.size-1&&(r?.(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},x),N.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(SS=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),CS(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=SS)}},[m,x,n,h]),N.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),CS())},[m,h]),N.useEffect(()=>{const U=()=>v({});return document.addEventListener(Bb,U),()=>document.removeEventListener(Bb,U)},[]),l.jsx(gn.div,{...f,ref:w,style:{pointerEvents:C?M?"auto":"none":void 0,...e.style},onFocusCapture:Pt(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Pt(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Pt(e.onPointerDownCapture,A.onPointerDownCapture)})});Ph.displayName=_P;var SP="DismissableLayerBranch",CP=N.forwardRef((e,t)=>{const n=N.useContext(b3),r=N.useRef(null),i=Nn(t,r);return N.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(gn.div,{...e,ref:i})});CP.displayName=SP;function TP(e,t=globalThis?.document){const n=Es(e),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){_3(wP,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function EP(e,t=globalThis?.document){const n=Es(e),r=N.useRef(!1);return N.useEffect(()=>{const i=o=>{o.target&&!r.current&&_3(DP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function CS(){const e=new CustomEvent(Bb);document.dispatchEvent(e)}function _3(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?v3(i,o):i.dispatchEvent(o)}var oa=globalThis?.document?N.useLayoutEffect:()=>{},NP=Mh[" useId ".trim().toString()]||(()=>{}),AP=0;function Cs(e){const[t,n]=N.useState(NP());return oa(()=>{n(r=>r??String(AP++))},[e]),e||(t?`radix-${t}`:"")}const MP=["top","right","bottom","left"],wl=Math.min,ii=Math.max,km=Math.round,pg=Math.floor,Ts=e=>({x:e,y:e}),UP={left:"right",right:"left",bottom:"top",top:"bottom"},kP={start:"end",end:"start"};function Vb(e,t,n){return ii(e,wl(t,n))}function _o(e,t){return typeof e=="function"?e(t):e}function wo(e){return e.split("-")[0]}function wu(e){return e.split("-")[1]}function S1(e){return e==="x"?"y":"x"}function C1(e){return e==="y"?"height":"width"}const jP=new Set(["top","bottom"]);function Ss(e){return jP.has(wo(e))?"y":"x"}function T1(e){return S1(Ss(e))}function RP(e,t,n){n===void 0&&(n=!1);const r=wu(e),i=T1(e),o=C1(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=jm(c)),[c,jm(c)]}function PP(e){const t=jm(e);return[Wb(e),t,Wb(t)]}function Wb(e){return e.replace(/start|end/g,t=>kP[t])}const TS=["left","right"],ES=["right","left"],OP=["top","bottom"],IP=["bottom","top"];function FP(e,t,n){switch(e){case"top":case"bottom":return n?t?ES:TS:t?TS:ES;case"left":case"right":return t?OP:IP;default:return[]}}function LP(e,t,n,r){const i=wu(e);let o=FP(wo(e),n==="start",r);return i&&(o=o.map(c=>c+"-"+i),t&&(o=o.concat(o.map(Wb)))),o}function jm(e){return e.replace(/left|right|bottom|top/g,t=>UP[t])}function HP(e){return{top:0,right:0,bottom:0,left:0,...e}}function w3(e){return typeof e!="number"?HP(e):{top:e,right:e,bottom:e,left:e}}function Rm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function NS(e,t,n){let{reference:r,floating:i}=e;const o=Ss(t),c=T1(t),d=C1(c),f=wo(t),h=o==="y",m=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,x=r[d]/2-i[d]/2;let v;switch(f){case"top":v={x:m,y:r.y-i.height};break;case"bottom":v={x:m,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(wu(t)){case"start":v[c]-=x*(n&&h?-1:1);break;case"end":v[c]+=x*(n&&h?-1:1);break}return v}const BP=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=NS(h,r,f),x=r,v={},w=0;for(let y=0;y<d.length;y++){const{name:b,fn:_}=d[y],{x:D,y:C,data:M,reset:A}=await _({x:m,y:p,initialPlacement:r,placement:x,strategy:i,middlewareData:v,rects:h,platform:c,elements:{reference:e,floating:t}});m=D??m,p=C??p,v={...v,[b]:{...v[b],...M}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(x=A.placement),A.rects&&(h=A.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:m,y:p}=NS(h,x,f)),y=-1)}return{x:m,y:p,placement:x,strategy:i,middlewareData:v}};async function mh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:c,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:v=0}=_o(t,e),w=w3(v),b=d[x?p==="floating"?"reference":"floating":p],_=Rm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:f})),D=p==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),M=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Rm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:C,strategy:f}):D);return{top:(_.top-A.top+w.top)/M.y,bottom:(A.bottom-_.bottom+w.bottom)/M.y,left:(_.left-A.left+w.left)/M.x,right:(A.right-_.right+w.right)/M.x}}const VP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:c,elements:d,middlewareData:f}=t,{element:h,padding:m=0}=_o(e,t)||{};if(h==null)return{};const p=w3(m),x={x:n,y:r},v=T1(i),w=C1(v),y=await c.getDimensions(h),b=v==="y",_=b?"top":"left",D=b?"bottom":"right",C=b?"clientHeight":"clientWidth",M=o.reference[w]+o.reference[v]-x[v]-o.floating[w],A=x[v]-o.reference[v],j=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let U=j?j[C]:0;(!U||!await(c.isElement==null?void 0:c.isElement(j)))&&(U=d.floating[C]||o.floating[w]);const F=M/2-A/2,O=U/2-y[w]/2-1,$=wl(p[_],O),se=wl(p[D],O),I=$,Q=U-y[w]-se,k=U/2-y[w]/2+F,ae=Vb(I,k,Q),H=!f.arrow&&wu(i)!=null&&k!==ae&&o.reference[w]/2-(k<I?$:se)-y[w]/2<0,G=H?k<I?k-I:k-Q:0;return{[v]:x[v]+G,data:{[v]:ae,centerOffset:k-ae-G,...H&&{alignmentOffset:G}},reset:H}}}),WP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:c,initialPlacement:d,platform:f,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=_o(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=wo(i),D=Ss(d),C=wo(d)===d,M=await(f.isRTL==null?void 0:f.isRTL(h.floating)),A=x||(C||!y?[jm(d)]:PP(d)),j=w!=="none";!x&&j&&A.push(...LP(d,y,w,M));const U=[d,...A],F=await mh(t,b),O=[];let $=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&O.push(F[_]),p){const k=RP(i,c,M);O.push(F[k[0]],F[k[1]])}if($=[...$,{placement:i,overflows:O}],!O.every(k=>k<=0)){var se,I;const k=(((se=o.flip)==null?void 0:se.index)||0)+1,ae=U[k];if(ae&&(!(p==="alignment"?D!==Ss(ae):!1)||$.every(q=>Ss(q.placement)===D?q.overflows[0]>0:!0)))return{data:{index:k,overflows:$},reset:{placement:ae}};let H=(I=$.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(v){case"bestFit":{var Q;const G=(Q=$.filter(q=>{if(j){const ee=Ss(q.placement);return ee===D||ee==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ee=>ee>0).reduce((ee,xe)=>ee+xe,0)]).sort((q,ee)=>q[1]-ee[1])[0])==null?void 0:Q[0];G&&(H=G);break}case"initialPlacement":H=d;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function AS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function MS(e){return MP.some(t=>e[t]>=0)}const zP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=_o(e,t);switch(r){case"referenceHidden":{const o=await mh(t,{...i,elementContext:"reference"}),c=AS(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:MS(c)}}}case"escaped":{const o=await mh(t,{...i,altBoundary:!0}),c=AS(o,n.floating);return{data:{escapedOffsets:c,escaped:MS(c)}}}default:return{}}}}},D3=new Set(["left","top"]);async function $P(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=wo(n),d=wu(n),f=Ss(n)==="y",h=D3.has(c)?-1:1,m=o&&f?-1:1,p=_o(t,e);let{mainAxis:x,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof w=="number"&&(v=d==="end"?w*-1:w),f?{x:v*m,y:x*h}:{x:x*h,y:v*m}}const qP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:c,middlewareData:d}=t,f=await $P(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:c}}}}},GP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:b=>{let{x:_,y:D}=b;return{x:_,y:D}}},...f}=_o(e,t),h={x:n,y:r},m=await mh(t,f),p=Ss(wo(i)),x=S1(p);let v=h[x],w=h[p];if(o){const b=x==="y"?"top":"left",_=x==="y"?"bottom":"right",D=v+m[b],C=v-m[_];v=Vb(D,v,C)}if(c){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",D=w+m[b],C=w-m[_];w=Vb(D,w,C)}const y=d.fn({...t,[x]:v,[p]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[x]:o,[p]:c}}}}}},XP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=_o(e,t),m={x:n,y:r},p=Ss(i),x=S1(p);let v=m[x],w=m[p];const y=_o(d,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const C=x==="y"?"height":"width",M=o.reference[x]-o.floating[C]+b.mainAxis,A=o.reference[x]+o.reference[C]-b.mainAxis;v<M?v=M:v>A&&(v=A)}if(h){var _,D;const C=x==="y"?"width":"height",M=D3.has(wo(i)),A=o.reference[p]-o.floating[C]+(M&&((_=c.offset)==null?void 0:_[p])||0)+(M?0:b.crossAxis),j=o.reference[p]+o.reference[C]+(M?0:((D=c.offset)==null?void 0:D[p])||0)-(M?b.crossAxis:0);w<A?w=A:w>j&&(w=j)}return{[x]:v,[p]:w}}}},KP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:c,elements:d}=t,{apply:f=()=>{},...h}=_o(e,t),m=await mh(t,h),p=wo(i),x=wu(i),v=Ss(i)==="y",{width:w,height:y}=o.floating;let b,_;p==="top"||p==="bottom"?(b=p,_=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(_=p,b=x==="end"?"top":"bottom");const D=y-m.top-m.bottom,C=w-m.left-m.right,M=wl(y-m[b],D),A=wl(w-m[_],C),j=!t.middlewareData.shift;let U=M,F=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(U=D),j&&!x){const $=ii(m.left,0),se=ii(m.right,0),I=ii(m.top,0),Q=ii(m.bottom,0);v?F=w-2*($!==0||se!==0?$+se:ii(m.left,m.right)):U=y-2*(I!==0||Q!==0?I+Q:ii(m.top,m.bottom))}await f({...t,availableWidth:F,availableHeight:U});const O=await c.getDimensions(d.floating);return w!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function lx(){return typeof window<"u"}function Du(e){return S3(e)?(e.nodeName||"").toLowerCase():"#document"}function ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(S3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function S3(e){return lx()?e instanceof Node||e instanceof ui(e).Node:!1}function as(e){return lx()?e instanceof Element||e instanceof ui(e).Element:!1}function Ns(e){return lx()?e instanceof HTMLElement||e instanceof ui(e).HTMLElement:!1}function US(e){return!lx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ui(e).ShadowRoot}const YP=new Set(["inline","contents"]);function Oh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=is(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!YP.has(i)}const ZP=new Set(["table","td","th"]);function QP(e){return ZP.has(Du(e))}const JP=[":popover-open",":modal"];function cx(e){return JP.some(t=>{try{return e.matches(t)}catch{return!1}})}const e9=["transform","translate","scale","rotate","perspective"],t9=["transform","translate","scale","rotate","perspective","filter"],n9=["paint","layout","strict","content"];function E1(e){const t=N1(),n=as(e)?is(e):e;return e9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||t9.some(r=>(n.willChange||"").includes(r))||n9.some(r=>(n.contain||"").includes(r))}function r9(e){let t=Dl(e);for(;Ns(t)&&!yu(t);){if(E1(t))return t;if(cx(t))return null;t=Dl(t)}return null}function N1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const a9=new Set(["html","body","#document"]);function yu(e){return a9.has(Du(e))}function is(e){return ui(e).getComputedStyle(e)}function dx(e){return as(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dl(e){if(Du(e)==="html")return e;const t=e.assignedSlot||e.parentNode||US(e)&&e.host||Us(e);return US(t)?t.host:t}function C3(e){const t=Dl(e);return yu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&Oh(t)?t:C3(t)}function xh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=C3(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),c=ui(i);if(o){const d=zb(c);return t.concat(c,c.visualViewport||[],Oh(i)?i:[],d&&n?xh(d):[])}return t.concat(i,xh(i,[],n))}function zb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function T3(e){const t=is(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ns(e),o=i?e.offsetWidth:n,c=i?e.offsetHeight:r,d=km(n)!==o||km(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function A1(e){return as(e)?e:e.contextElement}function fu(e){const t=A1(e);if(!Ns(t))return Ts(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=T3(t);let c=(o?km(n.width):n.width)/r,d=(o?km(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const i9=Ts(0);function E3(e){const t=ui(e);return!N1()||!t.visualViewport?i9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function s9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ui(e)?!1:t}function Pc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=A1(e);let c=Ts(1);t&&(r?as(r)&&(c=fu(r)):c=fu(e));const d=s9(o,n,r)?E3(o):Ts(0);let f=(i.left+d.x)/c.x,h=(i.top+d.y)/c.y,m=i.width/c.x,p=i.height/c.y;if(o){const x=ui(o),v=r&&as(r)?ui(r):r;let w=x,y=zb(w);for(;y&&r&&v!==w;){const b=fu(y),_=y.getBoundingClientRect(),D=is(y),C=_.left+(y.clientLeft+parseFloat(D.paddingLeft))*b.x,M=_.top+(y.clientTop+parseFloat(D.paddingTop))*b.y;f*=b.x,h*=b.y,m*=b.x,p*=b.y,f+=C,h+=M,w=ui(y),y=zb(w)}}return Rm({width:m,height:p,x:f,y:h})}function ux(e,t){const n=dx(e).scrollLeft;return t?t.left+n:Pc(Us(e)).left+n}function N3(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-ux(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function o9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",c=Us(r),d=t?cx(t.floating):!1;if(r===c||d&&o)return n;let f={scrollLeft:0,scrollTop:0},h=Ts(1);const m=Ts(0),p=Ns(r);if((p||!p&&!o)&&((Du(r)!=="body"||Oh(c))&&(f=dx(r)),Ns(r))){const v=Pc(r);h=fu(r),m.x=v.x+r.clientLeft,m.y=v.y+r.clientTop}const x=c&&!p&&!o?N3(c,f):Ts(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-f.scrollTop*h.y+m.y+x.y}}function l9(e){return Array.from(e.getClientRects())}function c9(e){const t=Us(e),n=dx(e),r=e.ownerDocument.body,i=ii(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ii(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+ux(e);const d=-n.scrollTop;return is(r).direction==="rtl"&&(c+=ii(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:c,y:d}}const kS=25;function d9(e,t){const n=ui(e),r=Us(e),i=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,f=0;if(i){o=i.width,c=i.height;const m=N1();(!m||m&&t==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const h=ux(r);if(h<=0){const m=r.ownerDocument,p=m.body,x=getComputedStyle(p),v=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-v);w<=kS&&(o-=w)}else h<=kS&&(o+=h);return{width:o,height:c,x:d,y:f}}const u9=new Set(["absolute","fixed"]);function f9(e,t){const n=Pc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ns(e)?fu(e):Ts(1),c=e.clientWidth*o.x,d=e.clientHeight*o.y,f=i*o.x,h=r*o.y;return{width:c,height:d,x:f,y:h}}function jS(e,t,n){let r;if(t==="viewport")r=d9(e,n);else if(t==="document")r=c9(Us(e));else if(as(t))r=f9(t,n);else{const i=E3(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rm(r)}function A3(e,t){const n=Dl(e);return n===t||!as(n)||yu(n)?!1:is(n).position==="fixed"||A3(n,t)}function h9(e,t){const n=t.get(e);if(n)return n;let r=xh(e,[],!1).filter(d=>as(d)&&Du(d)!=="body"),i=null;const o=is(e).position==="fixed";let c=o?Dl(e):e;for(;as(c)&&!yu(c);){const d=is(c),f=E1(c);!f&&d.position==="fixed"&&(i=null),(o?!f&&!i:!f&&d.position==="static"&&!!i&&u9.has(i.position)||Oh(c)&&!f&&A3(e,c))?r=r.filter(m=>m!==c):i=d,c=Dl(c)}return t.set(e,r),r}function p9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const c=[...n==="clippingAncestors"?cx(t)?[]:h9(t,this._c):[].concat(n),r],d=c[0],f=c.reduce((h,m)=>{const p=jS(t,m,i);return h.top=ii(p.top,h.top),h.right=wl(p.right,h.right),h.bottom=wl(p.bottom,h.bottom),h.left=ii(p.left,h.left),h},jS(t,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function g9(e){const{width:t,height:n}=T3(e);return{width:t,height:n}}function m9(e,t,n){const r=Ns(t),i=Us(t),o=n==="fixed",c=Pc(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const f=Ts(0);function h(){f.x=ux(i)}if(r||!r&&!o)if((Du(t)!=="body"||Oh(i))&&(d=dx(t)),r){const v=Pc(t,!0,o,t);f.x=v.x+t.clientLeft,f.y=v.y+t.clientTop}else i&&h();o&&!r&&i&&h();const m=i&&!r&&!o?N3(i,d):Ts(0),p=c.left+d.scrollLeft-f.x-m.x,x=c.top+d.scrollTop-f.y-m.y;return{x:p,y:x,width:c.width,height:c.height}}function q0(e){return is(e).position==="static"}function RS(e,t){if(!Ns(e)||is(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Us(e)===n&&(n=n.ownerDocument.body),n}function M3(e,t){const n=ui(e);if(cx(e))return n;if(!Ns(e)){let i=Dl(e);for(;i&&!yu(i);){if(as(i)&&!q0(i))return i;i=Dl(i)}return n}let r=RS(e,t);for(;r&&QP(r)&&q0(r);)r=RS(r,t);return r&&yu(r)&&q0(r)&&!E1(r)?n:r||r9(e)||n}const x9=async function(e){const t=this.getOffsetParent||M3,n=this.getDimensions,r=await n(e.floating);return{reference:m9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y9(e){return is(e).direction==="rtl"}const v9={convertOffsetParentRelativeRectToViewportRelativeRect:o9,getDocumentElement:Us,getClippingRect:p9,getOffsetParent:M3,getElementRects:x9,getClientRects:l9,getDimensions:g9,getScale:fu,isElement:as,isRTL:y9};function U3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function b9(e,t){let n=null,r;const i=Us(e);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:v}=h;if(d||t(),!x||!v)return;const w=pg(p),y=pg(i.clientWidth-(m+x)),b=pg(i.clientHeight-(p+v)),_=pg(m),C={rootMargin:-w+"px "+-y+"px "+-b+"px "+-_+"px",threshold:ii(0,wl(1,f))||1};let M=!0;function A(j){const U=j[0].intersectionRatio;if(U!==f){if(!M)return c();U?c(!1,U):r=setTimeout(()=>{c(!1,1e-7)},1e3)}U===1&&!U3(h,e.getBoundingClientRect())&&c(),M=!1}try{n=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(e)}return c(!0),o}function _9(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=A1(e),m=i||o?[...h?xh(h):[],...xh(t)]:[];m.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const p=h&&d?b9(h,n):null;let x=-1,v=null;c&&(v=new ResizeObserver(_=>{let[D]=_;D&&D.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),n()}),h&&!f&&v.observe(h),v.observe(t));let w,y=f?Pc(e):null;f&&b();function b(){const _=Pc(e);y&&!U3(y,_)&&n(),y=_,w=requestAnimationFrame(b)}return n(),()=>{var _;m.forEach(D=>{i&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),p?.(),(_=v)==null||_.disconnect(),v=null,f&&cancelAnimationFrame(w)}}const w9=qP,D9=GP,S9=WP,C9=KP,T9=zP,PS=VP,E9=XP,N9=(e,t,n)=>{const r=new Map,i={platform:v9,...n},o={...i.platform,_c:r};return BP(e,t,{...i,platform:o})};var A9=typeof document<"u",M9=function(){},Qg=A9?N.useLayoutEffect:M9;function Pm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Pm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function k3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OS(e,t){const n=k3(e);return Math.round(t*n)/n}function G0(e){const t=N.useRef(e);return Qg(()=>{t.current=e}),t}function U9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[m,p]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,v]=N.useState(r);Pm(x,r)||v(r);const[w,y]=N.useState(null),[b,_]=N.useState(null),D=N.useCallback(q=>{q!==j.current&&(j.current=q,y(q))},[]),C=N.useCallback(q=>{q!==U.current&&(U.current=q,_(q))},[]),M=o||w,A=c||b,j=N.useRef(null),U=N.useRef(null),F=N.useRef(m),O=f!=null,$=G0(f),se=G0(i),I=G0(h),Q=N.useCallback(()=>{if(!j.current||!U.current)return;const q={placement:t,strategy:n,middleware:x};se.current&&(q.platform=se.current),N9(j.current,U.current,q).then(ee=>{const xe={...ee,isPositioned:I.current!==!1};k.current&&!Pm(F.current,xe)&&(F.current=xe,Rh.flushSync(()=>{p(xe)}))})},[x,t,n,se,I]);Qg(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(q=>({...q,isPositioned:!1})))},[h]);const k=N.useRef(!1);Qg(()=>(k.current=!0,()=>{k.current=!1}),[]),Qg(()=>{if(M&&(j.current=M),A&&(U.current=A),M&&A){if($.current)return $.current(M,A,Q);Q()}},[M,A,Q,$,O]);const ae=N.useMemo(()=>({reference:j,floating:U,setReference:D,setFloating:C}),[D,C]),H=N.useMemo(()=>({reference:M,floating:A}),[M,A]),G=N.useMemo(()=>{const q={position:n,left:0,top:0};if(!H.floating)return q;const ee=OS(H.floating,m.x),xe=OS(H.floating,m.y);return d?{...q,transform:"translate("+ee+"px, "+xe+"px)",...k3(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:xe}},[n,d,H.floating,m.x,m.y]);return N.useMemo(()=>({...m,update:Q,refs:ae,elements:H,floatingStyles:G}),[m,Q,ae,H,G])}const k9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PS({element:r.current,padding:i}).fn(n):{}:r?PS({element:r,padding:i}).fn(n):{}}}},j9=(e,t)=>({...w9(e),options:[e,t]}),R9=(e,t)=>({...D9(e),options:[e,t]}),P9=(e,t)=>({...E9(e),options:[e,t]}),O9=(e,t)=>({...S9(e),options:[e,t]}),I9=(e,t)=>({...C9(e),options:[e,t]}),F9=(e,t)=>({...T9(e),options:[e,t]}),L9=(e,t)=>({...k9(e),options:[e,t]});var H9="Arrow",j3=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return l.jsx(gn.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});j3.displayName=H9;var B9=j3;function R3(e){const[t,n]=N.useState(void 0);return oa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,d;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,d=h.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var M1="Popper",[P3,Su]=Ms(M1),[V9,O3]=P3(M1),I3=e=>{const{__scopePopper:t,children:n}=e,[r,i]=N.useState(null);return l.jsx(V9,{scope:t,anchor:r,onAnchorChange:i,children:n})};I3.displayName=M1;var F3="PopperAnchor",L3=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=O3(F3,n),c=N.useRef(null),d=Nn(t,c),f=N.useRef(null);return N.useEffect(()=>{const h=f.current;f.current=r?.current||c.current,h!==f.current&&o.onAnchorChange(f.current)}),r?null:l.jsx(gn.div,{...i,ref:d})});L3.displayName=F3;var U1="PopperContent",[W9,z9]=P3(U1),H3=N.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,b=O3(U1,n),[_,D]=N.useState(null),C=Nn(t,Ee=>D(Ee)),[M,A]=N.useState(null),j=R3(M),U=j?.width??0,F=j?.height??0,O=r+(o!=="center"?"-"+o:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},se=Array.isArray(h)?h:[h],I=se.length>0,Q={padding:$,boundary:se.filter(q9),altBoundary:I},{refs:k,floatingStyles:ae,placement:H,isPositioned:G,middlewareData:q}=U9({strategy:"fixed",placement:O,whileElementsMounted:(...Ee)=>_9(...Ee,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[j9({mainAxis:i+F,alignmentAxis:c}),f&&R9({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?P9():void 0,...Q}),f&&O9({...Q}),I9({...Q,apply:({elements:Ee,rects:He,availableWidth:Qe,availableHeight:at})=>{const{width:Ie,height:tt}=He.reference,nt=Ee.floating.style;nt.setProperty("--radix-popper-available-width",`${Qe}px`),nt.setProperty("--radix-popper-available-height",`${at}px`),nt.setProperty("--radix-popper-anchor-width",`${Ie}px`),nt.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),M&&L9({element:M,padding:d}),G9({arrowWidth:U,arrowHeight:F}),x&&F9({strategy:"referenceHidden",...Q})]}),[ee,xe]=W3(H),B=Es(w);oa(()=>{G&&B?.()},[G,B]);const te=q.arrow?.x,J=q.arrow?.y,de=q.arrow?.centerOffset!==0,[_e,Oe]=N.useState();return oa(()=>{_&&Oe(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:G?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(W9,{scope:n,placedSide:ee,onArrowChange:A,arrowX:te,arrowY:J,shouldHideArrow:de,children:l.jsx(gn.div,{"data-side":ee,"data-align":xe,...y,ref:C,style:{...y.style,animation:G?void 0:"none"}})})})});H3.displayName=U1;var B3="PopperArrow",$9={top:"bottom",right:"left",bottom:"top",left:"right"},V3=N.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=z9(B3,r),c=$9[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(B9,{...i,ref:n,style:{...i.style,display:"block"}})})});V3.displayName=B3;function q9(e){return e!==null}var G9=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,c=i.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[h,m]=W3(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(i.arrow?.x??0)+d/2,v=(i.arrow?.y??0)+f/2;let w="",y="";return h==="bottom"?(w=c?p:`${x}px`,y=`${-f}px`):h==="top"?(w=c?p:`${x}px`,y=`${r.floating.height+f}px`):h==="right"?(w=`${-f}px`,y=c?p:`${v}px`):h==="left"&&(w=`${r.floating.width+f}px`,y=c?p:`${v}px`),{data:{x:w,y}}}});function W3(e){const[t,n="center"]=e.split("-");return[t,n]}var k1=I3,j1=L3,R1=H3,P1=V3,X9="Portal",Ih=N.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=N.useState(!1);oa(()=>o(!0),[]);const c=n||i&&globalThis?.document?.body;return c?y3.createPortal(l.jsx(gn.div,{...r,ref:t}),c):null});Ih.displayName=X9;function K9(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var ls=e=>{const{present:t,children:n}=e,r=Y9(t),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),o=Nn(r.ref,Z9(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:o}):null};ls.displayName="Presence";function Y9(e){const[t,n]=N.useState(),r=N.useRef(null),i=N.useRef(e),o=N.useRef("none"),c=e?"mounted":"unmounted",[d,f]=K9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=gg(r.current);o.current=d==="mounted"?h:"none"},[d]),oa(()=>{const h=r.current,m=i.current;if(m!==e){const x=o.current,v=gg(h);e?f("MOUNT"):v==="none"||h?.display==="none"?f("UNMOUNT"):f(m&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),oa(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=v=>{const y=gg(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(f("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},x=v=>{v.target===t&&(o.current=gg(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function gg(e){return e?.animationName||"none"}function Z9(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Q9=Symbol("radix.slottable");function J9(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Q9,t}var eO=Mh[" useInsertionEffect ".trim().toString()]||oa;function Oc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,c]=tO({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:i;{const m=N.useRef(e!==void 0);N.useEffect(()=>{const p=m.current;p!==d&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,r])}const h=N.useCallback(m=>{if(d){const p=nO(m)?m(e):m;p!==e&&c.current?.(p)}else o(m)},[d,e,o,c]);return[f,h]}function tO({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(n),o=N.useRef(t);return eO(()=>{o.current=t},[t]),N.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function nO(e){return typeof e=="function"}var z3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rO="VisuallyHidden",$3=N.forwardRef((e,t)=>l.jsx(gn.span,{...e,ref:t,style:{...z3,...e.style}}));$3.displayName=rO;var aO=$3,[fx]=Ms("Tooltip",[Su]),hx=Su(),q3="TooltipProvider",iO=700,$b="tooltip.open",[sO,O1]=fx(q3),G3=e=>{const{__scopeTooltip:t,delayDuration:n=iO,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,c=N.useRef(!0),d=N.useRef(!1),f=N.useRef(0);return N.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),l.jsx(sO,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:N.useCallback(h=>{d.current=h},[]),disableHoverableContent:i,children:o})};G3.displayName=q3;var yh="Tooltip",[oO,Fh]=fx(yh),X3=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:c,delayDuration:d}=e,f=O1(yh,e.__scopeTooltip),h=hx(t),[m,p]=N.useState(null),x=Cs(),v=N.useRef(0),w=c??f.disableHoverableContent,y=d??f.delayDuration,b=N.useRef(!1),[_,D]=Oc({prop:r,defaultProp:i??!1,onChange:U=>{U?(f.onOpen(),document.dispatchEvent(new CustomEvent($b))):f.onClose(),o?.(U)},caller:yh}),C=N.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),M=N.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,D(!0)},[D]),A=N.useCallback(()=>{window.clearTimeout(v.current),v.current=0,D(!1)},[D]),j=N.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,D(!0),v.current=0},y)},[y,D]);return N.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),l.jsx(k1,{...h,children:l.jsx(oO,{scope:t,contentId:x,open:_,stateAttribute:C,trigger:m,onTriggerChange:p,onTriggerEnter:N.useCallback(()=>{f.isOpenDelayedRef.current?j():M()},[f.isOpenDelayedRef,j,M]),onTriggerLeave:N.useCallback(()=>{w?A():(window.clearTimeout(v.current),v.current=0)},[A,w]),onOpen:M,onClose:A,disableHoverableContent:w,children:n})})};X3.displayName=yh;var qb="TooltipTrigger",K3=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Fh(qb,n),o=O1(qb,n),c=hx(n),d=N.useRef(null),f=Nn(t,d,i.onTriggerChange),h=N.useRef(!1),m=N.useRef(!1),p=N.useCallback(()=>h.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),l.jsx(j1,{asChild:!0,...c,children:l.jsx(gn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:Pt(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Pt(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Pt(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Pt(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Pt(e.onBlur,i.onClose),onClick:Pt(e.onClick,i.onClose)})})});K3.displayName=qb;var I1="TooltipPortal",[lO,cO]=fx(I1,{forceMount:void 0}),Y3=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=Fh(I1,t);return l.jsx(lO,{scope:t,forceMount:n,children:l.jsx(ls,{present:n||o.open,children:l.jsx(Ih,{asChild:!0,container:i,children:r})})})};Y3.displayName=I1;var vu="TooltipContent",Z3=N.forwardRef((e,t)=>{const n=cO(vu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,c=Fh(vu,e.__scopeTooltip);return l.jsx(ls,{present:r||c.open,children:c.disableHoverableContent?l.jsx(Q3,{side:i,...o,ref:t}):l.jsx(dO,{side:i,...o,ref:t})})}),dO=N.forwardRef((e,t)=>{const n=Fh(vu,e.__scopeTooltip),r=O1(vu,e.__scopeTooltip),i=N.useRef(null),o=Nn(t,i),[c,d]=N.useState(null),{trigger:f,onClose:h}=n,m=i.current,{onPointerInTransitChange:p}=r,x=N.useCallback(()=>{d(null),p(!1)},[p]),v=N.useCallback((w,y)=>{const b=w.currentTarget,_={x:w.clientX,y:w.clientY},D=pO(_,b.getBoundingClientRect()),C=gO(_,D),M=mO(y.getBoundingClientRect()),A=yO([...C,...M]);d(A),p(!0)},[p]);return N.useEffect(()=>()=>x(),[x]),N.useEffect(()=>{if(f&&m){const w=b=>v(b,m),y=b=>v(b,f);return f.addEventListener("pointerleave",w),m.addEventListener("pointerleave",y),()=>{f.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",y)}}},[f,m,v,x]),N.useEffect(()=>{if(c){const w=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},D=f?.contains(b)||m?.contains(b),C=!xO(_,c);D?x():C&&(x(),h())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[f,m,c,h,x]),l.jsx(Q3,{...e,ref:o})}),[uO,fO]=fx(yh,{isInside:!1}),hO=J9("TooltipContent"),Q3=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:c,...d}=e,f=Fh(vu,n),h=hx(n),{onClose:m}=f;return N.useEffect(()=>(document.addEventListener($b,m),()=>document.removeEventListener($b,m)),[m]),N.useEffect(()=>{if(f.trigger){const p=x=>{x.target?.contains(f.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[f.trigger,m]),l.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:l.jsxs(R1,{"data-state":f.stateAttribute,...h,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(hO,{children:r}),l.jsx(uO,{scope:n,isInside:!0,children:l.jsx(aO,{id:f.contentId,role:"tooltip",children:i||r})})]})})});Z3.displayName=vu;var J3="TooltipArrow",eA=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=hx(n);return fO(J3,n).isInside?null:l.jsx(P1,{...i,...r,ref:t})});eA.displayName=J3;function pO(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mO(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function xO(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const d=t[o],f=t[c],h=d.x,m=d.y,p=f.x,x=f.y;m>r!=x>r&&n<(p-h)*(r-m)/(x-m)+h&&(i=!i)}return i}function yO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vO(t)}function vO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var bO=G3,_O=X3,wO=K3,DO=Y3,SO=Z3,CO=eA;function tA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nA(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tA(e))&&(r&&(r+=" "),r+=t);return r}const TO=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},EO=(e,t)=>({classGroupId:e,validator:t}),rA=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Om="-",IS=[],NO="arbitrary..",AO=e=>{const t=UO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return MO(c);const d=c.split(Om),f=d[0]===""&&d.length>1?1:0;return aA(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=r[c],h=n[c];return f?h?TO(h,f):f:h||IS}return n[c]||IS}}},aA=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],o=n.nextPart.get(i);if(o){const h=aA(e,t+1,o);if(h)return h}const c=n.validators;if(c===null)return;const d=t===0?e.join(Om):e.slice(t).join(Om),f=c.length;for(let h=0;h<f;h++){const m=c[h];if(m.validator(d))return m.classGroupId}},MO=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?NO+r:void 0})(),UO=e=>{const{theme:t,classGroups:n}=e;return kO(n,t)},kO=(e,t)=>{const n=rA();for(const r in e){const i=e[r];F1(i,n,r,t)}return n},F1=(e,t,n,r)=>{const i=e.length;for(let o=0;o<i;o++){const c=e[o];jO(c,t,n,r)}},jO=(e,t,n,r)=>{if(typeof e=="string"){RO(e,t,n);return}if(typeof e=="function"){PO(e,t,n,r);return}OO(e,t,n,r)},RO=(e,t,n)=>{const r=e===""?t:iA(t,e);r.classGroupId=n},PO=(e,t,n,r)=>{if(IO(e)){F1(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(EO(n,e))},OO=(e,t,n,r)=>{const i=Object.entries(e),o=i.length;for(let c=0;c<o;c++){const[d,f]=i[c];F1(f,iA(t,d),n,r)}},iA=(e,t)=>{let n=e;const r=t.split(Om),i=r.length;for(let o=0;o<i;o++){const c=r[o];let d=n.nextPart.get(c);d||(d=rA(),n.nextPart.set(c,d)),n=d}return n},IO=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,FO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(o,c)=>{n[o]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=r[o])!==void 0)return i(o,c),c},set(o,c){o in n?n[o]=c:i(o,c)}}},Gb="!",FS=":",LO=[],LS=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),HO=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let c=0,d=0,f=0,h;const m=i.length;for(let y=0;y<m;y++){const b=i[y];if(c===0&&d===0){if(b===FS){o.push(i.slice(f,y)),f=y+1;continue}if(b==="/"){h=y;continue}}b==="["?c++:b==="]"?c--:b==="("?d++:b===")"&&d--}const p=o.length===0?i:i.slice(f);let x=p,v=!1;p.endsWith(Gb)?(x=p.slice(0,-1),v=!0):p.startsWith(Gb)&&(x=p.slice(1),v=!0);const w=h&&h>f?h-f:void 0;return LS(o,v,x,w)};if(t){const i=t+FS,o=r;r=c=>c.startsWith(i)?o(c.slice(i.length)):LS(LO,!1,c,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},BO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",f=t.has(c);d||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(c)):i.push(c)}return i.length>0&&(i.sort(),r.push(...i)),r}},VO=e=>({cache:FO(e.cacheSize),parseClassName:HO(e),sortModifiers:BO(e),...AO(e)}),WO=/\s+/,zO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,c=[],d=e.trim().split(WO);let f="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:p,modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}=n(m);if(p){f=m+(f.length>0?" "+f:f);continue}let b=!!y,_=r(b?w.substring(0,y):w);if(!_){if(!b){f=m+(f.length>0?" "+f:f);continue}if(_=r(w),!_){f=m+(f.length>0?" "+f:f);continue}b=!1}const D=x.length===0?"":x.length===1?x[0]:o(x).join(":"),C=v?D+Gb:D,M=C+_;if(c.indexOf(M)>-1)continue;c.push(M);const A=i(_,b);for(let j=0;j<A.length;++j){const U=A[j];c.push(C+U)}f=m+(f.length>0?" "+f:f)}return f},$O=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=sA(n))&&(i&&(i+=" "),i+=r);return i},sA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=sA(e[r]))&&(n&&(n+=" "),n+=t);return n},qO=(e,...t)=>{let n,r,i,o;const c=f=>{const h=t.reduce((m,p)=>p(m),e());return n=VO(h),r=n.cache.get,i=n.cache.set,o=d,d(f)},d=f=>{const h=r(f);if(h)return h;const m=zO(f,n);return i(f,m),m};return o=c,(...f)=>o($O(...f))},GO=[],Or=e=>{const t=n=>n[e]||GO;return t.isThemeGetter=!0,t},oA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XO=/^\d+\/\d+$/,KO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yd=e=>XO.test(e),hn=e=>!!e&&!Number.isNaN(Number(e)),ll=e=>!!e&&Number.isInteger(Number(e)),X0=e=>e.endsWith("%")&&hn(e.slice(0,-1)),po=e=>KO.test(e),eI=()=>!0,tI=e=>YO.test(e)&&!ZO.test(e),cA=()=>!1,nI=e=>QO.test(e),rI=e=>JO.test(e),aI=e=>!Ft(e)&&!Lt(e),iI=e=>Cu(e,fA,cA),Ft=e=>oA.test(e),mc=e=>Cu(e,hA,tI),K0=e=>Cu(e,dI,hn),HS=e=>Cu(e,dA,cA),sI=e=>Cu(e,uA,rI),mg=e=>Cu(e,pA,nI),Lt=e=>lA.test(e),Uf=e=>Tu(e,hA),oI=e=>Tu(e,uI),BS=e=>Tu(e,dA),lI=e=>Tu(e,fA),cI=e=>Tu(e,uA),xg=e=>Tu(e,pA,!0),Cu=(e,t,n)=>{const r=oA.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Tu=(e,t,n=!1)=>{const r=lA.exec(e);return r?r[1]?t(r[1]):n:!1},dA=e=>e==="position"||e==="percentage",uA=e=>e==="image"||e==="url",fA=e=>e==="length"||e==="size"||e==="bg-size",hA=e=>e==="length",dI=e=>e==="number",uI=e=>e==="family-name",pA=e=>e==="shadow",fI=()=>{const e=Or("color"),t=Or("font"),n=Or("text"),r=Or("font-weight"),i=Or("tracking"),o=Or("leading"),c=Or("breakpoint"),d=Or("container"),f=Or("spacing"),h=Or("radius"),m=Or("shadow"),p=Or("inset-shadow"),x=Or("text-shadow"),v=Or("drop-shadow"),w=Or("blur"),y=Or("perspective"),b=Or("aspect"),_=Or("ease"),D=Or("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...M(),Lt,Ft],j=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],F=()=>[Lt,Ft,f],O=()=>[Yd,"full","auto",...F()],$=()=>[ll,"none","subgrid",Lt,Ft],se=()=>["auto",{span:["full",ll,Lt,Ft]},ll,Lt,Ft],I=()=>[ll,"auto",Lt,Ft],Q=()=>["auto","min","max","fr",Lt,Ft],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...F()],G=()=>[Yd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],q=()=>[e,Lt,Ft],ee=()=>[...M(),BS,HS,{position:[Lt,Ft]}],xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",lI,iI,{size:[Lt,Ft]}],te=()=>[X0,Uf,mc],J=()=>["","none","full",h,Lt,Ft],de=()=>["",hn,Uf,mc],_e=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ee=()=>[hn,X0,BS,HS],He=()=>["","none",w,Lt,Ft],Qe=()=>["none",hn,Lt,Ft],at=()=>["none",hn,Lt,Ft],Ie=()=>[hn,Lt,Ft],tt=()=>[Yd,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[po],breakpoint:[po],color:[eI],container:[po],"drop-shadow":[po],ease:["in","out","in-out"],font:[aI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[po],shadow:[po],spacing:["px",hn],text:[po],"text-shadow":[po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yd,Ft,Lt,b]}],container:["container"],columns:[{columns:[hn,Ft,Lt,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[ll,"auto",Lt,Ft]}],basis:[{basis:[Yd,"full","auto",d,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[hn,Yd,"auto","initial","none",Ft]}],grow:[{grow:["",hn,Lt,Ft]}],shrink:[{shrink:["",hn,Lt,Ft]}],order:[{order:[ll,"first","last","none",Lt,Ft]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[d,"screen",...G()]}],"min-w":[{"min-w":[d,"screen","none",...G()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Uf,mc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Lt,K0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",X0,Ft]}],"font-family":[{font:[oI,Ft,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Lt,Ft]}],"line-clamp":[{"line-clamp":[hn,"none",Lt,K0]}],leading:[{leading:[o,...F()]}],"list-image":[{"list-image":["none",Lt,Ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Lt,Ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[hn,"from-font","auto",Lt,mc]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[hn,"auto",Lt,Ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt,Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt,Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:xe()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ll,Lt,Ft],radial:["",Lt,Ft],conic:[ll,Lt,Ft]},cI,sI]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[hn,Lt,Ft]}],"outline-w":[{outline:["",hn,Uf,mc]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",m,xg,mg]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",p,xg,mg]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[hn,mc]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",x,xg,mg]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[hn,Lt,Ft]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[hn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ee()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":Ee()}],"mask-image-t-to-pos":[{"mask-t-to":Ee()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":Ee()}],"mask-image-r-to-pos":[{"mask-r-to":Ee()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":Ee()}],"mask-image-b-to-pos":[{"mask-b-to":Ee()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":Ee()}],"mask-image-l-to-pos":[{"mask-l-to":Ee()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":Ee()}],"mask-image-x-to-pos":[{"mask-x-to":Ee()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":Ee()}],"mask-image-y-to-pos":[{"mask-y-to":Ee()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Lt,Ft]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ee()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[hn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ee()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:xe()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Lt,Ft]}],filter:[{filter:["","none",Lt,Ft]}],blur:[{blur:He()}],brightness:[{brightness:[hn,Lt,Ft]}],contrast:[{contrast:[hn,Lt,Ft]}],"drop-shadow":[{"drop-shadow":["","none",v,xg,mg]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",hn,Lt,Ft]}],"hue-rotate":[{"hue-rotate":[hn,Lt,Ft]}],invert:[{invert:["",hn,Lt,Ft]}],saturate:[{saturate:[hn,Lt,Ft]}],sepia:[{sepia:["",hn,Lt,Ft]}],"backdrop-filter":[{"backdrop-filter":["","none",Lt,Ft]}],"backdrop-blur":[{"backdrop-blur":He()}],"backdrop-brightness":[{"backdrop-brightness":[hn,Lt,Ft]}],"backdrop-contrast":[{"backdrop-contrast":[hn,Lt,Ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",hn,Lt,Ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[hn,Lt,Ft]}],"backdrop-invert":[{"backdrop-invert":["",hn,Lt,Ft]}],"backdrop-opacity":[{"backdrop-opacity":[hn,Lt,Ft]}],"backdrop-saturate":[{"backdrop-saturate":[hn,Lt,Ft]}],"backdrop-sepia":[{"backdrop-sepia":["",hn,Lt,Ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Lt,Ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[hn,"initial",Lt,Ft]}],ease:[{ease:["linear","initial",_,Lt,Ft]}],delay:[{delay:[hn,Lt,Ft]}],animate:[{animate:["none",D,Lt,Ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Lt,Ft]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:at()}],"scale-x":[{"scale-x":at()}],"scale-y":[{"scale-y":at()}],"scale-z":[{"scale-z":at()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[Lt,Ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt,Ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt,Ft]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[hn,Uf,mc,K0]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hI=qO(fI);function wn(...e){return hI(nA(e))}function L1({delayDuration:e=0,...t}){return l.jsx(bO,{"data-loc":"client/src/components/ui/tooltip.tsx:11","data-slot":"tooltip-provider",delayDuration:e,...t})}function Y0({...e}){return l.jsx(L1,{"data-loc":"client/src/components/ui/tooltip.tsx:23",children:l.jsx(_O,{"data-loc":"client/src/components/ui/tooltip.tsx:24","data-slot":"tooltip",...e})})}function Z0({...e}){return l.jsx(wO,{"data-loc":"client/src/components/ui/tooltip.tsx:32","data-slot":"tooltip-trigger",...e})}function Q0({className:e,sideOffset:t=0,children:n,...r}){return l.jsx(DO,{"data-loc":"client/src/components/ui/tooltip.tsx:42",children:l.jsxs(SO,{"data-loc":"client/src/components/ui/tooltip.tsx:43","data-slot":"tooltip-content",sideOffset:t,className:wn("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,l.jsx(CO,{"data-loc":"client/src/components/ui/tooltip.tsx:53",className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var pI=Symbol.for("react.lazy"),Im=Mh[" use ".trim().toString()];function gI(e){return typeof e=="object"&&e!==null&&"then"in e}function gA(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===pI&&"_payload"in e&&gI(e._payload)}function H1(e){const t=xI(e),n=N.forwardRef((r,i)=>{let{children:o,...c}=r;gA(o)&&typeof Im=="function"&&(o=Im(o._payload));const d=N.Children.toArray(o),f=d.find(vI);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var mI=H1("Slot");function xI(e){const t=N.forwardRef((n,r)=>{let{children:i,...o}=n;if(gA(i)&&typeof Im=="function"&&(i=Im(i._payload)),N.isValidElement(i)){const c=_I(i),d=bI(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yI=Symbol("radix.slottable");function vI(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yI}function bI(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function _I(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const VS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WS=nA,wI=(e,t)=>n=>{var r;if(t?.variants==null)return WS(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,c=Object.keys(i).map(h=>{const m=n?.[h],p=o?.[h];if(m===null)return null;const x=VS(m)||VS(p);return i[h][x]}),d=n&&Object.entries(n).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),f=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:p,className:x,...v}=m;return Object.entries(v).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...d}[y]):{...o,...d}[y]===b})?[...h,p,x]:h},[]);return WS(e,c,f,n?.class,n?.className)},B1=wI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-transparent shadow-xs hover:bg-accent dark:bg-transparent dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ke({className:e,variant:t,size:n,asChild:r=!1,...i}){const o=r?mI:"button";return l.jsx(o,{"data-loc":"client/src/components/ui/button.tsx:52","data-slot":"button",className:wn(B1({variant:t,size:n,className:e})),...i})}function lr({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:7","data-slot":"card",className:wn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function ya({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:20","data-slot":"card-header",className:wn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function va({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:33","data-slot":"card-title",className:wn("leading-none font-semibold",e),...t})}function ba({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:43","data-slot":"card-description",className:wn("text-muted-foreground text-sm",e),...t})}function fr({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/card.tsx:66","data-slot":"card-content",className:wn("px-6",e),...t})}const DI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mA=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");var SI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CI=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...SI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mA("lucide",i),...d},[...c.map(([h,m])=>N.createElement(h,m)),...Array.isArray(o)?o:[o]]));const tn=(e,t)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(CI,{ref:o,iconNode:t,className:mA(`lucide-${DI(e)}`,r),...i}));return n.displayName=`${e}`,n};const TI=tn("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const Ei=tn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const cu=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ni=tn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const yg=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const EI=tn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const NI=tn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const AI=tn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zS=tn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const MI=tn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Kf=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const $S=tn("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);const du=tn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const vg=tn("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Nc=tn("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const UI=tn("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const xA=tn("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const kI=tn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Xb=tn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Jg=tn("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);const jI=tn("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const or=tn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const qS=tn("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const GS=tn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Kb=tn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const RI=tn("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);const em=tn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const PI=tn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Ac=tn("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const yA=tn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const OI=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const bg=tn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const II=tn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const vA=tn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Yb=tn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const bA=tn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const XS=tn("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const KS=tn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const YS=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const vo=tn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _A=tn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Dc=tn("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const Cc=tn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const kf=tn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const ai=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const FI=tn("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const LI=tn("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function HI(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,c=[],d="",f=e.split("/");for(f[0]||f.shift();i=f.shift();)n=i[0],n==="*"?(c.push(n),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),c.push(i.substring(1,~r?r:~o?o:i.length)),d+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(d+=(~r?"?":"")+"\\"+i.substring(o))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var J0={exports:{}},ev={};var ZS;function BI(){if(ZS)return ev;ZS=1;var e=tx();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(p,x){var v=x(),w=r({inst:{value:v,getSnapshot:x}}),y=w[0].inst,b=w[1];return o(function(){y.value=v,y.getSnapshot=x,f(y)&&b({inst:y})},[p,v,x]),i(function(){return f(y)&&b({inst:y}),p(function(){f(y)&&b({inst:y})})},[p]),c(v),v}function f(p){var x=p.getSnapshot;p=p.value;try{var v=x();return!n(p,v)}catch{return!0}}function h(p,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return ev.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,ev}var QS;function VI(){return QS||(QS=1,J0.exports=BI()),J0.exports}var WI=VI();const zI=Mh.useInsertionEffect,$I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qI=$I?N.useLayoutEffect:N.useEffect,GI=zI||qI,wA=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return GI(()=>{t[0]=e}),t[1]},XI="popstate",V1="pushState",W1="replaceState",KI="hashchange",JS=[XI,V1,W1,KI],YI=e=>{for(const t of JS)addEventListener(t,e);return()=>{for(const t of JS)removeEventListener(t,e)}},DA=(e,t)=>WI.useSyncExternalStore(YI,e,t),eC=()=>location.search,ZI=({ssrSearch:e}={})=>DA(eC,e!=null?()=>e:eC),tC=()=>location.pathname,QI=({ssrPath:e}={})=>DA(tC,e!=null?()=>e:tC),JI=(e,{replace:t=!1,state:n=null}={})=>history[t?W1:V1](n,"",e),e7=(e={})=>[QI(e),JI],nC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[nC]>"u"){for(const e of[V1,W1]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,nC,{value:!0})}const t7=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",SA=(e="")=>e==="/"?"":e,n7=(e,t)=>e[0]==="~"?e.slice(1):SA(t)+e,r7=(e="",t)=>t7(rC(SA(e)),rC(t)),rC=e=>{try{return decodeURI(e)}catch{return e}},CA={hook:e7,searchHook:ZI,parser:HI,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},TA=N.createContext(CA),Lh=()=>N.useContext(TA),EA={},NA=N.createContext(EA),a7=()=>N.useContext(NA),px=e=>{const[t,n]=e.hook(e);return[r7(e.base,t),wA((r,i)=>e.aroundNav(n,n7(r,e.base),i))]},Eu=()=>px(Lh()),AA=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),c=i.exec(n)||[],[d,...f]=c;return d!==void 0?[!0,(()=>{const h=o!==!1?Object.fromEntries(o.map((p,x)=>[p,f[x]])):c.groups;let m={...f};return h&&Object.assign(m,h),m})(),...r?[d]:[]]:[!1,null]},i7=({children:e,...t})=>{const n=Lh(),r=t.hook?CA:n;let i=r;const[o,c=t.ssrSearch??""]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=c,t.ssrPath=o),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let d=N.useRef({}),f=d.current,h=f;for(let m in r){const p=m==="base"?r[m]+(t[m]??""):t[m]??r[m];f===h&&p!==h[m]&&(d.current=h={...h}),h[m]=p,(p!==r[m]||p!==i[m])&&(i=h)}return N.createElement(TA.Provider,{value:i,children:e})},aC=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,s7=e=>{let t=N.useRef(EA);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},Zd=({path:e,nest:t,match:n,...r})=>{const i=Lh(),[o]=px(i),[c,d,f]=n??AA(i.parser,e,o,t),h=s7({...a7(),...d});if(!c)return null;const m=f?N.createElement(i7,{base:f},aC(r,h)):aC(r,h);return N.createElement(NA.Provider,{value:h,children:m})};N.forwardRef((e,t)=>{const n=Lh(),[r,i]=px(n),{to:o="",href:c=o,onClick:d,asChild:f,children:h,className:m,replace:p,state:x,transition:v,...w}=e,y=wA(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(d?.(_),_.defaultPrevented||(_.preventDefault(),i(c,e)))}),b=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return f&&N.isValidElement(h)?N.cloneElement(h,{onClick:y,href:b}):N.createElement("a",{...w,onClick:y,href:b,className:m?.call?m(r===c):m,children:h,ref:t})});const MA=e=>Array.isArray(e)?e.flatMap(t=>MA(t&&t.type===N.Fragment?t.props.children:t)):[e],o7=({children:e,location:t})=>{const n=Lh(),[r]=px(n);for(const i of MA(e)){let o=0;if(N.isValidElement(i)&&(o=AA(n.parser,i.props.path,t||r,i.props.nest))[0])return N.cloneElement(i,{match:o})}return null};function iC(){const[,e]=Eu(),t=()=>{e("/")};return l.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:14",className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:l.jsx(lr,{"data-loc":"client/src/pages/NotFound.tsx:15",className:"w-full max-w-lg mx-4 shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:l.jsxs(fr,{"data-loc":"client/src/pages/NotFound.tsx:16",className:"pt-8 pb-8 text-center",children:[l.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:17",className:"flex justify-center mb-6",children:l.jsxs("div",{"data-loc":"client/src/pages/NotFound.tsx:18",className:"relative",children:[l.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:19",className:"absolute inset-0 bg-red-100 rounded-full animate-pulse"}),l.jsx(NI,{"data-loc":"client/src/pages/NotFound.tsx:20",className:"relative h-16 w-16 text-red-500"})]})}),l.jsx("h1",{"data-loc":"client/src/pages/NotFound.tsx:24",className:"text-4xl font-bold text-slate-900 mb-2",children:"404"}),l.jsx("h2",{"data-loc":"client/src/pages/NotFound.tsx:26",className:"text-xl font-semibold text-slate-700 mb-4",children:"Page Not Found"}),l.jsxs("p",{"data-loc":"client/src/pages/NotFound.tsx:30",className:"text-slate-600 mb-8 leading-relaxed",children:["Sorry, the page you are looking for doesn't exist.",l.jsx("br",{"data-loc":"client/src/pages/NotFound.tsx:32"}),"It may have been moved or deleted."]}),l.jsx("div",{"data-loc":"client/src/pages/NotFound.tsx:36",id:"not-found-button-group",className:"flex flex-col sm:flex-row gap-3 justify-center",children:l.jsxs(ke,{"data-loc":"client/src/pages/NotFound.tsx:40",onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:[l.jsx(kI,{"data-loc":"client/src/pages/NotFound.tsx:44",className:"w-4 h-4 mr-2"}),"Go Home"]})})]})})})}class l7 extends N.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?l.jsx("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:27",className:"flex items-center justify-center min-h-screen p-8 bg-background",children:l.jsxs("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:28",className:"flex flex-col items-center w-full max-w-2xl p-8",children:[l.jsx(_A,{"data-loc":"client/src/components/ErrorBoundary.tsx:29",size:48,className:"text-destructive mb-6 flex-shrink-0"}),l.jsx("h2",{"data-loc":"client/src/components/ErrorBoundary.tsx:34",className:"text-xl mb-4",children:"An unexpected error occurred."}),l.jsx("div",{"data-loc":"client/src/components/ErrorBoundary.tsx:36",className:"p-4 w-full rounded bg-muted overflow-auto mb-6",children:l.jsx("pre",{"data-loc":"client/src/components/ErrorBoundary.tsx:37",className:"text-sm text-muted-foreground whitespace-break-spaces",children:this.state.error?.stack})}),l.jsxs("button",{"data-loc":"client/src/components/ErrorBoundary.tsx:42",onClick:()=>window.location.reload(),className:wn("flex items-center gap-2 px-4 py-2 rounded-lg","bg-primary text-primary-foreground","hover:opacity-90 cursor-pointer"),children:[l.jsx(II,{"data-loc":"client/src/components/ErrorBoundary.tsx:50",size:16}),"Reload Page"]})]})}):this.props.children}}const c7=N.createContext(void 0);function d7({children:e,defaultTheme:t="light",switchable:n=!1}){const[r,i]=N.useState(()=>n&&localStorage.getItem("theme")||t);N.useEffect(()=>{const c=document.documentElement;r==="dark"?c.classList.add("dark"):c.classList.remove("dark"),n&&localStorage.setItem("theme",r)},[r,n]);const o=n?()=>{i(c=>c==="light"?"dark":"light")}:void 0;return l.jsx(c7.Provider,{"data-loc":"client/src/contexts/ThemeContext.tsx:52",value:{theme:r,toggleTheme:o,switchable:n},children:e})}const u7="modulepreload",f7=function(e){return"/"+e},sC={},h7=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=h;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");i=h(n.map(m=>{if(m=f7(m),m in sC)return;sC[m]=!0;const p=m.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":u7,p||(v.as="script"),v.crossOrigin="",v.href=m,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((w,y)=>{v.addEventListener("load",w),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return i.then(d=>{for(const f of d||[])f.status==="rejected"&&o(f.reason);return t().catch(o)})};function _g(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tv={exports:{}};var oC;function UA(){return oC||(oC=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function c(h,m){if(!i[h]){if(!r[h]){var p=typeof _g=="function"&&_g;if(!m&&p)return p(h,!0);if(d)return d(h,!0);var x=new Error("Cannot find module '"+h+"'");throw x.code="MODULE_NOT_FOUND",x}var v=i[h]={exports:{}};r[h][0].call(v.exports,function(w){var y=r[h][1][w];return c(y||w)},v,v.exports,n,r,i,o)}return i[h].exports}for(var d=typeof _g=="function"&&_g,f=0;f<o.length;f++)c(o[f]);return c})({1:[function(n,r,i){var o=n("./utils"),c=n("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(f){for(var h,m,p,x,v,w,y,b=[],_=0,D=f.length,C=D,M=o.getTypeOf(f)!=="string";_<f.length;)C=D-_,p=M?(h=f[_++],m=_<D?f[_++]:0,_<D?f[_++]:0):(h=f.charCodeAt(_++),m=_<D?f.charCodeAt(_++):0,_<D?f.charCodeAt(_++):0),x=h>>2,v=(3&h)<<4|m>>4,w=1<C?(15&m)<<2|p>>6:64,y=2<C?63&p:64,b.push(d.charAt(x)+d.charAt(v)+d.charAt(w)+d.charAt(y));return b.join("")},i.decode=function(f){var h,m,p,x,v,w,y=0,b=0,_="data:";if(f.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var D,C=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===d.charAt(64)&&C--,f.charAt(f.length-2)===d.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=c.uint8array?new Uint8Array(0|C):new Array(0|C);y<f.length;)h=d.indexOf(f.charAt(y++))<<2|(x=d.indexOf(f.charAt(y++)))>>4,m=(15&x)<<4|(v=d.indexOf(f.charAt(y++)))>>2,p=(3&v)<<6|(w=d.indexOf(f.charAt(y++))),D[b++]=h,v!==64&&(D[b++]=m),w!==64&&(D[b++]=p);return D}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),c=n("./stream/DataWorker"),d=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function h(m,p,x,v,w){this.compressedSize=m,this.uncompressedSize=p,this.crc32=x,this.compression=v,this.compressedContent=w}h.prototype={getContentWorker:function(){var m=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),p=this;return m.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,p,x){return m.pipe(new d).pipe(new f("uncompressedSize")).pipe(p.compressWorker(x)).pipe(new f("compressedSize")).withStreamInfo("compression",p)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),c=(function(){for(var d,f=[],h=0;h<256;h++){d=h;for(var m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;f[h]=d}return f})();r.exports=function(d,f){return d!==void 0&&d.length?o.getTypeOf(d)!=="string"?(function(h,m,p,x){var v=c,w=x+p;h^=-1;for(var y=x;y<w;y++)h=h>>>8^v[255&(h^m[y])];return-1^h})(0|f,d,d.length,0):(function(h,m,p,x){var v=c,w=x+p;h^=-1;for(var y=x;y<w;y++)h=h>>>8^v[255&(h^m.charCodeAt(y))];return-1^h})(0|f,d,d.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),d=n("./utils"),f=n("./stream/GenericWorker"),h=o?"uint8array":"array";function m(p,x){f.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=x,this.meta={}}i.magic="\b\0",d.inherits(m,f),m.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(h,p.data),!1)},m.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(x){p.push({data:x,meta:p.meta})}},i.compressWorker=function(p){return new m("Deflate",p)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(v,w){var y,b="";for(y=0;y<w;y++)b+=String.fromCharCode(255&v),v>>>=8;return b}function c(v,w,y,b,_,D){var C,M,A=v.file,j=v.compression,U=D!==h.utf8encode,F=d.transformTo("string",D(A.name)),O=d.transformTo("string",h.utf8encode(A.name)),$=A.comment,se=d.transformTo("string",D($)),I=d.transformTo("string",h.utf8encode($)),Q=O.length!==A.name.length,k=I.length!==$.length,ae="",H="",G="",q=A.dir,ee=A.date,xe={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(xe.crc32=v.crc32,xe.compressedSize=v.compressedSize,xe.uncompressedSize=v.uncompressedSize);var B=0;w&&(B|=8),U||!Q&&!k||(B|=2048);var te=0,J=0;q&&(te|=16),_==="UNIX"?(J=798,te|=(function(_e,Oe){var Ee=_e;return _e||(Ee=Oe?16893:33204),(65535&Ee)<<16})(A.unixPermissions,q)):(J=20,te|=(function(_e){return 63&(_e||0)})(A.dosPermissions)),C=ee.getUTCHours(),C<<=6,C|=ee.getUTCMinutes(),C<<=5,C|=ee.getUTCSeconds()/2,M=ee.getUTCFullYear()-1980,M<<=4,M|=ee.getUTCMonth()+1,M<<=5,M|=ee.getUTCDate(),Q&&(H=o(1,1)+o(m(F),4)+O,ae+="up"+o(H.length,2)+H),k&&(G=o(1,1)+o(m(se),4)+I,ae+="uc"+o(G.length,2)+G);var de="";return de+=`
\0`,de+=o(B,2),de+=j.magic,de+=o(C,2),de+=o(M,2),de+=o(xe.crc32,4),de+=o(xe.compressedSize,4),de+=o(xe.uncompressedSize,4),de+=o(F.length,2),de+=o(ae.length,2),{fileRecord:p.LOCAL_FILE_HEADER+de+F+ae,dirRecord:p.CENTRAL_FILE_HEADER+o(J,2)+de+o(se.length,2)+"\0\0\0\0"+o(te,4)+o(b,4)+F+ae+se}}var d=n("../utils"),f=n("../stream/GenericWorker"),h=n("../utf8"),m=n("../crc32"),p=n("../signature");function x(v,w,y,b){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(x,f),x.prototype.push=function(v){var w=v.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,f.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-b-1))/y:100}}))},x.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var w=this.streamFiles&&!v.file.dir;if(w){var y=c(v,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(v){this.accumulate=!1;var w=this.streamFiles&&!v.file.dir,y=c(v,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:(function(b){return p.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var v=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-v,b=(function(_,D,C,M,A){var j=d.transformTo("string",A(M));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(_,2)+o(_,2)+o(D,4)+o(C,4)+o(j.length,2)+j})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(v){this._sources.push(v);var w=this;return v.on("data",function(y){w.processChunk(y)}),v.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),v.on("error",function(y){w.error(y)}),this},x.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(v){var w=this._sources;if(!f.prototype.error.call(this,v))return!1;for(var y=0;y<w.length;y++)try{w[y].error(v)}catch{}return!0},x.prototype.lock=function(){f.prototype.lock.call(this);for(var v=this._sources,w=0;w<v.length;w++)v[w].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),c=n("./ZipFileWorker");i.generateWorker=function(d,f,h){var m=new c(f.streamFiles,h,f.platform,f.encodeFileName),p=0;try{d.forEach(function(x,v){p++;var w=(function(D,C){var M=D||C,A=o[M];if(!A)throw new Error(M+" is not a valid compression method !");return A})(v.options.compression,f.compression),y=v.options.compressionOptions||f.compressionOptions||{},b=v.dir,_=v.date;v._compressWorker(w,y).withStreamInfo("file",{name:x,dir:b,date:_,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=p}catch(x){m.error(x)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var d in this)typeof this[d]!="function"&&(c[d]=this[d]);return c}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(c,d){return new o().loadAsync(c,d)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),c=n("./external"),d=n("./utf8"),f=n("./zipEntries"),h=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function p(x){return new c.Promise(function(v,w){var y=x.decompressed.getContentWorker().pipe(new h);y.on("error",function(b){w(b)}).on("end",function(){y.streamInfo.crc32!==x.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(x,v){var w=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),m.isNode&&m.isStream(x)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",x,!0,v.optimizedBinaryString,v.base64).then(function(y){var b=new f(v);return b.load(y),b}).then(function(y){var b=[c.Promise.resolve(y)],_=y.files;if(v.checkCRC32)for(var D=0;D<_.length;D++)b.push(p(_[D]));return c.Promise.all(b)}).then(function(y){for(var b=y.shift(),_=b.files,D=0;D<_.length;D++){var C=_[D],M=C.fileNameStr,A=o.resolve(C.fileNameStr);w.file(A,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:v.createFolders}),C.dir||(w.file(A).unsafeOriginalName=M)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),c=n("../stream/GenericWorker");function d(f,h){c.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(d,c),d.prototype._bindStream=function(f){var h=this;(this._stream=f).pause(),f.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},d.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function c(d,f,h){o.call(this,f),this._helper=d;var m=this;d.on("data",function(p,x){m.push(p)||m._helper.pause(),h&&h(x)}).on("error",function(p){m.emit("error",p)}).on("end",function(){m.push(null)})}n("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(A,j,U){var F,O=d.getTypeOf(j),$=d.extend(U||{},m);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(A=_(A)),$.createFolders&&(F=b(A))&&D.call(this,F,!0);var se=O==="string"&&$.binary===!1&&$.base64===!1;U&&U.binary!==void 0||($.binary=!se),(j instanceof p&&j.uncompressedSize===0||$.dir||!j||j.length===0)&&($.base64=!1,$.binary=!0,j="",$.compression="STORE",O="string");var I=null;I=j instanceof p||j instanceof f?j:w.isNode&&w.isStream(j)?new y(A,j):d.prepareContent(A,j,$.binary,$.optimizedBinaryString,$.base64);var Q=new x(A,I,$);this.files[A]=Q}var c=n("./utf8"),d=n("./utils"),f=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),m=n("./defaults"),p=n("./compressedObject"),x=n("./zipObject"),v=n("./generate"),w=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var j=A.lastIndexOf("/");return 0<j?A.substring(0,j):""},_=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},D=function(A,j){return j=j!==void 0?j:m.createFolders,A=_(A),this.files[A]||o.call(this,A,null,{dir:!0,createFolders:j}),this.files[A]};function C(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var j,U,F;for(j in this.files)F=this.files[j],(U=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&A(U,F)},filter:function(A){var j=[];return this.forEach(function(U,F){A(U,F)&&j.push(F)}),j},file:function(A,j,U){if(arguments.length!==1)return A=this.root+A,o.call(this,A,j,U),this;if(C(A)){var F=A;return this.filter(function($,se){return!se.dir&&F.test($)})}var O=this.files[this.root+A];return O&&!O.dir?O:null},folder:function(A){if(!A)return this;if(C(A))return this.filter(function(O,$){return $.dir&&A.test(O)});var j=this.root+A,U=D.call(this,j),F=this.clone();return F.root=U.name,F},remove:function(A){A=this.root+A;var j=this.files[A];if(j||(A.slice(-1)!=="/"&&(A+="/"),j=this.files[A]),j&&!j.dir)delete this.files[A];else for(var U=this.filter(function(O,$){return $.name.slice(0,A.length)===A}),F=0;F<U.length;F++)delete this.files[U[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var j,U={};try{if((U=d.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");d.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var F=U.comment||this.comment||"";j=v.generateWorker(this,U,F)}catch(O){(j=new f("error")).error(O)}return new h(j,U.type||"string",U.mimeType)},generateAsync:function(A,j){return this.generateInternalStream(A).accumulate(j)},generateNodeStream:function(A,j){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(j)}};r.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function c(d){o.call(this,d);for(var f=0;f<this.data.length;f++)d[f]=255&d[f]}n("../utils").inherits(c,o),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var f=d.charCodeAt(0),h=d.charCodeAt(1),m=d.charCodeAt(2),p=d.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===f&&this.data[x+1]===h&&this.data[x+2]===m&&this.data[x+3]===p)return x-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var f=d.charCodeAt(0),h=d.charCodeAt(1),m=d.charCodeAt(2),p=d.charCodeAt(3),x=this.readData(4);return f===x[0]&&h===x[1]&&m===x[2]&&p===x[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function c(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var f,h=0;for(this.checkOffset(d),f=this.index+d-1;f>=this.index;f--)h=(h<<8)+this.byteAt(f);return this.index+=d,h},readString:function(d){return o.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function c(d){o.call(this,d)}n("../utils").inherits(c,o),c.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function c(d){o.call(this,d)}n("../utils").inherits(c,o),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},c.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function c(d){o.call(this,d)}n("../utils").inherits(c,o),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),c=n("../support"),d=n("./ArrayReader"),f=n("./StringReader"),h=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(p){var x=o.getTypeOf(p);return o.checkSupport(x),x!=="string"||c.uint8array?x==="nodebuffer"?new h(p):c.uint8array?new m(o.transformTo("uint8array",p)):new d(o.transformTo("array",p)):new f(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),c=n("../utils");function d(f){o.call(this,"ConvertWorker to "+f),this.destType=f}c.inherits(d,o),d.prototype.processChunk=function(f){this.push({data:c.transformTo(this.destType,f.data),meta:f.meta})},r.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),c=n("../crc32");function d(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(d,o),d.prototype.processChunk=function(f){this.streamInfo.crc32=c(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),c=n("./GenericWorker");function d(f){c.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(d,c),d.prototype.processChunk=function(f){if(f){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+f.data.length}c.prototype.processChunk.call(this,f)},r.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),c=n("./GenericWorker");function d(f){c.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=o.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}o.inherits(d,c),d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,h);break;case"uint8array":f=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":f=this.data.slice(this.index,h)}return this.index=h,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,d){return this._listeners[c].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,d){if(this._listeners[c])for(var f=0;f<this._listeners[c].length;f++)this._listeners[c][f].call(this,d)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var d=this;return c.on("data",function(f){d.processChunk(f)}),c.on("end",function(){d.end()}),c.on("error",function(f){d.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,d){return this.extraStreamInfo[c]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),c=n("./ConvertWorker"),d=n("./GenericWorker"),f=n("../base64"),h=n("../support"),m=n("../external"),p=null;if(h.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(w,y){return new m.Promise(function(b,_){var D=[],C=w._internalType,M=w._outputType,A=w._mimeType;w.on("data",function(j,U){D.push(j),y&&y(U)}).on("error",function(j){D=[],_(j)}).on("end",function(){try{var j=(function(U,F,O){switch(U){case"blob":return o.newBlob(o.transformTo("arraybuffer",F),O);case"base64":return f.encode(F);default:return o.transformTo(U,F)}})(M,(function(U,F){var O,$=0,se=null,I=0;for(O=0;O<F.length;O++)I+=F[O].length;switch(U){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(se=new Uint8Array(I),O=0;O<F.length;O++)se.set(F[O],$),$+=F[O].length;return se;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+U+"'")}})(C,D),A);b(j)}catch(U){_(U)}D=[]}).resume()})}function v(w,y,b){var _=y;switch(y){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=y,this._mimeType=b,o.checkSupport(_),this._worker=w.pipe(new c(_)),w.lock()}catch(D){this._worker=new d("error"),this._worker.error(D)}}v.prototype={accumulate:function(w){return x(this,w)},on:function(w,y){var b=this;return w==="data"?this._worker.on(w,function(_){y.call(b,_.data,_.meta)}):this._worker.on(w,function(){o.delay(y,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),i.blob=c.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),c=n("./support"),d=n("./nodejsUtils"),f=n("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function p(){f.call(this,"utf-8 decode"),this.leftOver=null}function x(){f.call(this,"utf-8 encode")}i.utf8encode=function(v){return c.nodebuffer?d.newBufferFrom(v,"utf-8"):(function(w){var y,b,_,D,C,M=w.length,A=0;for(D=0;D<M;D++)(64512&(b=w.charCodeAt(D)))==55296&&D+1<M&&(64512&(_=w.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(_-56320),D++),A+=b<128?1:b<2048?2:b<65536?3:4;for(y=c.uint8array?new Uint8Array(A):new Array(A),D=C=0;C<A;D++)(64512&(b=w.charCodeAt(D)))==55296&&D+1<M&&(64512&(_=w.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(_-56320),D++),b<128?y[C++]=b:(b<2048?y[C++]=192|b>>>6:(b<65536?y[C++]=224|b>>>12:(y[C++]=240|b>>>18,y[C++]=128|b>>>12&63),y[C++]=128|b>>>6&63),y[C++]=128|63&b);return y})(v)},i.utf8decode=function(v){return c.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):(function(w){var y,b,_,D,C=w.length,M=new Array(2*C);for(y=b=0;y<C;)if((_=w[y++])<128)M[b++]=_;else if(4<(D=h[_]))M[b++]=65533,y+=D-1;else{for(_&=D===2?31:D===3?15:7;1<D&&y<C;)_=_<<6|63&w[y++],D--;1<D?M[b++]=65533:_<65536?M[b++]=_:(_-=65536,M[b++]=55296|_>>10&1023,M[b++]=56320|1023&_)}return M.length!==b&&(M.subarray?M=M.subarray(0,b):M.length=b),o.applyFromCharCode(M)})(v=o.transformTo(c.uint8array?"uint8array":"array",v))},o.inherits(p,f),p.prototype.processChunk=function(v){var w=o.transformTo(c.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=(function(D,C){var M;for((C=C||D.length)>D.length&&(C=D.length),M=C-1;0<=M&&(192&D[M])==128;)M--;return M<0||M===0?C:M+h[D[M]]>C?M:C})(w),_=w;b!==w.length&&(c.uint8array?(_=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(_=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:i.utf8decode(_),meta:v.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,o.inherits(x,f),x.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),c=n("./base64"),d=n("./nodejsUtils"),f=n("./external");function h(y){return y}function m(y,b){for(var _=0;_<y.length;++_)b[_]=255&y.charCodeAt(_);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(y),_.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(y,b,_){var D=[],C=0,M=y.length;if(M<=_)return String.fromCharCode.apply(null,y);for(;C<M;)b==="array"||b==="nodebuffer"?D.push(String.fromCharCode.apply(null,y.slice(C,Math.min(C+_,M)))):D.push(String.fromCharCode.apply(null,y.subarray(C,Math.min(C+_,M)))),C+=_;return D.join("")},stringifyByChar:function(y){for(var b="",_=0;_<y.length;_++)b+=String.fromCharCode(y[_]);return b},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function x(y){var b=65536,_=i.getTypeOf(y),D=!0;if(_==="uint8array"?D=p.applyCanBeUsed.uint8array:_==="nodebuffer"&&(D=p.applyCanBeUsed.nodebuffer),D)for(;1<b;)try{return p.stringifyByChunk(y,_,b)}catch{b=Math.floor(b/2)}return p.stringifyByChar(y)}function v(y,b){for(var _=0;_<y.length;_++)b[_]=y[_];return b}i.applyFromCharCode=x;var w={};w.string={string:h,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,d.allocBuffer(y.length))}},w.array={string:x,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return d.newBufferFrom(y)}},w.arraybuffer={string:function(y){return x(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return d.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:x,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return d.newBufferFrom(y)}},w.nodebuffer={string:x,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:h},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var _=i.getTypeOf(b);return w[_][y](b)},i.resolve=function(y){for(var b=y.split("/"),_=[],D=0;D<b.length;D++){var C=b[D];C==="."||C===""&&D!==0&&D!==b.length-1||(C===".."?_.pop():_.push(C))}return _.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&d.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,_,D="";for(_=0;_<(y||"").length;_++)D+="\\x"+((b=y.charCodeAt(_))<16?"0":"")+b.toString(16).toUpperCase();return D},i.delay=function(y,b,_){setImmediate(function(){y.apply(_||null,b||[])})},i.inherits=function(y,b){function _(){}_.prototype=b.prototype,y.prototype=new _},i.extend=function(){var y,b,_={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&_[b]===void 0&&(_[b]=arguments[y][b]);return _},i.prepareContent=function(y,b,_,D,C){return f.Promise.resolve(b).then(function(M){return o.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new f.Promise(function(A,j){var U=new FileReader;U.onload=function(F){A(F.target.result)},U.onerror=function(F){j(F.target.error)},U.readAsArrayBuffer(M)}):M}).then(function(M){var A=i.getTypeOf(M);return A?(A==="arraybuffer"?M=i.transformTo("uint8array",M):A==="string"&&(C?M=c.decode(M):_&&D!==!0&&(M=(function(j){return m(j,o.uint8array?new Uint8Array(j.length):new Array(j.length))})(M))),M):f.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),c=n("./utils"),d=n("./signature"),f=n("./zipEntry"),h=n("./support");function m(p){this.files=[],this.loadOptions=p}m.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(x)+", expected "+c.pretty(p)+")")}},isSignature:function(p,x){var v=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===x;return this.reader.setIndex(v),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),x=h.uint8array?"uint8array":"array",v=c.transformTo(x,p);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,x,v,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),x=this.reader.readInt(4),v=this.reader.readData(x),this.zip64ExtensibleData[p]={id:p,length:x,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,x;for(p=0;p<this.files.length;p++)x=this.files[p],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(p=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var x=p;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var w=x-v;if(0<w)this.isSignature(x,d.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),c=n("./utils"),d=n("./compressedObject"),f=n("./crc32"),h=n("./utf8"),m=n("./compressions"),p=n("./support");function x(v,w){this.options=v,this.loadOptions=w}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var w,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=(function(b){for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)&&m[_].magic===b)return m[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,w,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var w=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(w),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var w,y,b,_=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<_;)w=v.readInt(2),y=v.readInt(2),b=v.readData(y),this.extraFields[w]={id:w,length:y,value:b};v.setIndex(_)},handleUTF8:function(){var v=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=c.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var _=c.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var w=o(v.value);return w.readInt(1)!==1||f(this.fileName)!==w.readInt(4)?null:h.utf8decode(w.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var w=o(v.value);return w.readInt(1)!==1||f(this.fileComment)!==w.readInt(4)?null:h.utf8decode(w.readData(v.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(w,y,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var c=n("./stream/StreamHelper"),d=n("./stream/DataWorker"),f=n("./utf8"),h=n("./compressedObject"),m=n("./stream/GenericWorker");o.prototype={internalStream:function(w){var y=null,b="string";try{if(!w)throw new Error("No output type specified.");var _=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var D=!this._dataBinary;D&&!_&&(y=y.pipe(new f.Utf8EncodeWorker)),!D&&_&&(y=y.pipe(new f.Utf8DecodeWorker))}catch(C){(y=new m("error")).error(C)}return new c(y,b,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof h&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new f.Utf8EncodeWorker)),h.createWorkerFrom(b,w,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new d(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<p.length;v++)o.prototype[p[v]]=x;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var c,d,f=o.MutationObserver||o.WebKitMutationObserver;if(f){var h=0,m=new f(w),p=o.document.createTextNode("");m.observe(p,{characterData:!0}),c=function(){p.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var x=new o.MessageChannel;x.port1.onmessage=w,c=function(){x.port2.postMessage(0)}}var v=[];function w(){var y,b;d=!0;for(var _=v.length;_;){for(b=v,v=[],y=-1;++y<_;)b[y]();_=v.length}d=!1}r.exports=function(y){v.push(y)!==1||d||c()}}).call(this,typeof gl<"u"?gl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function c(){}var d={},f=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function p(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,_!==c&&y(this,_)}function x(_,D,C){this.promise=_,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function v(_,D,C){o(function(){var M;try{M=D(C)}catch(A){return d.reject(_,A)}M===_?d.reject(_,new TypeError("Cannot resolve promise with itself")):d.resolve(_,M)})}function w(_){var D=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof D=="function")return function(){D.apply(_,arguments)}}function y(_,D){var C=!1;function M(U){C||(C=!0,d.reject(_,U))}function A(U){C||(C=!0,d.resolve(_,U))}var j=b(function(){D(A,M)});j.status==="error"&&M(j.value)}function b(_,D){var C={};try{C.value=_(D),C.status="success"}catch(M){C.status="error",C.value=M}return C}(r.exports=p).prototype.finally=function(_){if(typeof _!="function")return this;var D=this.constructor;return this.then(function(C){return D.resolve(_()).then(function(){return C})},function(C){return D.resolve(_()).then(function(){throw C})})},p.prototype.catch=function(_){return this.then(null,_)},p.prototype.then=function(_,D){if(typeof _!="function"&&this.state===h||typeof D!="function"&&this.state===f)return this;var C=new this.constructor(c);return this.state!==m?v(C,this.state===h?_:D,this.outcome):this.queue.push(new x(C,_,D)),C},x.prototype.callFulfilled=function(_){d.resolve(this.promise,_)},x.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},x.prototype.callRejected=function(_){d.reject(this.promise,_)},x.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)},d.resolve=function(_,D){var C=b(w,D);if(C.status==="error")return d.reject(_,C.value);var M=C.value;if(M)y(_,M);else{_.state=h,_.outcome=D;for(var A=-1,j=_.queue.length;++A<j;)_.queue[A].callFulfilled(D)}return _},d.reject=function(_,D){_.state=f,_.outcome=D;for(var C=-1,M=_.queue.length;++C<M;)_.queue[C].callRejected(D);return _},p.resolve=function(_){return _ instanceof this?_:d.resolve(new this(c),_)},p.reject=function(_){var D=new this(c);return d.reject(D,_)},p.all=function(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=_.length,M=!1;if(!C)return this.resolve([]);for(var A=new Array(C),j=0,U=-1,F=new this(c);++U<C;)O(_[U],U);return F;function O($,se){D.resolve($).then(function(I){A[se]=I,++j!==C||M||(M=!0,d.resolve(F,A))},function(I){M||(M=!0,d.reject(F,I))})}},p.race=function(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=_.length,M=!1;if(!C)return this.resolve([]);for(var A=-1,j=new this(c);++A<C;)U=_[A],D.resolve(U).then(function(F){M||(M=!0,d.resolve(j,F))},function(F){M||(M=!0,d.reject(j,F))});var U;return j}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),c=n("./utils/common"),d=n("./utils/strings"),f=n("./zlib/messages"),h=n("./zlib/zstream"),m=Object.prototype.toString,p=0,x=-1,v=0,w=8;function y(_){if(!(this instanceof y))return new y(_);this.options=c.assign({level:x,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},_||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(C!==p)throw new Error(f[C]);if(D.header&&o.deflateSetHeader(this.strm,D.header),D.dictionary){var M;if(M=typeof D.dictionary=="string"?d.string2buf(D.dictionary):m.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(C=o.deflateSetDictionary(this.strm,M))!==p)throw new Error(f[C]);this._dict_set=!0}}function b(_,D){var C=new y(D);if(C.push(_,!0),C.err)throw C.msg||f[C.err];return C.result}y.prototype.push=function(_,D){var C,M,A=this.strm,j=this.options.chunkSize;if(this.ended)return!1;M=D===~~D?D:D===!0?4:0,typeof _=="string"?A.input=d.string2buf(_):m.call(_)==="[object ArrayBuffer]"?A.input=new Uint8Array(_):A.input=_,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new c.Buf8(j),A.next_out=0,A.avail_out=j),(C=o.deflate(A,M))!==1&&C!==p)return this.onEnd(C),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(c.shrinkBuf(A.output,A.next_out))):this.onData(c.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&C!==1);return M===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p):M!==2||(this.onEnd(p),!(A.avail_out=0))},y.prototype.onData=function(_){this.chunks.push(_)},y.prototype.onEnd=function(_){_===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(_,D){return(D=D||{}).raw=!0,b(_,D)},i.gzip=function(_,D){return(D=D||{}).gzip=!0,b(_,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),c=n("./utils/common"),d=n("./utils/strings"),f=n("./zlib/constants"),h=n("./zlib/messages"),m=n("./zlib/zstream"),p=n("./zlib/gzheader"),x=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,b.windowBits);if(_!==f.Z_OK)throw new Error(h[_]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function w(y,b){var _=new v(b);if(_.push(y,!0),_.err)throw _.msg||h[_.err];return _.result}v.prototype.push=function(y,b){var _,D,C,M,A,j,U=this.strm,F=this.options.chunkSize,O=this.options.dictionary,$=!1;if(this.ended)return!1;D=b===~~b?b:b===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof y=="string"?U.input=d.binstring2buf(y):x.call(y)==="[object ArrayBuffer]"?U.input=new Uint8Array(y):U.input=y,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(F),U.next_out=0,U.avail_out=F),(_=o.inflate(U,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&O&&(j=typeof O=="string"?d.string2buf(O):x.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,_=o.inflateSetDictionary(this.strm,j)),_===f.Z_BUF_ERROR&&$===!0&&(_=f.Z_OK,$=!1),_!==f.Z_STREAM_END&&_!==f.Z_OK)return this.onEnd(_),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&_!==f.Z_STREAM_END&&(U.avail_in!==0||D!==f.Z_FINISH&&D!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=d.utf8border(U.output,U.next_out),M=U.next_out-C,A=d.buf2string(U.output,C),U.next_out=M,U.avail_out=F-M,M&&c.arraySet(U.output,U.output,C,M,0),this.onData(A)):this.onData(c.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&($=!0)}while((0<U.avail_in||U.avail_out===0)&&_!==f.Z_STREAM_END);return _===f.Z_STREAM_END&&(D=f.Z_FINISH),D===f.Z_FINISH?(_=o.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f.Z_OK):D!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(U.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=v,i.inflate=w,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,w(y,b)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(f){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var p in m)m.hasOwnProperty(p)&&(f[p]=m[p])}}return f},i.shrinkBuf=function(f,h){return f.length===h?f:f.subarray?f.subarray(0,h):(f.length=h,f)};var c={arraySet:function(f,h,m,p,x){if(h.subarray&&f.subarray)f.set(h.subarray(m,m+p),x);else for(var v=0;v<p;v++)f[x+v]=h[m+v]},flattenChunks:function(f){var h,m,p,x,v,w;for(h=p=0,m=f.length;h<m;h++)p+=f[h].length;for(w=new Uint8Array(p),h=x=0,m=f.length;h<m;h++)v=f[h],w.set(v,x),x+=v.length;return w}},d={arraySet:function(f,h,m,p,x){for(var v=0;v<p;v++)f[x+v]=h[m+v]},flattenChunks:function(f){return[].concat.apply([],f)}};i.setTyped=function(f){f?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,c)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,d))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),c=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var f=new o.Buf8(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(p,x){if(x<65537&&(p.subarray&&d||!p.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(p,x));for(var v="",w=0;w<x;w++)v+=String.fromCharCode(p[w]);return v}f[254]=f[254]=1,i.string2buf=function(p){var x,v,w,y,b,_=p.length,D=0;for(y=0;y<_;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<_&&(64512&(w=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),y++),D+=v<128?1:v<2048?2:v<65536?3:4;for(x=new o.Buf8(D),y=b=0;b<D;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<_&&(64512&(w=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),y++),v<128?x[b++]=v:(v<2048?x[b++]=192|v>>>6:(v<65536?x[b++]=224|v>>>12:(x[b++]=240|v>>>18,x[b++]=128|v>>>12&63),x[b++]=128|v>>>6&63),x[b++]=128|63&v);return x},i.buf2binstring=function(p){return m(p,p.length)},i.binstring2buf=function(p){for(var x=new o.Buf8(p.length),v=0,w=x.length;v<w;v++)x[v]=p.charCodeAt(v);return x},i.buf2string=function(p,x){var v,w,y,b,_=x||p.length,D=new Array(2*_);for(v=w=0;v<_;)if((y=p[v++])<128)D[w++]=y;else if(4<(b=f[y]))D[w++]=65533,v+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&v<_;)y=y<<6|63&p[v++],b--;1<b?D[w++]=65533:y<65536?D[w++]=y:(y-=65536,D[w++]=55296|y>>10&1023,D[w++]=56320|1023&y)}return m(D,w)},i.utf8border=function(p,x){var v;for((x=x||p.length)>p.length&&(x=p.length),v=x-1;0<=v&&(192&p[v])==128;)v--;return v<0||v===0?x:v+f[p[v]]>x?v:x}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,c,d,f){for(var h=65535&o|0,m=o>>>16&65535|0,p=0;d!==0;){for(d-=p=2e3<d?2e3:d;m=m+(h=h+c[f++]|0)|0,--p;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var c,d=[],f=0;f<256;f++){c=f;for(var h=0;h<8;h++)c=1&c?3988292384^c>>>1:c>>>1;d[f]=c}return d})();r.exports=function(c,d,f,h){var m=o,p=h+f;c^=-1;for(var x=h;x<p;x++)c=c>>>8^m[255&(c^d[x])];return-1^c}},{}],46:[function(n,r,i){var o,c=n("../utils/common"),d=n("./trees"),f=n("./adler32"),h=n("./crc32"),m=n("./messages"),p=0,x=4,v=0,w=-2,y=-1,b=4,_=2,D=8,C=9,M=286,A=30,j=19,U=2*M+1,F=15,O=3,$=258,se=$+O+1,I=42,Q=113,k=1,ae=2,H=3,G=4;function q(P,he){return P.msg=m[he],he}function ee(P){return(P<<1)-(4<P?9:0)}function xe(P){for(var he=P.length;0<=--he;)P[he]=0}function B(P){var he=P.state,ye=he.pending;ye>P.avail_out&&(ye=P.avail_out),ye!==0&&(c.arraySet(P.output,he.pending_buf,he.pending_out,ye,P.next_out),P.next_out+=ye,he.pending_out+=ye,P.total_out+=ye,P.avail_out-=ye,he.pending-=ye,he.pending===0&&(he.pending_out=0))}function te(P,he){d._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,he),P.block_start=P.strstart,B(P.strm)}function J(P,he){P.pending_buf[P.pending++]=he}function de(P,he){P.pending_buf[P.pending++]=he>>>8&255,P.pending_buf[P.pending++]=255&he}function _e(P,he){var ye,ne,le=P.max_chain_length,fe=P.strstart,Le=P.prev_length,qe=P.nice_match,Se=P.strstart>P.w_size-se?P.strstart-(P.w_size-se):0,oe=P.window,Y=P.w_mask,Ce=P.prev,Fe=P.strstart+$,lt=oe[fe+Le-1],vt=oe[fe+Le];P.prev_length>=P.good_match&&(le>>=2),qe>P.lookahead&&(qe=P.lookahead);do if(oe[(ye=he)+Le]===vt&&oe[ye+Le-1]===lt&&oe[ye]===oe[fe]&&oe[++ye]===oe[fe+1]){fe+=2,ye++;do;while(oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&oe[++fe]===oe[++ye]&&fe<Fe);if(ne=$-(Fe-fe),fe=Fe-$,Le<ne){if(P.match_start=he,qe<=(Le=ne))break;lt=oe[fe+Le-1],vt=oe[fe+Le]}}while((he=Ce[he&Y])>Se&&--le!=0);return Le<=P.lookahead?Le:P.lookahead}function Oe(P){var he,ye,ne,le,fe,Le,qe,Se,oe,Y,Ce=P.w_size;do{if(le=P.window_size-P.lookahead-P.strstart,P.strstart>=Ce+(Ce-se)){for(c.arraySet(P.window,P.window,Ce,Ce,0),P.match_start-=Ce,P.strstart-=Ce,P.block_start-=Ce,he=ye=P.hash_size;ne=P.head[--he],P.head[he]=Ce<=ne?ne-Ce:0,--ye;);for(he=ye=Ce;ne=P.prev[--he],P.prev[he]=Ce<=ne?ne-Ce:0,--ye;);le+=Ce}if(P.strm.avail_in===0)break;if(Le=P.strm,qe=P.window,Se=P.strstart+P.lookahead,oe=le,Y=void 0,Y=Le.avail_in,oe<Y&&(Y=oe),ye=Y===0?0:(Le.avail_in-=Y,c.arraySet(qe,Le.input,Le.next_in,Y,Se),Le.state.wrap===1?Le.adler=f(Le.adler,qe,Y,Se):Le.state.wrap===2&&(Le.adler=h(Le.adler,qe,Y,Se)),Le.next_in+=Y,Le.total_in+=Y,Y),P.lookahead+=ye,P.lookahead+P.insert>=O)for(fe=P.strstart-P.insert,P.ins_h=P.window[fe],P.ins_h=(P.ins_h<<P.hash_shift^P.window[fe+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[fe+O-1])&P.hash_mask,P.prev[fe&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=fe,fe++,P.insert--,!(P.lookahead+P.insert<O)););}while(P.lookahead<se&&P.strm.avail_in!==0)}function Ee(P,he){for(var ye,ne;;){if(P.lookahead<se){if(Oe(P),P.lookahead<se&&he===p)return k;if(P.lookahead===0)break}if(ye=0,P.lookahead>=O&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ye=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ye!==0&&P.strstart-ye<=P.w_size-se&&(P.match_length=_e(P,ye)),P.match_length>=O)if(ne=d._tr_tally(P,P.strstart-P.match_start,P.match_length-O),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=O){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ye=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else ne=d._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(ne&&(te(P,!1),P.strm.avail_out===0))return k}return P.insert=P.strstart<O-1?P.strstart:O-1,he===x?(te(P,!0),P.strm.avail_out===0?H:G):P.last_lit&&(te(P,!1),P.strm.avail_out===0)?k:ae}function He(P,he){for(var ye,ne,le;;){if(P.lookahead<se){if(Oe(P),P.lookahead<se&&he===p)return k;if(P.lookahead===0)break}if(ye=0,P.lookahead>=O&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ye=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=O-1,ye!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ye<=P.w_size-se&&(P.match_length=_e(P,ye),P.match_length<=5&&(P.strategy===1||P.match_length===O&&4096<P.strstart-P.match_start)&&(P.match_length=O-1)),P.prev_length>=O&&P.match_length<=P.prev_length){for(le=P.strstart+P.lookahead-O,ne=d._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-O),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=le&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+O-1])&P.hash_mask,ye=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=O-1,P.strstart++,ne&&(te(P,!1),P.strm.avail_out===0))return k}else if(P.match_available){if((ne=d._tr_tally(P,0,P.window[P.strstart-1]))&&te(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return k}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(ne=d._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<O-1?P.strstart:O-1,he===x?(te(P,!0),P.strm.avail_out===0?H:G):P.last_lit&&(te(P,!1),P.strm.avail_out===0)?k:ae}function Qe(P,he,ye,ne,le){this.good_length=P,this.max_lazy=he,this.nice_length=ye,this.max_chain=ne,this.func=le}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*U),this.dyn_dtree=new c.Buf16(2*(2*A+1)),this.bl_tree=new c.Buf16(2*(2*j+1)),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(F+1),this.heap=new c.Buf16(2*M+1),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*M+1),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ie(P){var he;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=_,(he=P.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?I:Q,P.adler=he.wrap===2?0:1,he.last_flush=p,d._tr_init(he),v):q(P,w)}function tt(P){var he=Ie(P);return he===v&&(function(ye){ye.window_size=2*ye.w_size,xe(ye.head),ye.max_lazy_match=o[ye.level].max_lazy,ye.good_match=o[ye.level].good_length,ye.nice_match=o[ye.level].nice_length,ye.max_chain_length=o[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=O-1,ye.match_available=0,ye.ins_h=0})(P.state),he}function nt(P,he,ye,ne,le,fe){if(!P)return w;var Le=1;if(he===y&&(he=6),ne<0?(Le=0,ne=-ne):15<ne&&(Le=2,ne-=16),le<1||C<le||ye!==D||ne<8||15<ne||he<0||9<he||fe<0||b<fe)return q(P,w);ne===8&&(ne=9);var qe=new at;return(P.state=qe).strm=P,qe.wrap=Le,qe.gzhead=null,qe.w_bits=ne,qe.w_size=1<<qe.w_bits,qe.w_mask=qe.w_size-1,qe.hash_bits=le+7,qe.hash_size=1<<qe.hash_bits,qe.hash_mask=qe.hash_size-1,qe.hash_shift=~~((qe.hash_bits+O-1)/O),qe.window=new c.Buf8(2*qe.w_size),qe.head=new c.Buf16(qe.hash_size),qe.prev=new c.Buf16(qe.w_size),qe.lit_bufsize=1<<le+6,qe.pending_buf_size=4*qe.lit_bufsize,qe.pending_buf=new c.Buf8(qe.pending_buf_size),qe.d_buf=1*qe.lit_bufsize,qe.l_buf=3*qe.lit_bufsize,qe.level=he,qe.strategy=fe,qe.method=ye,tt(P)}o=[new Qe(0,0,0,0,function(P,he){var ye=65535;for(ye>P.pending_buf_size-5&&(ye=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Oe(P),P.lookahead===0&&he===p)return k;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var ne=P.block_start+ye;if((P.strstart===0||P.strstart>=ne)&&(P.lookahead=P.strstart-ne,P.strstart=ne,te(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-se&&(te(P,!1),P.strm.avail_out===0))return k}return P.insert=0,he===x?(te(P,!0),P.strm.avail_out===0?H:G):(P.strstart>P.block_start&&(te(P,!1),P.strm.avail_out),k)}),new Qe(4,4,8,4,Ee),new Qe(4,5,16,8,Ee),new Qe(4,6,32,32,Ee),new Qe(4,4,16,16,He),new Qe(8,16,32,32,He),new Qe(8,16,128,128,He),new Qe(8,32,128,256,He),new Qe(32,128,258,1024,He),new Qe(32,258,258,4096,He)],i.deflateInit=function(P,he){return nt(P,he,D,15,8,0)},i.deflateInit2=nt,i.deflateReset=tt,i.deflateResetKeep=Ie,i.deflateSetHeader=function(P,he){return P&&P.state?P.state.wrap!==2?w:(P.state.gzhead=he,v):w},i.deflate=function(P,he){var ye,ne,le,fe;if(!P||!P.state||5<he||he<0)return P?q(P,w):w;if(ne=P.state,!P.output||!P.input&&P.avail_in!==0||ne.status===666&&he!==x)return q(P,P.avail_out===0?-5:w);if(ne.strm=P,ye=ne.last_flush,ne.last_flush=he,ne.status===I)if(ne.wrap===2)P.adler=0,J(ne,31),J(ne,139),J(ne,8),ne.gzhead?(J(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),J(ne,255&ne.gzhead.time),J(ne,ne.gzhead.time>>8&255),J(ne,ne.gzhead.time>>16&255),J(ne,ne.gzhead.time>>24&255),J(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),J(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(J(ne,255&ne.gzhead.extra.length),J(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(P.adler=h(P.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(J(ne,0),J(ne,0),J(ne,0),J(ne,0),J(ne,0),J(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),J(ne,3),ne.status=Q);else{var Le=D+(ne.w_bits-8<<4)<<8;Le|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(Le|=32),Le+=31-Le%31,ne.status=Q,de(ne,Le),ne.strstart!==0&&(de(ne,P.adler>>>16),de(ne,65535&P.adler)),P.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(le=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),B(P),le=ne.pending,ne.pending!==ne.pending_buf_size));)J(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){le=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),B(P),le=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,J(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),fe===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){le=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),B(P),le=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,J(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>le&&(P.adler=h(P.adler,ne.pending_buf,ne.pending-le,le)),fe===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&B(P),ne.pending+2<=ne.pending_buf_size&&(J(ne,255&P.adler),J(ne,P.adler>>8&255),P.adler=0,ne.status=Q)):ne.status=Q),ne.pending!==0){if(B(P),P.avail_out===0)return ne.last_flush=-1,v}else if(P.avail_in===0&&ee(he)<=ee(ye)&&he!==x)return q(P,-5);if(ne.status===666&&P.avail_in!==0)return q(P,-5);if(P.avail_in!==0||ne.lookahead!==0||he!==p&&ne.status!==666){var qe=ne.strategy===2?(function(Se,oe){for(var Y;;){if(Se.lookahead===0&&(Oe(Se),Se.lookahead===0)){if(oe===p)return k;break}if(Se.match_length=0,Y=d._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++,Y&&(te(Se,!1),Se.strm.avail_out===0))return k}return Se.insert=0,oe===x?(te(Se,!0),Se.strm.avail_out===0?H:G):Se.last_lit&&(te(Se,!1),Se.strm.avail_out===0)?k:ae})(ne,he):ne.strategy===3?(function(Se,oe){for(var Y,Ce,Fe,lt,vt=Se.window;;){if(Se.lookahead<=$){if(Oe(Se),Se.lookahead<=$&&oe===p)return k;if(Se.lookahead===0)break}if(Se.match_length=0,Se.lookahead>=O&&0<Se.strstart&&(Ce=vt[Fe=Se.strstart-1])===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]){lt=Se.strstart+$;do;while(Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Ce===vt[++Fe]&&Fe<lt);Se.match_length=$-(lt-Fe),Se.match_length>Se.lookahead&&(Se.match_length=Se.lookahead)}if(Se.match_length>=O?(Y=d._tr_tally(Se,1,Se.match_length-O),Se.lookahead-=Se.match_length,Se.strstart+=Se.match_length,Se.match_length=0):(Y=d._tr_tally(Se,0,Se.window[Se.strstart]),Se.lookahead--,Se.strstart++),Y&&(te(Se,!1),Se.strm.avail_out===0))return k}return Se.insert=0,oe===x?(te(Se,!0),Se.strm.avail_out===0?H:G):Se.last_lit&&(te(Se,!1),Se.strm.avail_out===0)?k:ae})(ne,he):o[ne.level].func(ne,he);if(qe!==H&&qe!==G||(ne.status=666),qe===k||qe===H)return P.avail_out===0&&(ne.last_flush=-1),v;if(qe===ae&&(he===1?d._tr_align(ne):he!==5&&(d._tr_stored_block(ne,0,0,!1),he===3&&(xe(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),B(P),P.avail_out===0))return ne.last_flush=-1,v}return he!==x?v:ne.wrap<=0?1:(ne.wrap===2?(J(ne,255&P.adler),J(ne,P.adler>>8&255),J(ne,P.adler>>16&255),J(ne,P.adler>>24&255),J(ne,255&P.total_in),J(ne,P.total_in>>8&255),J(ne,P.total_in>>16&255),J(ne,P.total_in>>24&255)):(de(ne,P.adler>>>16),de(ne,65535&P.adler)),B(P),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?v:1)},i.deflateEnd=function(P){var he;return P&&P.state?(he=P.state.status)!==I&&he!==69&&he!==73&&he!==91&&he!==103&&he!==Q&&he!==666?q(P,w):(P.state=null,he===Q?q(P,-3):v):w},i.deflateSetDictionary=function(P,he){var ye,ne,le,fe,Le,qe,Se,oe,Y=he.length;if(!P||!P.state||(fe=(ye=P.state).wrap)===2||fe===1&&ye.status!==I||ye.lookahead)return w;for(fe===1&&(P.adler=f(P.adler,he,Y,0)),ye.wrap=0,Y>=ye.w_size&&(fe===0&&(xe(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),oe=new c.Buf8(ye.w_size),c.arraySet(oe,he,Y-ye.w_size,ye.w_size,0),he=oe,Y=ye.w_size),Le=P.avail_in,qe=P.next_in,Se=P.input,P.avail_in=Y,P.next_in=0,P.input=he,Oe(ye);ye.lookahead>=O;){for(ne=ye.strstart,le=ye.lookahead-(O-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[ne+O-1])&ye.hash_mask,ye.prev[ne&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=ne,ne++,--le;);ye.strstart=ne,ye.lookahead=O-1,Oe(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=O-1,ye.match_available=0,P.next_in=qe,P.input=Se,P.avail_in=Le,ye.wrap=fe,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,c){var d,f,h,m,p,x,v,w,y,b,_,D,C,M,A,j,U,F,O,$,se,I,Q,k,ae;d=o.state,f=o.next_in,k=o.input,h=f+(o.avail_in-5),m=o.next_out,ae=o.output,p=m-(c-o.avail_out),x=m+(o.avail_out-257),v=d.dmax,w=d.wsize,y=d.whave,b=d.wnext,_=d.window,D=d.hold,C=d.bits,M=d.lencode,A=d.distcode,j=(1<<d.lenbits)-1,U=(1<<d.distbits)-1;e:do{C<15&&(D+=k[f++]<<C,C+=8,D+=k[f++]<<C,C+=8),F=M[D&j];t:for(;;){if(D>>>=O=F>>>24,C-=O,(O=F>>>16&255)===0)ae[m++]=65535&F;else{if(!(16&O)){if((64&O)==0){F=M[(65535&F)+(D&(1<<O)-1)];continue t}if(32&O){d.mode=12;break e}o.msg="invalid literal/length code",d.mode=30;break e}$=65535&F,(O&=15)&&(C<O&&(D+=k[f++]<<C,C+=8),$+=D&(1<<O)-1,D>>>=O,C-=O),C<15&&(D+=k[f++]<<C,C+=8,D+=k[f++]<<C,C+=8),F=A[D&U];n:for(;;){if(D>>>=O=F>>>24,C-=O,!(16&(O=F>>>16&255))){if((64&O)==0){F=A[(65535&F)+(D&(1<<O)-1)];continue n}o.msg="invalid distance code",d.mode=30;break e}if(se=65535&F,C<(O&=15)&&(D+=k[f++]<<C,(C+=8)<O&&(D+=k[f++]<<C,C+=8)),v<(se+=D&(1<<O)-1)){o.msg="invalid distance too far back",d.mode=30;break e}if(D>>>=O,C-=O,(O=m-p)<se){if(y<(O=se-O)&&d.sane){o.msg="invalid distance too far back",d.mode=30;break e}if(Q=_,(I=0)===b){if(I+=w-O,O<$){for($-=O;ae[m++]=_[I++],--O;);I=m-se,Q=ae}}else if(b<O){if(I+=w+b-O,(O-=b)<$){for($-=O;ae[m++]=_[I++],--O;);if(I=0,b<$){for($-=O=b;ae[m++]=_[I++],--O;);I=m-se,Q=ae}}}else if(I+=b-O,O<$){for($-=O;ae[m++]=_[I++],--O;);I=m-se,Q=ae}for(;2<$;)ae[m++]=Q[I++],ae[m++]=Q[I++],ae[m++]=Q[I++],$-=3;$&&(ae[m++]=Q[I++],1<$&&(ae[m++]=Q[I++]))}else{for(I=m-se;ae[m++]=ae[I++],ae[m++]=ae[I++],ae[m++]=ae[I++],2<($-=3););$&&(ae[m++]=ae[I++],1<$&&(ae[m++]=ae[I++]))}break}}break}}while(f<h&&m<x);f-=$=C>>3,D&=(1<<(C-=$<<3))-1,o.next_in=f,o.next_out=m,o.avail_in=f<h?h-f+5:5-(f-h),o.avail_out=m<x?x-m+257:257-(m-x),d.hold=D,d.bits=C}},{}],49:[function(n,r,i){var o=n("../utils/common"),c=n("./adler32"),d=n("./crc32"),f=n("./inffast"),h=n("./inftrees"),m=1,p=2,x=0,v=-2,w=1,y=852,b=592;function _(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(I){var Q;return I&&I.state?(Q=I.state,I.total_in=I.total_out=Q.total=0,I.msg="",Q.wrap&&(I.adler=1&Q.wrap),Q.mode=w,Q.last=0,Q.havedict=0,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new o.Buf32(y),Q.distcode=Q.distdyn=new o.Buf32(b),Q.sane=1,Q.back=-1,x):v}function M(I){var Q;return I&&I.state?((Q=I.state).wsize=0,Q.whave=0,Q.wnext=0,C(I)):v}function A(I,Q){var k,ae;return I&&I.state?(ae=I.state,Q<0?(k=0,Q=-Q):(k=1+(Q>>4),Q<48&&(Q&=15)),Q&&(Q<8||15<Q)?v:(ae.window!==null&&ae.wbits!==Q&&(ae.window=null),ae.wrap=k,ae.wbits=Q,M(I))):v}function j(I,Q){var k,ae;return I?(ae=new D,(I.state=ae).window=null,(k=A(I,Q))!==x&&(I.state=null),k):v}var U,F,O=!0;function $(I){if(O){var Q;for(U=new o.Buf32(512),F=new o.Buf32(32),Q=0;Q<144;)I.lens[Q++]=8;for(;Q<256;)I.lens[Q++]=9;for(;Q<280;)I.lens[Q++]=7;for(;Q<288;)I.lens[Q++]=8;for(h(m,I.lens,0,288,U,0,I.work,{bits:9}),Q=0;Q<32;)I.lens[Q++]=5;h(p,I.lens,0,32,F,0,I.work,{bits:5}),O=!1}I.lencode=U,I.lenbits=9,I.distcode=F,I.distbits=5}function se(I,Q,k,ae){var H,G=I.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new o.Buf8(G.wsize)),ae>=G.wsize?(o.arraySet(G.window,Q,k-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(ae<(H=G.wsize-G.wnext)&&(H=ae),o.arraySet(G.window,Q,k-ae,H,G.wnext),(ae-=H)?(o.arraySet(G.window,Q,k-ae,ae,0),G.wnext=ae,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}i.inflateReset=M,i.inflateReset2=A,i.inflateResetKeep=C,i.inflateInit=function(I){return j(I,15)},i.inflateInit2=j,i.inflate=function(I,Q){var k,ae,H,G,q,ee,xe,B,te,J,de,_e,Oe,Ee,He,Qe,at,Ie,tt,nt,P,he,ye,ne,le=0,fe=new o.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return v;(k=I.state).mode===12&&(k.mode=13),q=I.next_out,H=I.output,xe=I.avail_out,G=I.next_in,ae=I.input,ee=I.avail_in,B=k.hold,te=k.bits,J=ee,de=xe,he=x;e:for(;;)switch(k.mode){case w:if(k.wrap===0){k.mode=13;break}for(;te<16;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(2&k.wrap&&B===35615){fe[k.check=0]=255&B,fe[1]=B>>>8&255,k.check=d(k.check,fe,2,0),te=B=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&B)<<8)+(B>>8))%31){I.msg="incorrect header check",k.mode=30;break}if((15&B)!=8){I.msg="unknown compression method",k.mode=30;break}if(te-=4,P=8+(15&(B>>>=4)),k.wbits===0)k.wbits=P;else if(P>k.wbits){I.msg="invalid window size",k.mode=30;break}k.dmax=1<<P,I.adler=k.check=1,k.mode=512&B?10:12,te=B=0;break;case 2:for(;te<16;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(k.flags=B,(255&k.flags)!=8){I.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){I.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=B>>8&1),512&k.flags&&(fe[0]=255&B,fe[1]=B>>>8&255,k.check=d(k.check,fe,2,0)),te=B=0,k.mode=3;case 3:for(;te<32;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.head&&(k.head.time=B),512&k.flags&&(fe[0]=255&B,fe[1]=B>>>8&255,fe[2]=B>>>16&255,fe[3]=B>>>24&255,k.check=d(k.check,fe,4,0)),te=B=0,k.mode=4;case 4:for(;te<16;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.head&&(k.head.xflags=255&B,k.head.os=B>>8),512&k.flags&&(fe[0]=255&B,fe[1]=B>>>8&255,k.check=d(k.check,fe,2,0)),te=B=0,k.mode=5;case 5:if(1024&k.flags){for(;te<16;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.length=B,k.head&&(k.head.extra_len=B),512&k.flags&&(fe[0]=255&B,fe[1]=B>>>8&255,k.check=d(k.check,fe,2,0)),te=B=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ee<(_e=k.length)&&(_e=ee),_e&&(k.head&&(P=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),o.arraySet(k.head.extra,ae,G,_e,P)),512&k.flags&&(k.check=d(k.check,ae,_e,G)),ee-=_e,G+=_e,k.length-=_e),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ee===0)break e;for(_e=0;P=ae[G+_e++],k.head&&P&&k.length<65536&&(k.head.name+=String.fromCharCode(P)),P&&_e<ee;);if(512&k.flags&&(k.check=d(k.check,ae,_e,G)),ee-=_e,G+=_e,P)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ee===0)break e;for(_e=0;P=ae[G+_e++],k.head&&P&&k.length<65536&&(k.head.comment+=String.fromCharCode(P)),P&&_e<ee;);if(512&k.flags&&(k.check=d(k.check,ae,_e,G)),ee-=_e,G+=_e,P)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;te<16;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(B!==(65535&k.check)){I.msg="header crc mismatch",k.mode=30;break}te=B=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),I.adler=k.check=0,k.mode=12;break;case 10:for(;te<32;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}I.adler=k.check=_(B),te=B=0,k.mode=11;case 11:if(k.havedict===0)return I.next_out=q,I.avail_out=xe,I.next_in=G,I.avail_in=ee,k.hold=B,k.bits=te,2;I.adler=k.check=1,k.mode=12;case 12:if(Q===5||Q===6)break e;case 13:if(k.last){B>>>=7&te,te-=7&te,k.mode=27;break}for(;te<3;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}switch(k.last=1&B,te-=1,3&(B>>>=1)){case 0:k.mode=14;break;case 1:if($(k),k.mode=20,Q!==6)break;B>>>=2,te-=2;break e;case 2:k.mode=17;break;case 3:I.msg="invalid block type",k.mode=30}B>>>=2,te-=2;break;case 14:for(B>>>=7&te,te-=7&te;te<32;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if((65535&B)!=(B>>>16^65535)){I.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&B,te=B=0,k.mode=15,Q===6)break e;case 15:k.mode=16;case 16:if(_e=k.length){if(ee<_e&&(_e=ee),xe<_e&&(_e=xe),_e===0)break e;o.arraySet(H,ae,G,_e,q),ee-=_e,G+=_e,xe-=_e,q+=_e,k.length-=_e;break}k.mode=12;break;case 17:for(;te<14;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(k.nlen=257+(31&B),B>>>=5,te-=5,k.ndist=1+(31&B),B>>>=5,te-=5,k.ncode=4+(15&B),B>>>=4,te-=4,286<k.nlen||30<k.ndist){I.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;te<3;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.lens[Le[k.have++]]=7&B,B>>>=3,te-=3}for(;k.have<19;)k.lens[Le[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ye={bits:k.lenbits},he=h(0,k.lens,0,19,k.lencode,0,k.work,ye),k.lenbits=ye.bits,he){I.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Qe=(le=k.lencode[B&(1<<k.lenbits)-1])>>>16&255,at=65535&le,!((He=le>>>24)<=te);){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(at<16)B>>>=He,te-=He,k.lens[k.have++]=at;else{if(at===16){for(ne=He+2;te<ne;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(B>>>=He,te-=He,k.have===0){I.msg="invalid bit length repeat",k.mode=30;break}P=k.lens[k.have-1],_e=3+(3&B),B>>>=2,te-=2}else if(at===17){for(ne=He+3;te<ne;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}te-=He,P=0,_e=3+(7&(B>>>=He)),B>>>=3,te-=3}else{for(ne=He+7;te<ne;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}te-=He,P=0,_e=11+(127&(B>>>=He)),B>>>=7,te-=7}if(k.have+_e>k.nlen+k.ndist){I.msg="invalid bit length repeat",k.mode=30;break}for(;_e--;)k.lens[k.have++]=P}}if(k.mode===30)break;if(k.lens[256]===0){I.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ye={bits:k.lenbits},he=h(m,k.lens,0,k.nlen,k.lencode,0,k.work,ye),k.lenbits=ye.bits,he){I.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ye={bits:k.distbits},he=h(p,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ye),k.distbits=ye.bits,he){I.msg="invalid distances set",k.mode=30;break}if(k.mode=20,Q===6)break e;case 20:k.mode=21;case 21:if(6<=ee&&258<=xe){I.next_out=q,I.avail_out=xe,I.next_in=G,I.avail_in=ee,k.hold=B,k.bits=te,f(I,de),q=I.next_out,H=I.output,xe=I.avail_out,G=I.next_in,ae=I.input,ee=I.avail_in,B=k.hold,te=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Qe=(le=k.lencode[B&(1<<k.lenbits)-1])>>>16&255,at=65535&le,!((He=le>>>24)<=te);){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(Qe&&(240&Qe)==0){for(Ie=He,tt=Qe,nt=at;Qe=(le=k.lencode[nt+((B&(1<<Ie+tt)-1)>>Ie)])>>>16&255,at=65535&le,!(Ie+(He=le>>>24)<=te);){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}B>>>=Ie,te-=Ie,k.back+=Ie}if(B>>>=He,te-=He,k.back+=He,k.length=at,Qe===0){k.mode=26;break}if(32&Qe){k.back=-1,k.mode=12;break}if(64&Qe){I.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Qe,k.mode=22;case 22:if(k.extra){for(ne=k.extra;te<ne;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.length+=B&(1<<k.extra)-1,B>>>=k.extra,te-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Qe=(le=k.distcode[B&(1<<k.distbits)-1])>>>16&255,at=65535&le,!((He=le>>>24)<=te);){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if((240&Qe)==0){for(Ie=He,tt=Qe,nt=at;Qe=(le=k.distcode[nt+((B&(1<<Ie+tt)-1)>>Ie)])>>>16&255,at=65535&le,!(Ie+(He=le>>>24)<=te);){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}B>>>=Ie,te-=Ie,k.back+=Ie}if(B>>>=He,te-=He,k.back+=He,64&Qe){I.msg="invalid distance code",k.mode=30;break}k.offset=at,k.extra=15&Qe,k.mode=24;case 24:if(k.extra){for(ne=k.extra;te<ne;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}k.offset+=B&(1<<k.extra)-1,B>>>=k.extra,te-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){I.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(xe===0)break e;if(_e=de-xe,k.offset>_e){if((_e=k.offset-_e)>k.whave&&k.sane){I.msg="invalid distance too far back",k.mode=30;break}Oe=_e>k.wnext?(_e-=k.wnext,k.wsize-_e):k.wnext-_e,_e>k.length&&(_e=k.length),Ee=k.window}else Ee=H,Oe=q-k.offset,_e=k.length;for(xe<_e&&(_e=xe),xe-=_e,k.length-=_e;H[q++]=Ee[Oe++],--_e;);k.length===0&&(k.mode=21);break;case 26:if(xe===0)break e;H[q++]=k.length,xe--,k.mode=21;break;case 27:if(k.wrap){for(;te<32;){if(ee===0)break e;ee--,B|=ae[G++]<<te,te+=8}if(de-=xe,I.total_out+=de,k.total+=de,de&&(I.adler=k.check=k.flags?d(k.check,H,de,q-de):c(k.check,H,de,q-de)),de=xe,(k.flags?B:_(B))!==k.check){I.msg="incorrect data check",k.mode=30;break}te=B=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;te<32;){if(ee===0)break e;ee--,B+=ae[G++]<<te,te+=8}if(B!==(4294967295&k.total)){I.msg="incorrect length check",k.mode=30;break}te=B=0}k.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;default:return v}return I.next_out=q,I.avail_out=xe,I.next_in=G,I.avail_in=ee,k.hold=B,k.bits=te,(k.wsize||de!==I.avail_out&&k.mode<30&&(k.mode<27||Q!==4))&&se(I,I.output,I.next_out,de-I.avail_out)?(k.mode=31,-4):(J-=I.avail_in,de-=I.avail_out,I.total_in+=J,I.total_out+=de,k.total+=de,k.wrap&&de&&(I.adler=k.check=k.flags?d(k.check,H,de,I.next_out-de):c(k.check,H,de,I.next_out-de)),I.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(J==0&&de===0||Q===4)&&he===x&&(he=-5),he)},i.inflateEnd=function(I){if(!I||!I.state)return v;var Q=I.state;return Q.window&&(Q.window=null),I.state=null,x},i.inflateGetHeader=function(I,Q){var k;return I&&I.state?(2&(k=I.state).wrap)==0?v:((k.head=Q).done=!1,x):v},i.inflateSetDictionary=function(I,Q){var k,ae=Q.length;return I&&I.state?(k=I.state).wrap!==0&&k.mode!==11?v:k.mode===11&&c(1,Q,ae,0)!==k.check?-3:se(I,Q,ae,ae)?(k.mode=31,-4):(k.havedict=1,x):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,p,x,v,w,y,b,_){var D,C,M,A,j,U,F,O,$,se=_.bits,I=0,Q=0,k=0,ae=0,H=0,G=0,q=0,ee=0,xe=0,B=0,te=null,J=0,de=new o.Buf16(16),_e=new o.Buf16(16),Oe=null,Ee=0;for(I=0;I<=15;I++)de[I]=0;for(Q=0;Q<v;Q++)de[p[x+Q]]++;for(H=se,ae=15;1<=ae&&de[ae]===0;ae--);if(ae<H&&(H=ae),ae===0)return w[y++]=20971520,w[y++]=20971520,_.bits=1,0;for(k=1;k<ae&&de[k]===0;k++);for(H<k&&(H=k),I=ee=1;I<=15;I++)if(ee<<=1,(ee-=de[I])<0)return-1;if(0<ee&&(m===0||ae!==1))return-1;for(_e[1]=0,I=1;I<15;I++)_e[I+1]=_e[I]+de[I];for(Q=0;Q<v;Q++)p[x+Q]!==0&&(b[_e[p[x+Q]]++]=Q);if(U=m===0?(te=Oe=b,19):m===1?(te=c,J-=257,Oe=d,Ee-=257,256):(te=f,Oe=h,-1),I=k,j=y,q=Q=B=0,M=-1,A=(xe=1<<(G=H))-1,m===1&&852<xe||m===2&&592<xe)return 1;for(;;){for(F=I-q,$=b[Q]<U?(O=0,b[Q]):b[Q]>U?(O=Oe[Ee+b[Q]],te[J+b[Q]]):(O=96,0),D=1<<I-q,k=C=1<<G;w[j+(B>>q)+(C-=D)]=F<<24|O<<16|$|0,C!==0;);for(D=1<<I-1;B&D;)D>>=1;if(D!==0?(B&=D-1,B+=D):B=0,Q++,--de[I]==0){if(I===ae)break;I=p[x+b[Q]]}if(H<I&&(B&A)!==M){for(q===0&&(q=H),j+=k,ee=1<<(G=I-q);G+q<ae&&!((ee-=de[G+q])<=0);)G++,ee<<=1;if(xe+=1<<G,m===1&&852<xe||m===2&&592<xe)return 1;w[M=B&A]=H<<24|G<<16|j-y|0}}return B!==0&&(w[j+B]=I-q<<24|64<<16|0),_.bits=H,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),c=0,d=1;function f(le){for(var fe=le.length;0<=--fe;)le[fe]=0}var h=0,m=29,p=256,x=p+1+m,v=30,w=19,y=2*x+1,b=15,_=16,D=7,C=256,M=16,A=17,j=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(x+2));f(se);var I=new Array(2*v);f(I);var Q=new Array(512);f(Q);var k=new Array(256);f(k);var ae=new Array(m);f(ae);var H,G,q,ee=new Array(v);function xe(le,fe,Le,qe,Se){this.static_tree=le,this.extra_bits=fe,this.extra_base=Le,this.elems=qe,this.max_length=Se,this.has_stree=le&&le.length}function B(le,fe){this.dyn_tree=le,this.max_code=0,this.stat_desc=fe}function te(le){return le<256?Q[le]:Q[256+(le>>>7)]}function J(le,fe){le.pending_buf[le.pending++]=255&fe,le.pending_buf[le.pending++]=fe>>>8&255}function de(le,fe,Le){le.bi_valid>_-Le?(le.bi_buf|=fe<<le.bi_valid&65535,J(le,le.bi_buf),le.bi_buf=fe>>_-le.bi_valid,le.bi_valid+=Le-_):(le.bi_buf|=fe<<le.bi_valid&65535,le.bi_valid+=Le)}function _e(le,fe,Le){de(le,Le[2*fe],Le[2*fe+1])}function Oe(le,fe){for(var Le=0;Le|=1&le,le>>>=1,Le<<=1,0<--fe;);return Le>>>1}function Ee(le,fe,Le){var qe,Se,oe=new Array(b+1),Y=0;for(qe=1;qe<=b;qe++)oe[qe]=Y=Y+Le[qe-1]<<1;for(Se=0;Se<=fe;Se++){var Ce=le[2*Se+1];Ce!==0&&(le[2*Se]=Oe(oe[Ce]++,Ce))}}function He(le){var fe;for(fe=0;fe<x;fe++)le.dyn_ltree[2*fe]=0;for(fe=0;fe<v;fe++)le.dyn_dtree[2*fe]=0;for(fe=0;fe<w;fe++)le.bl_tree[2*fe]=0;le.dyn_ltree[2*C]=1,le.opt_len=le.static_len=0,le.last_lit=le.matches=0}function Qe(le){8<le.bi_valid?J(le,le.bi_buf):0<le.bi_valid&&(le.pending_buf[le.pending++]=le.bi_buf),le.bi_buf=0,le.bi_valid=0}function at(le,fe,Le,qe){var Se=2*fe,oe=2*Le;return le[Se]<le[oe]||le[Se]===le[oe]&&qe[fe]<=qe[Le]}function Ie(le,fe,Le){for(var qe=le.heap[Le],Se=Le<<1;Se<=le.heap_len&&(Se<le.heap_len&&at(fe,le.heap[Se+1],le.heap[Se],le.depth)&&Se++,!at(fe,qe,le.heap[Se],le.depth));)le.heap[Le]=le.heap[Se],Le=Se,Se<<=1;le.heap[Le]=qe}function tt(le,fe,Le){var qe,Se,oe,Y,Ce=0;if(le.last_lit!==0)for(;qe=le.pending_buf[le.d_buf+2*Ce]<<8|le.pending_buf[le.d_buf+2*Ce+1],Se=le.pending_buf[le.l_buf+Ce],Ce++,qe===0?_e(le,Se,fe):(_e(le,(oe=k[Se])+p+1,fe),(Y=U[oe])!==0&&de(le,Se-=ae[oe],Y),_e(le,oe=te(--qe),Le),(Y=F[oe])!==0&&de(le,qe-=ee[oe],Y)),Ce<le.last_lit;);_e(le,C,fe)}function nt(le,fe){var Le,qe,Se,oe=fe.dyn_tree,Y=fe.stat_desc.static_tree,Ce=fe.stat_desc.has_stree,Fe=fe.stat_desc.elems,lt=-1;for(le.heap_len=0,le.heap_max=y,Le=0;Le<Fe;Le++)oe[2*Le]!==0?(le.heap[++le.heap_len]=lt=Le,le.depth[Le]=0):oe[2*Le+1]=0;for(;le.heap_len<2;)oe[2*(Se=le.heap[++le.heap_len]=lt<2?++lt:0)]=1,le.depth[Se]=0,le.opt_len--,Ce&&(le.static_len-=Y[2*Se+1]);for(fe.max_code=lt,Le=le.heap_len>>1;1<=Le;Le--)Ie(le,oe,Le);for(Se=Fe;Le=le.heap[1],le.heap[1]=le.heap[le.heap_len--],Ie(le,oe,1),qe=le.heap[1],le.heap[--le.heap_max]=Le,le.heap[--le.heap_max]=qe,oe[2*Se]=oe[2*Le]+oe[2*qe],le.depth[Se]=(le.depth[Le]>=le.depth[qe]?le.depth[Le]:le.depth[qe])+1,oe[2*Le+1]=oe[2*qe+1]=Se,le.heap[1]=Se++,Ie(le,oe,1),2<=le.heap_len;);le.heap[--le.heap_max]=le.heap[1],(function(vt,Et){var yt,_t,Xt,Me,Ze,pt,gt=Et.dyn_tree,Vt=Et.max_code,Kt=Et.stat_desc.static_tree,an=Et.stat_desc.has_stree,Dn=Et.stat_desc.extra_bits,jn=Et.stat_desc.extra_base,Ln=Et.stat_desc.max_length,V=0;for(Me=0;Me<=b;Me++)vt.bl_count[Me]=0;for(gt[2*vt.heap[vt.heap_max]+1]=0,yt=vt.heap_max+1;yt<y;yt++)Ln<(Me=gt[2*gt[2*(_t=vt.heap[yt])+1]+1]+1)&&(Me=Ln,V++),gt[2*_t+1]=Me,Vt<_t||(vt.bl_count[Me]++,Ze=0,jn<=_t&&(Ze=Dn[_t-jn]),pt=gt[2*_t],vt.opt_len+=pt*(Me+Ze),an&&(vt.static_len+=pt*(Kt[2*_t+1]+Ze)));if(V!==0){do{for(Me=Ln-1;vt.bl_count[Me]===0;)Me--;vt.bl_count[Me]--,vt.bl_count[Me+1]+=2,vt.bl_count[Ln]--,V-=2}while(0<V);for(Me=Ln;Me!==0;Me--)for(_t=vt.bl_count[Me];_t!==0;)Vt<(Xt=vt.heap[--yt])||(gt[2*Xt+1]!==Me&&(vt.opt_len+=(Me-gt[2*Xt+1])*gt[2*Xt],gt[2*Xt+1]=Me),_t--)}})(le,fe),Ee(oe,lt,le.bl_count)}function P(le,fe,Le){var qe,Se,oe=-1,Y=fe[1],Ce=0,Fe=7,lt=4;for(Y===0&&(Fe=138,lt=3),fe[2*(Le+1)+1]=65535,qe=0;qe<=Le;qe++)Se=Y,Y=fe[2*(qe+1)+1],++Ce<Fe&&Se===Y||(Ce<lt?le.bl_tree[2*Se]+=Ce:Se!==0?(Se!==oe&&le.bl_tree[2*Se]++,le.bl_tree[2*M]++):Ce<=10?le.bl_tree[2*A]++:le.bl_tree[2*j]++,oe=Se,lt=(Ce=0)===Y?(Fe=138,3):Se===Y?(Fe=6,3):(Fe=7,4))}function he(le,fe,Le){var qe,Se,oe=-1,Y=fe[1],Ce=0,Fe=7,lt=4;for(Y===0&&(Fe=138,lt=3),qe=0;qe<=Le;qe++)if(Se=Y,Y=fe[2*(qe+1)+1],!(++Ce<Fe&&Se===Y)){if(Ce<lt)for(;_e(le,Se,le.bl_tree),--Ce!=0;);else Se!==0?(Se!==oe&&(_e(le,Se,le.bl_tree),Ce--),_e(le,M,le.bl_tree),de(le,Ce-3,2)):Ce<=10?(_e(le,A,le.bl_tree),de(le,Ce-3,3)):(_e(le,j,le.bl_tree),de(le,Ce-11,7));oe=Se,lt=(Ce=0)===Y?(Fe=138,3):Se===Y?(Fe=6,3):(Fe=7,4)}}f(ee);var ye=!1;function ne(le,fe,Le,qe){de(le,(h<<1)+(qe?1:0),3),(function(Se,oe,Y,Ce){Qe(Se),J(Se,Y),J(Se,~Y),o.arraySet(Se.pending_buf,Se.window,oe,Y,Se.pending),Se.pending+=Y})(le,fe,Le)}i._tr_init=function(le){ye||((function(){var fe,Le,qe,Se,oe,Y=new Array(b+1);for(Se=qe=0;Se<m-1;Se++)for(ae[Se]=qe,fe=0;fe<1<<U[Se];fe++)k[qe++]=Se;for(k[qe-1]=Se,Se=oe=0;Se<16;Se++)for(ee[Se]=oe,fe=0;fe<1<<F[Se];fe++)Q[oe++]=Se;for(oe>>=7;Se<v;Se++)for(ee[Se]=oe<<7,fe=0;fe<1<<F[Se]-7;fe++)Q[256+oe++]=Se;for(Le=0;Le<=b;Le++)Y[Le]=0;for(fe=0;fe<=143;)se[2*fe+1]=8,fe++,Y[8]++;for(;fe<=255;)se[2*fe+1]=9,fe++,Y[9]++;for(;fe<=279;)se[2*fe+1]=7,fe++,Y[7]++;for(;fe<=287;)se[2*fe+1]=8,fe++,Y[8]++;for(Ee(se,x+1,Y),fe=0;fe<v;fe++)I[2*fe+1]=5,I[2*fe]=Oe(fe,5);H=new xe(se,U,p+1,x,b),G=new xe(I,F,0,v,b),q=new xe(new Array(0),O,0,w,D)})(),ye=!0),le.l_desc=new B(le.dyn_ltree,H),le.d_desc=new B(le.dyn_dtree,G),le.bl_desc=new B(le.bl_tree,q),le.bi_buf=0,le.bi_valid=0,He(le)},i._tr_stored_block=ne,i._tr_flush_block=function(le,fe,Le,qe){var Se,oe,Y=0;0<le.level?(le.strm.data_type===2&&(le.strm.data_type=(function(Ce){var Fe,lt=4093624447;for(Fe=0;Fe<=31;Fe++,lt>>>=1)if(1&lt&&Ce.dyn_ltree[2*Fe]!==0)return c;if(Ce.dyn_ltree[18]!==0||Ce.dyn_ltree[20]!==0||Ce.dyn_ltree[26]!==0)return d;for(Fe=32;Fe<p;Fe++)if(Ce.dyn_ltree[2*Fe]!==0)return d;return c})(le)),nt(le,le.l_desc),nt(le,le.d_desc),Y=(function(Ce){var Fe;for(P(Ce,Ce.dyn_ltree,Ce.l_desc.max_code),P(Ce,Ce.dyn_dtree,Ce.d_desc.max_code),nt(Ce,Ce.bl_desc),Fe=w-1;3<=Fe&&Ce.bl_tree[2*$[Fe]+1]===0;Fe--);return Ce.opt_len+=3*(Fe+1)+5+5+4,Fe})(le),Se=le.opt_len+3+7>>>3,(oe=le.static_len+3+7>>>3)<=Se&&(Se=oe)):Se=oe=Le+5,Le+4<=Se&&fe!==-1?ne(le,fe,Le,qe):le.strategy===4||oe===Se?(de(le,2+(qe?1:0),3),tt(le,se,I)):(de(le,4+(qe?1:0),3),(function(Ce,Fe,lt,vt){var Et;for(de(Ce,Fe-257,5),de(Ce,lt-1,5),de(Ce,vt-4,4),Et=0;Et<vt;Et++)de(Ce,Ce.bl_tree[2*$[Et]+1],3);he(Ce,Ce.dyn_ltree,Fe-1),he(Ce,Ce.dyn_dtree,lt-1)})(le,le.l_desc.max_code+1,le.d_desc.max_code+1,Y+1),tt(le,le.dyn_ltree,le.dyn_dtree)),He(le),qe&&Qe(le)},i._tr_tally=function(le,fe,Le){return le.pending_buf[le.d_buf+2*le.last_lit]=fe>>>8&255,le.pending_buf[le.d_buf+2*le.last_lit+1]=255&fe,le.pending_buf[le.l_buf+le.last_lit]=255&Le,le.last_lit++,fe===0?le.dyn_ltree[2*Le]++:(le.matches++,fe--,le.dyn_ltree[2*(k[Le]+p+1)]++,le.dyn_dtree[2*te(fe)]++),le.last_lit===le.lit_bufsize-1},i._tr_align=function(le){de(le,2,3),_e(le,C,se),(function(fe){fe.bi_valid===16?(J(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(le)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(c,d){if(!c.setImmediate){var f,h,m,p,x=1,v={},w=!1,y=c.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(c);b=b&&b.setTimeout?b:c,f={}.toString.call(c.process)==="[object process]"?function(M){process.nextTick(function(){D(M)})}:(function(){if(c.postMessage&&!c.importScripts){var M=!0,A=c.onmessage;return c.onmessage=function(){M=!1},c.postMessage("","*"),c.onmessage=A,M}})()?(p="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",C,!1):c.attachEvent("onmessage",C),function(M){c.postMessage(p+M,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(M){D(M.data)},function(M){m.port2.postMessage(M)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(M){var A=y.createElement("script");A.onreadystatechange=function(){D(M),A.onreadystatechange=null,h.removeChild(A),A=null},h.appendChild(A)}):function(M){setTimeout(D,0,M)},b.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var A=new Array(arguments.length-1),j=0;j<A.length;j++)A[j]=arguments[j+1];var U={callback:M,args:A};return v[x]=U,f(x),x++},b.clearImmediate=_}function _(M){delete v[M]}function D(M){if(w)setTimeout(D,0,M);else{var A=v[M];if(A){w=!0;try{(function(j){var U=j.callback,F=j.args;switch(F.length){case 0:U();break;case 1:U(F[0]);break;case 2:U(F[0],F[1]);break;case 3:U(F[0],F[1],F[2]);break;default:U.apply(d,F)}})(A)}finally{_(M),w=!1}}}}function C(M){M.source===c&&typeof M.data=="string"&&M.data.indexOf(p)===0&&D(+M.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof gl<"u"?gl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tv)),tv.exports}var p7=UA();const kA=ex(p7),g7=Object.freeze(Object.defineProperty({__proto__:null,default:kA},Symbol.toStringTag,{value:"Module"}));var nv="focusScope.autoFocusOnMount",rv="focusScope.autoFocusOnUnmount",lC={bubbles:!1,cancelable:!0},m7="FocusScope",gx=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...c}=e,[d,f]=N.useState(null),h=Es(i),m=Es(o),p=N.useRef(null),x=Nn(t,y=>f(y)),v=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let y=function(C){if(v.paused||!d)return;const M=C.target;d.contains(M)?p.current=M:fl(p.current,{select:!0})},b=function(C){if(v.paused||!d)return;const M=C.relatedTarget;M!==null&&(d.contains(M)||fl(p.current,{select:!0}))},_=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&fl(d)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const D=new MutationObserver(_);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),D.disconnect()}}},[r,d,v.paused]),N.useEffect(()=>{if(d){dC.add(v);const y=document.activeElement;if(!d.contains(y)){const _=new CustomEvent(nv,lC);d.addEventListener(nv,h),d.dispatchEvent(_),_.defaultPrevented||(x7(w7(jA(d)),{select:!0}),document.activeElement===y&&fl(d))}return()=>{d.removeEventListener(nv,h),setTimeout(()=>{const _=new CustomEvent(rv,lC);d.addEventListener(rv,m),d.dispatchEvent(_),_.defaultPrevented||fl(y??document.body,{select:!0}),d.removeEventListener(rv,m),dC.remove(v)},0)}}},[d,h,m,v]);const w=N.useCallback(y=>{if(!n&&!r||v.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(b&&_){const D=y.currentTarget,[C,M]=y7(D);C&&M?!y.shiftKey&&_===M?(y.preventDefault(),n&&fl(C,{select:!0})):y.shiftKey&&_===C&&(y.preventDefault(),n&&fl(M,{select:!0})):_===D&&y.preventDefault()}},[n,r,v.paused]);return l.jsx(gn.div,{tabIndex:-1,...c,ref:x,onKeyDown:w})});gx.displayName=m7;function x7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fl(r,{select:t}),document.activeElement!==n)return}function y7(e){const t=jA(e),n=cC(t,e),r=cC(t.reverse(),e);return[n,r]}function jA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function cC(e,t){for(const n of e)if(!v7(n,{upTo:t}))return n}function v7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b7(e){return e instanceof HTMLInputElement&&"select"in e}function fl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&b7(e)&&t&&e.select()}}var dC=_7();function _7(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=uC(e,t),e.unshift(t)},remove(t){e=uC(e,t),e[0]?.resume()}}}function uC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w7(e){return e.filter(t=>t.tagName!=="A")}var av=0;function z1(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fC()),document.body.insertAdjacentElement("beforeend",e[1]??fC()),av++,()=>{av===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),av--}},[])}function fC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ds=function(){return Ds=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ds.apply(this,arguments)};function RA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function D7(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var tm="right-scroll-bar-position",nm="width-before-scroll-bar",S7="with-scroll-bars-hidden",C7="--removed-body-scroll-bar-size";function iv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T7(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var E7=typeof window<"u"?N.useLayoutEffect:N.useEffect,hC=new WeakMap;function N7(e,t){var n=T7(null,function(r){return e.forEach(function(i){return iv(i,r)})});return E7(function(){var r=hC.get(n);if(r){var i=new Set(r),o=new Set(e),c=n.current;i.forEach(function(d){o.has(d)||iv(d,null)}),o.forEach(function(d){i.has(d)||iv(d,c)})}hC.set(n,e)},[e]),n}function A7(e){return e}function M7(e,t){t===void 0&&(t=A7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var c=t(o,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var f=function(){var m=c;c=[],m.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),n}}}};return i}function U7(e){e===void 0&&(e={});var t=M7(null);return t.options=Ds({async:!0,ssr:!1},e),t}var PA=function(e){var t=e.sideCar,n=RA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Ds({},n))};PA.isSideCarExport=!0;function k7(e,t){return e.useMedium(t),PA}var OA=U7(),sv=function(){},mx=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:sv,onWheelCapture:sv,onTouchMoveCapture:sv}),i=r[0],o=r[1],c=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,v=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,_=e.as,D=_===void 0?"div":_,C=e.gapMode,M=RA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=x,j=N7([n,t]),U=Ds(Ds({},M),i);return N.createElement(N.Fragment,null,m&&N.createElement(A,{sideCar:OA,removeScrollBar:h,shards:p,noRelative:v,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:C}),c?N.cloneElement(N.Children.only(d),Ds(Ds({},U),{ref:j})):N.createElement(D,Ds({},U,{className:f,ref:j}),d))});mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mx.classNames={fullWidth:nm,zeroRight:tm};var j7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=j7();return t&&e.setAttribute("nonce",t),e}function P7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var I7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=R7())&&(P7(t,n),O7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F7=function(){var e=I7();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},IA=function(){var e=F7(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},L7={left:0,top:0,right:0,gap:0},ov=function(e){return parseInt(e||"",10)||0},H7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ov(n),ov(r),ov(i)]},B7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L7;var t=H7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},V7=IA(),hu="data-scroll-locked",W7=function(e,t,n,r){var i=e.left,o=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(S7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(hu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tm,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(nm,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(tm," .").concat(tm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nm," .").concat(nm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hu,`] {
    `).concat(C7,": ").concat(d,`px;
  }
`)},pC=function(){var e=parseInt(document.body.getAttribute(hu)||"0",10);return isFinite(e)?e:0},z7=function(){N.useEffect(function(){return document.body.setAttribute(hu,(pC()+1).toString()),function(){var e=pC()-1;e<=0?document.body.removeAttribute(hu):document.body.setAttribute(hu,e.toString())}},[])},$7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;z7();var o=N.useMemo(function(){return B7(i)},[i]);return N.createElement(V7,{styles:W7(o,!t,i,n?"":"!important")})},Zb=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return Zb=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{Zb=!1}var Qd=Zb?{passive:!1}:!1,q7=function(e){return e.tagName==="TEXTAREA"},FA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q7(e)&&n[t]==="visible")},G7=function(e){return FA(e,"overflowY")},X7=function(e){return FA(e,"overflowX")},gC=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=LA(e,r);if(i){var o=HA(e,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},K7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Y7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},LA=function(e,t){return e==="v"?G7(t):X7(t)},HA=function(e,t){return e==="v"?K7(t):Y7(t)},Z7=function(e,t){return e==="h"&&t==="rtl"?-1:1},Q7=function(e,t,n,r,i){var o=Z7(e,window.getComputedStyle(t).direction),c=o*r,d=n.target,f=t.contains(d),h=!1,m=c>0,p=0,x=0;do{if(!d)break;var v=HA(e,d),w=v[0],y=v[1],b=v[2],_=y-b-o*w;(w||_)&&LA(e,d)&&(p+=_,x+=w);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(h=!0),h},Dg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mC=function(e){return[e.deltaX,e.deltaY]},xC=function(e){return e&&"current"in e?e.current:e},J7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tF=0,Jd=[];function nF(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(tF++)[0],o=N.useState(IA)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=D7([e.lockRef.current],(e.shards||[]).map(xC),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!c.current.allowPinchZoom;var _=Dg(y),D=n.current,C="deltaX"in y?y.deltaX:D[0]-_[0],M="deltaY"in y?y.deltaY:D[1]-_[1],A,j=y.target,U=Math.abs(C)>Math.abs(M)?"h":"v";if("touches"in y&&U==="h"&&j.type==="range")return!1;var F=window.getSelection(),O=F&&F.anchorNode,$=O?O===j||O.contains(j):!1;if($)return!1;var se=gC(U,j);if(!se)return!0;if(se?A=U:(A=U==="v"?"h":"v",se=gC(U,j)),!se)return!1;if(!r.current&&"changedTouches"in y&&(C||M)&&(r.current=A),!A)return!0;var I=r.current||A;return Q7(I,b,y,I==="h"?C:M)},[]),f=N.useCallback(function(y){var b=y;if(!(!Jd.length||Jd[Jd.length-1]!==o)){var _="deltaY"in b?mC(b):Dg(b),D=t.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&J7(A.delta,_)})[0];if(D&&D.should){b.cancelable&&b.preventDefault();return}if(!D){var C=(c.current.shards||[]).map(xC).filter(Boolean).filter(function(A){return A.contains(b.target)}),M=C.length>0?d(b,C[0]):!c.current.noIsolation;M&&b.cancelable&&b.preventDefault()}}},[]),h=N.useCallback(function(y,b,_,D){var C={name:y,delta:b,target:_,should:D,shadowParent:rF(_)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(M){return M!==C})},1)},[]),m=N.useCallback(function(y){n.current=Dg(y),r.current=void 0},[]),p=N.useCallback(function(y){h(y.type,mC(y),y.target,d(y,e.lockRef.current))},[]),x=N.useCallback(function(y){h(y.type,Dg(y),y.target,d(y,e.lockRef.current))},[]);N.useEffect(function(){return Jd.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Qd),document.addEventListener("touchmove",f,Qd),document.addEventListener("touchstart",m,Qd),function(){Jd=Jd.filter(function(y){return y!==o}),document.removeEventListener("wheel",f,Qd),document.removeEventListener("touchmove",f,Qd),document.removeEventListener("touchstart",m,Qd)}},[]);var v=e.removeScrollBar,w=e.inert;return N.createElement(N.Fragment,null,w?N.createElement(o,{styles:eF(i)}):null,v?N.createElement($7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aF=k7(OA,nF);var xx=N.forwardRef(function(e,t){return N.createElement(mx,Ds({},e,{ref:t,sideCar:aF}))});xx.classNames=mx.classNames;var iF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eu=new WeakMap,Sg=new WeakMap,Cg={},lv=0,BA=function(e){return e&&(e.host||BA(e.parentNode))},sF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=BA(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oF=function(e,t,n,r){var i=sF(t,Array.isArray(e)?e:[e]);Cg[n]||(Cg[n]=new WeakMap);var o=Cg[n],c=[],d=new Set,f=new Set(i),h=function(p){!p||d.has(p)||(d.add(p),h(p.parentNode))};i.forEach(h);var m=function(p){!p||f.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))m(x);else try{var v=x.getAttribute(r),w=v!==null&&v!=="false",y=(eu.get(x)||0)+1,b=(o.get(x)||0)+1;eu.set(x,y),o.set(x,b),c.push(x),y===1&&w&&Sg.set(x,!0),b===1&&x.setAttribute(n,"true"),w||x.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return m(t),d.clear(),lv++,function(){c.forEach(function(p){var x=eu.get(p)-1,v=o.get(p)-1;eu.set(p,x),o.set(p,v),x||(Sg.has(p)||p.removeAttribute(r),Sg.delete(p)),v||p.removeAttribute(n)}),lv--,lv||(eu=new WeakMap,eu=new WeakMap,Sg=new WeakMap,Cg={})}},$1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=iF(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),oF(r,i,n,"aria-hidden")):function(){return null}};function lF(e){const t=cF(e),n=N.forwardRef((r,i)=>{const{children:o,...c}=r,d=N.Children.toArray(o),f=d.find(uF);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function cF(e){const t=N.forwardRef((n,r)=>{const{children:i,...o}=n;if(N.isValidElement(i)){const c=hF(i),d=fF(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dF=Symbol("radix.slottable");function uF(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dF}function fF(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function hF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yx="Dialog",[VA,WA]=Ms(yx),[pF,cs]=VA(yx),zA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=N.useRef(null),f=N.useRef(null),[h,m]=Oc({prop:r,defaultProp:i??!1,onChange:o,caller:yx});return l.jsx(pF,{scope:t,triggerRef:d,contentRef:f,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:h,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(p=>!p),[m]),modal:c,children:n})};zA.displayName=yx;var $A="DialogTrigger",qA=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cs($A,n),o=Nn(t,i.triggerRef);return l.jsx(gn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X1(i.open),...r,ref:o,onClick:Pt(e.onClick,i.onOpenToggle)})});qA.displayName=$A;var q1="DialogPortal",[gF,GA]=VA(q1,{forceMount:void 0}),XA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=cs(q1,t);return l.jsx(gF,{scope:t,forceMount:n,children:N.Children.map(r,c=>l.jsx(ls,{present:n||o.open,children:l.jsx(Ih,{asChild:!0,container:i,children:c})}))})};XA.displayName=q1;var Fm="DialogOverlay",KA=N.forwardRef((e,t)=>{const n=GA(Fm,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=cs(Fm,e.__scopeDialog);return o.modal?l.jsx(ls,{present:r||o.open,children:l.jsx(xF,{...i,ref:t})}):null});KA.displayName=Fm;var mF=lF("DialogOverlay.RemoveScroll"),xF=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cs(Fm,n);return l.jsx(xx,{as:mF,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(gn.div,{"data-state":X1(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ic="DialogContent",YA=N.forwardRef((e,t)=>{const n=GA(Ic,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=cs(Ic,e.__scopeDialog);return l.jsx(ls,{present:r||o.open,children:o.modal?l.jsx(yF,{...i,ref:t}):l.jsx(vF,{...i,ref:t})})});YA.displayName=Ic;var yF=N.forwardRef((e,t)=>{const n=cs(Ic,e.__scopeDialog),r=N.useRef(null),i=Nn(t,n.contentRef,r);return N.useEffect(()=>{const o=r.current;if(o)return $1(o)},[]),l.jsx(ZA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pt(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:Pt(e.onFocusOutside,o=>o.preventDefault())})}),vF=N.forwardRef((e,t)=>{const n=cs(Ic,e.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return l.jsx(ZA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;n.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ZA=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=e,d=cs(Ic,n),f=N.useRef(null),h=Nn(t,f);return z1(),l.jsxs(l.Fragment,{children:[l.jsx(gx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(Ph,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":X1(d.open),...c,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(_F,{titleId:d.titleId}),l.jsx(DF,{contentRef:f,descriptionId:d.descriptionId})]})]})}),G1="DialogTitle",QA=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cs(G1,n);return l.jsx(gn.h2,{id:i.titleId,...r,ref:t})});QA.displayName=G1;var JA="DialogDescription",e5=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cs(JA,n);return l.jsx(gn.p,{id:i.descriptionId,...r,ref:t})});e5.displayName=JA;var t5="DialogClose",n5=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cs(t5,n);return l.jsx(gn.button,{type:"button",...r,ref:t,onClick:Pt(e.onClick,()=>i.onOpenChange(!1))})});n5.displayName=t5;function X1(e){return e?"open":"closed"}var r5="DialogTitleWarning",[bF,a5]=uP(r5,{contentName:Ic,titleName:G1,docsSlug:"dialog"}),_F=({titleId:e})=>{const t=a5(r5),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},wF="DialogDescriptionWarning",DF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a5(wF).contentName}}.`;return N.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},i5=zA,SF=qA,s5=XA,o5=KA,l5=YA,c5=QA,d5=e5,K1=n5;const u5=N.createContext({isComposing:()=>!1,setComposing:()=>{},justEndedComposing:()=>!1,markCompositionEnd:()=>{}}),Y1=()=>N.useContext(u5);function oi({...e}){const t=N.useRef(!1),n=N.useRef(!1),r=N.useRef(null),i=N.useMemo(()=>({isComposing:()=>t.current,setComposing:o=>{t.current=o},justEndedComposing:()=>n.current,markCompositionEnd:()=>{n.current=!0,r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n.current=!1},150)}}),[]);return l.jsx(u5.Provider,{"data-loc":"client/src/components/ui/dialog.tsx:50",value:i,children:l.jsx(i5,{"data-loc":"client/src/components/ui/dialog.tsx:51","data-slot":"dialog",...e})})}function CF({...e}){return l.jsx(s5,{"data-loc":"client/src/components/ui/dialog.tsx:65","data-slot":"dialog-portal",...e})}function f5({className:e,...t}){return l.jsx(o5,{"data-loc":"client/src/components/ui/dialog.tsx:79","data-slot":"dialog-overlay",className:wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}f5.displayName="DialogOverlay";function li({className:e,children:t,showCloseButton:n=!0,onEscapeKeyDown:r,...i}){const{isComposing:o}=Y1(),c=N.useCallback(d=>{if(d.isComposing||o()){d.preventDefault();return}r?.(d)},[o,r]);return l.jsxs(CF,{"data-loc":"client/src/components/ui/dialog.tsx:122","data-slot":"dialog-portal",children:[l.jsx(f5,{"data-loc":"client/src/components/ui/dialog.tsx:123"}),l.jsxs(l5,{"data-loc":"client/src/components/ui/dialog.tsx:124","data-slot":"dialog-content",className:wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),onEscapeKeyDown:c,...i,children:[t,n&&l.jsxs(K1,{"data-loc":"client/src/components/ui/dialog.tsx:135","data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(ai,{"data-loc":"client/src/components/ui/dialog.tsx:139"}),l.jsx("span",{"data-loc":"client/src/components/ui/dialog.tsx:140",className:"sr-only",children:"Close"})]})]})]})}function ci({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/dialog.tsx:150","data-slot":"dialog-header",className:wn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function rm({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/dialog.tsx:160","data-slot":"dialog-footer",className:wn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function di({className:e,...t}){return l.jsx(c5,{"data-loc":"client/src/components/ui/dialog.tsx:176","data-slot":"dialog-title",className:wn("text-lg leading-none font-semibold",e),...t})}function rs({className:e,...t}){return l.jsx(d5,{"data-loc":"client/src/components/ui/dialog.tsx:189","data-slot":"dialog-description",className:wn("text-muted-foreground text-sm",e),...t})}function TF({isOpen:e,onClose:t,currentUser:n,onProfileUpdated:r}){const[i,o]=N.useState(""),[c,d]=N.useState(""),[f,h]=N.useState(null),[m,p]=N.useState(n.profileImageUrl),[x,v]=N.useState(n.kieApiKey||""),[w,y]=N.useState(n.openaiApiKey||""),[b,_]=N.useState(n.ffmpegApiKey||""),[D,C]=N.useState(n.cleanvoiceApiKey||""),[M,A]=N.useState(n.ffmpegBatchSize||15),j=Tt.appAuth.updateProfile.useMutation(),U=Tt.video.uploadImage.useMutation(),F=$=>{const se=$.target.files?.[0];if(se){h(se);const I=new FileReader;I.onload=Q=>{p(Q.target?.result)},I.readAsDataURL(se)}},O=async()=>{try{if(i&&i!==c){be.error("Passwords do not match!");return}let $=n.profileImageUrl;if(f){const se=new FileReader;se.onload=async I=>{try{const Q=I.target?.result;$=(await U.mutateAsync({imageData:Q,fileName:f.name,userId:n.id,sessionId:"profile"})).imageUrl;const ae=await j.mutateAsync({userId:n.id,password:i||void 0,profileImageUrl:$||void 0,kieApiKey:x||void 0,openaiApiKey:w||void 0,ffmpegApiKey:b||void 0,cleanvoiceApiKey:D||void 0,ffmpegBatchSize:M});ae.success&&ae.user&&(be.success("Profile updated!"),r(ae.user),t())}catch(Q){console.error("Upload error:",Q),be.error("Error uploading image!")}},se.readAsDataURL(f)}else{const se=await j.mutateAsync({userId:n.id,password:i||void 0,kieApiKey:x||void 0,openaiApiKey:w||void 0,ffmpegApiKey:b||void 0,cleanvoiceApiKey:D||void 0,ffmpegBatchSize:M});se.success&&se.user&&(be.success("Profile updated!"),r(se.user),t())}}catch($){console.error("Update error:",$),be.error($.message||"Error updating profile!")}};return l.jsx(oi,{"data-loc":"client/src/components/EditProfileModal.tsx:115",open:e,onOpenChange:t,children:l.jsxs(li,{"data-loc":"client/src/components/EditProfileModal.tsx:116",className:"max-w-md w-[95vw] sm:w-full",children:[l.jsx(ci,{"data-loc":"client/src/components/EditProfileModal.tsx:117",children:l.jsx(di,{"data-loc":"client/src/components/EditProfileModal.tsx:118",className:"text-2xl font-bold text-blue-900",children:"Settings"})}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:121",className:"space-y-6 py-4",children:[l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:123",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:124",className:"block text-sm font-medium text-blue-900 mb-2",children:"Profile Picture"}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:127",className:"flex items-center gap-4",children:[m&&l.jsx("img",{"data-loc":"client/src/components/EditProfileModal.tsx:129",src:m,alt:"Profile Preview",className:"w-20 h-20 rounded-full border-2 border-blue-300 object-cover"}),!m&&l.jsx("div",{"data-loc":"client/src/components/EditProfileModal.tsx:136",className:"w-20 h-20 rounded-full border-2 border-blue-300 bg-blue-100 flex items-center justify-center",children:l.jsx("span",{"data-loc":"client/src/components/EditProfileModal.tsx:137",className:"text-blue-900 font-bold text-2xl",children:n.username.charAt(0).toUpperCase()})}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:142",type:"file",accept:"image/*",onChange:F,className:"flex-1 text-sm text-blue-900"})]})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:152",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:153",className:"block text-sm font-medium text-blue-900 mb-2",children:"New Password (optional)"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:156",type:"password",value:i,onChange:$=>o($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Leave empty to keep current password"})]}),i&&l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:167",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:168",className:"block text-sm font-medium text-blue-900 mb-2",children:"Confirm Password"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:171",type:"password",value:c,onChange:$=>d($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:182",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:183",className:"block text-sm font-medium text-blue-900 mb-2",children:"Kie API Key"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:186",type:"text",value:x,onChange:$=>v($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key from kie.ai"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:196",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:197",className:"block text-sm font-medium text-blue-900 mb-2",children:"OpenAI API Key"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:200",type:"text",value:w,onChange:$=>y($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key from OpenAI"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:210",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:211",className:"block text-sm font-medium text-blue-900 mb-2",children:"FFMPEG API Key"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:214",type:"text",value:b,onChange:$=>_($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key from FFMPEG API"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:224",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:225",className:"block text-sm font-medium text-blue-900 mb-2",children:"FFmpeg Batch Size"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:228",type:"number",min:"1",max:"50",value:M,onChange:$=>A(parseInt($.target.value)||15),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Default: 15"}),l.jsx("p",{"data-loc":"client/src/components/EditProfileModal.tsx:237",className:"text-xs text-gray-600 mt-1",children:"Number of videos to process simultaneously (default: 15)"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:243",children:[l.jsx("label",{"data-loc":"client/src/components/EditProfileModal.tsx:244",className:"block text-sm font-medium text-blue-900 mb-2",children:"CleanVoice API Key"}),l.jsx("input",{"data-loc":"client/src/components/EditProfileModal.tsx:247",type:"text",value:D,onChange:$=>C($.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your API key from CleanVoice"})]}),l.jsxs("div",{"data-loc":"client/src/components/EditProfileModal.tsx:257",className:"flex gap-3",children:[l.jsx(ke,{"data-loc":"client/src/components/EditProfileModal.tsx:258",onClick:O,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:j.isPending||U.isPending,children:j.isPending||U.isPending?"Saving...":"Save"}),l.jsx(ke,{"data-loc":"client/src/components/EditProfileModal.tsx:267",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})}const EF=Math.PI/180;function NF(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Mc=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},jt={_global:Mc,version:"10.0.12",isBrowser:NF(),isUnminified:/param/.test((function(e){}).toString()),dblClickWindow:400,getAngle(e){return jt.angleDeg?e*EF:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return jt.DD.isDragging},isTransforming(){var e,t;return(t=(e=jt.Transformer)===null||e===void 0?void 0:e.isTransforming())!==null&&t!==void 0?t:!1},isDragReady(){return!!jt.DD.node},releaseCanvasOnDestroy:!0,document:Mc.document,_injectGlobal(e){typeof Mc.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Mc.Konva=e}},Al=e=>{jt[e.prototype.getClassName()]=e};jt._injectGlobal(jt);const AF=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,yC=()=>{if(typeof document>"u")throw new Error(AF)};class xl{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new xl(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){const n=this.m;return{x:n[0]*t.x+n[2]*t.y+n[4],y:n[1]*t.x+n[3]*t.y+n[5]}}translate(t,n){return this.m[4]+=this.m[0]*t+this.m[2]*n,this.m[5]+=this.m[1]*t+this.m[3]*n,this}scale(t,n){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=n,this.m[3]*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),i=this.m[0]*n+this.m[2]*r,o=this.m[1]*n+this.m[3]*r,c=this.m[0]*-r+this.m[2]*n,d=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=o,this.m[2]=c,this.m[3]=d,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,o=this.m[2]+this.m[0]*t,c=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=c,this}multiply(t){const n=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],c=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],d=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=c,this.m[5]=d,this}invert(){const t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*t,r=-this.m[1]*t,i=-this.m[2]*t,o=this.m[0]*t,c=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),d=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this.m[4]=c,this.m[5]=d,this}getMatrix(){return this.m}decompose(){const t=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=this.m[4],c=this.m[5],d=t*i-n*r,f={x:o,y:c,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||n!=0){const h=Math.sqrt(t*t+n*n);f.rotation=n>0?Math.acos(t/h):-Math.acos(t/h),f.scaleX=h,f.scaleY=d/h,f.skewX=(t*r+n*i)/d,f.skewY=0}else if(r!=0||i!=0){const h=Math.sqrt(r*r+i*i);f.rotation=Math.PI/2-(i>0?Math.acos(-r/h):-Math.acos(r/h)),f.scaleX=d/h,f.scaleY=h,f.skewX=0,f.skewY=(t*r+n*i)/d}return f.rotation=Ge._getRotation(f.rotation),f}}const MF="[object Array]",UF="[object Number]",kF="[object String]",jF="[object Boolean]",RF=Math.PI/180,PF=180/Math.PI,jf="#",OF="",IF="0",FF="Konva warning: ",vC="Konva error: ",LF="rgb(",cv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},HF=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Tg=[],Rf=null;const BF=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(e){setTimeout(e,60)},Ge={_isElement(e){return!!(e&&e.nodeType==1)},_isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject(e){return!!e&&e.constructor===Object},_isArray(e){return Object.prototype.toString.call(e)===MF},_isNumber(e){return Object.prototype.toString.call(e)===UF&&!isNaN(e)&&isFinite(e)},_isString(e){return Object.prototype.toString.call(e)===kF},_isBoolean(e){return Object.prototype.toString.call(e)===jF},isObject(e){return e instanceof Object},isValidSelector(e){if(typeof e!="string")return!1;const t=e[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(e){return e===0||e>0?1:-1},requestAnimFrame(e){Tg.push(e),Tg.length===1&&BF(function(){const t=Tg;Tg=[],t.forEach(function(n){n()})})},createCanvasElement(){yC();const e=document.createElement("canvas");try{e.style=e.style||{}}catch{}return e},createImageElement(){return yC(),document.createElement("img")},_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){const n=Ge.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb(e){e=e.replace(jf,OF);const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){let e=(Math.random()*16777215<<0).toString(16);for(;e.length<6;)e=IF+e;return jf+e},isCanvasFarblingActive(){if(Rf!==null)return Rf;if(typeof document>"u")return Rf=!1,!1;const e=this.createCanvasElement();e.width=10,e.height=10;const t=e.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,10,10),t.fillStyle="#282828",t.fillRect(0,0,10,10);const n=t.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return Rf=r,this.releaseCanvas(e),Rf},getHitColor(){const e=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(e):e},getHitColorKey(e,t,n){return this.isCanvasFarblingActive()&&(e=Math.round(e/5)*5,t=Math.round(t/5)*5,n=Math.round(n/5)*5),jf+this._rgbToHex(e,t,n)},getSnappedHexColor(e){const t=this._hexToRgb(e);return jf+this._rgbToHex(Math.round(t.r/5)*5,Math.round(t.g/5)*5,Math.round(t.b/5)*5)},getRGB(e){let t;return e in cv?(t=cv[e],{r:t[0],g:t[1],b:t[2]}):e[0]===jf?this._hexToRgb(e.substring(1)):e.substr(0,4)===LF?(t=HF.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(e){return e=e||"black",Ge._namedColorToRBA(e)||Ge._hex3ColorToRGBA(e)||Ge._hex4ColorToRGBA(e)||Ge._hex6ColorToRGBA(e)||Ge._hex8ColorToRGBA(e)||Ge._rgbColorToRGBA(e)||Ge._rgbaColorToRGBA(e)||Ge._hslColorToRGBA(e)},_namedColorToRBA(e){const t=cv[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(e.indexOf("rgb(")===0){e=e.match(/rgb\(([^)]+)\)/)[1];const t=e.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(e.indexOf("rgba(")===0){e=e.match(/rgba\(([^)]+)\)/)[1];const t=e.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if(e[0]==="#"&&e.length===9)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if(e[0]==="#"&&e.length===7)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if(e[0]==="#"&&e.length===5)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if(e[0]==="#"&&e.length===4)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100;let c,d,f;if(i===0)return f=o*255,{r:Math.round(f),g:Math.round(f),b:Math.round(f),a:1};o<.5?c=o*(1+i):c=o+i-o*i;const h=2*o-c,m=[0,0,0];for(let p=0;p<3;p++)d=r+1/3*-(p-1),d<0&&d++,d>1&&d--,6*d<1?f=h+(c-h)*6*d:2*d<1?f=c:3*d<2?f=h+(c-h)*(2/3-d)*6:f=h,m[p]=f*255;return{r:Math.round(m[0]),g:Math.round(m[1]),b:Math.round(m[2]),a:1}}},haveIntersection(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray(e){return e.slice(0)},degToRad(e){return e*RF},radToDeg(e){return e*PF},_degToRad(e){return Ge.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Ge.degToRad(e)},_radToDeg(e){return Ge.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Ge.radToDeg(e)},_getRotation(e){return jt.angleDeg?Ge.radToDeg(e):e},_capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw(e){throw new Error(vC+e)},error(e){console.error(vC+e)},warn(e){jt.showWarnings&&console.warn(FF+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange(e,t,n){return t<=e&&e<n},_getProjectionToSegment(e,t,n,r,i,o){let c,d,f;const h=(e-n)*(e-n)+(t-r)*(t-r);if(h==0)c=e,d=t,f=(i-n)*(i-n)+(o-r)*(o-r);else{const m=((i-e)*(n-e)+(o-t)*(r-t))/h;m<0?(c=e,d=t,f=(e-i)*(e-i)+(t-o)*(t-o)):m>1?(c=n,d=r,f=(n-i)*(n-i)+(r-o)*(r-o)):(c=e+m*(n-e),d=t+m*(r-t),f=(c-i)*(c-i)+(d-o)*(d-o))}return[c,d,f]},_getProjectionToLine(e,t,n){const r=Ge.cloneObject(e);let i=Number.MAX_VALUE;return t.forEach(function(o,c){if(!n&&c===t.length-1)return;const d=t[(c+1)%t.length],f=Ge._getProjectionToSegment(o.x,o.y,d.x,d.y,e.x,e.y),h=f[0],m=f[1],p=f[2];p<i&&(r.x=h,r.y=m,i=p)}),r},_prepareArrayForTween(e,t,n){const r=[],i=[];if(e.length>t.length){const c=t;t=e,e=c}for(let c=0;c<e.length;c+=2)r.push({x:e[c],y:e[c+1]});for(let c=0;c<t.length;c+=2)i.push({x:t[c],y:t[c+1]});const o=[];return i.forEach(function(c){const d=Ge._getProjectionToLine(c,r,n);o.push(d.x),o.push(d.y)}),o},_prepareToStringify(e){let t;e.visitedByCircularReferenceRemoval=!0;for(const n in e)if(e.hasOwnProperty(n)&&e[n]&&typeof e[n]=="object"){if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||Ge._isElement(e[n]))if(t.configurable)delete e[n];else return null;else if(Ge._prepareToStringify(e[n])===null)if(t.configurable)delete e[n];else return null}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999},releaseCanvas(...e){jt.releaseCanvasOnDestroy&&e.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(e,t,n,r){let i=t<0?t:0,o=n<0?n:0;t=Math.abs(t),n=Math.abs(n);let c=0,d=0,f=0,h=0;typeof r=="number"?c=d=f=h=Math.min(r,t/2,n/2):(c=Math.min(r[0]||0,t/2,n/2),d=Math.min(r[1]||0,t/2,n/2),h=Math.min(r[2]||0,t/2,n/2),f=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i+c,o),e.lineTo(i+t-d,o),e.arc(i+t-d,o+d,d,Math.PI*3/2,0,!1),e.lineTo(i+t,o+n-h),e.arc(i+t-h,o+n-h,h,0,Math.PI/2,!1),e.lineTo(i+f,o+n),e.arc(i+f,o+n-f,f,Math.PI/2,Math.PI,!1),e.lineTo(i,o+c),e.arc(i+c,o+c,c,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(e,t,n,r,i){r=Math.abs(r);for(let o=0;o<n;o++){const c=t[(o-1+n)%n],d=t[o],f=t[(o+1)%n],h={x:d.x-c.x,y:d.y-c.y},m={x:f.x-d.x,y:f.y-d.y},p=Math.hypot(h.x,h.y),x=Math.hypot(m.x,m.y);let v;typeof i=="number"?v=i:v=o<i.length?i[o]:0,v=r*Math.cos(Math.PI/n)*Math.min(1,v/r*2);const y={x:h.x/p,y:h.y/p},b={x:m.x/x,y:m.y/x},_={x:d.x-y.x*v,y:d.y-y.y*v},D={x:d.x+b.x*v,y:d.y+b.y*v};o===0?e.moveTo(_.x,_.y):e.lineTo(_.x,_.y),e.arcTo(d.x,d.y,D.x,D.y,v)}}};function VF(e){const t=[],n=e.length,r=Ge;for(let i=0;i<n;i++){let o=e[i];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),t.push(o)}return t}const bC=",",WF="(",zF=")",$F="([",qF="])",GF=";",XF="()",KF="=",_C=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],YF=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],ZF=100;let Eg=null;function wC(){if(Eg!==null)return Eg;try{const t=Ge.createCanvasElement().getContext("2d");return t?!!t&&"filter"in t:(Eg=!1,!1)}catch{return Eg=!1,!1}}class vx{constructor(t){this.canvas=t,jt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){let r=this.traceArr,i=r.length,o="",c,d,f,h;for(c=0;c<i;c++)d=r[c],f=d.method,f?(h=d.args,o+=f,t?o+=XF:Ge._isArray(h[0])?o+=$F+h.join(bC)+qF:(n&&(h=h.map(m=>typeof m=="number"?Math.floor(m):m)),o+=WF+h.join(bC)+zF)):(o+=d.property,t||(o+=KF+d.val)),o+=GF;return o}clearTrace(){this.traceArr=[]}_trace(t){let n=this.traceArr,r;n.push(t),r=n.length,r>=ZF&&n.shift()}reset(){const t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){const n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){const n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(t){const n=t.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(t,n){this._context[t]=n}arc(t,n,r,i,o,c){this._context.arc(t,n,r,i,o,c)}arcTo(t,n,r,i,o){this._context.arcTo(t,n,r,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,r,i,o,c){this._context.bezierCurveTo(t,n,r,i,o,c)}clearRect(t,n,r,i){this._context.clearRect(t,n,r,i)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,n){const r=arguments;if(r.length===2)return this._context.createImageData(t,n);if(r.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,r,i){return this._context.createLinearGradient(t,n,r,i)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,r,i,o,c){return this._context.createRadialGradient(t,n,r,i,o,c)}drawImage(t,n,r,i,o,c,d,f,h){const m=arguments,p=this._context;m.length===3?p.drawImage(t,n,r):m.length===5?p.drawImage(t,n,r,i,o):m.length===9&&p.drawImage(t,n,r,i,o,c,d,f,h)}ellipse(t,n,r,i,o,c,d,f){this._context.ellipse(t,n,r,i,o,c,d,f)}isPointInPath(t,n,r,i){return r?this._context.isPointInPath(r,t,n,i):this._context.isPointInPath(t,n,i)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,n,r,i){this._context.fillRect(t,n,r,i)}strokeRect(t,n,r,i){this._context.strokeRect(t,n,r,i)}fillText(t,n,r,i){i?this._context.fillText(t,n,r,i):this._context.fillText(t,n,r)}measureText(t){return this._context.measureText(t)}getImageData(t,n,r,i){return this._context.getImageData(t,n,r,i)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,r,i){this._context.rect(t,n,r,i)}roundRect(t,n,r,i,o){this._context.roundRect(t,n,r,i,o)}putImageData(t,n,r){this._context.putImageData(t,n,r)}quadraticCurveTo(t,n,r,i){this._context.quadraticCurveTo(t,n,r,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,r,i,o,c){this._context.setTransform(t,n,r,i,o,c)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,r,i){this._context.strokeText(t,n,r,i)}transform(t,n,r,i,o,c){this._context.transform(t,n,r,i,o,c)}translate(t,n){this._context.translate(t,n)}_enableTrace(){let t=this,n=_C.length,r=this.setAttr,i,o;const c=function(d){let f=t[d],h;t[d]=function(){return o=VF(Array.prototype.slice.call(arguments,0)),h=f.apply(t,arguments),t._trace({method:d,args:o}),h}};for(i=0;i<n;i++)c(_C[i]);t.setAttr=function(){r.apply(t,arguments);const d=arguments[0];let f=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),t._trace({property:d,val:f})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}YF.forEach(function(e){Object.defineProperty(vx.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class QF extends vx{constructor(t,{willReadFrequently:n=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(t){const n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){const n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),r=t.getFillPriority();if(n&&r==="color"){this._fillColor(t);return}const i=t.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(t);return}const o=t.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(t);return}const c=t.getFillRadialGradientColorStops();if(c&&r==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):i?this._fillPattern(t):o?this._fillLinearGradient(t):c&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let c=0;c<i.length;c+=2)o.addColorStop(i[c],i[c+1]);this.setAttr("strokeStyle",o)}}_stroke(t){const n=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var n,r,i;const o=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",c=(r=t.getShadowBlur())!==null&&r!==void 0?r:5,d=(i=t.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},f=t.getAbsoluteScale(),h=this.canvas.getPixelRatio(),m=f.x*h,p=f.y*h;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",c*Math.min(Math.abs(m),Math.abs(p))),this.setAttr("shadowOffsetX",d.x*m),this.setAttr("shadowOffsetY",d.y*p)}}class JF extends vx{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t);const r=t.hitStrokeWidth(),i=r==="auto"?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}let Ng;function eL(){if(Ng)return Ng;const e=Ge.createCanvasElement(),t=e.getContext("2d");return Ng=(function(){const n=jt._global.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r})(),Ge.releaseCanvas(e),Ng}class Z1{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(t||{}).pixelRatio||jt.pixelRatio||eL();this.pixelRatio=r,this._canvas=Ge.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){const n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(i){return Ge.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class pl extends Z1{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new QF(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}class Q1 extends Z1{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new JF(this),this.setSize(t.width,t.height)}}const In={get isDragging(){let e=!1;return In._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(e=!0)}),e},justDragged:!1,get node(){let e;return In._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];In._dragElements.forEach((n,r)=>{const{node:i}=n,o=i.getStage();o.setPointersPositions(e),n.pointerId===void 0&&(n.pointerId=Ge._getFirstPointerId(e));const c=o._changedPointerPositions.find(d=>d.id===n.pointerId);if(c){if(n.dragStatus!=="dragging"){const d=i.dragDistance();if(Math.max(Math.abs(c.x-n.startPointerPos.x),Math.abs(c.y-n.startPointerPos.y))<d||(i.startDrag({evt:e}),!i.isDragging()))return}i._setDragPosition(e,n),t.push(i)}}),t.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)})},_endDragBefore(e){const t=[];In._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(e&&i.setPointersPositions(e),!i._changedPointerPositions.find(d=>d.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(In.justDragged=!0,jt._mouseListenClick=!1,jt._touchListenClick=!1,jt._pointerListenClick=!1,n.dragStatus="stopped");const c=n.node.getLayer()||n.node instanceof jt.Stage&&n.node;c&&t.indexOf(c)===-1&&t.push(c)}),t.forEach(n=>{n.draw()})},_endDragAfter(e){In._dragElements.forEach((t,n)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),t.dragStatus!=="dragging"&&In._dragElements.delete(n)})}};jt.isBrowser&&(window.addEventListener("mouseup",In._endDragBefore,!0),window.addEventListener("touchend",In._endDragBefore,!0),window.addEventListener("touchcancel",In._endDragBefore,!0),window.addEventListener("mousemove",In._drag),window.addEventListener("touchmove",In._drag),window.addEventListener("mouseup",In._endDragAfter,!1),window.addEventListener("touchend",In._endDragAfter,!1),window.addEventListener("touchcancel",In._endDragAfter,!1));function Ml(e){return Ge._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Ge._isBoolean(e)?e:Object.prototype.toString.call(e)}function Tn(){if(jt.isUnminified)return function(e,t){return Ge._isNumber(e)||Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function tL(e){if(jt.isUnminified)return function(t,n){let r=Ge._isNumber(t),i=Ge._isArray(t)&&t.length==e;return!r&&!i&&Ge.warn(Ml(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function J1(){if(jt.isUnminified)return function(e,t){return Ge._isNumber(e)||e==="auto"||Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function $c(){if(jt.isUnminified)return function(e,t){return Ge._isString(e)||Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function h5(){if(jt.isUnminified)return function(e,t){const n=Ge._isString(e),r=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||r||Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function nL(){if(jt.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(Ge._isArray(e)?e.forEach(function(r){Ge._isNumber(r)||Ge.warn('"'+t+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function Eo(){if(jt.isUnminified)return function(e,t){return e===!0||e===!1||Ge.warn(Ml(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function rL(e){if(jt.isUnminified)return function(t,n){return t==null||Ge.isObject(t)||Ge.warn(Ml(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}const Pf="get",Of="set",dt={addGetterSetter(e,t,n,r,i){dt.addGetter(e,t,n),dt.addSetter(e,t,r,i),dt.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){const r=Pf+Ge._capitalize(t);e.prototype[r]=e.prototype[r]||function(){const i=this.attrs[t];return i===void 0?n:i}},addSetter(e,t,n,r){const i=Of+Ge._capitalize(t);e.prototype[i]||dt.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){const i=Of+Ge._capitalize(t);e.prototype[i]=function(o){return n&&o!==void 0&&o!==null&&(o=n.call(this,o,t)),this._setAttr(t,o),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){const o=n.length,c=Ge._capitalize,d=Pf+c(t),f=Of+c(t);e.prototype[d]=function(){const m={};for(let p=0;p<o;p++){const x=n[p];m[x]=this.getAttr(t+c(x))}return m};const h=rL(n);e.prototype[f]=function(m){const p=this.attrs[t];r&&(m=r.call(this,m,t)),h&&h.call(this,m,t);for(const x in m)m.hasOwnProperty(x)&&this._setAttr(t+c(x),m[x]);return m||n.forEach(x=>{this._setAttr(t+c(x),void 0)}),this._fireChangeEvent(t,p,m),i&&i.call(this),this},dt.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){const n=Ge._capitalize(t),r=Of+n,i=Pf+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){Ge.error("Adding deprecated "+t);const i=Pf+Ge._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){Ge.error(o);const c=this.attrs[t];return c===void 0?n:c},dt.addSetter(e,t,r,function(){Ge.error(o)}),dt.addOverloadedGetterSetter(e,t)},backCompat(e,t){Ge.each(t,function(n,r){const i=e.prototype[r],o=Pf+Ge._capitalize(n),c=Of+Ge._capitalize(n);function d(){i.apply(this,arguments),Ge.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}e.prototype[n]=d,e.prototype[o]=d,e.prototype[c]=d})},afterSetFilter(){this._filterUpToDate=!1}};function aL(e){const t=/(\w+)\(([^)]+)\)/g;let n;for(;(n=t.exec(e))!==null;){const[,r,i]=n;switch(r){case"blur":{const o=parseFloat(i.replace("px",""));return function(c){this.blurRadius(o*.5);const d=jt.Filters;d&&d.Blur&&d.Blur.call(this,c)}}case"brightness":{const o=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(c){this.brightness(o);const d=jt.Filters;d&&d.Brightness&&d.Brightness.call(this,c)}}case"contrast":{const o=parseFloat(i);return function(c){const d=100*(Math.sqrt(o)-1);this.contrast(d);const f=jt.Filters;f&&f.Contrast&&f.Contrast.call(this,c)}}case"grayscale":return function(o){const c=jt.Filters;c&&c.Grayscale&&c.Grayscale.call(this,o)};case"sepia":return function(o){const c=jt.Filters;c&&c.Sepia&&c.Sepia.call(this,o)};case"invert":return function(o){const c=jt.Filters;c&&c.Invert&&c.Invert.call(this,o)};default:Ge.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const am="absoluteOpacity",Ag="allEventListeners",xo="absoluteTransform",DC="absoluteScale",xc="canvas",iL="Change",sL="children",oL="konva",Qb="listening",lL="mouseenter",cL="mouseleave",dL="pointerenter",uL="pointerleave",fL="touchenter",hL="touchleave",SC="set",CC="Shape",im=" ",TC="stage",hl="transform",pL="Stage",Jb="visible",gL=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(im);let mL=1,$t=class e1{constructor(t){this._id=mL++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===hl||t===xo)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){let r=this._cache.get(t);return(r===void 0||(t===hl||t===xo)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(t,r)),r}_calculate(t,n,r){if(!this._attachedDepsListeners.get(t)){const i=n.map(o=>o+"Change.konva").join(im);this.on(i,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(xc)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===xo&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(xc)){const{scene:t,filter:n,hit:r,buffer:i}=this._cache.get(xc);Ge.releaseCanvas(t,n,r,i),this._cache.delete(xc)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){const n=t||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),o=Math.ceil(n.height||r.height),c=n.pixelRatio,d=n.x===void 0?Math.floor(r.x):n.x,f=n.y===void 0?Math.floor(r.y):n.y,h=n.offset||0,m=n.drawBorder||!1,p=n.hitCanvasPixelRatio||1;if(!i||!o){Ge.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const x=Math.abs(Math.round(r.x)-d)>.5?1:0,v=Math.abs(Math.round(r.y)-f)>.5?1:0;i+=h*2+x,o+=h*2+v,d-=h,f-=h;const w=new pl({pixelRatio:c,width:i,height:o}),y=new pl({pixelRatio:c,width:0,height:0,willReadFrequently:!0}),b=new Q1({pixelRatio:p,width:i,height:o}),_=w.getContext(),D=b.getContext(),C=new pl({width:w.width/w.pixelRatio+Math.abs(d),height:w.height/w.pixelRatio+Math.abs(f),pixelRatio:w.pixelRatio}),M=C.getContext();return b.isCache=!0,w.isCache=!0,this._cache.delete(xc),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(w.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),_.save(),D.save(),M.save(),_.translate(-d,-f),D.translate(-d,-f),M.translate(-d,-f),C.x=d,C.y=f,this._isUnderCache=!0,this._clearSelfAndDescendantCache(am),this._clearSelfAndDescendantCache(DC),this.drawScene(w,this,C),this.drawHit(b,this),this._isUnderCache=!1,_.restore(),D.restore(),m&&(_.save(),_.beginPath(),_.rect(0,0,i,o),_.closePath(),_.setAttr("strokeStyle","red"),_.setAttr("lineWidth",5),_.stroke(),_.restore()),this._cache.set(xc,{scene:w,filter:y,hit:b,buffer:C,x:d,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(xc)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){const r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}];let i=1/0,o=1/0,c=-1/0,d=-1/0;const f=this.getAbsoluteTransform(n);return r.forEach(function(h){const m=f.point(h);i===void 0&&(i=c=m.x,o=d=m.y),i=Math.min(i,m.x),o=Math.min(o,m.y),c=Math.max(c,m.x),d=Math.max(d,m.y)}),{x:i,y:o,width:c-i,height:d-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/i,r.height/i),t.restore()}_drawCachedHitCanvas(t){const n=this._getCanvasCache(),r=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){let t=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,o=i.getContext(),c,d,f,h;if(!t||t.length===0)return r;if(this._filterUpToDate)return i;let m=!0;for(let x=0;x<t.length;x++)if(typeof t[x]=="string"&&wC(),typeof t[x]!="string"||!wC()){m=!1;break}const p=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),m){const x=t.join(" ");return o.save(),o.setAttr("filter",x),o.drawImage(r._canvas,0,0,r.getWidth()/p,r.getHeight()/p),o.restore(),this._filterUpToDate=!0,i}try{for(c=t.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/p,r.getHeight()/p),d=o.getImageData(0,0,i.getWidth(),i.getHeight()),f=0;f<c;f++)h=t[f],typeof h=="string"&&(h=aL(h)),h.call(this,d),o.putImageData(d,0,0)}catch(x){Ge.error("Unable to apply filter. "+x.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(t,n){if(this._cache&&this._cache.delete(Ag),arguments.length===3)return this._delegate.apply(this,arguments);const r=t.split(im);for(let i=0;i<r.length;i++){const c=r[i].split("."),d=c[0],f=c[1]||"";this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:f,handler:n})}return this}off(t,n){let r=(t||"").split(im),i=r.length,o,c,d,f,h,m;if(this._cache&&this._cache.delete(Ag),!t)for(c in this.eventListeners)this._off(c);for(o=0;o<i;o++)if(d=r[o],f=d.split("."),h=f[0],m=f[1],h)this.eventListeners[h]&&this._off(h,m,n);else for(c in this.eventListeners)this._off(c,m,n);return this}dispatchEvent(t){const n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(r){n.call(this,r.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,r){const i=this;this.on(t,function(o){const c=o.target.findAncestors(n,!0,i);for(let d=0;d<c.length;d++)o=Ge.cloneObject(o),o.currentTarget=c[d],r.call(c[d],o)})}remove(){return this.isDragging()&&this.stopDrag(),In._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(xo),this._clearSelfAndDescendantCache(am),this._clearSelfAndDescendantCache(DC),this._clearSelfAndDescendantCache(TC),this._clearSelfAndDescendantCache(Jb),this._clearSelfAndDescendantCache(Qb)}_remove(){this._clearCaches();const t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){const n="get"+Ge._capitalize(t);return Ge._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){let t=this.getParent(),n=[];for(;t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{let n,r;if(!t)return this;for(n in t)n!==sL&&(r=SC+Ge._capitalize(n),Ge._isFunction(this[r])?this[r](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(Qb,this._isListening)}_isListening(t){if(!this.listening())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isListening(t):!0}isVisible(){return this._getCache(Jb,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);const r=this.getLayer();let i=!1;In._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(c.node.nodeType==="Stage"||c.node.getLayer()===r)&&(i=!0)});const o=!n&&!jt.hitOnDragEnabled&&(i||jt.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let t=this.getDepth(),n=this,r=0,i,o,c,d;function f(m){for(i=[],o=m.length,c=0;c<o;c++)d=m[c],r++,d.nodeType!==CC&&(i=i.concat(d.getChildren().slice())),d._id===n._id&&(c=o);i.length>0&&i[0].getDepth()<=t&&f(i)}const h=this.getStage();return n.nodeType!==pL&&h&&f(h.getChildren()),r}getDepth(){let t=0,n=this.parent;for(;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(hl),this._clearSelfAndDescendantCache(xo)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;const n=t.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(t){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!t&&(t=!0);const i=this.getAbsoluteTransform(t).getMatrix(),o=new xl,c=this.offset();return o.m=i.slice(),o.translate(c.x,c.y),o.getTranslation()}setAbsolutePosition(t){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(hl);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(t.x,t.y),t={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:t.x,y:t.y}),this._clearCache(hl),this._clearSelfAndDescendantCache(xo),this}_setTransform(t){let n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){const t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){let n=t.x,r=t.y,i=this.x(),o=this.y();return n!==void 0&&(i+=n),r!==void 0&&(o+=r),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(t,n){let r=[],i=this.getParent(),o,c;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(o=r.length,c=0;c<o;c++)t(r[c])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return Ge.warn("Node has no parent. moveToTop function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Ge.warn("Node has no parent. moveUp function is ignored."),!1;const t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Ge.warn("Node has no parent. moveDown function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Ge.warn("Node has no parent. moveToBottom function is ignored."),!1;const t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return Ge.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&Ge.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(am,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let t=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){let t=this.getAttrs(),n,r,i,o,c;const d={attrs:{},className:this.getClassName()};for(n in t)r=t[n],c=Ge.isObject(r)&&!Ge._isPlainObject(r)&&!Ge._isArray(r),!c&&(i=typeof this[n]=="function"&&this[n],delete t[n],o=i?i.call(this):null,t[n]=r,o!==r&&(d.attrs[n]=r));return Ge._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,r){const i=[];n&&this._isMatch(t)&&i.push(this);let o=this.parent;for(;o;){if(o===r)return i;o._isMatch(t)&&i.push(o),o=o.parent}return i}isAncestorOf(t){return!1}findAncestor(t,n,r){return this.findAncestors(t,n,r)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);let n=t.replace(/ /g,"").split(","),r=n.length,i,o;for(i=0;i<r;i++)if(o=n[i],Ge.isValidSelector(o)||(Ge.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ge.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ge.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(TC,this._getStage)}_getStage(){const t=this.getParent();return t?t.getStage():null}fire(t,n={},r){return n.target=n.target||this,r?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(xo,this._getAbsoluteTransform)}_getAbsoluteTransform(t){let n;if(t)return n=new xl,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},t),n;{n=this._cache.get(xo)||new xl,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,o=this.attrs.y||0,c=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(i-c,o-d)}return n.dirty=!1,n}}getAbsoluteScale(t){let n=this;for(;n;)n._isUnderCache&&(t=n),n=n.getParent();const i=this.getAbsoluteTransform(t).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(hl,this._getTransform)}_getTransform(){var t,n;const r=this._cache.get(hl)||new xl;r.reset();const i=this.x(),o=this.y(),c=jt.getAngle(this.rotation()),d=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,f=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,h=this.attrs.skewX||0,m=this.attrs.skewY||0,p=this.attrs.offsetX||0,x=this.attrs.offsetY||0;return(i!==0||o!==0)&&r.translate(i,o),c!==0&&r.rotate(c),(h!==0||m!==0)&&r.skew(h,m),(d!==1||f!==1)&&r.scale(d,f),(p!==0||x!==0)&&r.translate(-1*p,-1*x),r.dirty=!1,r}clone(t){let n=Ge.cloneObject(this.attrs),r,i,o,c,d;for(r in t)n[r]=t[r];const f=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],o=i.length,c=0;c<o;c++)d=i[c],d.name.indexOf(oL)<0&&(f.eventListeners[r]||(f.eventListeners[r]=[]),f.eventListeners[r].push(d));return f}_toKonvaCanvas(t){t=t||{};const n=this.getClientRect(),r=this.getStage(),i=t.x!==void 0?t.x:Math.floor(n.x),o=t.y!==void 0?t.y:Math.floor(n.y),c=t.pixelRatio||1,d=new pl({width:t.width||Math.ceil(n.width)||(r?r.width():0),height:t.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:c}),f=d.getContext(),h=new pl({width:d.width/d.pixelRatio+Math.abs(i),height:d.height/d.pixelRatio+Math.abs(o),pixelRatio:d.pixelRatio});return t.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(i||o)&&f.translate(-1*i,-1*o),this.drawScene(d,void 0,h),f.restore(),d}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};const n=t.mimeType||null,r=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(n,r);return t.callback&&t.callback(i),i}toImage(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,Ge._urlToImage(this.toDataURL(t),function(o){n(o),i?.(o)})}catch(i){r(i)}})}toBlob(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,this.toCanvas(t).toBlob(o=>{n(o),i?.(o)},t?.mimeType,t?.quality)}catch(i){r(i)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():jt.dragDistance}_off(t,n,r){let i=this.eventListeners[t],o,c,d;for(o=0;o<i.length;o++)if(c=i[o].name,d=i[o].handler,(c!=="konva"||n==="konva")&&(!n||c===n)&&(!r||r===d)){if(i.splice(o,1),i.length===0){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,n,r){this._fire(t+iL,{oldVal:n,newVal:r})}addName(t){if(!this.hasName(t)){const n=this.name(),r=n?n+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(t)!==-1:!1}removeName(t){const n=(this.name()||"").split(/\s/g),r=n.indexOf(t);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(t,n){const r=this[SC+Ge._capitalize(t)];return Ge._isFunction(r)?r.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(jt.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,n){const r=this.attrs[t];r===n&&!Ge.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,n),this._requestDraw())}_setComponentAttr(t,n,r){let i;r!==void 0&&(i=this.attrs[t],i||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=r,this._fireChangeEvent(t,i,r))}_fireAndBubble(t,n,r){n&&this.nodeType===CC&&(n.target=this);const i=[lL,cL,dL,uL,fL,hL];if(!(i.indexOf(t)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(t,n);const c=i.indexOf(t)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!c&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,n,r):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){var n,r,i;const o=(n=this._cache.get(Ag))!==null&&n!==void 0?n:{};let c=o?.[t];if(c===void 0){c=[];let d=Object.getPrototypeOf(this);for(;d;){const f=(i=(r=d.eventListeners)===null||r===void 0?void 0:r[t])!==null&&i!==void 0?i:[];c.push(...f),d=Object.getPrototypeOf(d)}o[t]=c,this._cache.set(Ag,o)}return c}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const r=this._getProtoListeners(t);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,n);const i=this.eventListeners[t];if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){const n=t?t.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const o=r._getPointerById(n)||r._changedPointerPositions[0]||i;In._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){In._dragElements.has(this._id)||this._createDragElement(t);const r=In._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const c=o.call(this,i,t);c?i=c:Ge.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(t){const n=In._dragElements.get(this._id);n&&(n.dragStatus="stopped"),In._endDragBefore(t),In._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=In._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){if(!(!(t.evt.button!==void 0)||jt.dragButtons.indexOf(t.evt.button)>=0)||this.isDragging())return;let i=!1;In._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(t)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=In._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&In._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return Ge.haveIntersection(r,this.getClientRect())}static create(t,n){return Ge._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){let r=e1.prototype.getClassName.call(t),i=t.children,o,c,d;n&&(t.attrs.container=n),jt[r]||(Ge.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const f=jt[r];if(o=new f(t.attrs),i)for(c=i.length,d=0;d<c;d++)o.add(e1._createNode(i[d]));return o}};$t.prototype.nodeType="Node";$t.prototype._attrsAffectingSize=[];$t.prototype.eventListeners={};$t.prototype.on.call($t.prototype,gL,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(hl),this._clearSelfAndDescendantCache(xo)});$t.prototype.on.call($t.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Jb)});$t.prototype.on.call($t.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Qb)});$t.prototype.on.call($t.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(am)});const Qn=dt.addGetterSetter;Qn($t,"zIndex");Qn($t,"absolutePosition");Qn($t,"position");Qn($t,"x",0,Tn());Qn($t,"y",0,Tn());Qn($t,"globalCompositeOperation","source-over",$c());Qn($t,"opacity",1,Tn());Qn($t,"name","",$c());Qn($t,"id","",$c());Qn($t,"rotation",0,Tn());dt.addComponentsGetterSetter($t,"scale",["x","y"]);Qn($t,"scaleX",1,Tn());Qn($t,"scaleY",1,Tn());dt.addComponentsGetterSetter($t,"skew",["x","y"]);Qn($t,"skewX",0,Tn());Qn($t,"skewY",0,Tn());dt.addComponentsGetterSetter($t,"offset",["x","y"]);Qn($t,"offsetX",0,Tn());Qn($t,"offsetY",0,Tn());Qn($t,"dragDistance",void 0,Tn());Qn($t,"width",0,Tn());Qn($t,"height",0,Tn());Qn($t,"listening",!0,Eo());Qn($t,"preventDefault",!0,Eo());Qn($t,"filters",void 0,function(e){return this._filterUpToDate=!1,e});Qn($t,"visible",!0,Eo());Qn($t,"transformsEnabled","all",$c());Qn($t,"size");Qn($t,"dragBoundFunc");Qn($t,"draggable",!1,Eo());dt.backCompat($t,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class fi extends $t{constructor(){super(...arguments),this.children=[]}getChildren(t){const n=this.children||[];return t?n.filter(t):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(let r=0;r<t.length;r++)this.add(t[r]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){const n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){const r=[];return this._descendants(i=>{const o=i._isMatch(t);return o&&r.push(i),!!(o&&n)}),r}_descendants(t){let n=!1;const r=this.getChildren();for(const i of r){if(n=t(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(t),n))return!0}return!1}toObject(){const t=$t.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){let n=t.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){const n=$t.prototype.clone.call(this,t);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(t){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(t)&&n.push(r)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(t,n,r){const i=this.getLayer(),o=t||i&&i.getCanvas(),c=o&&o.getContext(),d=this._getCanvasCache(),f=d&&d.scene,h=o&&o.isCache;if(!this.isVisible()&&!h)return this;if(f){c.save();const m=this.getAbsoluteTransform(n).getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",o,n,r);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=t||r&&r.hitCanvas,o=i&&i.getContext(),c=this._getCanvasCache();if(c&&c.hit){o.save();const f=this.getAbsoluteTransform(n).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(t,n,r,i){var o;const c=n&&n.getContext(),d=this.clipWidth(),f=this.clipHeight(),h=this.clipFunc(),m=typeof d=="number"&&typeof f=="number"||h,p=r===this;if(m){c.save();const v=this.getAbsoluteTransform(r);let w=v.getMatrix();c.transform(w[0],w[1],w[2],w[3],w[4],w[5]),c.beginPath();let y;if(h)y=h.call(this,c,this);else{const b=this.clipX(),_=this.clipY();c.rect(b||0,_||0,d,f)}c.clip.apply(c,y),w=v.copy().invert().getMatrix(),c.transform(w[0],w[1],w[2],w[3],w[4],w[5])}const x=!p&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";x&&(c.save(),c._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(v){v[t](n,r,i)}),x&&c.restore(),m&&c.restore()}getClientRect(t={}){var n;const r=t.skipTransform,i=t.relativeTo;let o,c,d,f,h={x:1/0,y:1/0,width:0,height:0};const m=this;(n=this.children)===null||n===void 0||n.forEach(function(v){if(!v.visible())return;const w=v.getClientRect({relativeTo:m,skipShadow:t.skipShadow,skipStroke:t.skipStroke});w.width===0&&w.height===0||(o===void 0?(o=w.x,c=w.y,d=w.x+w.width,f=w.y+w.height):(o=Math.min(o,w.x),c=Math.min(c,w.y),d=Math.max(d,w.x+w.width),f=Math.max(f,w.y+w.height)))});const p=this.find("Shape");let x=!1;for(let v=0;v<p.length;v++)if(p[v]._isVisible(this)){x=!0;break}return x&&o!==void 0?h={x:o,y:c,width:d-o,height:f-c}:h={x:0,y:0,width:0,height:0},r?h:this._transformedRect(h,i)}}dt.addComponentsGetterSetter(fi,"clip",["x","y","width","height"]);dt.addGetterSetter(fi,"clipX",void 0,Tn());dt.addGetterSetter(fi,"clipY",void 0,Tn());dt.addGetterSetter(fi,"clipWidth",void 0,Tn());dt.addGetterSetter(fi,"clipHeight",void 0,Tn());dt.addGetterSetter(fi,"clipFunc");const vh=new Map,p5=jt._global.PointerEvent!==void 0;function dv(e){return vh.get(e)}function e2(e){return{evt:e,pointerId:e.pointerId}}function g5(e,t){return vh.get(e)===t}function m5(e,t){ih(e),t.getStage()&&(vh.set(e,t),p5&&t._fire("gotpointercapture",e2(new PointerEvent("gotpointercapture"))))}function ih(e,t){const n=vh.get(e);if(!n)return;const r=n.getStage();r&&r.content,vh.delete(e),p5&&n._fire("lostpointercapture",e2(new PointerEvent("lostpointercapture")))}const xL="Stage",yL="string",EC="px",vL="mouseout",x5="mouseleave",y5="mouseover",v5="mouseenter",b5="mousemove",_5="mousedown",w5="mouseup",Yf="pointermove",Zf="pointerdown",uu="pointerup",Qf="pointercancel",bL="lostpointercapture",Mg="pointerout",Jf="pointerleave",Ug="pointerover",kg="pointerenter",t1="contextmenu",D5="touchstart",S5="touchend",C5="touchmove",T5="touchcancel",n1="wheel",_L=5,wL=[[v5,"_pointerenter"],[_5,"_pointerdown"],[b5,"_pointermove"],[w5,"_pointerup"],[x5,"_pointerleave"],[D5,"_pointerdown"],[C5,"_pointermove"],[S5,"_pointerup"],[T5,"_pointercancel"],[y5,"_pointerover"],[n1,"_wheel"],[t1,"_contextmenu"],[Zf,"_pointerdown"],[Yf,"_pointermove"],[uu,"_pointerup"],[Qf,"_pointercancel"],[Jf,"_pointerleave"],[bL,"_lostpointercapture"]],uv={mouse:{[Mg]:vL,[Jf]:x5,[Ug]:y5,[kg]:v5,[Yf]:b5,[Zf]:_5,[uu]:w5,[Qf]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Mg]:"touchout",[Jf]:"touchleave",[Ug]:"touchover",[kg]:"touchenter",[Yf]:C5,[Zf]:D5,[uu]:S5,[Qf]:T5,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Mg]:Mg,[Jf]:Jf,[Ug]:Ug,[kg]:kg,[Yf]:Yf,[Zf]:Zf,[uu]:uu,[Qf]:Qf,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},eh=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",tu=e=>{const t=eh(e);if(t==="pointer")return jt.pointerEventsEnabled&&uv.pointer;if(t==="touch")return uv.touch;if(t==="mouse")return uv.mouse};function NC(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&Ge.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const DL="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",sh=[];class bx extends fi{constructor(t){super(NC(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),sh.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{NC(this.attrs)}),this._checkVisibility()}_validateAdd(t){const n=t.getType()==="Layer",r=t.getType()==="FastLayer";n||r||Ge.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===yL){let n;if(t.charAt(0)==="."){const r=t.slice(1);t=document.getElementsByClassName(r)[0]}else t.charAt(0)!=="#"?n=t:n=t.slice(1),t=document.getElementById(n);if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const t=this.children,n=t.length;for(let r=0;r<n;r++)t[r].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),fi.prototype.clone.call(this,t)}destroy(){super.destroy();const t=this.content;t&&Ge._isInDocument(t)&&this.container().removeChild(t);const n=sh.indexOf(this);return n>-1&&sh.splice(n,1),Ge.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(Ge.warn(DL),null)}_getPointerById(t){return this._pointerPositions.find(n=>n.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t={...t},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();const n=new pl({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),i.forEach(function(o){if(!o.isVisible())return;const c=o._toKonvaCanvas(t);r.drawImage(c._canvas,t.x,t.y,c.getWidth()/c.getPixelRatio(),c.getHeight()/c.getPixelRatio())}),n}getIntersection(t){if(!t)return null;const n=this.children,r=n.length,i=r-1;for(let o=i;o>=0;o--){const c=n[o].getIntersection(t);if(c)return c}return null}_resizeDOM(){const t=this.width(),n=this.height();this.content&&(this.content.style.width=t+EC,this.content.style.height=n+EC),this.bufferCanvas.setSize(t,n),this.bufferHitCanvas.setSize(t,n),this.children.forEach(r=>{r.setSize({width:t,height:n}),r.draw()})}add(t,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(t);const r=this.children.length;return r>_L&&Ge.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),jt.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return g5(t,this)}setPointerCapture(t){m5(t,this)}releaseCapture(t){ih(t)}getLayers(){return this.children}_bindContentEvents(){jt.isBrowser&&wL.forEach(([t,n])=>{this.content.addEventListener(t,r=>{this[n](r)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const n=tu(t.type);n&&this._fire(n.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const n=tu(t.type);n&&this._fire(n.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let n=this[t+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(t){const n=tu(t.type),r=eh(t.type);if(!n)return;this.setPointersPositions(t);const i=this._getTargetShape(r),o=!(jt.isDragging()||jt.isTransforming())||jt.hitOnDragEnabled;i&&o?(i._fireAndBubble(n.pointerout,{evt:t}),i._fireAndBubble(n.pointerleave,{evt:t}),this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this[r+"targetShape"]=null):o&&(this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(t){const n=tu(t.type),r=eh(t.type);if(!n)return;this.setPointersPositions(t);let i=!1;this._changedPointerPositions.forEach(o=>{const c=this.getIntersection(o);if(In.justDragged=!1,jt["_"+r+"ListenClick"]=!0,!c||!c.isListening()){this[r+"ClickStartShape"]=void 0;return}jt.capturePointerEventsEnabled&&c.setPointerCapture(o.id),this[r+"ClickStartShape"]=c,c._fireAndBubble(n.pointerdown,{evt:t,pointerId:o.id}),i=!0;const d=t.type.indexOf("touch")>=0;c.preventDefault()&&t.cancelable&&d&&t.preventDefault()}),i||this._fire(n.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(t){const n=tu(t.type),r=eh(t.type);if(!n)return;const i=t.type.indexOf("touch")>=0||t.pointerType==="touch";if(jt.isDragging()&&In.node.preventDefault()&&t.cancelable&&i&&t.preventDefault(),this.setPointersPositions(t),!(!(jt.isDragging()||jt.isTransforming())||jt.hitOnDragEnabled))return;const c={};let d=!1;const f=this._getTargetShape(r);this._changedPointerPositions.forEach(h=>{const m=dv(h.id)||this.getIntersection(h),p=h.id,x={evt:t,pointerId:p},v=f!==m;if(v&&f&&(f._fireAndBubble(n.pointerout,{...x},m),f._fireAndBubble(n.pointerleave,{...x},m)),m){if(c[m._id])return;c[m._id]=!0}m&&m.isListening()?(d=!0,v&&(m._fireAndBubble(n.pointerover,{...x},f),m._fireAndBubble(n.pointerenter,{...x},f),this[r+"targetShape"]=m),m._fireAndBubble(n.pointermove,{...x})):f&&(this._fire(n.pointerover,{evt:t,target:this,currentTarget:this,pointerId:p}),this[r+"targetShape"]=null)}),d||this._fire(n.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const n=tu(t.type),r=eh(t.type);if(!n)return;this.setPointersPositions(t);const i=this[r+"ClickStartShape"],o=this[r+"ClickEndShape"],c={};let d=!1;this._changedPointerPositions.forEach(f=>{const h=dv(f.id)||this.getIntersection(f);if(h){if(h.releaseCapture(f.id),c[h._id])return;c[h._id]=!0}const m=f.id,p={evt:t,pointerId:m};let x=!1;jt["_"+r+"InDblClickWindow"]?(x=!0,clearTimeout(this[r+"DblTimeout"])):In.justDragged||(jt["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){jt["_"+r+"InDblClickWindow"]=!1},jt.dblClickWindow),h&&h.isListening()?(d=!0,this[r+"ClickEndShape"]=h,h._fireAndBubble(n.pointerup,{...p}),jt["_"+r+"ListenClick"]&&i&&i===h&&(h._fireAndBubble(n.pointerclick,{...p}),x&&o&&o===h&&h._fireAndBubble(n.pointerdblclick,{...p}))):(this[r+"ClickEndShape"]=null,d||(this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d=!0),jt["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:m}),x&&this._fire(n.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:m}))}),d||this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),jt["_"+r+"ListenClick"]=!1,t.cancelable&&r!=="touch"&&r!=="pointer"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(t1,{evt:t}):this._fire(t1,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(n1,{evt:t}):this._fire(n1,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const n=dv(t.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(uu,e2(t)),ih(t.pointerId)}_lostpointercapture(t){ih(t.pointerId)}setPointersPositions(t){const n=this._getContentPosition();let r=null,i=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-n.left)/n.scaleX,y:(o.clientY-n.top)/n.scaleY})})):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:Ge._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:Ge._getFirstPointerId(t)}])}_setPointerPosition(t){Ge.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new pl({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Q1({pixelRatio:1,width:this.width(),height:this.height()}),!jt.isBrowser)return;const t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}cache(){return Ge.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}}bx.prototype.nodeType=xL;Al(bx);dt.addGetterSetter(bx,"container");jt.isBrowser&&document.addEventListener("visibilitychange",()=>{sh.forEach(e=>{e.batchDraw()})});const E5="hasShadow",N5="shadowRGBA",A5="patternImage",M5="linearGradient",U5="radialGradient";let jg;function fv(){return jg||(jg=Ge.createCanvasElement().getContext("2d"),jg)}const oh={};function SL(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()}function CL(e){e.stroke()}function TL(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()}function EL(e){e.stroke()}function NL(){this._clearCache(E5)}function AL(){this._clearCache(N5)}function ML(){this._clearCache(A5)}function UL(){this._clearCache(M5)}function kL(){this._clearCache(U5)}class bt extends $t{constructor(t){super(t);let n,r=0;for(;n=Ge.getHitColor(),!(n&&!(n in oh));)if(r++,r>=1e4){Ge.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=Ge.getRandomColor();break}this.colorKey=n,oh[n]=this}getContext(){return Ge.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Ge.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(E5,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(A5,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=fv().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new xl;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(jt.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),o=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(o)}return n}}_getLinearGradient(){return this._getCache(M5,this.__getLinearGradient)}__getLinearGradient(){const t=this.fillLinearGradientColorStops();if(t){const n=fv(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let c=0;c<t.length;c+=2)o.addColorStop(t[c],t[c+1]);return o}}_getRadialGradient(){return this._getCache(U5,this.__getRadialGradient)}__getRadialGradient(){const t=this.fillRadialGradientColorStops();if(t){const n=fv(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let c=0;c<t.length;c+=2)o.addColorStop(t[c],t[c+1]);return o}}getShadowRGBA(){return this._getCache(N5,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const t=Ge.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return $t.prototype.destroy.call(this),delete oh[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=t||this.hasFill(),o=this.hasStroke(),c=this.getAbsoluteOpacity()!==1;if(i&&o&&c)return!0;const d=this.hasShadow(),f=this.shadowForStrokeEnabled();return!!(i&&o&&d&&f)}setStrokeHitEnabled(t){Ge.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=t.skipTransform,o=t.relativeTo||n&&this.getStage()||void 0,c=this.getSelfRect(),f=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,h=c.width+f,m=c.height+f,p=!t.skipShadow&&this.hasShadow(),x=p?this.shadowOffsetX():0,v=p?this.shadowOffsetY():0,w=h+Math.abs(x),y=m+Math.abs(v),b=p&&this.shadowBlur()||0,_=w+b*2,D=y+b*2,C={width:_,height:D,x:-(f/2+b)+Math.min(x,0)+c.x,y:-(f/2+b)+Math.min(v,0)+c.y};return i?C:this._transformedRect(C,o)}drawScene(t,n,r){const i=this.getLayer(),o=t||i.getCanvas(),c=o.getContext(),d=this._getCanvasCache(),f=this.getSceneFunc(),h=this.hasShadow();let m;const p=n===this;if(!this.isVisible()&&!p)return this;if(d){c.save();const x=this.getAbsoluteTransform(n).getMatrix();return c.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(c),c.restore(),this}if(!f)return this;if(c.save(),this._useBufferCanvas()){m=this.getStage();const x=r||m.bufferCanvas,v=x.getContext();v.clear(),v.save(),v._applyLineJoin(this),v._applyMiterLimit(this);const w=this.getAbsoluteTransform(n).getMatrix();v.transform(w[0],w[1],w[2],w[3],w[4],w[5]),f.call(this,v,this),v.restore();const y=x.pixelRatio;h&&c._applyShadow(this),p||(c._applyOpacity(this),c._applyGlobalCompositeOperation(this)),c.drawImage(x._canvas,x.x||0,x.y||0,x.width/y,x.height/y)}else{if(c._applyLineJoin(this),c._applyMiterLimit(this),!p){const x=this.getAbsoluteTransform(n).getMatrix();c.transform(x[0],x[1],x[2],x[3],x[4],x[5]),c._applyOpacity(this),c._applyGlobalCompositeOperation(this)}h&&c._applyShadow(this),f.call(this,c,this)}return c.restore(),this}drawHit(t,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),o=t||i.hitCanvas,c=o&&o.getContext(),d=this.hitFunc()||this.sceneFunc(),f=this._getCanvasCache(),h=f&&f.hit;if(this.colorKey||Ge.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),h){c.save();const p=this.getAbsoluteTransform(n).getMatrix();return c.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(c),c.restore(),this}if(!d)return this;if(c.save(),c._applyLineJoin(this),c._applyMiterLimit(this),!(this===n)){const p=this.getAbsoluteTransform(n).getMatrix();c.transform(p[0],p[1],p[2],p[3],p[4],p[5])}return d.call(this,c,this),c.restore(),this}drawHitFromCache(t=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,o=i.getContext(),c=i.getWidth(),d=i.getHeight();o.clear(),o.drawImage(r._canvas,0,0,c,d);try{const f=o.getImageData(0,0,c,d),h=f.data,m=h.length,p=Ge._hexToRgb(this.colorKey);for(let x=0;x<m;x+=4)h[x+3]>t?(h[x]=p.r,h[x+1]=p.g,h[x+2]=p.b,h[x+3]=255):h[x+3]=0;o.putImageData(f,0,0)}catch(f){Ge.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(t){return g5(t,this)}setPointerCapture(t){m5(t,this)}releaseCapture(t){ih(t)}}bt.prototype._fillFunc=SL;bt.prototype._strokeFunc=CL;bt.prototype._fillFuncHit=TL;bt.prototype._strokeFuncHit=EL;bt.prototype._centroid=!1;bt.prototype.nodeType="Shape";Al(bt);bt.prototype.eventListeners={};bt.prototype.on.call(bt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",NL);bt.prototype.on.call(bt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",AL);bt.prototype.on.call(bt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",ML);bt.prototype.on.call(bt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",UL);bt.prototype.on.call(bt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",kL);dt.addGetterSetter(bt,"stroke",void 0,h5());dt.addGetterSetter(bt,"strokeWidth",2,Tn());dt.addGetterSetter(bt,"fillAfterStrokeEnabled",!1);dt.addGetterSetter(bt,"hitStrokeWidth","auto",J1());dt.addGetterSetter(bt,"strokeHitEnabled",!0,Eo());dt.addGetterSetter(bt,"perfectDrawEnabled",!0,Eo());dt.addGetterSetter(bt,"shadowForStrokeEnabled",!0,Eo());dt.addGetterSetter(bt,"lineJoin");dt.addGetterSetter(bt,"lineCap");dt.addGetterSetter(bt,"miterLimit");dt.addGetterSetter(bt,"sceneFunc");dt.addGetterSetter(bt,"hitFunc");dt.addGetterSetter(bt,"dash");dt.addGetterSetter(bt,"dashOffset",0,Tn());dt.addGetterSetter(bt,"shadowColor",void 0,$c());dt.addGetterSetter(bt,"shadowBlur",0,Tn());dt.addGetterSetter(bt,"shadowOpacity",1,Tn());dt.addComponentsGetterSetter(bt,"shadowOffset",["x","y"]);dt.addGetterSetter(bt,"shadowOffsetX",0,Tn());dt.addGetterSetter(bt,"shadowOffsetY",0,Tn());dt.addGetterSetter(bt,"fillPatternImage");dt.addGetterSetter(bt,"fill",void 0,h5());dt.addGetterSetter(bt,"fillPatternX",0,Tn());dt.addGetterSetter(bt,"fillPatternY",0,Tn());dt.addGetterSetter(bt,"fillLinearGradientColorStops");dt.addGetterSetter(bt,"strokeLinearGradientColorStops");dt.addGetterSetter(bt,"fillRadialGradientStartRadius",0);dt.addGetterSetter(bt,"fillRadialGradientEndRadius",0);dt.addGetterSetter(bt,"fillRadialGradientColorStops");dt.addGetterSetter(bt,"fillPatternRepeat","repeat");dt.addGetterSetter(bt,"fillEnabled",!0);dt.addGetterSetter(bt,"strokeEnabled",!0);dt.addGetterSetter(bt,"shadowEnabled",!0);dt.addGetterSetter(bt,"dashEnabled",!0);dt.addGetterSetter(bt,"strokeScaleEnabled",!0);dt.addGetterSetter(bt,"fillPriority","color");dt.addComponentsGetterSetter(bt,"fillPatternOffset",["x","y"]);dt.addGetterSetter(bt,"fillPatternOffsetX",0,Tn());dt.addGetterSetter(bt,"fillPatternOffsetY",0,Tn());dt.addComponentsGetterSetter(bt,"fillPatternScale",["x","y"]);dt.addGetterSetter(bt,"fillPatternScaleX",1,Tn());dt.addGetterSetter(bt,"fillPatternScaleY",1,Tn());dt.addComponentsGetterSetter(bt,"fillLinearGradientStartPoint",["x","y"]);dt.addComponentsGetterSetter(bt,"strokeLinearGradientStartPoint",["x","y"]);dt.addGetterSetter(bt,"fillLinearGradientStartPointX",0);dt.addGetterSetter(bt,"strokeLinearGradientStartPointX",0);dt.addGetterSetter(bt,"fillLinearGradientStartPointY",0);dt.addGetterSetter(bt,"strokeLinearGradientStartPointY",0);dt.addComponentsGetterSetter(bt,"fillLinearGradientEndPoint",["x","y"]);dt.addComponentsGetterSetter(bt,"strokeLinearGradientEndPoint",["x","y"]);dt.addGetterSetter(bt,"fillLinearGradientEndPointX",0);dt.addGetterSetter(bt,"strokeLinearGradientEndPointX",0);dt.addGetterSetter(bt,"fillLinearGradientEndPointY",0);dt.addGetterSetter(bt,"strokeLinearGradientEndPointY",0);dt.addComponentsGetterSetter(bt,"fillRadialGradientStartPoint",["x","y"]);dt.addGetterSetter(bt,"fillRadialGradientStartPointX",0);dt.addGetterSetter(bt,"fillRadialGradientStartPointY",0);dt.addComponentsGetterSetter(bt,"fillRadialGradientEndPoint",["x","y"]);dt.addGetterSetter(bt,"fillRadialGradientEndPointX",0);dt.addGetterSetter(bt,"fillRadialGradientEndPointY",0);dt.addGetterSetter(bt,"fillPatternRotation",0);dt.addGetterSetter(bt,"fillRule",void 0,$c());dt.backCompat(bt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const jL="beforeDraw",RL="draw",k5=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],PL=k5.length;class qc extends fi{constructor(t){super(t),this.canvas=new pl,this.hitCanvas=new Q1({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){$t.prototype.moveToTop.call(this);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!$t.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if($t.prototype.moveDown.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if($t.prototype.moveToBottom.call(this)){const t=this.getStage();if(t){const n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const t=this.getNativeCanvasElement();return $t.prototype.remove.call(this),t&&t.parentNode&&Ge._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Ge.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t={...t},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),$t.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ge.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ge.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ge.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<PL;i++){const o=k5[i],c=this._getIntersection({x:t.x+o.x*n,y:t.y+o.y*n}),d=c.shape;if(d)return d;if(r=!!c.antialiased,!c.antialiased)break}if(r)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,i=r[3];if(i===255){const o=Ge.getHitColorKey(r[0],r[1],r[2]),c=oh[o];return c?{shape:c}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(t,n,r){const i=this.getLayer(),o=t||i&&i.getCanvas();return this._fire(jL,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),fi.prototype.drawScene.call(this,o,n,r),this._fire(RL,{node:this}),this}drawHit(t,n){const r=this.getLayer(),i=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),fi.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Ge.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Ge.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ge.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}qc.prototype.nodeType="Layer";Al(qc);dt.addGetterSetter(qc,"imageSmoothingEnabled",!0);dt.addGetterSetter(qc,"clearBeforeDraw",!0);dt.addGetterSetter(qc,"hitGraphEnabled",!0,Eo());class t2 extends qc{constructor(t){super(t),this.listening(!1),Ge.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}t2.prototype.nodeType="FastLayer";Al(t2);let n2=class extends fi{_validateAdd(t){const n=t.getType();n!=="Group"&&n!=="Shape"&&Ge.throw("You may only add groups and shapes to groups.")}};n2.prototype.nodeType="Group";Al(n2);const hv=(function(){return Mc.performance&&Mc.performance.now?function(){return Mc.performance.now()}:function(){return new Date().getTime()}})();class Mi{constructor(t,n){this.id=Mi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:hv(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){let n=[];return t&&(n=Array.isArray(t)?t:[t]),this.layers=n,this}getLayers(){return this.layers}addLayer(t){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const n=Mi.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=hv(),Mi._addAnimation(this),this}stop(){return Mi._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const n=t.id,r=this.animations,i=r.length;for(let o=0;o<i;o++)if(r[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){const t={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],o=i.layers,c=i.func;i._updateFrameObject(hv());const d=o.length;let f;if(c?f=c.call(i,i.frame)!==!1:f=!0,!!f)for(let h=0;h<d;h++){const m=o[h];m._id!==void 0&&(t[m._id]=m)}}for(const r in t)t.hasOwnProperty(r)&&t[r].batchDraw()}static _animationLoop(){const t=Mi;t.animations.length?(t._runFrames(),Ge.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Ge.requestAnimFrame(this._animationLoop))}}Mi.animations=[];Mi.animIdCounter=0;Mi.animRunning=!1;const OL={node:1,duration:1,easing:1,onFinish:1,yoyo:1},IL=1,AC=2,MC=3,UC=["fill","stroke","shadowColor"];let FL=0;class LL{constructor(t,n,r,i,o,c,d){this.prop=t,this.propFunc=n,this.begin=i,this._pos=i,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=d,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=o-this.begin,this.pause()}fire(t){const n=this[t];n&&n()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=AC,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=MC,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const t=this.getTimer()-this._startTime;this.state===AC?this.setTime(t):this.state===MC&&this.setTime(this.duration-t)}pause(){this.state=IL,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Jn{constructor(t){const n=this,r=t.node,i=r._id,o=t.easing||lh.Linear,c=!!t.yoyo;let d,f;typeof t.duration>"u"?d=.3:t.duration===0?d=.001:d=t.duration,this.node=r,this._id=FL++;const h=r.getLayer()||(r instanceof jt.Stage?r.getLayers():null);h||Ge.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Mi(function(){n.tween.onEnterFrame()},h),this.tween=new LL(f,function(m){n._tweenFunc(m)},o,0,1,d*1e3,c),this._addListeners(),Jn.attrs[i]||(Jn.attrs[i]={}),Jn.attrs[i][this._id]||(Jn.attrs[i][this._id]={}),Jn.tweens[i]||(Jn.tweens[i]={});for(f in t)OL[f]===void 0&&this._addAttr(f,t[f]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,n){const r=this.node,i=r._id;let o,c,d,f,h;const m=Jn.tweens[i][t];m&&delete Jn.attrs[i][m][t];let p=r.getAttr(t);if(Ge._isArray(n))if(o=[],c=Math.max(n.length,p.length),t==="points"&&n.length!==p.length&&(n.length>p.length?(f=p,p=Ge._prepareArrayForTween(p,n,r.closed())):(d=n,n=Ge._prepareArrayForTween(n,p,r.closed()))),t.indexOf("fill")===0)for(let x=0;x<c;x++)if(x%2===0)o.push(n[x]-p[x]);else{const v=Ge.colorToRGBA(p[x]);h=Ge.colorToRGBA(n[x]),p[x]=v,o.push({r:h.r-v.r,g:h.g-v.g,b:h.b-v.b,a:h.a-v.a})}else for(let x=0;x<c;x++)o.push(n[x]-p[x]);else UC.indexOf(t)!==-1?(p=Ge.colorToRGBA(p),h=Ge.colorToRGBA(n),o={r:h.r-p.r,g:h.g-p.g,b:h.b-p.b,a:h.a-p.a}):o=n-p;Jn.attrs[i][this._id][t]={start:p,diff:o,end:n,trueEnd:d,trueStart:f},Jn.tweens[i][t]=this._id}_tweenFunc(t){const n=this.node,r=Jn.attrs[n._id][this._id];let i,o,c,d,f,h,m,p;for(i in r){if(o=r[i],c=o.start,d=o.diff,p=o.end,Ge._isArray(c))if(f=[],m=Math.max(c.length,p.length),i.indexOf("fill")===0)for(h=0;h<m;h++)h%2===0?f.push((c[h]||0)+d[h]*t):f.push("rgba("+Math.round(c[h].r+d[h].r*t)+","+Math.round(c[h].g+d[h].g*t)+","+Math.round(c[h].b+d[h].b*t)+","+(c[h].a+d[h].a*t)+")");else for(h=0;h<m;h++)f.push((c[h]||0)+d[h]*t);else UC.indexOf(i)!==-1?f="rgba("+Math.round(c.r+d.r*t)+","+Math.round(c.g+d.g*t)+","+Math.round(c.b+d.b*t)+","+(c.a+d.a*t)+")":f=c+d*t;n.setAttr(i,f)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const t=this.node,n=Jn.attrs[t._id][this._id];n.points&&n.points.trueEnd&&t.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const t=this.node,n=Jn.attrs[t._id][this._id];n.points&&n.points.trueStart&&t.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const t=this.node._id,n=this._id,r=Jn.tweens[t];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete Jn.tweens[t][i];delete Jn.attrs[t][n],Jn.tweens[t]&&(Object.keys(Jn.tweens[t]).length===0&&delete Jn.tweens[t],Object.keys(Jn.attrs[t]).length===0&&delete Jn.attrs[t])}}Jn.attrs={};Jn.tweens={};$t.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new Jn(e).play()};const lh={BackEaseIn(e,t,n,r){return n*(e/=r)*e*((1.70158+1)*e-1.70158)+t},BackEaseOut(e,t,n,r){return n*((e=e/r-1)*e*((1.70158+1)*e+1.70158)+1)+t},BackEaseInOut(e,t,n,r){let i=1.70158;return(e/=r/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,o){let c=0;return e===0?t:(e/=r)===1?t+n:(o||(o=r*.3),!i||i<Math.abs(n)?(i=n,c=o/4):c=o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o))+t)},ElasticEaseOut(e,t,n,r,i,o){let c=0;return e===0?t:(e/=r)===1?t+n:(o||(o=r*.3),!i||i<Math.abs(n)?(i=n,c=o/4):c=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-c)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,r,i,o){let c=0;return e===0?t:(e/=r/2)===2?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,c=o/4):c=o/(2*Math.PI)*Math.asin(n/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn(e,t,n,r){return n-lh.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut(e,t,n,r){return e<r/2?lh.BounceEaseIn(e*2,0,n,r)*.5+t:lh.BounceEaseOut(e*2-r,0,n,r)*.5+n*.5+t},EaseIn(e,t,n,r){return n*(e/=r)*e+t},EaseOut(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear(e,t,n,r){return n*e/r+t}},kr=Ge._assign(jt,{Util:Ge,Transform:xl,Node:$t,Container:fi,Stage:bx,stages:sh,Layer:qc,FastLayer:t2,Group:n2,DD:In,Shape:bt,shapes:oh,Animation:Mi,Tween:Jn,Easings:lh,Context:vx,Canvas:Z1});function r1(e,t,n,r,i,o,c){const d=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),f=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),h=c*d/(d+f),m=c*f/(d+f),p=n-h*(i-e),x=r-h*(o-t),v=n+m*(i-e),w=r+m*(o-t);return[p,x,v,w]}function kC(e,t){const n=e.length,r=[];for(let i=2;i<n-2;i+=2){const o=r1(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(e[i]),r.push(e[i+1]),r.push(o[2]),r.push(o[3]))}return r}class ks extends bt{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){const n=this.points(),r=n.length,i=this.tension(),o=this.closed(),c=this.bezier();if(!r)return;let d=0;if(t.beginPath(),t.moveTo(n[0],n[1]),i!==0&&r>4){const f=this.getTensionPoints(),h=f.length;for(d=o?0:4,o||t.quadraticCurveTo(f[0],f[1],f[2],f[3]);d<h-2;)t.bezierCurveTo(f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]);o||t.quadraticCurveTo(f[h-2],f[h-1],n[r-2],n[r-1])}else if(c)for(d=2;d<r;)t.bezierCurveTo(n[d++],n[d++],n[d++],n[d++],n[d++],n[d++]);else for(d=2;d<r;d+=2)t.lineTo(n[d],n[d+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():kC(this.points(),this.tension())}_getTensionPointsClosed(){const t=this.points(),n=t.length,r=this.tension(),i=r1(t[n-2],t[n-1],t[0],t[1],t[2],t[3],r),o=r1(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],r),c=kC(t,r);return[i[2],i[3]].concat(c).concat([o[0],o[1],t[n-2],t[n-1],o[2],o[3],i[0],i[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();let n=t[0],r=t[0],i=t[1],o=t[1],c,d;for(let f=0;f<t.length/2;f++)c=t[f*2],d=t[f*2+1],n=Math.min(n,c),r=Math.max(r,c),i=Math.min(i,d),o=Math.max(o,d);return{x:n,y:i,width:r-n,height:o-i}}}ks.prototype.className="Line";ks.prototype._attrsAffectingSize=["points","bezier","tension"];Al(ks);dt.addGetterSetter(ks,"closed",!1);dt.addGetterSetter(ks,"bezier",!1);dt.addGetterSetter(ks,"tension",0,Tn());dt.addGetterSetter(ks,"points",[],nL());class Ul extends bt{_sceneFunc(t){const n=this.cornerRadius(),r=this.width(),i=this.height();t.beginPath(),n?Ge.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}}Ul.prototype.className="Rect";Al(Ul);dt.addGetterSetter(Ul,"cornerRadius",0,tL(4));function yc(e){return[...e].reduce((t,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const o=i[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(t.push(n+o),i[r+1]=""):t.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?t.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?t[t.length-1]+=n:n&&t.push(n);return t},[])}const nu="auto",HL="center",j5="inherit",If="justify",BL="Change.konva",VL="2d",jC="-",R5="left",WL="text",zL="Text",$L="top",qL="bottom",RC="middle",P5="normal",GL="px ",Rg=" ",XL="right",PC="rtl",KL="word",YL="char",OC="none",pv="",O5=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ZL=O5.length;function QL(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!r&&(t=`"${t}"`),t}).join(", ")}let Pg;function gv(){return Pg||(Pg=Ge.createCanvasElement().getContext(VL),Pg)}function JL(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function eH(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function tH(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class Kn extends bt{constructor(t){super(tH(t)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<ZL;n++)this.on(O5[n]+BL,this._setTextData);this._setTextData()}_sceneFunc(t){var n,r;const i=this.textArr,o=i.length;if(!this.text())return;let c=this.padding(),d=this.fontSize(),f=this.lineHeight()*d,h=this.verticalAlign(),m=this.direction(),p=0,x=this.align(),v=this.getWidth(),w=this.letterSpacing(),y=this.charRenderFunc(),b=this.fill(),_=this.textDecoration(),D=_.indexOf("underline")!==-1,C=_.indexOf("line-through")!==-1,M;m=m===j5?t.direction:m;let A=f/2,j=RC;if(!jt.legacyTextRendering){const U=this.measureSize("M");j="alphabetic";const F=(n=U.fontBoundingBoxAscent)!==null&&n!==void 0?n:U.actualBoundingBoxAscent,O=(r=U.fontBoundingBoxDescent)!==null&&r!==void 0?r:U.actualBoundingBoxDescent;A=(F-O)/2+f/2}for(m===PC&&t.setAttr("direction",m),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",j),t.setAttr("textAlign",R5),h===RC?p=(this.getHeight()-o*f-c*2)/2:h===qL&&(p=this.getHeight()-o*f-c*2),t.translate(c,p+c),M=0;M<o;M++){let U=0,F=0;const O=i[M],$=O.text,se=O.width,I=O.lastInParagraph;if(t.save(),x===XL?U+=v-se-c*2:x===HL&&(U+=(v-se-c*2)/2),D){t.save(),t.beginPath();const k=jt.legacyTextRendering?Math.round(d/2):Math.round(d/4),ae=U,H=A+F+k;t.moveTo(ae,H);const G=x===If&&!I?v-c*2:se;t.lineTo(ae+Math.round(G),H),t.lineWidth=d/15;const q=this._getLinearGradient();t.strokeStyle=q||b,t.stroke(),t.restore()}const Q=U;if(m!==PC&&(w!==0||x===If||y)){const k=$.split(" ").length-1,ae=yc($);for(let H=0;H<ae.length;H++){const G=ae[H];if(G===" "&&!I&&x===If&&(U+=(v-c*2-se)/k),this._partialTextX=U,this._partialTextY=A+F,this._partialText=G,y){t.save();const ee=i.slice(0,M).reduce((B,te)=>B+yc(te.text).length,0),xe=H+ee;y({char:G,index:xe,x:U,y:A+F,lineIndex:M,column:H,isLastInLine:I,width:this.measureSize(G).width,context:t})}t.fillStrokeShape(this),y&&t.restore(),U+=this.measureSize(G).width+w}}else w!==0&&t.setAttr("letterSpacing",`${w}px`),this._partialTextX=U,this._partialTextY=A+F,this._partialText=$,t.fillStrokeShape(this);if(C){t.save(),t.beginPath();const k=jt.legacyTextRendering?0:-Math.round(d/4),ae=Q;t.moveTo(ae,A+F+k);const H=x===If&&!I?v-c*2:se;t.lineTo(ae+Math.round(H),A+F+k),t.lineWidth=d/15;const G=this._getLinearGradient();t.strokeStyle=G||b,t.stroke(),t.restore()}t.restore(),o>1&&(A+=f)}}_hitFunc(t){const n=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}setText(t){const n=Ge._isString(t)?t:t==null?"":t+"";return this._setAttr(WL,n),this}getWidth(){return this.attrs.width===nu||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===nu||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Ge.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n,r,i,o,c,d,f,h,m,p,x;let v=gv(),w=this.fontSize(),y;v.save(),v.font=this._getContextFont(),y=v.measureText(t),v.restore();const b=w/100;return{actualBoundingBoxAscent:(n=y.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*b,actualBoundingBoxDescent:(r=y.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=y.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*b,actualBoundingBoxRight:(o=y.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*b,alphabeticBaseline:(c=y.alphabeticBaseline)!==null&&c!==void 0?c:0,emHeightAscent:(d=y.emHeightAscent)!==null&&d!==void 0?d:100*b,emHeightDescent:(f=y.emHeightDescent)!==null&&f!==void 0?f:-20*b,fontBoundingBoxAscent:(h=y.fontBoundingBoxAscent)!==null&&h!==void 0?h:91*b,fontBoundingBoxDescent:(m=y.fontBoundingBoxDescent)!==null&&m!==void 0?m:21*b,hangingBaseline:(p=y.hangingBaseline)!==null&&p!==void 0?p:72.80000305175781*b,ideographicBaseline:(x=y.ideographicBaseline)!==null&&x!==void 0?x:-21*b,width:y.width,height:w}}_getContextFont(){return this.fontStyle()+Rg+this.fontVariant()+Rg+(this.fontSize()+GL)+QL(this.fontFamily())}_addTextLine(t){this.align()===If&&(t=t.trim());const r=this._getTextWidth(t);return this.textArr.push({text:t,width:r,lastInParagraph:!1})}_getTextWidth(t){const n=this.letterSpacing(),r=t.length;return gv().measureText(t).width+n*r}_setTextData(){let t=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,o=this.attrs.width,c=this.attrs.height,d=o!==nu&&o!==void 0,f=c!==nu&&c!==void 0,h=this.padding(),m=o-h*2,p=c-h*2,x=0,v=this.wrap(),w=v!==OC,y=v!==YL&&w,b=this.ellipsis();this.textArr=[],gv().font=this._getContextFont();const _=b?this._getTextWidth(pv):0;for(let D=0,C=t.length;D<C;++D){let M=t[D],A=this._getTextWidth(M);if(d&&A>m)for(;M.length>0;){let j=0,U=yc(M).length,F="",O=0;for(;j<U;){const $=j+U>>>1,se=yc(M),I=se.slice(0,$+1).join(""),Q=this._getTextWidth(I);(b&&f&&x+i>p?Q+_:Q)<=m?(j=$+1,F=I,O=Q):U=$}if(F){if(y){const I=yc(M),Q=yc(F),k=I[Q.length],ae=k===Rg||k===jC;let H;if(ae&&O<=m)H=Q.length;else{const G=Q.lastIndexOf(Rg),q=Q.lastIndexOf(jC);H=Math.max(G,q)+1}H>0&&(j=H,F=I.slice(0,j).join(""),O=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),r=Math.max(r,O),x+=i,this._shouldHandleEllipsis(x)){this._tryToAddEllipsisToLastLine();break}if(M=yc(M).slice(j).join("").trimLeft(),M.length>0&&(A=this._getTextWidth(M),A<=m)){this._addTextLine(M),x+=i,r=Math.max(r,A);break}}else break}else this._addTextLine(M),x+=i,r=Math.max(r,A),this._shouldHandleEllipsis(x)&&D<C-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),f&&x+i>p)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(t){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,o=i!==nu&&i!==void 0,c=this.padding(),d=i-c*2;return!(this.wrap()!==OC)||o&&t+r>d}_tryToAddEllipsisToLastLine(){const t=this.attrs.width,n=t!==nu&&t!==void 0,r=this.padding(),i=t-r*2,o=this.ellipsis(),c=this.textArr[this.textArr.length-1];!c||!o||(n&&(this._getTextWidth(c.text+pv)<i||(c.text=c.text.slice(0,c.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(c.text+pv))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return t&&n?!0:super._useBufferCanvas()}}Kn.prototype._fillFunc=JL;Kn.prototype._strokeFunc=eH;Kn.prototype.className=zL;Kn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Al(Kn);dt.overWriteSetter(Kn,"width",J1());dt.overWriteSetter(Kn,"height",J1());dt.addGetterSetter(Kn,"direction",j5);dt.addGetterSetter(Kn,"fontFamily","Arial");dt.addGetterSetter(Kn,"fontSize",12,Tn());dt.addGetterSetter(Kn,"fontStyle",P5);dt.addGetterSetter(Kn,"fontVariant",P5);dt.addGetterSetter(Kn,"padding",0,Tn());dt.addGetterSetter(Kn,"align",R5);dt.addGetterSetter(Kn,"verticalAlign",$L);dt.addGetterSetter(Kn,"lineHeight",1,Tn());dt.addGetterSetter(Kn,"wrap",KL);dt.addGetterSetter(Kn,"ellipsis",!1,Eo());dt.addGetterSetter(Kn,"letterSpacing",0,Tn());dt.addGetterSetter(Kn,"text","",$c());dt.addGetterSetter(Kn,"textDecoration","");dt.addGetterSetter(Kn,"charRenderFunc",void 0);function Gc(e,t){this._waveformData=e,this._channelIndex=t}Gc.prototype.min_sample=function(e){var t=(e*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._at(t)};Gc.prototype.max_sample=function(e){var t=(e*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._at(t)};Gc.prototype.set_min_sample=function(e,t){var n=(e*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._set_at(n,t)};Gc.prototype.set_max_sample=function(e,t){var n=(e*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._set_at(n,t)};Gc.prototype.min_array=function(){for(var e=this._waveformData.length,t=[],n=0;n<e;n++)t.push(this.min_sample(n));return t};Gc.prototype.max_array=function(){for(var e=this._waveformData.length,t=[],n=0;n<e;n++)t.push(this.max_sample(n));return t};var nH=127,rH=-128,aH=32767,iH=-32768;function sH(e,t){var n=Math.floor(e/t),r=e-n*t;return r>0&&n++,n}function oH(e){for(var t=e.scale,n=e.amplitude_scale,r=e.split_channels,i=e.length,o=e.sample_rate,c=e.channels.map(function(se){return new Float32Array(se)}),d=r?c.length:1,f=24,h=sH(i,t),m=e.bits===8?1:2,p=f+h*2*m*d,x=new ArrayBuffer(p),v=new DataView(x),w=0,y=f,b=new Array(d),_=new Array(d),D=0;D<d;D++)b[D]=1/0,_[D]=-1/0;var C=e.bits===8?rH:iH,M=e.bits===8?nH:aH;v.setInt32(0,2,!0),v.setUint32(4,e.bits===8,!0),v.setInt32(8,o,!0),v.setInt32(12,t,!0),v.setInt32(16,h,!0),v.setInt32(20,d,!0);for(var A=0;A<i;A++){var j=0;if(d===1){for(var U=0;U<c.length;++U)j+=c[U][A];j=Math.floor(M*j*n/c.length),j<b[0]&&(b[0]=j,b[0]<C&&(b[0]=C)),j>_[0]&&(_[0]=j,_[0]>M&&(_[0]=M))}else for(var F=0;F<d;++F)j=Math.floor(M*c[F][A]*n),j<b[F]&&(b[F]=j,b[F]<C&&(b[F]=C)),j>_[F]&&(_[F]=j,_[F]>M&&(_[F]=M));if(++w===t){for(var O=0;O<d;O++)e.bits===8?(v.setInt8(y++,b[O]),v.setInt8(y++,_[O])):(v.setInt16(y,b[O],!0),v.setInt16(y+2,_[O],!0),y+=4),b[O]=1/0,_[O]=-1/0;w=0}}if(w>0)for(var $=0;$<d;$++)e.bits===8?(v.setInt8(y++,b[$]),v.setInt8(y++,_[$])):(v.setInt16(y,b[$],!0),v.setInt16(y+2,_[$],!0));return x}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function lH(e){return e&&Lm(e)==="object"&&"sample_rate"in e&&"samples_per_pixel"in e&&"bits"in e&&"length"in e&&"data"in e}function cH(e){var t=e&&Lm(e)==="object"&&"byteLength"in e;if(t){var n=new DataView(e),r=n.getInt32(0,!0);if(r!==1&&r!==2)throw new TypeError("WaveformData.create(): This waveform data version not supported")}return t}function dH(e){var t=e.data,n=e.channels||1,r=24,i=e.bits===8?1:2,o=e.length*2*n;if(t.length!==o)throw new Error("WaveformData.create(): Length mismatch in JSON waveform data");var c=r+t.length*i,d=new ArrayBuffer(c),f=new DataView(d);f.setInt32(0,2,!0),f.setUint32(4,e.bits===8,!0),f.setInt32(8,e.sample_rate,!0),f.setInt32(12,e.samples_per_pixel,!0),f.setInt32(16,e.length,!0),f.setInt32(20,n,!0);var h=r;if(e.bits===8)for(var m=0;m<t.length;m++)f.setInt8(h++,t[m],!0);else for(var p=0;p<t.length;p++)f.setInt16(h,t[p],!0),h+=2;return d}function ru(e){return e==null}function uH(e,t){var n=atob(e);return n}function fH(e,t,n){var r=uH(e),i=r.indexOf(`
`,10)+1,o=r.substring(i)+"",c=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(c)}function hH(e,t,n){var r;return function(o){return r=r||fH(e),new Worker(r,o)}}var pH=hH("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2F1ZGFjaXR5L2F1ZGFjaXR5L2Jsb2IvCiAgICogICAxMTA4YzEzNzZjMDkxNjYxNjIzMzVmYWI0NzQzMDA4Y2JhNTdjNGVlL3NyYy9CbG9ja0ZpbGUuY3BwI0wxOTgKICAgKi8KCiAgdmFyIElOVDhfTUFYID0gMTI3OwogIHZhciBJTlQ4X01JTiA9IC0xMjg7CiAgdmFyIElOVDE2X01BWCA9IDMyNzY3OwogIHZhciBJTlQxNl9NSU4gPSAtMzI3Njg7CiAgZnVuY3Rpb24gY2FsY3VsYXRlV2F2ZWZvcm1EYXRhTGVuZ3RoKGF1ZGlvX3NhbXBsZV9jb3VudCwgc2NhbGUpIHsKICAgIHZhciBkYXRhX2xlbmd0aCA9IE1hdGguZmxvb3IoYXVkaW9fc2FtcGxlX2NvdW50IC8gc2NhbGUpOwogICAgdmFyIHNhbXBsZXNfcmVtYWluaW5nID0gYXVkaW9fc2FtcGxlX2NvdW50IC0gZGF0YV9sZW5ndGggKiBzY2FsZTsKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KICAgIHJldHVybiBkYXRhX2xlbmd0aDsKICB9CiAgZnVuY3Rpb24gZ2VuZXJhdGVXYXZlZm9ybURhdGEob3B0aW9ucykgewogICAgdmFyIHNjYWxlID0gb3B0aW9ucy5zY2FsZTsKICAgIHZhciBhbXBsaXR1ZGVfc2NhbGUgPSBvcHRpb25zLmFtcGxpdHVkZV9zY2FsZTsKICAgIHZhciBzcGxpdF9jaGFubmVscyA9IG9wdGlvbnMuc3BsaXRfY2hhbm5lbHM7CiAgICB2YXIgbGVuZ3RoID0gb3B0aW9ucy5sZW5ndGg7CiAgICB2YXIgc2FtcGxlX3JhdGUgPSBvcHRpb25zLnNhbXBsZV9yYXRlOwogICAgdmFyIGNoYW5uZWxzID0gb3B0aW9ucy5jaGFubmVscy5tYXAoZnVuY3Rpb24gKGNoYW5uZWwpIHsKICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoY2hhbm5lbCk7CiAgICB9KTsKICAgIHZhciBvdXRwdXRfY2hhbm5lbHMgPSBzcGxpdF9jaGFubmVscyA/IGNoYW5uZWxzLmxlbmd0aCA6IDE7CiAgICB2YXIgaGVhZGVyX3NpemUgPSAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciBieXRlc19wZXJfc2FtcGxlID0gb3B0aW9ucy5iaXRzID09PSA4ID8gMSA6IDI7CiAgICB2YXIgdG90YWxfc2l6ZSA9IGhlYWRlcl9zaXplICsgZGF0YV9sZW5ndGggKiAyICogYnl0ZXNfcGVyX3NhbXBsZSAqIG91dHB1dF9jaGFubmVsczsKICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodG90YWxfc2l6ZSk7CiAgICB2YXIgZGF0YV92aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7CiAgICB2YXIgc2NhbGVfY291bnRlciA9IDA7CiAgICB2YXIgb2Zmc2V0ID0gaGVhZGVyX3NpemU7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICBmb3IgKHZhciBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CiAgICB2YXIgcmFuZ2VfbWluID0gb3B0aW9ucy5iaXRzID09PSA4ID8gSU5UOF9NSU4gOiBJTlQxNl9NSU47CiAgICB2YXIgcmFuZ2VfbWF4ID0gb3B0aW9ucy5iaXRzID09PSA4ID8gSU5UOF9NQVggOiBJTlQxNl9NQVg7CiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMCwgMiwgdHJ1ZSk7IC8vIFZlcnNpb24KICAgIGRhdGFfdmlldy5zZXRVaW50MzIoNCwgb3B0aW9ucy5iaXRzID09PSA4LCB0cnVlKTsgLy8gSXMgOCBiaXQ/CiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoOCwgc2FtcGxlX3JhdGUsIHRydWUpOyAvLyBTYW1wbGUgcmF0ZQogICAgZGF0YV92aWV3LnNldEludDMyKDEyLCBzY2FsZSwgdHJ1ZSk7IC8vIFNjYWxlCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMjAsIG91dHB1dF9jaGFubmVscywgdHJ1ZSk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzYW1wbGUgPSAwOwogICAgICBpZiAob3V0cHV0X2NoYW5uZWxzID09PSAxKSB7CiAgICAgICAgZm9yICh2YXIgX2NoYW5uZWwgPSAwOyBfY2hhbm5lbCA8IGNoYW5uZWxzLmxlbmd0aDsgKytfY2hhbm5lbCkgewogICAgICAgICAgc2FtcGxlICs9IGNoYW5uZWxzW19jaGFubmVsXVtpXTsKICAgICAgICB9CiAgICAgICAgc2FtcGxlID0gTWF0aC5mbG9vcihyYW5nZV9tYXggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwogICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbMF0pIHsKICAgICAgICAgIG1pbl92YWx1ZVswXSA9IHNhbXBsZTsKICAgICAgICAgIGlmIChtaW5fdmFsdWVbMF0gPCByYW5nZV9taW4pIHsKICAgICAgICAgICAgbWluX3ZhbHVlWzBdID0gcmFuZ2VfbWluOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlWzBdKSB7CiAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBzYW1wbGU7CiAgICAgICAgICBpZiAobWF4X3ZhbHVlWzBdID4gcmFuZ2VfbWF4KSB7CiAgICAgICAgICAgIG1heF92YWx1ZVswXSA9IHJhbmdlX21heDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgX2NoYW5uZWwyID0gMDsgX2NoYW5uZWwyIDwgb3V0cHV0X2NoYW5uZWxzOyArK19jaGFubmVsMikgewogICAgICAgICAgc2FtcGxlID0gTWF0aC5mbG9vcihyYW5nZV9tYXggKiBjaGFubmVsc1tfY2hhbm5lbDJdW2ldICogYW1wbGl0dWRlX3NjYWxlKTsKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbX2NoYW5uZWwyXSkgewogICAgICAgICAgICBtaW5fdmFsdWVbX2NoYW5uZWwyXSA9IHNhbXBsZTsKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtfY2hhbm5lbDJdIDwgcmFuZ2VfbWluKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW19jaGFubmVsMl0gPSByYW5nZV9taW47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChzYW1wbGUgPiBtYXhfdmFsdWVbX2NoYW5uZWwyXSkgewogICAgICAgICAgICBtYXhfdmFsdWVbX2NoYW5uZWwyXSA9IHNhbXBsZTsKICAgICAgICAgICAgaWYgKG1heF92YWx1ZVtfY2hhbm5lbDJdID4gcmFuZ2VfbWF4KSB7CiAgICAgICAgICAgICAgbWF4X3ZhbHVlW19jaGFubmVsMl0gPSByYW5nZV9tYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCsrc2NhbGVfY291bnRlciA9PT0gc2NhbGUpIHsKICAgICAgICBmb3IgKHZhciBfY2hhbm5lbDMgPSAwOyBfY2hhbm5lbDMgPCBvdXRwdXRfY2hhbm5lbHM7IF9jaGFubmVsMysrKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5iaXRzID09PSA4KSB7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQ4KG9mZnNldCsrLCBtaW5fdmFsdWVbX2NoYW5uZWwzXSk7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQ4KG9mZnNldCsrLCBtYXhfdmFsdWVbX2NoYW5uZWwzXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50MTYob2Zmc2V0LCBtaW5fdmFsdWVbX2NoYW5uZWwzXSwgdHJ1ZSk7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQxNihvZmZzZXQgKyAyLCBtYXhfdmFsdWVbX2NoYW5uZWwzXSwgdHJ1ZSk7CiAgICAgICAgICAgIG9mZnNldCArPSA0OwogICAgICAgICAgfQogICAgICAgICAgbWluX3ZhbHVlW19jaGFubmVsM10gPSBJbmZpbml0eTsKICAgICAgICAgIG1heF92YWx1ZVtfY2hhbm5lbDNdID0gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBzY2FsZV9jb3VudGVyID0gMDsKICAgICAgfQogICAgfQogICAgaWYgKHNjYWxlX2NvdW50ZXIgPiAwKSB7CiAgICAgIGZvciAodmFyIF9jaGFubmVsNCA9IDA7IF9jaGFubmVsNCA8IG91dHB1dF9jaGFubmVsczsgX2NoYW5uZWw0KyspIHsKICAgICAgICBpZiAob3B0aW9ucy5iaXRzID09PSA4KSB7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWluX3ZhbHVlW19jaGFubmVsNF0pOwogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtfY2hhbm5lbDRdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDE2KG9mZnNldCwgbWluX3ZhbHVlW19jaGFubmVsNF0sIHRydWUpOwogICAgICAgICAgZGF0YV92aWV3LnNldEludDE2KG9mZnNldCArIDIsIG1heF92YWx1ZVtfY2hhbm5lbDRdLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBidWZmZXI7CiAgfQoKICBvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZXZ0KSB7CiAgICB2YXIgYnVmZmVyID0gZ2VuZXJhdGVXYXZlZm9ybURhdGEoZXZ0LmRhdGEpOwoKICAgIC8vIFRyYW5zZmVyIGJ1ZmZlciB0byB0aGUgY2FsbGluZyB0aHJlYWQKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdmVmb3JtLWRhdGEtd29ya2VyLmpzLm1hcAoK");function Ba(e){if(lH(e)&&(e=dH(e)),cH(e)){this._data=new DataView(e),this._offset=this._version()===2?24:20,this._channels=[];for(var t=0;t<this.channels;t++)this._channels[t]=new Gc(this,t)}else throw new TypeError("WaveformData.create(): Unknown data format")}var Ff={scale:512,bits:8,amplitude_scale:1,split_channels:!1,disable_worker:!1};function gH(e){var t={scale:e.scale||Ff.scale,bits:e.bits||Ff.bits,amplitude_scale:e.amplitude_scale||Ff.amplitude_scale,split_channels:e.split_channels||Ff.split_channels,disable_worker:e.disable_worker||Ff.disable_worker};return t}function mH(e){for(var t=[],n=0;n<e.numberOfChannels;++n)t.push(e.getChannelData(n).buffer);return t}function I5(e,t,n){var r=mH(e);if(t.disable_worker){var i=oH({scale:t.scale,bits:t.bits,amplitude_scale:t.amplitude_scale,split_channels:t.split_channels,length:e.length,sample_rate:e.sampleRate,channels:r});n(void 0,new Ba(i),e)}else{var o=new pH;o.onmessage=function(c){n(void 0,new Ba(c.data),e)},o.postMessage({scale:t.scale,bits:t.bits,amplitude_scale:t.amplitude_scale,split_channels:t.split_channels,length:e.length,sample_rate:e.sampleRate,channels:r},r)}}function xH(e,t,n,r){function i(c){c||(c=new DOMException("EncodingError")),r(c),r=function(){}}var o=e.decodeAudioData(t,function(c){I5(c,n,r)},i);o&&o.catch(i)}Ba.create=function(t){return new Ba(t)};Ba.createFromAudio=function(e,t){var n=gH(e);if(e.audio_context&&e.array_buffer)return xH(e.audio_context,e.array_buffer,n,t);if(e.audio_buffer)return I5(e.audio_buffer,n,t);throw new TypeError("WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")};function _x(e){this._inputData=e.waveformData,this._output_samples_per_pixel=e.scale,this._scale=this._inputData.scale,this._input_buffer_size=this._inputData.length;var t=this._input_buffer_size*this._inputData.scale,n=Math.ceil(t/this._output_samples_per_pixel),r=24,i=this._inputData.bits===8?1:2,o=r+n*2*this._inputData.channels*i;this._output_data=new ArrayBuffer(o),this.output_dataview=new DataView(this._output_data),this.output_dataview.setInt32(0,2,!0),this.output_dataview.setUint32(4,this._inputData.bits===8,!0),this.output_dataview.setInt32(8,this._inputData.sample_rate,!0),this.output_dataview.setInt32(12,this._output_samples_per_pixel,!0),this.output_dataview.setInt32(16,n,!0),this.output_dataview.setInt32(20,this._inputData.channels,!0),this._outputWaveformData=new Ba(this._output_data),this._input_index=0,this._output_index=0;var c=this._inputData.channels;this._min=new Array(c),this._max=new Array(c);for(var d=0;d<c;++d)this._input_buffer_size>0?(this._min[d]=this._inputData.channel(d).min_sample(this._input_index),this._max[d]=this._inputData.channel(d).max_sample(this._input_index)):(this._min[d]=0,this._max[d]=0);this._min_value=this._inputData.bits===8?-128:-32768,this._max_value=this._inputData.bits===8?127:32767,this._where=0,this._prev_where=0,this._stop=0,this._last_input_index=0}_x.prototype.sample_at_pixel=function(e){return Math.floor(e*this._output_samples_per_pixel)};_x.prototype.next=function(){for(var e=0,t=1e3,n=this._inputData.channels,r;this._input_index<this._input_buffer_size&&e<t;){for(;Math.floor(this.sample_at_pixel(this._output_index)/this._scale)===this._input_index;){if(this._output_index>0)for(var i=0;i<n;++i)r=this._outputWaveformData.channel(i),r.set_min_sample(this._output_index-1,this._min[i]),r.set_max_sample(this._output_index-1,this._max[i]);if(this._last_input_index=this._input_index,this._output_index++,this._where=this.sample_at_pixel(this._output_index),this._prev_where=this.sample_at_pixel(this._output_index-1),this._where!==this._prev_where)for(var o=0;o<n;++o)this._min[o]=this._max_value,this._max[o]=this._min_value}for(this._where=this.sample_at_pixel(this._output_index),this._stop=Math.floor(this._where/this._scale),this._stop>this._input_buffer_size&&(this._stop=this._input_buffer_size);this._input_index<this._stop;){for(var c=0;c<n;++c){r=this._inputData.channel(c);var d=r.min_sample(this._input_index);d<this._min[c]&&(this._min[c]=d),d=r.max_sample(this._input_index),d>this._max[c]&&(this._max[c]=d)}this._input_index++}e++}if(this._input_index<this._input_buffer_size)return!1;if(this._input_index!==this._last_input_index)for(var f=0;f<n;++f)r=this._outputWaveformData.channel(f),r.set_min_sample(this._output_index-1,this._min[f]),r.set_max_sample(this._output_index-1,this._max[f]);return!0};_x.prototype.getOutputData=function(){return this._output_data};Ba.prototype={_getResampleOptions:function(t){var n={};if(n.scale=t.scale,n.width=t.width,!ru(n.width)&&(typeof n.width!="number"||n.width<=0))throw new RangeError("WaveformData.resample(): width should be a positive integer value");if(!ru(n.scale)&&(typeof n.scale!="number"||n.scale<=0))throw new RangeError("WaveformData.resample(): scale should be a positive integer value");if(!n.scale&&!n.width)throw new Error("WaveformData.resample(): Missing scale or width option");if(n.width&&(n.scale=Math.floor(this.duration*this.sample_rate/n.width)),n.scale<this.scale)throw new Error("WaveformData.resample(): Zoom level "+n.scale+" too low, minimum: "+this.scale);return n.abortSignal=t.abortSignal,n},resample:function(t){t=this._getResampleOptions(t),t.waveformData=this;for(var n=new _x(t);!n.next(););return new Ba(n.getOutputData())},concat:function(){var t=this,n=Array.prototype.slice.call(arguments);n.forEach(function(i){if(t.channels!==i.channels||t.sample_rate!==i.sample_rate||t.bits!==i.bits||t.scale!==i.scale)throw new Error("WaveformData.concat(): Waveforms are incompatible")});var r=this._concatBuffers.apply(this,n);return Ba.create(r)},_concatBuffers:function(){for(var t=Array.prototype.slice.call(arguments),n=this._offset,r=n,i=0,o=[this].concat(t).map(function(_){return _._data.buffer}),c=0;c<o.length;c++){var d=o[c],f=new DataView(d).getInt32(16,!0);r+=d.byteLength-n,i+=f}for(var h=new ArrayBuffer(r),m=new DataView(o[0]),p=new DataView(h),x=0;x<n;x++)p.setUint8(x,m.getUint8(x));p.setInt32(16,i,!0);for(var v=0,w=new Uint8Array(h,n),y=0;y<o.length;y++){var b=o[y];w.set(new Uint8Array(b,n),v),v+=b.byteLength-n}return h},slice:function(t){var n=0,r=0;if(!ru(t.startIndex)&&!ru(t.endIndex)?(n=t.startIndex,r=t.endIndex):!ru(t.startTime)&&!ru(t.endTime)&&(n=this.at_time(t.startTime),r=this.at_time(t.endTime)),n<0)throw new RangeError("startIndex or startTime must not be negative");if(r<0)throw new RangeError("endIndex or endTime must not be negative");n>this.length&&(n=this.length),r>this.length&&(r=this.length),n>r&&(n=r);var i=r-n,o=24,c=this.bits===8?1:2,d=o+i*2*this.channels*c,f=new ArrayBuffer(d),h=new DataView(f);h.setInt32(0,2,!0),h.setUint32(4,this.bits===8,!0),h.setInt32(8,this.sample_rate,!0),h.setInt32(12,this.scale,!0),h.setInt32(16,i,!0),h.setInt32(20,this.channels,!0);for(var m=0;m<i*this.channels*2;m++){var p=this._at(n*this.channels*2+m);this.bits===8?h.setInt8(o+m,p):h.setInt16(o+m*2,p,!0)}return new Ba(f)},_version:function(){return this._data.getInt32(0,!0)},get length(){return this._data.getUint32(16,!0)},get bits(){var e=!!this._data.getUint32(4,!0);return e?8:16},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._version()===2?this._data.getInt32(20,!0):1},channel:function(t){if(t>=0&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},_at:function(t){return this.bits===8?this._data.getInt8(this._offset+t):this._data.getInt16(this._offset+t*2,!0)},_set_at:function(t,n){return this.bits===8?this._data.setInt8(this._offset+t,n):this._data.setInt16(this._offset+t*2,n,!0)},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate},toJSON:function(){for(var t={version:2,channels:this.channels,sample_rate:this.sample_rate,samples_per_pixel:this.scale,bits:this.bits,length:this.length,data:[]},n=0;n<this.length;n++)for(var r=0;r<this.channels;r++)t.data.push(this.channel(r).min_sample(n)),t.data.push(this.channel(r).max_sample(n));return t},toArrayBuffer:function(){return this._data.buffer}};function yH(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mv={exports:{}},IC;function vH(){return IC||(IC=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function o(f,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new i(m,p||f,x),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],v]:f._events[w].push(v):(f._events[w]=v,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},d.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,w=new Array(v);x<v;x++)w[x]=p[x].fn;return w},d.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},d.prototype.emit=function(h,m,p,x,v,w){var y=n?n+h:h;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,D,C;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,p),!0;case 4:return b.fn.call(b.context,m,p,x),!0;case 5:return b.fn.call(b.context,m,p,x,v),!0;case 6:return b.fn.call(b.context,m,p,x,v,w),!0}for(C=1,D=new Array(_-1);C<_;C++)D[C-1]=arguments[C];b.fn.apply(b.context,D)}else{var M=b.length,A;for(C=0;C<M;C++)switch(b[C].once&&this.removeListener(h,b[C].fn,void 0,!0),_){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,m);break;case 3:b[C].fn.call(b[C].context,m,p);break;case 4:b[C].fn.call(b[C].context,m,p,x);break;default:if(!D)for(A=1,D=new Array(_-1);A<_;A++)D[A-1]=arguments[A];b[C].fn.apply(b[C].context,D)}}return!0},d.prototype.on=function(h,m,p){return o(this,h,m,p,!1)},d.prototype.once=function(h,m,p){return o(this,h,m,p,!0)},d.prototype.removeListener=function(h,m,p,x){var v=n?n+h:h;if(!this._events[v])return this;if(!m)return c(this,v),this;var w=this._events[v];if(w.fn)w.fn===m&&(!x||w.once)&&(!p||w.context===p)&&c(this,v);else{for(var y=0,b=[],_=w.length;y<_;y++)(w[y].fn!==m||x&&!w[y].once||p&&w[y].context!==p)&&b.push(w[y]);b.length?this._events[v]=b.length===1?b[0]:b:c(this,v)}return this},d.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&c(this,m)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(mv)),mv.exports}var bH=vH(),F5=yH(bH);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Ur(e,t,n){this.time=e,this.type=t,this.id=n}Ur.POINT=0;Ur.SEGMENT_START=1;Ur.SEGMENT_END=2;Ur.sorter=function(e,t){return e.time-t.time};function FC(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}function L5(e,t){var n=[],r=Math.floor(e%1*Math.pow(10,t)),i=Math.floor(e),o=Math.floor(i/60),c=Math.floor(o/60);c>0&&n.push(c),n.push(o%60),n.push(i%60);for(var d=0;d<n.length;d++)n[d]=FC(n[d],2);return n=n.join(":"),t>0&&(n+="."+FC(r,t)),n}function _H(e,t){if(t===0)return 0;var n=1;e<0&&(n=-1,e=-e);var r=Math.ceil(e);return n*((r+t-1)/t|0)*t}function hi(e,t,n){return e<t?t:e>n?n:e}function Bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ch(e,t){for(var n in t)Bt(t,n)&&(e[n]=t[n]);return e}function wH(e){if(e.length===0)return!0;for(var t=e[0],n=1;n<e.length;n++){if(t>=e[n])return!1;t=e[n]}return!0}function a1(e){return typeof e=="number"}function DH(e){return!(typeof e!="number"||e!==e||e===1/0||e===-1/0)}function Fc(e){return typeof e=="number"&&Number.isFinite(e)}function bh(e){return e!==null&&Hm(e)==="object"&&!Array.isArray(e)}function Uc(e){return typeof e=="string"}function SH(e){return Object.prototype.toString.call(e).includes("ArrayBuffer")}function Ha(e){return e==null}function CH(e){return typeof e=="function"}function sm(e){return e===!0||e===!1}function i1(e){return e instanceof HTMLElement}function TH(e){return Array.isArray(e)}function wx(e){return bh(e)&&Bt(e,"linearGradientStart")&&Bt(e,"linearGradientEnd")&&Bt(e,"linearGradientColorStops")&&a1(e.linearGradientStart)&&a1(e.linearGradientEnd)&&TH(e.linearGradientColorStops)&&e.linearGradientColorStops.length===2}function H5(e){for(;e.parent!==null;){if(e.parent instanceof kr.Layer)return e;e=e.parent}return null}var EH=/HeadlessChrome/.test(navigator.userAgent);function NH(){return EH||navigator.webdriver?!1:(typeof document>"u"?"undefined":Hm(document))==="object"&&"visibilityState"in document&&document.visibilityState==="visible"}var B5=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,AH=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,Sl={forward:{},reverse:{}},Dx=0,Hh=1,Bh=2;Sl.forward[Ur.POINT]=Dx;Sl.forward[Ur.SEGMENT_START]=Hh;Sl.forward[Ur.SEGMENT_END]=Bh;Sl.reverse[Ur.POINT]=Dx;Sl.reverse[Ur.SEGMENT_START]=Bh;Sl.reverse[Ur.SEGMENT_END]=Hh;var Sx={};Sx[Dx]="points.enter";Sx[Hh]="segments.enter";Sx[Bh]="segments.exit";var Cx={};Cx[Dx]="point";Cx[Hh]="segment";Cx[Bh]="segment";function MH(e,t){switch(t.type){case Ur.POINT:return e.points.getPoint(t.id);case Ur.SEGMENT_START:case Ur.SEGMENT_END:return e.segments.getSegment(t.id);default:throw new Error("getPointOrSegment: id not found?")}}function ds(e){this._cues=[],this._peaks=e,this._previousTime=-1,this._updateCues=this._updateCues.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onSeeked=this._onSeeked.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onAnimationFrame=this._onAnimationFrame.bind(this),this._rAFHandle=null,this._activeSegments={},this._attachEventHandlers()}ds.prototype._updateCues=function(){var e=this,t=e._peaks.points.getPoints(),n=e._peaks.segments.getSegments();e._cues.length=0,t.forEach(function(i){e._cues.push(new Ur(i.time,Ur.POINT,i.id))}),n.forEach(function(i){e._cues.push(new Ur(i.startTime,Ur.SEGMENT_START,i.id)),e._cues.push(new Ur(i.endTime,Ur.SEGMENT_END,i.id))}),e._cues.sort(Ur.sorter);var r=e._peaks.player.getCurrentTime();e._updateActiveSegments(r)};ds.prototype._onUpdate=function(e,t){var n=e>t,r,i,o;n?(r=0,i=this._cues.length,o=1):(r=this._cues.length-1,i=-1,o=-1);for(var c=r;n?c<i:c>i;c+=o){var d=this._cues[c];if(n?d.time>t:d.time<t){if(n?d.time>e:d.time<e)break;var f=MH(this._peaks,d),h=n?Sl.forward[d.type]:Sl.reverse[d.type];h===Hh?this._activeSegments[f.id]=f:h===Bh&&delete this._activeSegments[f.id];var m={time:e};m[Cx[h]]=f,this._peaks.emit(Sx[h],m)}}};ds.prototype._onTimeUpdate=function(e){NH()||(this._peaks.player.isPlaying()&&!this._peaks.player.isSeeking()&&this._onUpdate(e,this._previousTime),this._previousTime=e)};ds.prototype._onAnimationFrame=function(){var e=this._peaks.player.getCurrentTime();this._peaks.player.isSeeking()||this._onUpdate(e,this._previousTime),this._previousTime=e,this._peaks.player.isPlaying()&&(this._rAFHandle=B5(this._onAnimationFrame))};ds.prototype._onPlaying=function(){this._previousTime=this._peaks.player.getCurrentTime(),this._rAFHandle=B5(this._onAnimationFrame)};ds.prototype._onSeeked=function(e){this._previousTime=e,this._updateActiveSegments(e)};function UH(e){return function(n){return n.id===e}}ds.prototype._updateActiveSegments=function(e){var t=this,n=t._peaks.segments.getSegmentsAtTime(e);for(var r in t._activeSegments)if(Bt(t._activeSegments,r)){var i=n.find(UH(r));i||(t._peaks.emit("segments.exit",{segment:t._activeSegments[r],time:e}),delete t._activeSegments[r])}n.forEach(function(o){o.id in t._activeSegments||(t._activeSegments[o.id]=o,t._peaks.emit("segments.enter",{segment:o,time:e}))})};var Bm=["points.update","points.dragmove","points.add","points.remove","points.remove_all","segments.update","segments.dragged","segments.add","segments.remove","segments.remove_all"];ds.prototype._attachEventHandlers=function(){this._peaks.on("player.timeupdate",this._onTimeUpdate),this._peaks.on("player.playing",this._onPlaying),this._peaks.on("player.seeked",this._onSeeked);for(var e=0;e<Bm.length;e++)this._peaks.on(Bm[e],this._updateCues);this._updateCues()};ds.prototype._detachEventHandlers=function(){this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.seeked",this._onSeeked);for(var e=0;e<Bm.length;e++)this._peaks.off(Bm[e],this._updateCues)};ds.prototype.destroy=function(){this._rAFHandle&&(AH(this._rAFHandle),this._rAFHandle=null),this._detachEventHandlers(),this._previousTime=-1};var V5=["id","pid","time","labelText","color","editable"],kH=["update","isVisible","peaks","pid"];function jH(e,t){Ha(e.labelText)&&(e.labelText=""),Ha(e.editable)&&(e.editable=!1),Ha(e.color)&&(e.color=t.pointMarkerColor)}function W5(e,t){var n=t?"update()":"add()";if((!t||t&&Bt(e,"time"))&&!Fc(e.time))throw new TypeError("peaks.points."+n+": time should be a numeric value");if(e.time<0)throw new RangeError("peaks.points."+n+": time should not be negative");if(Bt(e,"labelText")&&!Uc(e.labelText))throw new TypeError("peaks.points."+n+": labelText must be a string");if(Bt(e,"editable")&&!sm(e.editable))throw new TypeError("peaks.points."+n+": editable must be true or false");if(Bt(e,"color")&&!Uc(e.color)&&!wx(e.color))throw new TypeError("peaks.points."+n+": color must be a string or a valid linear gradient object");kH.forEach(function(r){if(Bt(e,r))throw new Error("peaks.points."+n+": invalid option name: "+r)}),V5.forEach(function(r){if(Bt(e,"_"+r))throw new Error("peaks.points."+n+": invalid option name: _"+r)})}function Nu(e,t,n){this._peaks=e,this._pid=t,this._setUserData(n)}Nu.prototype._setUserData=function(e){for(var t in e)Bt(e,t)&&(V5.indexOf(t)===-1?this[t]=e[t]:this["_"+t]=e[t])};Object.defineProperties(Nu.prototype,{id:{enumerable:!0,get:function(){return this._id}},pid:{enumerable:!0,get:function(){return this._pid}},time:{enumerable:!0,get:function(){return this._time}},labelText:{get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},editable:{enumerable:!0,get:function(){return this._editable}}});Nu.prototype.update=function(e){if(W5(e,!0),Bt(e,"id")){if(Ha(e.id))throw new TypeError("point.update(): invalid id");this._peaks.points.updatePointId(this,e.id)}this._setUserData(e),this._peaks.emit("points.update",this,e)};Nu.prototype.isVisible=function(e,t){return this.time>=e&&this.time<t};Nu.prototype._setTime=function(e){this._time=e};function Zr(e){this._peaks=e,this._points=[],this._pointsById={},this._pointsByPid={},this._pointIdCounter=0,this._pointPid=0}Zr.prototype._getNextPointId=function(){return"peaks.point."+this._pointIdCounter++};Zr.prototype._getNextPid=function(){return this._pointPid++};Zr.prototype._addPoint=function(e){this._points.push(e),this._pointsById[e.id]=e,this._pointsByPid[e.pid]=e};Zr.prototype._createPoint=function(e){var t={};ch(t,e),Ha(t.id)&&(t.id=this._getNextPointId());var n=this._getNextPid();return jH(t,this._peaks.options),W5(t,!1),new Nu(this._peaks,n,t)};Zr.prototype.getPoints=function(){return this._points};Zr.prototype.getPoint=function(e){return this._pointsById[e]};Zr.prototype.find=function(e,t){return this._points.filter(function(n){return n.isVisible(e,t)})};Zr.prototype.add=function(){var e=this,t=Array.isArray(arguments[0]),n=t?arguments[0]:Array.prototype.slice.call(arguments);return n=n.map(function(r){var i=e._createPoint(r);if(Bt(e._pointsById,i.id))throw new Error("peaks.points.add(): duplicate id");return i}),n.forEach(function(r){e._addPoint(r)}),this._peaks.emit("points.add",{points:n}),t?n:n[0]};Zr.prototype.updatePointId=function(e,t){if(this._pointsById[e.id]){if(this._pointsById[t])throw new Error("point.update(): duplicate id");delete this._pointsById[e.id],this._pointsById[t]=e}};Zr.prototype._findPoint=function(e){for(var t=[],n=0,r=this._points.length;n<r;n++)e(this._points[n])&&t.push(n);return t};Zr.prototype._removeIndexes=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n]-t.length,i=this._points.splice(r,1)[0];delete this._pointsById[i.id],delete this._pointsByPid[i.pid],t.push(i)}return t};Zr.prototype._removePoints=function(e){var t=this._findPoint(e),n=this._removeIndexes(t);return this._peaks.emit("points.remove",{points:n}),n};Zr.prototype.remove=function(e){return this._removePoints(function(t){return t===e})};Zr.prototype.removeById=function(e){return this._removePoints(function(t){return t.id===e})};Zr.prototype.removeByTime=function(e){return this._removePoints(function(t){return t.time===e})};Zr.prototype.removeAll=function(){this._points=[],this._pointsById={},this._pointsByPid={},this._peaks.emit("points.remove_all")};var z5=["id","pid","startTime","endTime","labelText","color","borderColor","markers","overlay","editable"],RH=["update","isVisible","peaks","pid"];function PH(e,t){Ha(e.color)&&(t.overlay?e.color=t.overlayColor:e.color=t.waveformColor),Ha(e.borderColor)&&(e.borderColor=t.overlayBorderColor),Ha(e.labelText)&&(e.labelText=""),Ha(e.markers)&&(e.markers=t.markers),Ha(e.overlay)&&(e.overlay=t.overlay),Ha(e.editable)&&(e.editable=!1)}function $5(e,t){var n=t?"update()":"add()";if(Bt(e,"startTime")&&!Fc(e.startTime))throw new TypeError("peaks.segments."+n+": startTime should be a valid number");if(Bt(e,"endTime")&&!Fc(e.endTime))throw new TypeError("peaks.segments."+n+": endTime should be a valid number");if(!t&&(!Bt(e,"startTime")||!Bt(e,"endTime")))throw new TypeError("peaks.segments."+n+": missing startTime or endTime");if(e.startTime<0)throw new RangeError("peaks.segments."+n+": startTime should not be negative");if(e.endTime<0)throw new RangeError("peaks.segments."+n+": endTime should not be negative");if(e.endTime<e.startTime)throw new RangeError("peaks.segments."+n+": endTime should not be less than startTime");if(Bt(e,"labelText")&&!Uc(e.labelText))throw new TypeError("peaks.segments."+n+": labelText must be a string");if(t&&Bt(e,"markers"))throw new TypeError("peaks.segments."+n+": cannot update markers attribute");if(Bt(e,"markers")&&!sm(e.markers))throw new TypeError("peaks.segments."+n+": markers must be true or false");if(t&&Bt(e,"overlay"))throw new TypeError("peaks.segments."+n+": cannot update overlay attribute");if(Bt(e,"overlay")&&!sm(e.overlay))throw new TypeError("peaks.segments."+n+": overlay must be true or false");if(Bt(e,"editable")&&!sm(e.editable))throw new TypeError("peaks.segments."+n+": editable must be true or false");if(Bt(e,"color")&&!Uc(e.color)&&!wx(e.color))throw new TypeError("peaks.segments."+n+": color must be a string or a valid linear gradient object");if(Bt(e,"borderColor")&&!Uc(e.borderColor))throw new TypeError("peaks.segments."+n+": borderColor must be a string");RH.forEach(function(r){if(Bt(e,r))throw new Error("peaks.segments."+n+": invalid option name: "+r)}),z5.forEach(function(r){if(Bt(e,"_"+r))throw new Error("peaks.segments."+n+": invalid option name: _"+r)})}function Xc(e,t,n){this._peaks=e,this._pid=t,this._id=n.id,this._startTime=n.startTime,this._endTime=n.endTime,this._labelText=n.labelText,this._color=n.color,this._borderColor=n.borderColor,this._editable=n.editable,this._markers=n.markers,this._overlay=n.overlay,this._setUserData(n)}Xc.prototype._setUserData=function(e){for(var t in e)Bt(e,t)&&(z5.indexOf(t)===-1?this[t]=e[t]:this["_"+t]=e[t])};Object.defineProperties(Xc.prototype,{id:{enumerable:!0,get:function(){return this._id}},pid:{enumerable:!0,get:function(){return this._pid}},startTime:{enumerable:!0,get:function(){return this._startTime}},endTime:{enumerable:!0,get:function(){return this._endTime}},labelText:{enumerable:!0,get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},borderColor:{enumerable:!0,get:function(){return this._borderColor}},markers:{enumerable:!0,get:function(){return this._markers}},overlay:{enumerable:!0,get:function(){return this._overlay}},editable:{enumerable:!0,get:function(){return this._editable}}});Xc.prototype.update=function(e){if($5(e,!0),Bt(e,"id")){if(Ha(e.id))throw new TypeError("segment.update(): invalid id");this._peaks.segments.updateSegmentId(this,e.id)}this._setUserData(e),this._peaks.emit("segments.update",this,e)};Xc.prototype.isVisible=function(e,t){return this.startTime===this.endTime&&this.startTime===e?!0:!(this.endTime<=e||this.startTime>=t)};Xc.prototype._setStartTime=function(e){this._startTime=e};Xc.prototype._setEndTime=function(e){this._endTime=e};function hr(e){this._peaks=e,this._segments=[],this._segmentsById={},this._segmentsByPid={},this._segmentIdCounter=0,this._segmentPid=0,this._isInserting=!1}hr.prototype._getNextSegmentId=function(){return"peaks.segment."+this._segmentIdCounter++};hr.prototype._getNextPid=function(){return this._segmentPid++};hr.prototype._addSegment=function(e){this._segments.push(e),this._segmentsById[e.id]=e,this._segmentsByPid[e.pid]=e};hr.prototype._createSegment=function(e){var t={};ch(t,e),Ha(t.id)&&(t.id=this._getNextSegmentId());var n=this._getNextPid();return PH(t,this._peaks.options.segmentOptions),$5(t,!1),new Xc(this._peaks,n,t)};hr.prototype.getSegments=function(){return this._segments};hr.prototype.getSegment=function(e){return this._segmentsById[e]};hr.prototype.getSegmentsAtTime=function(e){return this._segments.filter(function(t){return e>=t.startTime&&e<t.endTime})};hr.prototype.find=function(e,t){return this._segments.filter(function(n){return n.isVisible(e,t)})};hr.prototype._getSortedSegments=function(){return this._segments.slice().sort(function(e,t){return e.startTime-t.startTime})};hr.prototype.findPreviousSegment=function(e){var t=this._getSortedSegments(),n=t.findIndex(function(r){return r.id===e.id});if(n!==-1)return t[n-1]};hr.prototype.findNextSegment=function(e){var t=this._getSortedSegments(),n=t.findIndex(function(r){return r.id===e.id});if(n!==-1)return t[n+1]};hr.prototype.add=function(){var e=this,t=Array.isArray(arguments[0]),n=t?arguments[0]:Array.prototype.slice.call(arguments);return n=n.map(function(r){var i=e._createSegment(r);if(Bt(e._segmentsById,i.id))throw new Error("peaks.segments.add(): duplicate id");return i}),n.forEach(function(r){e._addSegment(r)}),this._peaks.emit("segments.add",{segments:n,insert:this._isInserting}),t?n:n[0]};hr.prototype.updateSegmentId=function(e,t){if(this._segmentsById[e.id]){if(this._segmentsById[t])throw new Error("segment.update(): duplicate id");delete this._segmentsById[e.id],this._segmentsById[t]=e}};hr.prototype._findSegment=function(e){for(var t=[],n=0,r=this._segments.length;n<r;n++)e(this._segments[n])&&t.push(n);return t};hr.prototype._removeIndexes=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n]-t.length,i=this._segments.splice(r,1)[0];delete this._segmentsById[i.id],delete this._segmentsByPid[i.pid],t.push(i)}return t};hr.prototype._removeSegments=function(e){var t=this._findSegment(e),n=this._removeIndexes(t);return this._peaks.emit("segments.remove",{segments:n}),n};hr.prototype.remove=function(e){return this._removeSegments(function(t){return t===e})};hr.prototype.removeById=function(e){return this._removeSegments(function(t){return t.id===e})};hr.prototype.removeByTime=function(e,t){t=typeof t=="number"?t:0;var n;return t>0?n=function(i){return i.startTime===e&&i.endTime===t}:n=function(i){return i.startTime===e},this._removeSegments(n)};hr.prototype.removeAll=function(){this._segments=[],this._segmentsById={},this._segmentsByPid={},this._peaks.emit("segments.remove_all")};hr.prototype.setInserting=function(e){this._isInserting=e};hr.prototype.isInserting=function(){return this._isInserting};var OH=["OBJECT","TEXTAREA","INPUT","SELECT","OPTION"],q5=32,G5=9,X5=37,K5=39,IH=[q5,G5,X5,K5];function r2(e){this.eventEmitter=e,this._handleKeyEvent=this._handleKeyEvent.bind(this),document.addEventListener("keydown",this._handleKeyEvent),document.addEventListener("keypress",this._handleKeyEvent),document.addEventListener("keyup",this._handleKeyEvent)}r2.prototype._handleKeyEvent=function(t){if(OH.indexOf(t.target.nodeName)===-1){if(IH.indexOf(t.type)>-1&&t.preventDefault(),t.type==="keydown"||t.type==="keypress")switch(t.keyCode){case q5:this.eventEmitter.emit("keyboard.space");break;case G5:this.eventEmitter.emit("keyboard.tab");break}else if(t.type==="keyup")switch(t.keyCode){case X5:t.shiftKey?this.eventEmitter.emit("keyboard.shift_left"):this.eventEmitter.emit("keyboard.left");break;case K5:t.shiftKey?this.eventEmitter.emit("keyboard.shift_right"):this.eventEmitter.emit("keyboard.right");break}}};r2.prototype.destroy=function(){document.removeEventListener("keydown",this._handleKeyEvent),document.removeEventListener("keypress",this._handleKeyEvent),document.removeEventListener("keyup",this._handleKeyEvent)};function FH(e){return!!(e.src||e.querySelector("source"))}function ji(e){this._mediaElement=e}ji.prototype._addMediaListener=function(e,t){this._listeners.push({type:e,callback:t}),this._mediaElement.addEventListener(e,t)};ji.prototype.init=function(e){var t=this;if(t._eventEmitter=e,t._listeners=[],t._duration=t.getDuration(),t._addMediaListener("timeupdate",function(){t._eventEmitter.emit("player.timeupdate",t.getCurrentTime())}),t._addMediaListener("playing",function(){t._eventEmitter.emit("player.playing",t.getCurrentTime())}),t._addMediaListener("pause",function(){t._eventEmitter.emit("player.pause",t.getCurrentTime())}),t._addMediaListener("ended",function(){t._eventEmitter.emit("player.ended")}),t._addMediaListener("seeked",function(){t._eventEmitter.emit("player.seeked",t.getCurrentTime())}),t._addMediaListener("canplay",function(){t._eventEmitter.emit("player.canplay")}),t._addMediaListener("error",function(n){t._eventEmitter.emit("player.error",n.target.error)}),t._interval=null,FH(t._mediaElement)){if(t._mediaElement.error&&t._mediaElement.error.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED)return Promise.reject(t._mediaElement.error)}else return Promise.resolve();return new Promise(function(n,r){function i(o){t._mediaElement.removeEventListener("loadedmetadata",i),t._mediaElement.removeEventListener("error",i),o.type==="loadedmetadata"?n():r(o.target.error)}t._mediaElement.readyState===HTMLMediaElement.HAVE_NOTHING?(t._mediaElement.addEventListener("loadedmetadata",i),t._mediaElement.addEventListener("error",i),t._mediaElement.load()):n()})};ji.prototype.destroy=function(){for(var e=0;e<this._listeners.length;e++){var t=this._listeners[e];this._mediaElement.removeEventListener(t.type,t.callback)}this._listeners.length=0,this._mediaElement=null};ji.prototype.play=function(){return this._mediaElement.play()};ji.prototype.pause=function(){this._mediaElement.pause()};ji.prototype.isPlaying=function(){return!this._mediaElement.paused};ji.prototype.isSeeking=function(){return this._mediaElement.seeking};ji.prototype.getCurrentTime=function(){return this._mediaElement.currentTime};ji.prototype.getDuration=function(){return this._mediaElement.duration};ji.prototype.seek=function(e){this._mediaElement.currentTime=e};function Vh(e,t){this._eventEmitter=e,this._mediaElement=t,this._playerCanPlayHandler=this._playerCanPlayHandler.bind(this),this._playerErrorHandler=this._playerErrorHandler.bind(this)}Vh.prototype.setSource=function(e,t){var n=this;return n._options=e,n._callback=t,n._eventEmitter.on("player.canplay",n._playerCanPlayHandler),n._eventEmitter.on("player.error",n._playerErrorHandler),new Promise(function(r,i){n._resolve=r,n._reject=i,n._eventEmitter.on("player.canplay",n._playerCanPlayHandler),n._eventEmitter.on("player.error",n._playerErrorHandler),n._mediaElement.setAttribute("src",e.mediaUrl),n._mediaElement.readyState===HTMLMediaElement.HAVE_NOTHING&&n._mediaElement.load()})};Vh.prototype._reset=function(){this._eventEmitter.removeListener("player.canplay",this._playerCanPlayHandler),this._eventEmitter.removeListener("player.error",this._playerErrorHandler)};Vh.prototype._playerCanPlayHandler=function(){this._reset(),this._resolve()};Vh.prototype._playerErrorHandler=function(e){this._reset(),this._reject(e)};ji.prototype.setSource=function(e){if(!e.mediaUrl)return Promise.reject(new Error("peaks.setSource(): options must contain a mediaUrl when using mediaElement"));var t=new Vh(this._eventEmitter,this._mediaElement);return t.setSource(e)};function LH(e){for(var t=[],n=e;n;)Object.getOwnPropertyNames(n).forEach(function(r){t.push(r)}),n=Object.getPrototypeOf(n);return t}function HH(e){var t=["init","destroy","play","pause","isPlaying","isSeeking","getCurrentTime","getDuration","seek"],n=LH(e);t.forEach(function(r){if(!n.includes(r))throw new TypeError("Peaks.init(): Player method "+r+" is undefined");if(typeof e[r]!="function")throw new TypeError("Peaks.init(): Player method "+r+" is not a function")})}function pi(e,t){this._peaks=e,this._playingSegment=!1,this._segment=null,this._loop=!1,this._playSegmentTimerCallback=this._playSegmentTimerCallback.bind(this),HH(t),this._adapter=t}pi.prototype.init=function(){return this._adapter.init(this._peaks)};pi.prototype.destroy=function(){this._adapter.destroy()};pi.prototype.play=function(){return this._adapter.play()};pi.prototype.pause=function(){this._adapter.pause()};pi.prototype.isPlaying=function(){return this._adapter.isPlaying()};pi.prototype.isSeeking=function(){return this._adapter.isSeeking()};pi.prototype.getCurrentTime=function(){return this._adapter.getCurrentTime()};pi.prototype.getDuration=function(){return this._adapter.getDuration()};pi.prototype.seek=function(e){if(!Fc(e)){this._peaks._logger("peaks.player.seek(): parameter must be a valid time, in seconds");return}this._adapter.seek(e)};pi.prototype.playSegment=function(e,t){var n=this;return!e||!Fc(e.startTime)||!Fc(e.endTime)?Promise.reject(new Error("peaks.player.playSegment(): parameter must be a segment object")):(n._segment=e,n._loop=t,n.seek(e.startTime),n._peaks.once("player.playing",function(){n._playingSegment||(n._playingSegment=!0,window.requestAnimationFrame(n._playSegmentTimerCallback))}),n.play())};pi.prototype._playSegmentTimerCallback=function(){if(this.isPlaying()){if(this.getCurrentTime()>=this._segment.endTime)if(this._loop)this.seek(this._segment.startTime);else{this.pause(),this._peaks.emit("player.ended"),this._playingSegment=!1;return}}else{this._playingSegment=!1;return}window.requestAnimationFrame(this._playSegmentTimerCallback)};pi.prototype._setSource=function(e){return this._adapter.setSource(e)};function Wh(e){this._options=e,this._draggable=e.editable}Wh.prototype.init=function(e){var t=10,n=20,r=-5+.5;this._options.view==="zoomview"&&(this._label=new Kn({x:2,y:0,text:this._options.point.labelText,textAlign:"left",fontFamily:this._options.fontFamily||"sans-serif",fontSize:this._options.fontSize||10,fontStyle:this._options.fontStyle||"normal",fill:"#000"})),this._handle=new Ul({x:r,y:0,width:t,height:n,fill:this._options.color,visible:this._draggable}),this._line=new ks({x:0,y:0,stroke:this._options.color,strokeWidth:1}),this._time=new Kn({x:-24,y:0,text:this._options.layer.formatTime(this._options.point.time),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center"}),this._time.hide(),e.add(this._handle),e.add(this._line),this._label&&e.add(this._label),e.add(this._time),this.fitToView(),this.bindEventHandlers(e)};Wh.prototype.bindEventHandlers=function(e){var t=this;t._handle.on("mouseover touchstart",function(){t._draggable&&(t._time.setX(-24-t._time.getWidth()),t._time.show())}),t._handle.on("mouseout touchend",function(){t._draggable&&t._time.hide()}),e.on("dragstart",function(){t._time.setX(-24-t._time.getWidth()),t._time.show()}),e.on("dragend",function(){t._time.hide()})};Wh.prototype.fitToView=function(){var e=this._options.layer.getHeight();this._line.points([.5,0,.5,e]),this._label&&this._label.y(12),this._handle&&this._handle.y(e/2-10.5),this._time&&this._time.y(e/2-5)};Wh.prototype.update=function(e){e.time!==void 0&&this._time&&this._time.setText(this._options.layer.formatTime(e.time)),e.labelText!==void 0&&this._label&&this._label.text(e.labelText),e.color!==void 0&&(this._handle&&this._handle.fill(e.color),this._line.stroke(e.color)),e.editable!==void 0&&(this._draggable=e.editable,this._handle.visible(this._draggable))};function zh(e){this._options=e,this._editable=e.editable}zh.prototype.init=function(e){var t=10,n=20,r=-5+.5,i=this._options.startMarker?-24:24,o=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new Kn({x:i,y:0,text:this._options.layer.formatTime(o),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center",visible:this._editable}),this._label.hide(),this._handle=new Ul({x:r,y:0,width:t,height:n,fill:this._options.color,stroke:this._options.color,strokeWidth:1,visible:this._editable}),this._line=new ks({x:0,y:0,stroke:this._options.color,strokeWidth:1,visible:this._editable}),e.add(this._label),e.add(this._line),e.add(this._handle),this.fitToView(),this.bindEventHandlers(e)};zh.prototype.bindEventHandlers=function(e){var t=this,n=t._options.startMarker?-24:24;e.on("dragstart",function(){t._options.startMarker&&t._label.setX(n-t._label.getWidth()),t._label.show()}),e.on("dragend",function(){t._label.hide()}),t._handle.on("mouseover touchstart",function(){t._options.startMarker&&t._label.setX(n-t._label.getWidth()),t._label.show()}),t._handle.on("mouseout touchend",function(){t._label.hide()})};zh.prototype.fitToView=function(){var e=this._options.layer.getHeight();this._label.y(e/2-5),this._handle.y(e/2-10.5),this._line.points([.5,0,.5,e])};zh.prototype.update=function(e){e.startTime!==void 0&&this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.startTime)),e.endTime!==void 0&&!this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.endTime)),e.editable!==void 0&&(this._editable=e.editable,this._label.visible(this._editable),this._handle.visible(this._editable),this._line.visible(this._editable))};function BH(e){return e.view==="zoomview"?new zh(e):null}function VH(e){return new Kn({x:12,y:12,text:e.segment.labelText,textAlign:"center",fontFamily:e.fontFamily||"sans-serif",fontSize:e.fontSize||12,fontStyle:e.fontStyle||"normal",fill:"#000"})}function WH(e){return new Wh(e)}function kl(e,t){this._view=e,this._offset=t.highlightOffset,this._color=t.highlightColor,this._layer=new kr.Layer({listening:!1}),this._highlightRect=null,this._startTime=null,this._endTime=null,this._strokeColor=t.highlightStrokeColor,this._opacity=t.highlightOpacity,this._cornerRadius=t.highlightCornerRadius}kl.prototype.addToStage=function(e){e.add(this._layer)};kl.prototype.showHighlight=function(e,t){this._highlightRect||this._createHighlightRect(e,t),this._update(e,t)};kl.prototype._update=function(e,t){this._startTime=e,this._endTime=t;var n=this._view.timeToPixels(e),r=this._view.timeToPixels(t);this._highlightRect.setAttrs({x:n,width:r-n})};kl.prototype._createHighlightRect=function(e,t){this._startTime=e,this._endTime=t;var n=this._view.timeToPixels(e),r=this._view.timeToPixels(t);this._highlightRect=new Ul({x:n,y:0,width:r-n,height:0,stroke:this._strokeColor,strokeWidth:1,fill:this._color,opacity:this._opacity,cornerRadius:this._cornerRadius}),this.fitToView(),this._layer.add(this._highlightRect)};kl.prototype.removeHighlight=function(){this._highlightRect&&(this._highlightRect.destroy(),this._highlightRect=null)};kl.prototype.updateHighlight=function(){this._highlightRect&&this._update(this._startTime,this._endTime)};kl.prototype.fitToView=function(){if(this._highlightRect){var e=this._view.getHeight(),t=hi(this._offset,0,Math.floor(e/2));this._highlightRect.setAttrs({y:t,height:e-t*2})}};function us(e){this._point=e.point,this._marker=e.marker,this._draggable=e.draggable,this._onDragStart=e.onDragStart,this._onDragMove=e.onDragMove,this._onDragEnd=e.onDragEnd,this._dragBoundFunc=e.dragBoundFunc,this._onMouseEnter=e.onMouseEnter,this._onMouseLeave=e.onMouseLeave,this._group=new kr.Group({name:"point-marker",point:this._point,draggable:this._draggable,dragBoundFunc:e.dragBoundFunc}),this._bindDefaultEventHandlers(),this._marker.init(this._group)}us.prototype._bindDefaultEventHandlers=function(){var e=this;e._group.on("dragstart",function(t){e._onDragStart(t,e._point)}),e._group.on("dragmove",function(t){e._onDragMove(t,e._point)}),e._group.on("dragend",function(t){e._onDragEnd(t,e._point)}),e._group.on("mouseenter",function(t){e._onMouseEnter(t,e._point)}),e._group.on("mouseleave",function(t){e._onMouseLeave(t,e._point)})};us.prototype.addToLayer=function(e){e.add(this._group)};us.prototype.fitToView=function(){this._marker.fitToView()};us.prototype.getPoint=function(){return this._point};us.prototype.getX=function(){return this._group.getX()};us.prototype.setX=function(e){this._group.setX(e)};us.prototype.getWidth=function(){return this._group.getWidth()};us.prototype.getAbsolutePosition=function(){return this._group.getAbsolutePosition()};us.prototype.update=function(e){e.editable!==void 0&&this._group.draggable(e.editable),this._marker.update&&this._marker.update(e)};us.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()};function Yn(e,t,n){this._peaks=e,this._view=t,this._enableEditing=n,this._pointMarkers={},this._layer=new kr.Layer,this._onPointsDrag=this._onPointsDrag.bind(this),this._onPointMarkerDragStart=this._onPointMarkerDragStart.bind(this),this._onPointMarkerDragMove=this._onPointMarkerDragMove.bind(this),this._onPointMarkerDragEnd=this._onPointMarkerDragEnd.bind(this),this._pointMarkerDragBoundFunc=this._pointMarkerDragBoundFunc.bind(this),this._onPointMarkerMouseEnter=this._onPointMarkerMouseEnter.bind(this),this._onPointMarkerMouseLeave=this._onPointMarkerMouseLeave.bind(this),this._onPointsUpdate=this._onPointsUpdate.bind(this),this._onPointsAdd=this._onPointsAdd.bind(this),this._onPointsRemove=this._onPointsRemove.bind(this),this._onPointsRemoveAll=this._onPointsRemoveAll.bind(this),this._peaks.on("points.update",this._onPointsUpdate),this._peaks.on("points.add",this._onPointsAdd),this._peaks.on("points.remove",this._onPointsRemove),this._peaks.on("points.remove_all",this._onPointsRemoveAll),this._peaks.on("points.dragstart",this._onPointsDrag),this._peaks.on("points.dragmove",this._onPointsDrag),this._peaks.on("points.dragend",this._onPointsDrag)}Yn.prototype.addToStage=function(e){e.add(this._layer)};Yn.prototype.setListening=function(e){this._layer.listening(e)};Yn.prototype.enableEditing=function(e){this._enableEditing=e};Yn.prototype.getPointMarker=function(e){return this._pointMarkers[e.pid]};Yn.prototype.formatTime=function(e){return this._view.formatTime(e)};Yn.prototype._onPointsUpdate=function(e,t){var n=this._view.getStartTime(),r=this._view.getEndTime(),i=this.getPointMarker(e),o=e.isVisible(n,r);if(i&&!o)this._removePoint(e);else if(!i&&o)this._updatePoint(e);else if(i&&o){if(Bt(t,"time")){var c=this._view.timeToPixels(e.time),d=c-this._view.getFrameOffset();i.setX(d)}i.update(t)}};Yn.prototype._onPointsAdd=function(e){var t=this,n=t._view.getStartTime(),r=t._view.getEndTime();e.points.forEach(function(i){i.isVisible(n,r)&&t._updatePoint(i)})};Yn.prototype._onPointsRemove=function(e){var t=this;e.points.forEach(function(n){t._removePoint(n)})};Yn.prototype._onPointsRemoveAll=function(){this._layer.removeChildren(),this._pointMarkers={}};Yn.prototype._createPointMarker=function(e){var t=this._enableEditing&&e.editable,n=this._view.getViewOptions(),r=this._peaks.options.createPointMarker({point:e,editable:t,color:e.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,layer:this,view:this._view.getName()});return new us({point:e,draggable:t,marker:r,onDragStart:this._onPointMarkerDragStart,onDragMove:this._onPointMarkerDragMove,onDragEnd:this._onPointMarkerDragEnd,dragBoundFunc:this._pointMarkerDragBoundFunc,onMouseEnter:this._onPointMarkerMouseEnter,onMouseLeave:this._onPointMarkerMouseLeave})};Yn.prototype.getHeight=function(){return this._view.getHeight()};Yn.prototype._addPointMarker=function(e){var t=this._createPointMarker(e);return this._pointMarkers[e.pid]=t,t.addToLayer(this._layer),t};Yn.prototype._onPointsDrag=function(e){var t=this._updatePoint(e.point);t.update({time:e.point.time})};Yn.prototype._onPointMarkerMouseEnter=function(e,t){this._peaks.emit("points.mouseenter",{point:t,evt:e.evt})};Yn.prototype._onPointMarkerMouseLeave=function(e,t){this._peaks.emit("points.mouseleave",{point:t,evt:e.evt})};Yn.prototype._onPointMarkerDragStart=function(e,t){this._dragPointMarker=this.getPointMarker(t),this._peaks.emit("points.dragstart",{point:t,evt:e.evt})};Yn.prototype._onPointMarkerDragMove=function(e,t){var n=this._pointMarkers[t.pid],r=n.getX(),i=r+n.getWidth();t._setTime(this._view.pixelOffsetToTime(i)),this._peaks.emit("points.dragmove",{point:t,evt:e.evt})};Yn.prototype._onPointMarkerDragEnd=function(e,t){this._dragPointMarker=null,this._peaks.emit("points.dragend",{point:t,evt:e.evt})};Yn.prototype._pointMarkerDragBoundFunc=function(e){return{x:hi(e.x,0,this._view.getWidth()),y:this._dragPointMarker.getAbsolutePosition().y}};Yn.prototype.updatePoints=function(e,t){var n=this._peaks.points.find(e,t);n.forEach(this._updatePoint.bind(this)),this._removeInvisiblePoints(e,t)};Yn.prototype._updatePoint=function(e){var t=this.getPointMarker(e);t||(t=this._addPointMarker(e));var n=this._view.timeToPixels(e.time),r=n-this._view.getFrameOffset();return t.setX(r),t};Yn.prototype._removeInvisiblePoints=function(e,t){for(var n in this._pointMarkers)if(Bt(this._pointMarkers,n)){var r=this._pointMarkers[n].getPoint();r.isVisible(e,t)||this._removePoint(r)}};Yn.prototype._removePoint=function(e){var t=this.getPointMarker(e);t&&(t.destroy(),delete this._pointMarkers[e.pid])};Yn.prototype.setVisible=function(e){this._layer.setVisible(e)};Yn.prototype.destroy=function(){this._peaks.off("points.update",this._onPointsUpdate),this._peaks.off("points.add",this._onPointsAdd),this._peaks.off("points.remove",this._onPointsRemove),this._peaks.off("points.remove_all",this._onPointsRemoveAll),this._peaks.off("points.dragstart",this._onPointsDrag),this._peaks.off("points.dragmove",this._onPointsDrag),this._peaks.off("points.dragend",this._onPointsDrag)};Yn.prototype.fitToView=function(){for(var e in this._pointMarkers)if(Bt(this._pointMarkers,e)){var t=this._pointMarkers[e];t.fitToView()}};Yn.prototype.draw=function(){this._layer.draw()};function Wa(e,t,n){this._player=e,this._view=t,this._playheadPixel=0,this._playheadLineAnimation=null,this._playheadVisible=!1,this._playheadColor=n.playheadColor,this._playheadTextColor=n.playheadTextColor,this._playheadBackgroundColor=n.playheadBackgroundColor,this._playheadPadding=n.playheadPadding,this._playheadWidth=n.playheadWidth,this._playheadFontFamily=n.playheadFontFamily,this._playheadFontSize=n.playheadFontSize,this._playheadFontStyle=n.playheadFontStyle,this._playheadLayer=new kr.Layer({listening:!1}),this._createPlayhead(),n.showPlayheadTime&&this._createPlayheadText(),this.fitToView(),this.zoomLevelChanged()}Wa.prototype.addToStage=function(e){e.add(this._playheadLayer)};Wa.prototype.zoomLevelChanged=function(){var e=this._view.timeToPixels(1);if(this._useAnimation=e>=5,this._useAnimation)this._player.isPlaying()&&!this._playheadLineAnimation&&this._start();else if(this._playheadLineAnimation){var t=this._player.getCurrentTime();this.stop(t)}};Wa.prototype.fitToView=function(){var e=this._view.getHeight();this._playheadLine.points([.5,0,.5,e]),this._playheadText&&this._playheadText.y(12)};Wa.prototype._createPlayhead=function(){this._playheadLine=new ks({stroke:this._playheadColor,strokeWidth:this._playheadWidth}),this._playheadGroup=new kr.Group({x:0,y:0}),this._playheadGroup.add(this._playheadLine),this._playheadLayer.add(this._playheadGroup)};Wa.prototype._createPlayheadText=function(){var e=this,t=e._player.getCurrentTime(),n=e._view.formatTime(t);e._playheadText=new Kn({x:0,y:0,padding:e._playheadPadding,text:n,fontSize:e._playheadFontSize,fontFamily:e._playheadFontFamily,fontStyle:e._playheadFontStyle,fill:e._playheadTextColor,align:"right",sceneFunc:function(i,o){var c=o.width(),d=o.height()+2*e._playheadPadding;i.fillStyle=e._playheadBackgroundColor,i.fillRect(0,-e._playheadPadding,c,d),o._sceneFunc(i)}}),e._playheadGroup.add(e._playheadText)};Wa.prototype.updatePlayheadTime=function(e){this._syncPlayhead(e),this._player.isPlaying()&&this._start()};Wa.prototype._syncPlayhead=function(e){var t=this._view.timeToPixels(e),n=this._view.getFrameOffset(),r=this._view.getWidth(),i=t>=n&&t<=n+r;if(this._playheadPixel=t,i){var o=this._playheadPixel-n;if(this._playheadVisible||(this._playheadVisible=!0,this._playheadGroup.show()),this._playheadGroup.setX(o),this._playheadText){var c=this._view.formatTime(e),d=this._playheadText.width();this._playheadText.setText(c),d+o>r-2?this._playheadText.setX(-d):d+o<r&&this._playheadText.setX(0)}}else this._playheadVisible&&(this._playheadVisible=!1,this._playheadGroup.hide());this._view.playheadPosChanged&&this._view.playheadPosChanged(e)};Wa.prototype._start=function(){var e=this;if(e._playheadLineAnimation&&(e._playheadLineAnimation.stop(),e._playheadLineAnimation=null),!!e._useAnimation){var t=null;e._playheadLineAnimation=new Mi(function(){var n=e._player.getCurrentTime(),r=e._view.timeToPixels(n);r!==t&&(e._syncPlayhead(n),t=r)},e._playheadLayer),e._playheadLineAnimation.start()}};Wa.prototype.stop=function(e){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null),this._syncPlayhead(e)};Wa.prototype.getPlayheadPixel=function(){return this._playheadPixel};Wa.prototype.showPlayheadTime=function(e){e?this._playheadText||(this._createPlayheadText(this._playheadTextColor,this._playheadBackgroundColor,this._playheadPadding),this.fitToView()):this._playheadText&&(this._playheadText.remove(),this._playheadText.destroy(),this._playheadText=null)};Wa.prototype.updatePlayheadText=function(){if(this._playheadText){var e=this._player.getCurrentTime(),t=this._view.formatTime(e);this._playheadText.setText(t)}};Wa.prototype.destroy=function(){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null)};function $h(e){this._options=e}$h.prototype.init=function(e){var t=10,n=20,r=-5+.5,i=this._options.startMarker?-24:24,o=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new Kn({x:i,y:0,text:this._options.layer.formatTime(o),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center",visible:!1}),this._handle=new Ul({x:r,y:0,width:t,height:n}),e.add(this._label),e.add(this._handle),this.fitToView(),this.bindEventHandlers(e)};$h.prototype.bindEventHandlers=function(e){var t=this,n=t._options.startMarker?-24:24;e.on("dragstart",function(){t._options.startMarker&&t._label.setX(n-t._label.getWidth()),t._label.show()}),e.on("dragend",function(){t._label.hide()}),t._handle.on("mouseover touchstart",function(){t._options.startMarker&&t._label.setX(n-t._label.getWidth()),t._label.show(),document.body.style.cursor="ew-resize"}),t._handle.on("mouseout touchend",function(){t._label.hide(),document.body.style.cursor="default"})};$h.prototype.fitToView=function(){var e=this._options.layer.getHeight(),t=this._options.segmentOptions.overlayOffset,n=hi(0,e-2*t);this._label.y(e/2-5),this._handle.y(t),this._handle.height(n)};$h.prototype.update=function(e){e.startTime!==void 0&&this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.startTime)),e.endTime!==void 0&&!this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.endTime))};function la(e){var t=this;t._segment=e.segment,t._marker=e.marker,t._segmentShape=e.segmentShape,t._editable=e.editable,t._startMarker=e.startMarker,t._onClick=e.onClick,t._onDragStart=e.onDragStart,t._onDragMove=e.onDragMove,t._onDragEnd=e.onDragEnd,t._group=new kr.Group({name:"segment-marker",segment:t._segment,draggable:t._editable,visible:t._editable,dragBoundFunc:function(r){return e.dragBoundFunc(t,r)}}),t._bindDefaultEventHandlers(),t._marker.init(t._group)}la.prototype._bindDefaultEventHandlers=function(){var e=this;e._group.on("click",function(t){e._onClick(e,t)}),e._group.on("dragstart",function(t){e._onDragStart(e,t)}),e._group.on("dragmove",function(t){e._onDragMove(e,t)}),e._group.on("dragend",function(t){e._onDragEnd(e,t)})};la.prototype.addToLayer=function(e){e.add(this._group)};la.prototype.moveToTop=function(){this._group.moveToTop()};la.prototype.fitToView=function(){this._marker.fitToView()};la.prototype.getSegment=function(){return this._segment};la.prototype.getX=function(){return this._group.getX()};la.prototype.setX=function(e){this._group.setX(e)};la.prototype.getWidth=function(){return this._group.getWidth()};la.prototype.getAbsolutePosition=function(){return this._group.getAbsolutePosition()};la.prototype.isStartMarker=function(){return this._startMarker};la.prototype.update=function(e){e.editable!==void 0&&(this._group.visible(e.editable),this._group.draggable(e.editable)),this._marker.update&&this._marker.update(e)};la.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()};la.prototype.startDrag=function(){this._group.startDrag()};la.prototype.stopDrag=function(){this._group.stopDrag()};function zr(e){this._color=e.color;var t={};if(Uc(e.color))t.fill=e.color;else if(wx(e.color)){var n=e.view._height*(e.color.linearGradientStart/100),r=e.view._height*(e.color.linearGradientEnd/100);t.fillLinearGradientStartPointY=n,t.fillLinearGradientEndPointY=r,t.fillLinearGradientColorStops=[0,e.color.linearGradientColorStops[0],1,e.color.linearGradientColorStops[1]]}else throw new TypeError("Unknown type for color property");this._shape=new kr.Shape(t),this._view=e.view,this._segment=e.segment,this._shape.sceneFunc(this._sceneFunc.bind(this))}zr.prototype.getX=function(){return this._shape.getX()};zr.prototype.setX=function(e){return this._shape.setX(e)};zr.prototype.setSegment=function(e){this._segment=e};zr.prototype.setWaveformColor=function(e){if(Uc(e))this._shape.fill(e),this._shape.fillLinearGradientStartPointY(null),this._shape.fillLinearGradientEndPointY(null),this._shape.fillLinearGradientColorStops(null);else if(wx(e)){this._shape.fill(null);var t=this._view._height*(e.linearGradientStart/100),n=this._view._height*(e.linearGradientEnd/100);this._shape.fillLinearGradientStartPointY(t),this._shape.fillLinearGradientEndPointY(n),this._shape.fillLinearGradientColorStops([0,e.linearGradientColorStops[0],1,e.linearGradientColorStops[1]])}else throw new TypeError("Unknown type for color property")};zr.prototype.fitToView=function(){this.setWaveformColor(this._color)};zr.prototype._sceneFunc=function(e){var t=this._view.getFrameOffset(),n=this._view.getWidth(),r=this._view.getHeight();this._drawWaveform(e,this._view.getWaveformData(),t,this._segment?this._view.timeToPixels(this._segment.startTime):t,this._segment?this._view.timeToPixels(this._segment.endTime):t+n,n,r)};zr.prototype._drawWaveform=function(e,t,n,r,i,o,c){r<n&&(r=n);var d=n+o;i>d&&(i=d),i>t.length-1&&(i=t.length-1);for(var f=t.channels,h=0,m=Math.floor(c/f),p=0;p<f;p++)p===f-1&&(m=c-(f-1)*m),this._drawChannel(e,t.channel(p),n,r,i,h,m),h+=m};zr.prototype._drawChannel=function(e,t,n,r,i,o,c){var d,f,h=this._view.getAmplitudeScale(),m,p;for(e.beginPath(),d=r;d<=i;d++)f=t.min_sample(d),m=d-n+.5,p=o+zr.scaleY(f,c,h)+.5,e.lineTo(m,p);for(d=i;d>=r;d--)f=t.max_sample(d),m=d-n+.5,p=o+zr.scaleY(f,c,h)+1,e.lineTo(m,p);e.closePath(),e.fillShape(this._shape)};zr.prototype.addToLayer=function(e){e.add(this._shape)};zr.prototype.destroy=function(){this._shape.destroy(),this._shape=null};zr.prototype.on=function(e,t){this._shape.on(e,t)};zr.prototype.off=function(e,t){this._shape.off(e,t)};zr.scaleY=function(e,t,n){var r=-(t-1)*(e*n+128)/255+(t-1);return hi(Math.floor(r),0,t-1)};function kn(e,t,n,r){this._segment=e,this._peaks=t,this._layer=n,this._view=r,this._label=null,this._startMarker=null,this._endMarker=null,this._color=e.color,this._borderColor=e.borderColor,this._draggable=this._segment.editable&&this._view.isSegmentDraggingEnabled(),this._dragging=!1;var i=r.getViewOptions(),o=i.segmentOptions;this._overlayOffset=o.overlayOffset,e.overlay||(this._waveformShape=new zr({color:e.color,view:r,segment:e})),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._dragBoundFunc=this._dragBoundFunc.bind(this),this._onSegmentDragStart=this._onSegmentDragStart.bind(this),this._onSegmentDragMove=this._onSegmentDragMove.bind(this),this._onSegmentDragEnd=this._onSegmentDragEnd.bind(this),this._onSegmentMarkerClick=this._onSegmentMarkerClick.bind(this),this._onSegmentMarkerDragStart=this._onSegmentMarkerDragStart.bind(this),this._onSegmentMarkerDragMove=this._onSegmentMarkerDragMove.bind(this),this._onSegmentMarkerDragEnd=this._onSegmentMarkerDragEnd.bind(this),this._segmentMarkerDragBoundFunc=this._segmentMarkerDragBoundFunc.bind(this),this._label=this._peaks.options.createSegmentLabel({segment:e,view:this._view.getName(),layer:this._layer,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle}),this._label&&this._label.hide();var c=this._view.timeToPixelOffset(this._segment.startTime),d=this._view.timeToPixelOffset(this._segment.endTime),f=hi(0,this._view.getHeight()-2*this._overlayOffset);this._overlay=new kr.Group({name:"segment-overlay",segment:this._segment,x:c,y:0,width:d-c,height:this._view.getHeight(),clipX:0,clipY:this._overlayOffset,clipWidth:d-c,clipHeight:f,draggable:this._draggable,dragBoundFunc:this._dragBoundFunc});var h,m,p,x,v;e.overlay&&(h=this._borderColor||o.overlayBorderColor,m=o.overlayBorderWidth,p=this._color||o.overlayColor,x=o.overlayOpacity,v=o.overlayCornerRadius),this._overlayRect=new kr.Rect({x:0,y:this._overlayOffset,width:d-c,stroke:h,strokeWidth:m,height:f,fill:p,opacity:x,cornerRadius:v}),this._overlay.add(this._overlayRect),e.overlay&&(this._overlayText=new kr.Text({x:0,y:this._overlayOffset,text:this._segment.labelText,fontFamily:o.overlayFontFamily,fontSize:o.overlayFontSize,fontStyle:o.overlayFontStyle,fill:o.overlayLabelColor,listening:!1,align:o.overlayLabelAlign,width:d-c,verticalAlign:o.overlayLabelVerticalAlign,height:f,padding:o.overlayLabelPadding}),this._overlay.add(this._overlayText)),this._overlay.on("mouseenter",this._onMouseEnter),this._overlay.on("mouseleave",this._onMouseLeave),this._overlay.on("mousedown",this._onMouseDown),this._overlay.on("mouseup",this._onMouseUp),this._draggable&&(this._overlay.on("dragstart",this._onSegmentDragStart),this._overlay.on("dragmove",this._onSegmentDragMove),this._overlay.on("dragend",this._onSegmentDragEnd)),this._createMarkers()}function zH(e){return new $h(e)}kn.prototype._createMarkers=function(){var e=this._layer.isEditingEnabled()&&this._segment.editable,t=this._view.getViewOptions(),n=t.segmentOptions,r,i,o;this._segment.markers?r=this._peaks.options.createSegmentMarker:this._segment.overlay&&(r=zH),r&&(i=r({segment:this._segment,editable:e,startMarker:!0,color:n.startMarkerColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,layer:this._layer,view:this._view.getName(),segmentOptions:this._view.getViewOptions().segmentOptions})),i&&(this._startMarker=new la({segment:this._segment,segmentShape:this,editable:e,startMarker:!0,marker:i,onClick:this._onSegmentMarkerClick,onDragStart:this._onSegmentMarkerDragStart,onDragMove:this._onSegmentMarkerDragMove,onDragEnd:this._onSegmentMarkerDragEnd,dragBoundFunc:this._segmentMarkerDragBoundFunc})),r&&(o=r({segment:this._segment,editable:e,startMarker:!1,color:n.endMarkerColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,layer:this._layer,view:this._view.getName(),segmentOptions:this._view.getViewOptions().segmentOptions})),o&&(this._endMarker=new la({segment:this._segment,segmentShape:this,editable:e,startMarker:!1,marker:o,onClick:this._onSegmentMarkerClick,onDragStart:this._onSegmentMarkerDragStart,onDragMove:this._onSegmentMarkerDragMove,onDragEnd:this._onSegmentMarkerDragEnd,dragBoundFunc:this._segmentMarkerDragBoundFunc}))};kn.prototype._dragBoundFunc=function(e){return{x:e.x,y:0}};kn.prototype.update=function(e){var t=this._view.timeToPixelOffset(this._segment.startTime),n=this._view.timeToPixelOffset(this._segment.endTime),r=n-t,i;(i=this.getStartMarker())&&(i.setX(t-i.getWidth()),e&&i.update(e)),(i=this.getEndMarker())&&(i.setX(n),e&&i.update(e)),this._color=this._segment.color,this._borderColor=this._segment.bordercolor,this._label&&this._label.text(this._segment.labelText),this._overlayText&&this._overlayText.text(this._segment.labelText),this._segment.overlay?(this._color&&this._overlayRect.fill(this._color),this._borderColor&&this._overlayRect.stroke(this._borderColor)):this._waveformShape.setWaveformColor(this._segment.color),this._dragging||this._overlay&&(this._overlay.setAttrs({x:t,width:r,clipWidth:r<1?1:r}),this._overlayRect.setAttrs({x:0,width:r}),this._overlayText&&this._overlayText.setAttrs({width:r}))};kn.prototype.getSegment=function(){return this._segment};kn.prototype.getStartMarker=function(){return this._startMarker};kn.prototype.getEndMarker=function(){return this._endMarker};kn.prototype.addToLayer=function(e){this._waveformShape&&this._waveformShape.addToLayer(e),this._label&&e.add(this._label),this._overlay&&e.add(this._overlay),this._startMarker&&this._startMarker.addToLayer(e),this._endMarker&&this._endMarker.addToLayer(e)};kn.prototype.isDragging=function(){return this._dragging};kn.prototype._onMouseEnter=function(e){this._label&&(this._label.moveToTop(),this._label.show()),this._peaks.emit("segments.mouseenter",{segment:this._segment,evt:e.evt})};kn.prototype._onMouseLeave=function(e){this._label&&this._label.hide(),this._peaks.emit("segments.mouseleave",{segment:this._segment,evt:e.evt})};kn.prototype._onMouseDown=function(e){this._peaks.emit("segments.mousedown",{segment:this._segment,evt:e.evt})};kn.prototype._onMouseUp=function(e){this._peaks.emit("segments.mouseup",{segment:this._segment,evt:e.evt})};kn.prototype.segmentClicked=function(e,t){this._moveToTop(),this._peaks.emit("segments."+e,t)};kn.prototype._moveToTop=function(){this._overlay.moveToTop(),this._layer.moveSegmentMarkersToTop()};kn.prototype.enableSegmentDragging=function(e){this._segment.editable&&(!this._draggable&&e?(this._overlay.on("dragstart",this._onSegmentDragStart),this._overlay.on("dragmove",this._onSegmentDragMove),this._overlay.on("dragend",this._onSegmentDragEnd)):this._draggable&&!e&&(this._overlay.off("dragstart",this._onSegmentDragStart),this._overlay.off("dragmove",this._onSegmentDragMove),this._overlay.off("dragend",this._onSegmentDragEnd)),this._overlay.draggable(e),this._draggable=e)};kn.prototype._setPreviousAndNextSegments=function(){this._view.getSegmentDragMode()!=="overlap"?(this._nextSegment=this._peaks.segments.findNextSegment(this._segment),this._previousSegment=this._peaks.segments.findPreviousSegment(this._segment)):(this._nextSegment=null,this._previousSegment=null)};kn.prototype._onSegmentDragStart=function(e){this._setPreviousAndNextSegments(),this._dragging=!0,this._dragStartX=this._overlay.getX(),this._dragStartTime=this._segment.startTime,this._dragEndTime=this._segment.endTime,this._peaks.emit("segments.dragstart",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt})};kn.prototype._onSegmentDragMove=function(e){var t=this._overlay.getX(),n=t-this._dragStartX,r=this._view.pixelsToTime(n),i=this._dragStartTime+r,o=this._dragEndTime+r,c=this._segment.endTime-this._segment.startTime,d,f=this._view.getMinSegmentDragWidth(),h=this._view.pixelsToTime(f),m=!1,p=!1;if(i<0&&(i=0,o=c,this._overlay.setX(this._view.timeToPixelOffset(i))),this._previousSegment){var x=this._view.timeToPixelOffset(this._previousSegment.endTime);if(i<this._previousSegment.endTime){if(d=this._view.getSegmentDragMode(),d==="no-overlap"||d==="compress"&&!this._previousSegment.editable)i=this._previousSegment.endTime,o=i+c,this._overlay.setX(x);else if(d==="compress"){var v=i,w=this._previousSegment.startTime+h;v<w&&(v=w,x=this._view.timeToPixelOffset(v),this._overlay.setX(x),i=v,o=i+c),this._previousSegment.update({endTime:v}),m=!0}}}if(this._nextSegment){var y=this._view.timeToPixelOffset(this._nextSegment.startTime);if(o>this._nextSegment.startTime){if(d=this._view.getSegmentDragMode(),d==="no-overlap"||d==="compress"&&!this._nextSegment.editable)o=this._nextSegment.startTime,i=o-c,this._overlay.setX(y-this._overlay.getWidth());else if(d==="compress"){var b=o,_=this._nextSegment.endTime-h;b>_&&(b=_,y=this._view.timeToPixelOffset(b),this._overlay.setX(y-this._overlay.getWidth()),o=b,i=o-c),this._nextSegment.update({startTime:b}),p=!0}}}this._segment._setStartTime(i),this._segment._setEndTime(o),this._peaks.emit("segments.dragged",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt}),m?this._peaks.emit("segments.dragged",{segment:this._previousSegment,marker:!1,startMarker:!1,evt:e.evt}):p&&this._peaks.emit("segments.dragged",{segment:this._nextSegment,marker:!1,startMarker:!1,evt:e.evt})};kn.prototype._onSegmentDragEnd=function(e){this._dragging=!1,this._peaks.emit("segments.dragend",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt})};kn.prototype.moveMarkersToTop=function(){this._startMarker&&this._startMarker.moveToTop(),this._endMarker&&this._endMarker.moveToTop()};kn.prototype.startDrag=function(){this._endMarker&&this._endMarker.startDrag()};kn.prototype.stopDrag=function(){this._endMarker&&this._endMarker.stopDrag()};kn.prototype._onSegmentMarkerDragStart=function(e,t){this._setPreviousAndNextSegments(),this._moveToTop(),this._startMarkerX=this._startMarker.getX(),this._endMarkerX=this._endMarker.getX(),this._peaks.emit("segments.dragstart",{segment:this._segment,marker:!0,startMarker:e.isStartMarker(),evt:t.evt})};kn.prototype._onSegmentMarkerDragMove=function(e,t){e.isStartMarker()?(this._segmentStartMarkerDragMove(e,t),e.update({startTime:this._segment.startTime})):(this._segmentEndMarkerDragMove(e,t),e.update({endTime:this._segment.endTime}))};function Y5(e){return e.endTime-e.startTime}kn.prototype._segmentStartMarkerDragMove=function(e,t){var n=this._view.getWidth(),r=this._startMarker.getX(),i=this._endMarker.getX(),o=this._view.pixelsToTime(50),c=this._view.getMinSegmentDragWidth(),d=this._endMarker.getX()-c;d>n&&(d=n);var f=!1,h=!1,m;if(this._previousSegment&&(m=this._view.timeToPixelOffset(this._previousSegment.endTime),f=m>=0),r>d)e.setX(d),this._overlay.clipWidth(d-i),c===0&&d<n?this._segment._setStartTime(this._segment.endTime):this._segment._setStartTime(this._view.pixelOffsetToTime(d));else if(this._previousSegment&&f){var p=this._view.getSegmentDragMode(),x=p==="no-overlap"||p==="compress"&&!this._previousSegment.editable,v=p==="compress"&&this._previousSegment.editable;if(r<=m){if(x)e.setX(m),this._overlay.clipWidth(m-i),this._segment._setStartTime(this._previousSegment.endTime);else if(v){var w=Y5(this._previousSegment);w<o&&(o=w);var y=this._view.timeToPixelOffset(this._previousSegment.startTime+o);r<y&&(r=y),e.setX(r),this._overlay.clipWidth(i-r),this._segment._setStartTime(this._view.pixelOffsetToTime(r)),this._previousSegment.update({endTime:this._view.pixelOffsetToTime(r)}),h=!0}}else r<0&&(r=0),e.setX(r),this._overlay.clipWidth(i-r),this._segment._setStartTime(this._view.pixelOffsetToTime(r))}else r<0&&(r=0),e.setX(r),this._overlay.clipWidth(i-r),this._segment._setStartTime(this._view.pixelOffsetToTime(r));this._peaks.emit("segments.dragged",{segment:this._segment,marker:!0,startMarker:!0,evt:t.evt}),h&&this._peaks.emit("segments.dragged",{segment:this._previousSegment,marker:!0,startMarker:!1,evt:t.evt})};kn.prototype._segmentEndMarkerDragMove=function(e,t){var n=this._view.getWidth(),r=this._startMarker.getX(),i=this._endMarker.getX(),o=this._view.pixelsToTime(50),c=this._view.getMinSegmentDragWidth(),d=this._startMarker.getX()+c;d<0&&(d=0);var f=!1,h=!1,m;if(this._nextSegment&&(m=this._view.timeToPixelOffset(this._nextSegment.startTime),f=m<n),i<d)e.setX(d),this._overlay.clipWidth(d-r),c===0&&d>0?this._segment._setEndTime(this._segment.startTime):this._segment._setEndTime(this._view.pixelOffsetToTime(d));else if(this._nextSegment&&f){var p=this._view.getSegmentDragMode(),x=p==="no-overlap"||p==="compress"&&!this._nextSegment.editable,v=p==="compress"&&this._nextSegment.editable;if(i>=m){if(x)e.setX(m),this._overlay.clipWidth(m-r),this._segment._setEndTime(this._nextSegment.startTime);else if(v){var w=Y5(this._nextSegment);w<o&&(o=w);var y=this._view.timeToPixelOffset(this._nextSegment.endTime-o);i>y&&(i=y),e.setX(i),this._overlay.clipWidth(i-r),this._segment._setEndTime(this._view.pixelOffsetToTime(i)),this._nextSegment.update({startTime:this._view.pixelOffsetToTime(i)}),h=!0}}else i>n&&(i=n),e.setX(i),this._overlay.clipWidth(i-r),this._segment._setEndTime(this._view.pixelOffsetToTime(i))}else i>n&&(i=n),e.setX(i),this._overlay.clipWidth(i-r),this._segment._setEndTime(this._view.pixelOffsetToTime(i));this._peaks.emit("segments.dragged",{segment:this._segment,marker:!0,startMarker:!1,evt:t.evt}),h&&this._peaks.emit("segments.dragged",{segment:this._nextSegment,marker:!0,startMarker:!0,evt:t.evt})};kn.prototype._onSegmentMarkerDragEnd=function(e,t){this._nextSegment=null,this._previousSegment=null;var n=e.isStartMarker();this._peaks.emit("segments.dragend",{segment:this._segment,marker:!0,startMarker:n,evt:t.evt})};kn.prototype._segmentMarkerDragBoundFunc=function(e,t){return{x:t.x,y:e.getAbsolutePosition().y}};kn.prototype._onSegmentMarkerClick=function(){this._moveToTop()};kn.prototype.fitToView=function(){if(this._startMarker&&this._startMarker.fitToView(),this._endMarker&&this._endMarker.fitToView(),this._overlay){var e=this._view.getHeight(),t=hi(0,e-this._overlayOffset*2);this._overlay.setAttrs({y:0,height:e,clipY:this._overlayOffset,clipHeight:t}),this._overlayRect.setAttrs({y:this._overlayOffset,height:t}),this._overlayText&&this._overlayText.setAttrs({y:this._overlayOffset,height:t})}};kn.prototype.destroy=function(){this._waveformShape&&this._waveformShape.destroy(),this._label&&this._label.destroy(),this._startMarker&&this._startMarker.destroy(),this._endMarker&&this._endMarker.destroy(),this._overlay&&this._overlay.destroy()};function nr(e,t,n){this._peaks=e,this._view=t,this._enableEditing=n,this._segmentShapes={},this._layer=new kr.Layer,this._onSegmentsUpdate=this._onSegmentsUpdate.bind(this),this._onSegmentsAdd=this._onSegmentsAdd.bind(this),this._onSegmentsRemove=this._onSegmentsRemove.bind(this),this._onSegmentsRemoveAll=this._onSegmentsRemoveAll.bind(this),this._onSegmentsDragged=this._onSegmentsDragged.bind(this),this._peaks.on("segments.update",this._onSegmentsUpdate),this._peaks.on("segments.add",this._onSegmentsAdd),this._peaks.on("segments.remove",this._onSegmentsRemove),this._peaks.on("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.on("segments.dragged",this._onSegmentsDragged)}nr.prototype.addToStage=function(e){e.add(this._layer)};nr.prototype.setListening=function(e){this._layer.listening(e)};nr.prototype.enableEditing=function(e){this._enableEditing=e};nr.prototype.isEditingEnabled=function(){return this._enableEditing};nr.prototype.enableSegmentDragging=function(e){for(var t in this._segmentShapes)Bt(this._segmentShapes,t)&&this._segmentShapes[t].enableSegmentDragging(e)};nr.prototype.getSegmentShape=function(e){return this._segmentShapes[e.pid]};nr.prototype.formatTime=function(e){return this._view.formatTime(e)};nr.prototype._onSegmentsUpdate=function(e,t){var n=this._view.getStartTime(),r=this._view.getEndTime(),i=this.getSegmentShape(e),o=e.isVisible(n,r);i&&!o?i.isDragging()||this._removeSegment(e):!i&&o?i=this._updateSegment(e):i&&o&&i.update(t)};nr.prototype._onSegmentsAdd=function(e){var t=this,n=t._view.getStartTime(),r=t._view.getEndTime();e.segments.forEach(function(i){if(i.isVisible(n,r)){var o=t._addSegmentShape(i);o.update()}}),this.moveSegmentMarkersToTop()};nr.prototype._onSegmentsRemove=function(e){var t=this;e.segments.forEach(function(n){t._removeSegment(n)})};nr.prototype._onSegmentsRemoveAll=function(){this._layer.removeChildren(),this._segmentShapes={}};nr.prototype._onSegmentsDragged=function(e){this._updateSegment(e.segment)};nr.prototype._createSegmentShape=function(e){return new kn(e,this._peaks,this,this._view)};nr.prototype._addSegmentShape=function(e){var t=this._createSegmentShape(e);return t.addToLayer(this._layer),this._segmentShapes[e.pid]=t,t};nr.prototype.updateSegments=function(e,t){var n=this._peaks.segments.find(e,t);n.forEach(this._updateSegment.bind(this)),this._removeInvisibleSegments(e,t)};nr.prototype._updateSegment=function(e){var t=this.getSegmentShape(e);t||(t=this._addSegmentShape(e)),t.update()};nr.prototype._removeInvisibleSegments=function(e,t){for(var n in this._segmentShapes)if(Bt(this._segmentShapes,n)){var r=this._segmentShapes[n].getSegment();r.isVisible(e,t)||this._removeSegment(r)}};nr.prototype._removeSegment=function(e){var t=this._segmentShapes[e.pid];t&&(t.destroy(),delete this._segmentShapes[e.pid])};nr.prototype.moveSegmentMarkersToTop=function(){for(var e in this._segmentShapes)Bt(this._segmentShapes,e)&&this._segmentShapes[e].moveMarkersToTop()};nr.prototype.setVisible=function(e){this._layer.setVisible(e)};nr.prototype.segmentClicked=function(e,t){var n=this._segmentShapes[t.segment.pid];n&&n.segmentClicked(e,t)};nr.prototype.destroy=function(){this._peaks.off("segments.update",this._onSegmentsUpdate),this._peaks.off("segments.add",this._onSegmentsAdd),this._peaks.off("segments.remove",this._onSegmentsRemove),this._peaks.off("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.off("segments.dragged",this._onSegmentsDragged)};nr.prototype.fitToView=function(){for(var e in this._segmentShapes)if(Bt(this._segmentShapes,e)){var t=this._segmentShapes[e];t.fitToView()}};nr.prototype.draw=function(){this._layer.draw()};nr.prototype.getHeight=function(){return this._layer.getHeight()};function No(e,t){var n=this;n._axisGridlineColor=t.axisGridlineColor,n._axisLabelColor=t.axisLabelColor,n._showAxisLabels=t.showAxisLabels,n._axisTopMarkerHeight=t.axisTopMarkerHeight,n._axisBottomMarkerHeight=t.axisBottomMarkerHeight,t.formatAxisTime?n._formatAxisTime=t.formatAxisTime:n._formatAxisTime=function(r){return L5(r,0)},n._axisLabelFont=No._buildFontString(t.fontFamily,t.fontSize,t.fontStyle),n._axisShape=new kr.Shape({sceneFunc:function(i){n._drawAxis(i,e)}})}No._buildFontString=function(e,t,n){return t||(t=11),e||(e="sans-serif"),n||(n="normal"),n+" "+t+"px "+e};No.prototype.addToLayer=function(e){e.add(this._axisShape)};No.prototype.showAxisLabels=function(e,t){this._showAxisLabels=e,t&&(Bt(t,"topMarkerHeight")&&(this._axisTopMarkerHeight=t.topMarkerHeight),Bt(t,"bottomMarkerHeight")&&(this._axisBottomMarkerHeight=t.bottomMarkerHeight))};No.prototype.setAxisLabelColor=function(e){this._axisLabelColor=e};No.prototype.setAxisGridlineColor=function(e){this._axisGridlineColor=e};No.prototype._getAxisLabelScale=function(e){for(var t=1,n=[1,2,5,10,20,30],r=60,i=0,o;;){o=t*n[i];var c=e.timeToPixels(o);if(c<r)++i===n.length&&(t*=60,i=0);else break}return o};No.prototype._drawAxis=function(e,t){var n=t.getStartTime(),r=this._getAxisLabelScale(t),i=_H(n,r),o=i-n,c=t.timeToPixels(o);e.setAttr("strokeStyle",this._axisGridlineColor),e.setAttr("lineWidth",1),e.setAttr("font",this._axisLabelFont),e.setAttr("fillStyle",this._axisLabelColor),e.setAttr("textAlign","left"),e.setAttr("textBaseline","bottom");for(var d=t.getWidth(),f=t.getHeight(),h=i;;){var m=c+t.timeToPixels(h-i);if(m>=d)break;if(this._axisTopMarkerHeight>0&&(e.beginPath(),e.moveTo(m+.5,0),e.lineTo(m+.5,0+this._axisTopMarkerHeight),e.stroke()),this._axisBottomMarkerHeight>0&&(e.beginPath(),e.moveTo(m+.5,f),e.lineTo(m+.5,f-this._axisBottomMarkerHeight),e.stroke()),this._showAxisLabels){var p=this._formatAxisTime(h),x=e.measureText(p).width,v=m-x/2,w=f-1-this._axisBottomMarkerHeight;v>=0&&e.fillText(p,v,w)}h+=r}};function nn(e,t,n,r){var i=this;i._container=t,i._peaks=n,i._options=n.options,i._viewOptions=r,i._originalWaveformData=e,i._data=e,i._frameOffset=0,i._width=t.clientWidth,i._height=t.clientHeight,i._amplitudeScale=1,i._waveformColor=i._viewOptions.waveformColor,i._playedWaveformColor=i._viewOptions.playedWaveformColor,i._timeLabelPrecision=i._viewOptions.timeLabelPrecision,i._viewOptions.formatPlayheadTime?i._formatPlayheadTime=i._viewOptions.formatPlayheadTime:i._formatPlayheadTime=function(o){return L5(o,i._timeLabelPrecision)},i._enableSeek=!0,i.initWaveformData(),kr.showWarnings=!1,i._stage=new kr.Stage({container:t,width:i._width,height:i._height}),i._createWaveform(),i._viewOptions.enableSegments&&(i._segmentsLayer=new nr(n,i,i._viewOptions.enableEditing),i._segmentsLayer.addToStage(i._stage)),i._viewOptions.enablePoints&&(i._pointsLayer=new Yn(n,i,i._viewOptions.enableEditing),i._pointsLayer.addToStage(i._stage)),i.initHighlightLayer(),i._createAxisLabels(),i._playheadLayer=new Wa(i._peaks.player,i,i._viewOptions),i._playheadLayer.addToStage(i._stage),i._onClick=i._onClick.bind(i),i._onDblClick=i._onDblClick.bind(i),i._onContextMenu=i._onContextMenu.bind(i),i._stage.on("click",i._onClick),i._stage.on("dblclick",i._onDblClick),i._stage.on("contextmenu",i._onContextMenu)}nn.prototype.getViewOptions=function(){return this._viewOptions};nn.prototype.getWaveformData=function(){return this._data};nn.prototype.setWaveformData=function(e){this._data=e};nn.prototype.timeToPixels=function(e){return Math.floor(e*this._data.sample_rate/this._data.scale)};nn.prototype.pixelsToTime=function(e){return e*this._data.scale/this._data.sample_rate};nn.prototype.pixelOffsetToTime=function(e){var t=this._frameOffset+e;return t*this._data.scale/this._data.sample_rate};nn.prototype.timeToPixelOffset=function(e){return Math.floor(e*this._data.sample_rate/this._data.scale)-this._frameOffset};nn.prototype.getFrameOffset=function(){return this._frameOffset};nn.prototype.getWidth=function(){return this._width};nn.prototype.getHeight=function(){return this._height};nn.prototype.getStartTime=function(){return this.pixelOffsetToTime(0)};nn.prototype.getEndTime=function(){return this.pixelOffsetToTime(this._width)};nn.prototype._getDuration=function(){return this._peaks.player.getDuration()};nn.prototype._createWaveform=function(){this._waveformLayer=new kr.Layer({listening:!1}),this._createWaveformShapes(),this._stage.add(this._waveformLayer)};nn.prototype._createWaveformShapes=function(){if(this._waveformShape||(this._waveformShape=new zr({color:this._waveformColor,view:this}),this._waveformShape.addToLayer(this._waveformLayer)),this._playedWaveformColor&&!this._playedWaveformShape){var e=this._peaks.player.getCurrentTime();this._playedSegment={startTime:0,endTime:e},this._unplayedSegment={startTime:e,endTime:this._getDuration()},this._waveformShape.setSegment(this._unplayedSegment),this._playedWaveformShape=new zr({color:this._playedWaveformColor,view:this,segment:this._playedSegment}),this._playedWaveformShape.addToLayer(this._waveformLayer)}};nn.prototype.setWaveformColor=function(e){this._waveformColor=e,this._waveformShape.setWaveformColor(e)};nn.prototype.setPlayedWaveformColor=function(e){this._playedWaveformColor=e,e?(this._playedWaveformShape||this._createWaveformShapes(),this._playedWaveformShape.setWaveformColor(e)):this._playedWaveformShape&&this._destroyPlayedWaveformShape()};nn.prototype._destroyPlayedWaveformShape=function(){this._waveformShape.setSegment(null),this._playedWaveformShape.destroy(),this._playedWaveformShape=null,this._playedSegment=null,this._unplayedSegment=null};nn.prototype._createAxisLabels=function(){this._axisLayer=new kr.Layer({listening:!1}),this._axis=new No(this,this._viewOptions),this._axis.addToLayer(this._axisLayer),this._stage.add(this._axisLayer)};nn.prototype.showAxisLabels=function(e,t){this._axis.showAxisLabels(e,t),this._axisLayer.draw()};nn.prototype.setAxisLabelColor=function(e){this._axis.setAxisLabelColor(e),this._axisLayer.draw()};nn.prototype.setAxisGridlineColor=function(e){this._axis.setAxisGridlineColor(e),this._axisLayer.draw()};nn.prototype.showPlayheadTime=function(e){this._playheadLayer.showPlayheadTime(e)};nn.prototype.setTimeLabelPrecision=function(e){this._timeLabelPrecision=e,this._playheadLayer.updatePlayheadText()};nn.prototype.formatTime=function(e){return this._formatPlayheadTime(e)};nn.prototype.setAmplitudeScale=function(e){if(!a1(e)||!DH(e))throw new Error("view.setAmplitudeScale(): Scale must be a valid number");this._amplitudeScale=e,this.drawWaveformLayer(),this._segmentsLayer&&this._segmentsLayer.draw()};nn.prototype.getAmplitudeScale=function(){return this._amplitudeScale};nn.prototype.enableSeek=function(e){this._enableSeek=e};nn.prototype.isSeekEnabled=function(){return this._enableSeek};nn.prototype._onClick=function(e){this._clickHandler(e,"click")};nn.prototype._onDblClick=function(e){this._clickHandler(e,"dblclick")};nn.prototype._onContextMenu=function(e){this._clickHandler(e,"contextmenu")};nn.prototype._clickHandler=function(e,t){var n=e.evt.offsetX;n<0&&(n=0);var r=!0;if(e.target!==this._stage){var i=H5(e.target);if(i){if(i.attrs.name==="point-marker"){var o=i.getAttr("point");o&&this._peaks.emit("points."+t,{point:o,evt:e.evt,preventViewEvent:function(){r=!1}})}else if(i.attrs.name==="segment-overlay"){var c=i.getAttr("segment");if(c){var d={segment:c,evt:e.evt,preventViewEvent:function(){r=!1}};this._segmentsLayer&&this._segmentsLayer.segmentClicked(t,d)}}}}if(r){var f=this.pixelOffsetToTime(n),h=this.getName();this._peaks.emit(h+"."+t,{time:f,evt:e.evt})}};nn.prototype.updatePlayheadTime=function(e){this._playheadLayer.updatePlayheadTime(e)};nn.prototype.playheadPosChanged=function(e){this._playedWaveformShape&&(this._playedSegment.endTime=e,this._unplayedSegment.startTime=e,this.drawWaveformLayer())};nn.prototype.drawWaveformLayer=function(){this._waveformLayer.draw()};nn.prototype.enableMarkerEditing=function(e){this._segmentsLayer&&this._segmentsLayer.enableEditing(e),this._pointsLayer&&this._pointsLayer.enableEditing(e)};nn.prototype.dragSeek=function(e){this._segmentsLayer&&this._segmentsLayer.setListening(!e),this._pointsLayer&&this._pointsLayer.setListening(!e)};nn.prototype.fitToContainer=function(){if(!(this._container.clientWidth===0&&this._container.clientHeight===0)){var e=!1;this._container.clientWidth!==this._width&&(this._width=this._container.clientWidth,this._stage.setWidth(this._width),e=this.containerWidthChange());var t=!1;this._container.clientHeight!==this._height&&(this._height=this._container.clientHeight,this._stage.setHeight(this._height),this._waveformShape.fitToView(),this._playheadLayer.fitToView(),this.containerHeightChange(),t=!0),e?this.updateWaveform(this._frameOffset,!0):t&&(this._segmentsLayer&&this._segmentsLayer.fitToView(),this._pointsLayer&&this._pointsLayer.fitToView())}};nn.prototype.destroy=function(){this._playheadLayer.destroy(),this._segmentsLayer&&this._segmentsLayer.destroy(),this._pointsLayer&&this._pointsLayer.destroy(),this._stage&&(this._stage.destroy(),this._stage=null)};function Ao(e,t){this._stage=e,this._handlers=t,this._dragging=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseUp=this._mouseUp.bind(this),this._mouseMove=this._mouseMove.bind(this),this._stage.on("mousedown",this._mouseDown),this._stage.on("touchstart",this._mouseDown),this._lastMouseClientX=null}Ao.prototype._mouseDown=function(e){var t=null;if(!(e.type==="mousedown"&&e.evt.button!==0)){var n=H5(e.target);if(n){if(n.attrs.name==="point-marker"||n.attrs.name==="segment-marker")return;n.attrs.name==="segment-overlay"&&(t=n)}if(this._lastMouseClientX=Math.floor(e.type==="touchstart"?e.evt.touches[0].clientX:e.evt.clientX),this._handlers.onMouseDown){var r=this._getMousePosX(this._lastMouseClientX);this._handlers.onMouseDown(r,t)}window.addEventListener("mousemove",this._mouseMove,{capture:!1,passive:!0}),window.addEventListener("touchmove",this._mouseMove,{capture:!1,passive:!0}),window.addEventListener("mouseup",this._mouseUp,{capture:!1,passive:!0}),window.addEventListener("touchend",this._mouseUp,{capture:!1}),window.addEventListener("blur",this._mouseUp,{capture:!1,passive:!0})}};Ao.prototype._mouseMove=function(e){var t=Math.floor(e.type==="touchmove"?e.changedTouches[0].clientX:e.clientX);if(t!==this._lastMouseClientX&&(this._lastMouseClientX=t,this._dragging=!0,this._handlers.onMouseMove)){var n=this._getMousePosX(t);this._handlers.onMouseMove(n)}};Ao.prototype._mouseUp=function(e){var t;if(e.type==="touchend"?(t=Math.floor(e.changedTouches[0].clientX),e.cancelable&&e.preventDefault()):t=Math.floor(e.clientX),this._handlers.onMouseUp){var n=this._getMousePosX(t);this._handlers.onMouseUp(n)}window.removeEventListener("mousemove",this._mouseMove,{capture:!1}),window.removeEventListener("touchmove",this._mouseMove,{capture:!1}),window.removeEventListener("mouseup",this._mouseUp,{capture:!1}),window.removeEventListener("touchend",this._mouseUp,{capture:!1}),window.removeEventListener("blur",this._mouseUp,{capture:!1}),this._dragging=!1};Ao.prototype._getMousePosX=function(e){var t=this._stage.getContainer().getBoundingClientRect();return Math.floor(e-t.left)};Ao.prototype.isDragging=function(){return this._dragging};Ao.prototype.destroy=function(){this._stage.off("mousedown",this._mouseDown),this._stage.off("touchstart",this._mouseDown)};function Au(e,t){this._peaks=e,this._view=t,this._firstMove=!1,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._mouseDragHandler=new Ao(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseUp:this._onMouseUp})}Au.prototype._onMouseDown=function(e){this._firstMove=!0,this._seek(e)};Au.prototype._onMouseMove=function(e){this._firstMove&&(this._view.dragSeek(!0),this._firstMove=!1),this._seek(e)};Au.prototype._onMouseUp=function(){this._view.dragSeek(!1)};Au.prototype._seek=function(e){if(this._view.isSeekEnabled()){e=hi(e,0,this._width);var t=this._view.pixelsToTime(e),n=this._peaks.player.getDuration();t>n&&(t=n),this._view.updatePlayheadTime(t),this._peaks.player.seek(t)}};Au.prototype.destroy=function(){this._mouseDragHandler.destroy()};function $r(e,t,n){var r=this;nn.call(r,e,t,n,n.options.overview),r._onTimeUpdate=r._onTimeUpdate.bind(r),r._onPlaying=r._onPlaying.bind(r),r._onPause=r._onPause.bind(r),r._onZoomviewUpdate=r._onZoomviewUpdate.bind(r),n.on("player.timeupdate",r._onTimeUpdate),n.on("player.playing",r._onPlaying),n.on("player.pause",r._onPause),n.on("zoomview.update",r._onZoomviewUpdate);var i=r._peaks.player.getCurrentTime();r._playheadLayer.updatePlayheadTime(i),r._mouseDragHandler=new Au(n,r);var o=n.views.getView("zoomview");o&&r._highlightLayer.showHighlight(o.getStartTime(),o.getEndTime())}$r.prototype=Object.create(nn.prototype);$r.prototype.initWaveformData=function(){this._width!==0&&this._resampleAndSetWaveformData(this._originalWaveformData,this._width)};$r.prototype.initHighlightLayer=function(){this._highlightLayer=new kl(this,this._viewOptions),this._highlightLayer.addToStage(this._stage)};$r.prototype.isSegmentDraggingEnabled=function(){return!1};$r.prototype.getName=function(){return"overview"};$r.prototype._onTimeUpdate=function(e){this._playheadLayer.updatePlayheadTime(e)};$r.prototype._onPlaying=function(e){this._playheadLayer.updatePlayheadTime(e)};$r.prototype._onPause=function(e){this._playheadLayer.stop(e)};$r.prototype._onZoomviewUpdate=function(e){this.showHighlight(e.startTime,e.endTime)};$r.prototype.showHighlight=function(e,t){this._highlightLayer.showHighlight(e,t)};$r.prototype.setWaveformData=function(e){this._originalWaveformData=e,this._width!==0?this._resampleAndSetWaveformData(e,this._width):this._data=e,this.updateWaveform()};$r.prototype._resampleAndSetWaveformData=function(e,t){try{return this._data=e.resample({width:t}),!0}catch{return this._data=e,!1}};$r.prototype.removeHighlightRect=function(){this._highlightLayer.removeHighlight()};$r.prototype.updateWaveform=function(){this._waveformLayer.draw(),this._axisLayer.draw();var e=this._peaks.player.getCurrentTime();this._playheadLayer.updatePlayheadTime(e),this._highlightLayer.updateHighlight();var t=0,n=this.pixelsToTime(this._width);this._pointsLayer&&this._pointsLayer.updatePoints(t,n),this._segmentsLayer&&this._segmentsLayer.updateSegments(t,n)};$r.prototype.containerWidthChange=function(){return this._resampleAndSetWaveformData(this._originalWaveformData,this._width)};$r.prototype.containerHeightChange=function(){this._highlightLayer.fitToView()};$r.prototype.destroy=function(){this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.pause",this._onPause),this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("zoomview.update",this._onZoomviewUpdate),this._mouseDragHandler.destroy(),nn.prototype.destroy.call(this)};function Kc(e,t){this._peaks=e,this._view=t,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._mouseDragHandler=new Ao(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseUp:this._onMouseUp})}Kc.prototype.isDragging=function(){return this._mouseDragHandler.isDragging()};Kc.prototype._reset=function(){this._insertSegment=null,this._insertSegmentShape=null,this._segmentIsDraggable=!1,this._peaks.segments.setInserting(!1)};Kc.prototype._onMouseDown=function(e,t){if(this._reset(),this._segment=t,this._segment){if(this._view.getSegmentDragMode()!=="overlap")return;this._segmentIsDraggable=this._segment.draggable(),this._segment.draggable(!1)}var n=this._view.pixelsToTime(e+this._view.getFrameOffset());this._peaks.segments.setInserting(!0),this._insertSegment=this._peaks.segments.add({startTime:n,endTime:n,editable:!0}),this._insertSegmentShape=this._view._segmentsLayer.getSegmentShape(this._insertSegment),this._insertSegmentShape&&(this._insertSegmentShape.moveMarkersToTop(),this._insertSegmentShape.startDrag())};Kc.prototype._onMouseMove=function(){};Kc.prototype._onMouseUp=function(){this._insertSegment&&(this._insertSegmentShape&&(this._insertSegmentShape.stopDrag(),this._insertSegmentShape=null),this._segment&&this._segmentIsDraggable&&this._segment.draggable(!0),this._peaks.emit("segments.insert",{segment:this._insertSegment}),this._peaks.segments.setInserting(!1))};Kc.prototype.destroy=function(){this._mouseDragHandler.destroy()};function jl(e,t){this._peaks=e,this._view=t,this._seeking=!1,this._firstMove=!1,this._segment=null,this._segmentIsDraggable=!1,this._initialFrameOffset=0,this._mouseDownX=0,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._mouseDragHandler=new Ao(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseUp:this._onMouseUp})}jl.prototype.isDragging=function(){return this._mouseDragHandler.isDragging()};jl.prototype._onMouseDown=function(e,t){this._seeking=!1,this._firstMove=!0,t&&!t.attrs.draggable?this._segment=null:this._segment=t;var n=this._view.getPlayheadOffset();if(this._view.isSeekEnabled()&&Math.abs(e-n)<=this._view.getPlayheadClickTolerance()&&(this._seeking=!0,this._segment&&(this._segmentIsDraggable=this._segment.draggable(),this._segment.draggable(!1))),this._seeking){e=hi(e,0,this._view.getWidth());var r=this._view.pixelsToTime(e+this._view.getFrameOffset());this._seek(r)}else this._initialFrameOffset=this._view.getFrameOffset(),this._mouseDownX=e};jl.prototype._onMouseMove=function(e){if(!(this._segment&&!this._seeking)){if(this._seeking){this._firstMove&&(this._view.dragSeek(!0),this._firstMove=!1),e=hi(e,0,this._view.getWidth());var t=this._view.pixelsToTime(e+this._view.getFrameOffset());this._seek(t)}else if(!this._view.isAutoZoom()){var n=this._mouseDownX-e,r=this._initialFrameOffset+n;r!==this._initialFrameOffset&&this._view.updateWaveform(r)}}};jl.prototype._onMouseUp=function(){if(this._seeking)this._view.dragSeek(!1);else if(this._view._enableSeek&&!this._mouseDragHandler.isDragging()){var e=this._view.pixelOffsetToTime(this._mouseDownX);this._seek(e)}this._segment&&this._seeking&&this._segmentIsDraggable&&this._segment.draggable(!0)};jl.prototype._seek=function(e){var t=this._peaks.player.getDuration();e>t&&(e=t),this._view.updatePlayheadTime(e),this._peaks.player.seek(e)};jl.prototype.destroy=function(){this._mouseDragHandler.destroy()};function dn(e,t,n){var r=this;nn.call(r,e,t,n,n.options.zoomview),r._onTimeUpdate=r._onTimeUpdate.bind(r),r._onPlaying=r._onPlaying.bind(r),r._onPause=r._onPause.bind(r),r._onKeyboardLeft=r._onKeyboardLeft.bind(r),r._onKeyboardRight=r._onKeyboardRight.bind(r),r._onKeyboardShiftLeft=r._onKeyboardShiftLeft.bind(r),r._onKeyboardShiftRight=r._onKeyboardShiftRight.bind(r),r._peaks.on("player.timeupdate",r._onTimeUpdate),r._peaks.on("player.playing",r._onPlaying),r._peaks.on("player.pause",r._onPause),r._peaks.on("keyboard.left",r._onKeyboardLeft),r._peaks.on("keyboard.right",r._onKeyboardRight),r._peaks.on("keyboard.shift_left",r._onKeyboardShiftLeft),r._peaks.on("keyboard.shift_right",r._onKeyboardShiftRight),r._autoScroll=r._viewOptions.autoScroll,r._autoScrollOffset=r._viewOptions.autoScrollOffset,r._enableSegmentDragging=!1,r._segmentDragMode="overlap",r._minSegmentDragWidth=0,r._insertSegmentShape=null,r._playheadClickTolerance=r._viewOptions.playheadClickTolerance,r._zoomLevelAuto=!1,r._zoomLevelSeconds=null;var i=r._peaks.player.getCurrentTime();r._syncPlayhead(i),r._mouseDragHandler=new jl(n,r),r._onWheel=r._onWheel.bind(r),r._onWheelCaptureVerticalScroll=r._onWheelCaptureVerticalScroll.bind(r),r.setWheelMode(r._viewOptions.wheelMode),r._peaks.emit("zoomview.update",{startTime:0,endTime:r.getEndTime()})}dn.prototype=Object.create(nn.prototype);dn.prototype.initWaveformData=function(){this._enableWaveformCache=this._options.waveformCache,this._initWaveformCache();var e=this._peaks.zoom.getZoomLevel();this._resampleData({scale:e})};dn.prototype._initWaveformCache=function(){this._enableWaveformCache&&(this._waveformData=new Map,this._waveformData.set(this._originalWaveformData.scale,this._originalWaveformData),this._waveformScales=[this._originalWaveformData.scale])};dn.prototype.initHighlightLayer=function(){};dn.prototype.setWheelMode=function(e,t){t||(t={}),(e!==this._wheelMode||t.captureVerticalScroll!==this._captureVerticalScroll)&&(this._stage.off("wheel"),this._wheelMode=e,this._captureVerticalScroll=t.captureVerticalScroll,e==="scroll"&&(t.captureVerticalScroll?this._stage.on("wheel",this._onWheelCaptureVerticalScroll):this._stage.on("wheel",this._onWheel)))};dn.prototype._onWheel=function(e){var t=e.evt,n;if(t.shiftKey)if(t.deltaY!==0)n=t.deltaY;else if(t.deltaX!==0)n=t.deltaX;else return;else{if(Math.abs(t.deltaX)<Math.abs(t.deltaY))return;n=t.deltaX}t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._width),t.preventDefault();var r=hi(this._frameOffset+Math.floor(n),0,this._pixelLength-this._width);this.updateWaveform(r,!1)};dn.prototype._onWheelCaptureVerticalScroll=function(e){var t=e.evt,n=Math.abs(t.deltaX)<Math.abs(t.deltaY)?t.deltaY:t.deltaX;t.preventDefault();var r=hi(this._frameOffset+Math.floor(n),0,this._pixelLength-this._width);this.updateWaveform(r,!1)};dn.prototype.setWaveformDragMode=function(e){this._segmentsLayer&&(this._mouseDragHandler.destroy(),this.dragSeek(!1),e==="insert-segment"?this._mouseDragHandler=new Kc(this._peaks,this):this._mouseDragHandler=new jl(this._peaks,this))};dn.prototype.enableSegmentDragging=function(e){this._enableSegmentDragging=e,this._segmentsLayer&&this._segmentsLayer.enableSegmentDragging(e)};dn.prototype.isSegmentDraggingEnabled=function(){return this._enableSegmentDragging};dn.prototype.setSegmentDragMode=function(e){this._segmentDragMode=e};dn.prototype.getSegmentDragMode=function(){return this._segmentDragMode};dn.prototype.getName=function(){return"zoomview"};dn.prototype._onTimeUpdate=function(e){this._mouseDragHandler.isDragging()||this._syncPlayhead(e)};dn.prototype._onPlaying=function(e){this._playheadLayer.updatePlayheadTime(e)};dn.prototype._onPause=function(e){this._playheadLayer.stop(e)};dn.prototype._onKeyboardLeft=function(){this._keyboardScroll(-1,!1)};dn.prototype._onKeyboardRight=function(){this._keyboardScroll(1,!1)};dn.prototype._onKeyboardShiftLeft=function(){this._keyboardScroll(-1,!0)};dn.prototype._onKeyboardShiftRight=function(){this._keyboardScroll(1,!0)};dn.prototype._keyboardScroll=function(e,t){var n;t?n=e*this._width:n=e*this.timeToPixels(this._options.nudgeIncrement),this.scrollWaveform({pixels:n})};dn.prototype.setWaveformData=function(e){this._originalWaveformData=e,this._initWaveformCache()};dn.prototype.getPlayheadOffset=function(){return this._playheadLayer.getPlayheadPixel()-this._frameOffset};dn.prototype.getPlayheadClickTolerance=function(){return this._playheadClickTolerance};dn.prototype._syncPlayhead=function(e){if(this._playheadLayer.updatePlayheadTime(e),this._autoScroll&&!this._zoomLevelAuto){var t=this.timeToPixels(e),n=this._frameOffset+this._width-this._autoScrollOffset,r=this._frameOffset;(t>=n||t<r)&&(r=t-this._autoScrollOffset,r<0&&(r=0),this.updateWaveform(r,!1))}};dn.prototype._getScale=function(e){return Math.floor(e*this._data.sample_rate/this._width)};function $H(e){return Bt(e,"scale")&&e.scale==="auto"||Bt(e,"seconds")&&e.seconds==="auto"}dn.prototype.setZoom=function(e){var t;if($H(e)){var n=this._originalWaveformData.duration;this._zoomLevelAuto=!0,this._zoomLevelSeconds=null,t=this._getScale(n)}else{if(Bt(e,"scale"))this._zoomLevelSeconds=null,t=Math.floor(e.scale);else if(Bt(e,"seconds")){if(!Fc(e.seconds))return!1;this._zoomLevelSeconds=e.seconds,t=this._getScale(e.seconds)}this._zoomLevelAuto=!1}t<this._originalWaveformData.scale&&(this._peaks._logger("peaks.zoomview.setZoom(): zoom level must be at least "+this._originalWaveformData.scale),t=this._originalWaveformData.scale);var r=this._peaks.player.getCurrentTime(),i,o=this.getPlayheadOffset();o>=0&&o<this._width?i=r:(o=Math.floor(this._width/2),i=this.pixelOffsetToTime(o));var c=this._scale;this._resampleData({scale:t});var d=this.timeToPixels(i),f=d-o;return this.updateWaveform(f,!0),this._playheadLayer.zoomLevelChanged(),this._playheadLayer.updatePlayheadTime(r),this._peaks.emit("zoom.update",{currentZoom:t,previousZoom:c}),!0};dn.prototype._resampleData=function(e){var t=e.scale;if(this._enableWaveformCache){if(!this._waveformData.has(t)){for(var n=this._originalWaveformData,r=0;r<this._waveformScales.length&&this._waveformScales[r]<t;r++)n=this._waveformData.get(this._waveformScales[r]);this._waveformData.set(t,n.resample(e)),this._waveformScales.push(t),this._waveformScales.sort(function(i,o){return i-o})}this._data=this._waveformData.get(t)}else this._data=this._originalWaveformData.resample(e);this._scale=this._data.scale,this._pixelLength=this._data.length};dn.prototype.isAutoZoom=function(){return this._zoomLevelAuto};dn.prototype.setStartTime=function(e){e<0&&(e=0),this._zoomLevelAuto&&(e=0),this.updateWaveform(this.timeToPixels(e),!1)};dn.prototype.getPixelLength=function(){return this._pixelLength};dn.prototype.scrollWaveform=function(e){var t;if(Bt(e,"pixels"))t=Math.floor(e.pixels);else if(Bt(e,"seconds"))t=this.timeToPixels(e.seconds);else throw new TypeError("view.scrollWaveform(): Missing umber of pixels or seconds");this.updateWaveform(this._frameOffset+t,!1)};dn.prototype.updateWaveform=function(e,t){var n;if(this._pixelLength<this._width?(e=0,n=this._width):n=this._pixelLength-this._width,e=hi(e,0,n),!(!t&&e===this._frameOffset)){this._frameOffset=e;var r=this._playheadLayer.getPlayheadPixel();this._playheadLayer.updatePlayheadTime(this.pixelsToTime(r)),this.drawWaveformLayer(),this._axisLayer.draw();var i=this.getStartTime(),o=this.getEndTime();this._pointsLayer&&this._pointsLayer.updatePoints(i,o),this._segmentsLayer&&this._segmentsLayer.updateSegments(i,o),this._peaks.emit("zoomview.update",{startTime:i,endTime:o})}};dn.prototype.enableAutoScroll=function(e,t){t||(t={}),this._autoScroll=e,Bt(t,"offset")&&(this._autoScrollOffset=t.offset)};dn.prototype.getMinSegmentDragWidth=function(){return this._insertSegmentShape?0:this._minSegmentDragWidth};dn.prototype.setMinSegmentDragWidth=function(e){this._minSegmentDragWidth=e};dn.prototype.containerWidthChange=function(){var e=!1,t;if(this._zoomLevelAuto?(e=!0,t={width:this._width}):this._zoomLevelSeconds!==null&&(e=!0,t={scale:this._getScale(this._zoomLevelSeconds)}),e)try{this._resampleData(t)}catch{}return!0};dn.prototype.containerHeightChange=function(){};dn.prototype.getStage=function(){return this._stage};dn.prototype.getSegmentsLayer=function(){return this._segmentsLayer};dn.prototype.destroy=function(){this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.pause",this._onPause),this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("keyboard.left",this._onKeyboardLeft),this._peaks.off("keyboard.right",this._onKeyboardRight),this._peaks.off("keyboard.shift_left",this._onKeyboardShiftLeft),this._peaks.off("keyboard.shift_right",this._onKeyboardShiftRight),this._enableWaveformCache?(this._waveformData.clear(),delete this._waveformData,delete this._waveformScales):delete this._data,this._mouseDragHandler.destroy(),nn.prototype.destroy.call(this)};function za(e,t){this._container=e,this._peaks=t,this._options=t.options.scrollbar,this._zoomview=t.views.getView("zoomview"),this._dragBoundFunc=this._dragBoundFunc.bind(this),this._onScrollboxDragStart=this._onScrollboxDragStart.bind(this),this._onScrollboxDragMove=this._onScrollboxDragMove.bind(this),this._onScrollboxDragEnd=this._onScrollboxDragEnd.bind(this),this._onZoomviewUpdate=this._onZoomviewUpdate.bind(this),this._onScrollbarClick=this._onScrollbarClick.bind(this),this._peaks.on("zoomview.update",this._onZoomviewUpdate),this._width=e.clientWidth,this._height=e.clientHeight,this._stage=new kr.Stage({container:e,width:this._width,height:this._height}),this._layer=new kr.Layer,this._stage.on("click",this._onScrollbarClick),this._stage.add(this._layer),this._color=this._options.color,this._scrollboxX=0,this._minScrollboxWidth=this._options.minWidth,this._offsetY=0,this._scrollbox=new kr.Group({draggable:!0,dragBoundFunc:this._dragBoundFunc}),this._scrollboxRect=new Ul({x:this._scrollboxX,y:this._offsetY,width:0,height:this._height,fill:this._color}),this._scrollbox.add(this._scrollboxRect),this._setScrollboxWidth(),this._scrollbox.on("dragstart",this._onScrollboxDragStart),this._scrollbox.on("dragmove",this._onScrollboxDragMove),this._scrollbox.on("dragend",this._onScrollboxDragEnd),this._layer.add(this._scrollbox),this._updateScrollbarWidthAndPosition()}za.prototype.setZoomview=function(e){this._zoomview=e,this._updateScrollbarWidthAndPosition()};za.prototype._setScrollboxWidth=function(){this._zoomview?(this._scrollboxWidth=Math.floor(this._width*this._zoomview.pixelsToTime(this._zoomview.getWidth())/this._peaks.player.getDuration()),this._scrollboxWidth<this._minScrollboxWidth&&(this._scrollboxWidth=this._minScrollboxWidth)):this._scrollboxWidth=this._width,this._scrollboxRect.width(this._scrollboxWidth)};za.prototype._getScrollbarRange=function(){return this._width-this._scrollboxWidth};za.prototype._dragBoundFunc=function(e){return{x:e.x,y:0}};za.prototype._onScrollboxDragStart=function(){this._dragging=!0};za.prototype._onScrollboxDragEnd=function(){this._dragging=!1};za.prototype._onScrollboxDragMove=function(){var e=this._getScrollbarRange(),t=hi(this._scrollbox.x(),0,e);this._scrollbox.x(t),t!==this._scrollboxX&&(this._scrollboxX=t,this._zoomview&&this._updateWaveform(t))};za.prototype._onZoomviewUpdate=function(){this._dragging||this._updateScrollbarWidthAndPosition()};za.prototype._updateScrollbarWidthAndPosition=function(){if(this._setScrollboxWidth(),this._zoomview){var e=this._zoomview.getStartTime(),t=this._zoomview.getPixelLength()-this._zoomview.getWidth(),n=Math.floor(this._zoomview.timeToPixels(e)*this._getScrollbarRange()/t);this._scrollbox.x(n),this._layer.draw()}};za.prototype._onScrollbarClick=function(e){if(e.target===this._stage&&this._zoomview){var t=Math.floor(e.evt.offsetX-this._scrollboxWidth/2);t<0&&(t=0),this._updateWaveform(t)}};za.prototype._updateWaveform=function(e){var t=Math.floor((this._zoomview.getPixelLength()-this._zoomview.getWidth())*e/this._getScrollbarRange());this._zoomview.updateWaveform(t)};za.prototype.fitToContainer=function(){this._container.clientWidth===0&&this._container.clientHeight===0||(this._container.clientWidth!==this._width&&(this._width=this._container.clientWidth,this._stage.width(this._width),this._updateScrollbarWidthAndPosition()),this._height=this._container.clientHeight,this._stage.height(this._height))};za.prototype.destroy=function(){this._peaks.off("zoomview.update",this._onZoomviewUpdate),this._layer.destroy(),this._stage.destroy(),this._stage=null};function Mo(e){this._peaks=e,this._overview=null,this._zoomview=null,this._scrollbar=null}Mo.prototype.createOverview=function(e){if(this._overview)return this._overview;var t=this._peaks.getWaveformData();return this._overview=new $r(t,e,this._peaks),this._zoomview&&this._overview.showHighlight(this._zoomview.getStartTime(),this._zoomview.getEndTime()),this._overview};Mo.prototype.createZoomview=function(e){if(this._zoomview)return this._zoomview;var t=this._peaks.getWaveformData();return this._zoomview=new dn(t,e,this._peaks),this._scrollbar&&this._scrollbar.setZoomview(this._zoomview),this._zoomview};Mo.prototype.createScrollbar=function(e){return this._scrollbar=new za(e,this._peaks),this._scrollbar};Mo.prototype.destroyOverview=function(){this._overview&&this._zoomview&&(this._overview.destroy(),this._overview=null)};Mo.prototype.destroyZoomview=function(){this._zoomview&&this._overview&&(this._zoomview.destroy(),this._zoomview=null,this._overview.removeHighlightRect())};Mo.prototype.destroy=function(){this._overview&&(this._overview.destroy(),this._overview=null),this._zoomview&&(this._zoomview.destroy(),this._zoomview=null),this._scrollbar&&(this._scrollbar.destroy(),this._scrollbar=null)};Mo.prototype.getView=function(e){if(Ha(e))return this._overview&&this._zoomview?null:this._overview?this._overview:this._zoomview?this._zoomview:null;switch(e){case"overview":return this._overview;case"zoomview":return this._zoomview;default:return null}};Mo.prototype.getScrollbar=function(){return this._scrollbar};function Yc(e,t){this._peaks=e,this._zoomLevels=t,this._zoomLevelIndex=0}Yc.prototype.setZoomLevels=function(e){this._zoomLevels=e,this.setZoom(0,!0)};Yc.prototype.zoomIn=function(){this.setZoom(this._zoomLevelIndex-1,!1)};Yc.prototype.zoomOut=function(){this.setZoom(this._zoomLevelIndex+1,!1)};Yc.prototype.setZoom=function(e,t){if(e>=this._zoomLevels.length&&(e=this._zoomLevels.length-1),e<0&&(e=0),!(!t&&e===this._zoomLevelIndex)){this._zoomLevelIndex=e;var n=this._peaks.views.getView("zoomview");n&&n.setZoom({scale:this._zoomLevels[e]})}};Yc.prototype.getZoom=function(){return this._zoomLevelIndex};Yc.prototype.getZoomLevel=function(){return this._zoomLevels[this._zoomLevelIndex]};var LC="withCredentials"in new XMLHttpRequest;function js(e){this._peaks=e}js.prototype.init=function(e,t){if(e.dataUri&&(e.webAudio||e.audioContext)||e.waveformData&&(e.webAudio||e.audioContext)||e.dataUri&&e.waveformData){t(new TypeError("Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data."));return}if(e.audioContext&&(this._peaks._logger("Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead"),e.webAudio={audioContext:e.audioContext}),e.dataUri)return this._getRemoteWaveformData(e,t);if(e.waveformData)return this._buildWaveformFromLocalData(e,t);if(e.webAudio)return e.webAudio.audioBuffer?this._buildWaveformDataFromAudioBuffer(e,t):this._buildWaveformDataUsingWebAudio(e,t);t(new Error("Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data"))};function Z5(e){var t=e.getResponseHeader("content-range");if(!t)return!1;var n=t.match(/^bytes (\d+)-(\d+)\/(\d+)$/);if(n&&n.length===4){var r=parseInt(n[1],10),i=parseInt(n[2],10),o=parseInt(n[3],10);return r===0&&i+1===o}return!1}js.prototype._getRemoteWaveformData=function(e,t){var n=this,r=null,i=null,o;if(bh(e.dataUri))r=e.dataUri;else{t(new TypeError("Peaks.init(): The dataUri option must be an object"));return}if(["ArrayBuffer","JSON"].some(function(c){if(window[c])return i=c.toLowerCase(),o=r[i],!!o}),!o){t(new Error("Peaks.init(): Unable to determine a compatible dataUri format for this browser"));return}n._xhr=n._createXHR(o,i,e.withCredentials,function(c){if(this.readyState===4){if(this.status!==200&&!(this.status===206&&Z5(this))){t(new Error("Unable to fetch remote data. HTTP status "+this.status));return}n._xhr=null;var d=Ba.create(c.target.response);if(d.channels!==1&&d.channels!==2){t(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"));return}else if(d.bits!==8){t(new Error("Peaks.init(): 16-bit waveform data is not supported"));return}t(void 0,d)}},function(){t(new Error("XHR failed"))},function(){t(new Error("XHR aborted"))}),n._xhr.send()};js.prototype._buildWaveformFromLocalData=function(e,t){var n=null,r=null;if(bh(e.waveformData))n=e.waveformData;else{t(new Error("Peaks.init(): The waveformData option must be an object"));return}if(bh(n.json)?r=n.json:SH(n.arraybuffer)&&(r=n.arraybuffer),!r){t(new Error("Peaks.init(): Unable to determine a compatible waveformData format"));return}try{var i=Ba.create(r);if(i.channels!==1&&i.channels!==2){t(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"));return}else if(i.bits!==8){t(new Error("Peaks.init(): 16-bit waveform data is not supported"));return}t(void 0,i)}catch(o){t(o)}};js.prototype._buildWaveformDataUsingWebAudio=function(e,t){var n=this,r=window.AudioContext||window.webkitAudioContext;if(!(e.webAudio.audioContext instanceof r)){t(new TypeError("Peaks.init(): The webAudio.audioContext option must be a valid AudioContext"));return}var i=e.webAudio;i.scale!==e.zoomLevels[0]&&(i.scale=e.zoomLevels[0]);var o=n._peaks.options.mediaElement.currentSrc;o?n._requestAudioAndBuildWaveformData(o,i,e.withCredentials,t):n._peaks.once("player.canplay",function(){n._requestAudioAndBuildWaveformData(n._peaks.options.mediaElement.currentSrc,i,e.withCredentials,t)})};js.prototype._buildWaveformDataFromAudioBuffer=function(e,t){var n=e.webAudio;n.scale!==e.zoomLevels[0]&&(n.scale=e.zoomLevels[0]);var r={audio_buffer:n.audioBuffer,split_channels:n.multiChannel,scale:n.scale,disable_worker:!0};Ba.createFromAudio(r,t)};js.prototype._requestAudioAndBuildWaveformData=function(e,t,n,r){var i=this;if(!e){i._peaks._logger("Peaks.init(): The mediaElement src is invalid");return}i._xhr=i._createXHR(e,"arraybuffer",n,function(o){if(this.readyState===4){if(this.status!==200&&!(this.status===206&&Z5(this))){r(new Error("Unable to fetch remote data. HTTP status "+this.status));return}i._xhr=null;var c={audio_context:t.audioContext,array_buffer:o.target.response,split_channels:t.multiChannel,scale:t.scale};Ba.createFromAudio(c,r)}},function(){r(new Error("XHR failed"))},function(){r(new Error("XHR aborted"))}),i._xhr.send()};js.prototype.abort=function(){this._xhr&&this._xhr.abort()};js.prototype._createXHR=function(e,t,n,r,i,o){var c=new XMLHttpRequest;if(c.open("GET",e,!0),LC)try{c.responseType=t}catch{}return c.onload=r,c.onerror=i,LC&&n&&(c.withCredentials=!0),c.addEventListener("abort",o),c};function Cl(){return F5.call(this),this.options={zoomLevels:[512,1024,2048,4096],waveformCache:!0,mediaElement:null,mediaUrl:null,dataUri:null,withCredentials:!1,waveformData:null,webAudio:null,nudgeIncrement:1,pointMarkerColor:"#39cccc",createSegmentMarker:BH,createSegmentLabel:VH,createPointMarker:WH,logger:console.error.bind(console)},this}Cl.prototype=Object.create(F5.prototype);var Vm={playheadColor:"#111111",playheadTextColor:"#aaaaaa",playheadBackgroundColor:"transparent",playheadPadding:2,playheadWidth:1,axisGridlineColor:"#cccccc",showAxisLabels:!0,axisTopMarkerHeight:10,axisBottomMarkerHeight:10,axisLabelColor:"#aaaaaa",fontFamily:"sans-serif",fontSize:11,fontStyle:"normal",timeLabelPrecision:2,enablePoints:!0,enableSegments:!0},HC={playheadClickTolerance:3,waveformColor:"rgba(0, 225, 128, 1)",wheelMode:"none",autoScroll:!0,autoScrollOffset:100,enableEditing:!0},BC={waveformColor:"rgba(0, 0, 0, 0.2)",highlightColor:"#aaaaaa",highlightStrokeColor:"transparent",highlightOpacity:.3,highlightOffset:11,highlightCornerRadius:2,enableEditing:!1},qH={overlay:!1,markers:!0,startMarkerColor:"#aaaaaa",endMarkerColor:"#aaaaaa",waveformColor:"#0074d9",overlayColor:"#ff0000",overlayOpacity:.3,overlayBorderColor:"#ff0000",overlayBorderWidth:2,overlayCornerRadius:5,overlayOffset:25,overlayLabelAlign:"left",overlayLabelVerticalAlign:"top",overlayLabelPadding:8,overlayLabelColor:"#000000",overlayFontFamily:"sans-serif",overlayFontSize:12,overlayFontStyle:"normal"},GH={color:"#888888",minWidth:50};function XH(e){var t={};e.overview&&e.overview.showPlayheadTime&&(t.showPlayheadTime=e.overview.showPlayheadTime);var n=["container","waveformColor","playedWaveformColor","playheadColor","playheadTextColor","playheadBackgroundColor","playheadPadding","playheadWidth","formatPlayheadTime","timeLabelPrecision","axisGridlineColor","showAxisLabels","axisTopMarkerHeight","axisBottomMarkerHeight","axisLabelColor","formatAxisTime","fontFamily","fontSize","fontStyle","highlightColor","highlightStrokeColor","highlightOpacity","highlightCornerRadius","highlightOffset","enablePoints","enableSegments","enableEditing"];return n.forEach(function(r){e.overview&&Bt(e.overview,r)?t[r]=e.overview[r]:Bt(e,r)?t[r]=e[r]:Bt(t,r)||(Bt(BC,r)?t[r]=BC[r]:Bt(Vm,r)&&(t[r]=Vm[r]))}),t}function KH(e){var t={};e.showPlayheadTime?t.showPlayheadTime=e.showPlayheadTime:e.zoomview&&e.zoomview.showPlayheadTime&&(t.showPlayheadTime=e.zoomview.showPlayheadTime);var n=["container","waveformColor","playedWaveformColor","playheadColor","playheadTextColor","playheadBackgroundColor","playheadPadding","playheadWidth","formatPlayheadTime","playheadClickTolerance","timeLabelPrecision","axisGridlineColor","showAxisLabels","axisTopMarkerHeight","axisBottomMarkerHeight","axisLabelColor","formatAxisTime","fontFamily","fontSize","fontStyle","wheelMode","autoScroll","autoScrollOffset","enablePoints","enableSegments","enableEditing"];return n.forEach(function(r){e.zoomview&&Bt(e.zoomview,r)?t[r]=e.zoomview[r]:Bt(e,r)?t[r]=e[r]:Bt(t,r)||(Bt(HC,r)?t[r]=HC[r]:Bt(Vm,r)&&(t[r]=Vm[r]))}),t}function YH(e){if(!Bt(e,"scrollbar"))return null;var t={},n=["container","color","minWidth"];return n.forEach(function(r){Bt(e.scrollbar,r)?t[r]=e.scrollbar[r]:t[r]=GH[r]}),t}function om(e,t){for(var n in t)Bt(t,n)&&Bt(e,n)&&(e[n]=t[n]);return e}function ZH(e,t){e.segmentOptions={},ch(e.segmentOptions,qH),t.segmentOptions&&om(e.segmentOptions,t.segmentOptions),e.zoomview.segmentOptions={},ch(e.zoomview.segmentOptions,e.segmentOptions),t.zoomview&&t.zoomview.segmentOptions&&om(e.zoomview.segmentOptions,t.zoomview.segmentOptions),e.overview.segmentOptions={},ch(e.overview.segmentOptions,e.segmentOptions),t.overview&&t.overview.segmentOptions&&om(e.overview.segmentOptions,t.overview.segmentOptions)}function VC(e){var t=e.zoomview.container,n=e.overview.container;if(!i1(t)&&!i1(n))return new TypeError("Peaks.init(): The zoomview and/or overview container options must be valid HTML elements");if(t&&(t.clientWidth<=0||t.clientHeight<=0))return new Error("Peaks.init(): The zoomview container must be visible and have non-zero width and height");if(n&&(n.clientWidth<=0||n.clientHeight<=0))return new Error("Peaks.init(): The overview container must be visible and have non-zero width and height")}Cl.init=function(e,t){if(!t)throw new Error("Peaks.init(): Missing callback function");var n=new Cl,r=n._setOptions(e);if(r||(r=VC(n.options)),r){t(r);return}var i=null;if(n.options.scrollbar){if(i=n.options.scrollbar.container,!i1(i)){t(new TypeError("Peaks.init(): The scrollbar container option must be a valid HTML element"));return}if(i.clientWidth<=0){t(new TypeError("Peaks.init(): The scrollbar container must be visible and have non-zero width"));return}}e.keyboard&&(n._keyboardHandler=new r2(n));var o=e.player?e.player:new ji(n.options.mediaElement);n.player=new pi(n,o),n.segments=new hr(n),n.points=new Zr(n),n.zoom=new Yc(n,n.options.zoomLevels),n.views=new Mo(n),n._waveformBuilder=new js(n),n.player.init(n).then(function(){n._waveformBuilder.init(n.options,function(c,d){if(c){t(c);return}if(c=VC(n.options),c){t(c);return}n._waveformBuilder=null,n._waveformData=d;var f=n.options.zoomview.container,h=n.options.overview.container;f&&n.views.createZoomview(f),h&&n.views.createOverview(h),i&&n.views.createScrollbar(i),e.segments&&n.segments.add(e.segments),e.points&&n.points.add(e.points),e.emitCueEvents&&(n._cueEmitter=new ds(n)),t(null,n)})}).catch(function(c){t(c)})};Cl.prototype._setOptions=function(e){if(!bh(e))return new TypeError("Peaks.init(): The options parameter should be an object");if(!e.player){if(!e.mediaElement)return new Error("Peaks.init(): Missing mediaElement option");if(!(e.mediaElement instanceof HTMLMediaElement))return new TypeError("Peaks.init(): The mediaElement option should be an HTMLMediaElement")}if(e.logger&&!CH(e.logger))return new TypeError("Peaks.init(): The logger option should be a function");if(e.segments&&!Array.isArray(e.segments))return new TypeError("Peaks.init(): options.segments must be an array of segment objects");if(e.points&&!Array.isArray(e.points))return new TypeError("Peaks.init(): options.points must be an array of point objects");if(om(this.options,e),this.options.overview=XH(e),this.options.zoomview=KH(e),this.options.scrollbar=YH(e),ZH(this.options,e),Array.isArray(this.options.zoomLevels)){if(this.options.zoomLevels.length===0)return new Error("Peaks.init(): The zoomLevels array must not be empty");if(!wH(this.options.zoomLevels))return new Error("Peaks.init(): The zoomLevels array must be sorted in ascending order")}else return new TypeError("Peaks.init(): The zoomLevels option should be an array");this._logger=this.options.logger};Cl.prototype.setSource=function(e,t){var n=this;n.player._setSource(e).then(function(){e.zoomLevels||(e.zoomLevels=n.options.zoomLevels),n._waveformBuilder=new js(n),n._waveformBuilder.init(e,function(r,i){if(r){t(r);return}n._waveformBuilder=null,n._waveformData=i,["overview","zoomview"].forEach(function(o){var c=n.views.getView(o);c&&c.setWaveformData(i)}),n.zoom.setZoomLevels(e.zoomLevels),t()})}).catch(function(r){t(r)})};Cl.prototype.getWaveformData=function(){return this._waveformData};Cl.prototype.destroy=function(){this._waveformBuilder&&this._waveformBuilder.abort(),this._keyboardHandler&&this._keyboardHandler.destroy(),this.views&&this.views.destroy(),this.player&&this.player.destroy(),this._cueEmitter&&this._cueEmitter.destroy()};function QH({isOpen:e,onClose:t,onConfirm:n,videoName:r}){return e?l.jsx("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:20",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",children:l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:21",className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:23",className:"sticky top-0 bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between",children:[l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:24",className:"flex items-center gap-3",children:[l.jsx("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:25",className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:28",children:[l.jsx("h2",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:29",className:"text-xl font-bold",children:"Modify Markers?"}),l.jsx("p",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:30",className:"text-sm text-white/90",children:r})]})]}),l.jsx("button",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:33",onClick:t,className:"text-white/80 hover:text-white transition-colors",children:l.jsx(ai,{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:37",size:24})})]}),l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:42",className:"p-6",children:[l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:43",className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4 mb-6",children:[l.jsx("p",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:44",className:"text-gray-800 leading-relaxed",children:"Are you sure you want to modify the markers?"}),l.jsxs("p",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:47",className:"text-gray-700 leading-relaxed mt-3",children:["If you modify them, this video will need to be"," ",l.jsx("span",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:49",className:"font-semibold text-orange-600",children:"re-trimmed using the red button below"})," ","to appear correctly in Step 10."]})]}),l.jsxs("div",{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:55",className:"flex gap-3",children:[l.jsx(ke,{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:56",onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Cancel"}),l.jsx(ke,{"data-loc":"client/src/components/MarkerModificationConfirmModal.tsx:62",onClick:()=>{n(),t()},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white",children:"Yes, Modify Markers"})]})]})]})}):null}const JH=mt.memo(function({video:t,previousVideo:n,nextVideo:r,onTrimChange:i,onCutAndMerge:o,onTestOverlay:c,onReprocess:d,onMarkerModified:f,overlaySettings:h,onOverlaySettingsChange:m,previousVideoOverlaySettings:p}){const x=N.useRef(null),v=N.useRef(null),w=N.useRef(null),y=N.useRef(null),[b,_]=N.useState(null),[D,C]=N.useState(null),[M,A]=N.useState(t.cutPoints?.startKeep||0),[j,U]=N.useState(t.cutPoints?.endKeep||t.duration*1e3),[F,O]=N.useState(!1),[$,se]=N.useState(0),[I,Q]=N.useState(!1),[k,ae]=N.useState(t.duration),[H,G]=N.useState(Math.min(8,k)),[q,ee]=N.useState(t.isStartLocked??!1),[xe,B]=N.useState(t.isEndLocked??!1),[te,J]=N.useState(!1),[de,_e]=N.useState(!0),Oe=t.videoName.toLowerCase().includes("hook"),[Ee,He]=N.useState({horizontal:!1,vertical:!1}),Qe=3,[at,Ie]=N.useState(!1),[tt,nt]=N.useState(null),P={enabled:!0,text:"",x:50,y:75.5,fontFamily:"'Inter', system-ui, sans-serif",fontSize:20,bold:!0,italic:!1,textColor:"#000000",backgroundColor:"#ffffff",opacity:1,padding:5,cornerRadius:5,lineSpacing:-10,isLocked:!1,videoWidth:void 0,videoHeight:void 0,scaleFactor:void 0},[he,ye]=N.useState({...P,...h}),[ne,le]=N.useState(10),[fe,Le]=N.useState(!1),[qe,Se]=N.useState(""),[oe,Y]=N.useState(null),[Ce,Fe]=N.useState(null),[lt,vt]=N.useState(null),Et=N.useRef(0),yt=N.useRef(0),_t=V=>V/1e3,Xt=V=>Math.round(V*1e3);console.log("[VideoEditorV2] Received video:",t),N.useEffect(()=>{t.cutPoints&&(console.log("[VideoEditorV2] useEffect triggered! Updating trim markers from cutPoints:",{startKeep:t.cutPoints.startKeep,endKeep:t.cutPoints.endKeep,videoName:t.videoName}),A(t.cutPoints.startKeep),U(t.cutPoints.endKeep),D&&(console.log("[VideoEditorV2] Updating Peaks.js segment"),D.update({startTime:_t(t.cutPoints.startKeep),endTime:_t(t.cutPoints.endKeep)})))},[t.cutPoints?.startKeep,t.cutPoints?.endKeep,t.audioUrl,t.peaksUrl]),N.useEffect(()=>{let V=0;const X=50,pe=()=>{v.current&&w.current?(console.log("[VideoEditorV2] All refs are ready!"),Q(!0)):V<X?(V++,V%10===0&&console.log(`[VideoEditorV2] Waiting for refs (${V}/${X})...`),setTimeout(pe,100)):console.error("[VideoEditorV2] Refs not ready after max retries!",{zoomview:!!v.current,audio:!!w.current})};requestAnimationFrame(()=>setTimeout(pe,0))},[]),N.useEffect(()=>{if(!I){console.log("[VideoEditorV2] Waiting for refs to be ready...");return}return console.log("[VideoEditorV2] Initializing Peaks.js..."),Me(),()=>{console.log("[VideoEditorV2] Destroying Peaks.js instance"),b?.destroy()}},[I]);const Me=async()=>{if(console.log("[VideoEditorV2] initializePeaks called"),!v.current||!x.current){console.error("[VideoEditorV2] Missing refs!");return}const V={zoomview:{container:v.current,waveformColor:"#cccccc",playheadColor:"transparent",wheelMode:"none",segmentOptions:{startMarkerColor:"transparent",endMarkerColor:"transparent",waveformColor:"transparent",overlayColor:"transparent"}},mediaElement:x.current,dataUri:{json:t.peaksUrl},keyboard:!0,showPlayheadTime:!1,zoomLevels:[1024,2048,4096,8192,16384,32768,65536,131072],segmentOptions:{startMarkerColor:"transparent",endMarkerColor:"transparent",waveformColor:"transparent",overlayColor:"transparent"}};Cl.init(V,(X,pe)=>{if(X){console.error("[VideoEditorV2] Peaks.js init error:",X);return}console.log("[VideoEditorV2] Peaks.js initialized successfully"),_(pe);const Re=pe.segments.add({startTime:_t(t.cutPoints?.startKeep||0),endTime:_t(t.cutPoints?.endKeep||t.duration*1e3),editable:!1,color:"transparent",labelText:""});C(Re),console.log("[VideoEditorV2] Trim segment created:",Re),setTimeout(()=>{const wt=v.current;if(!wt){console.error("[VideoEditorV2] zoomviewContainer is null");return}console.log("[VideoEditorV2] DEBUG: zoomviewContainer:",wt),console.log("[VideoEditorV2] DEBUG: All children:",wt.children);const Zt=[".peaks-zoomview",".peaks-workspace","[data-peaks-zoomview]","div > div"];let pn=null,Qt="";for(const Ne of Zt)if(pn=wt.querySelector(Ne),pn){Qt=Ne,console.log(`[VideoEditorV2] Found draggable wrapper with selector: ${Ne}`);break}if(!pn){const Ne=wt.querySelector("div");Ne&&(pn=Ne,Qt="first div child",console.log("[VideoEditorV2] Using first div child as draggable wrapper"))}if(pn){const Ne=pn;console.log("[VideoEditorV2] Freezing element:",{selector:Qt,element:Ne,tagName:Ne.tagName,className:Ne.className,id:Ne.id}),Ne.style.pointerEvents="none",Ne.style.touchAction="none",Ne.style.userSelect="none",Ne.addEventListener("mousedown",ze=>(ze.preventDefault(),ze.stopPropagation(),console.log("[VideoEditorV2] Pan mousedown BLOCKED"),!1),{capture:!0,passive:!1}),Ne.addEventListener("mousemove",ze=>(ze.preventDefault(),ze.stopPropagation(),!1),{capture:!0,passive:!1}),Ne.addEventListener("mouseup",ze=>(ze.preventDefault(),ze.stopPropagation(),!1),{capture:!0,passive:!1}),Ne.addEventListener("touchstart",ze=>(ze.preventDefault(),ze.stopPropagation(),!1),{capture:!0,passive:!1}),Ne.addEventListener("touchmove",ze=>(ze.preventDefault(),ze.stopPropagation(),!1),{capture:!0,passive:!1}),console.log("[VideoEditorV2]  Waveform pan FROZEN successfully")}else console.error("[VideoEditorV2]  Could not find draggable wrapper!"),console.log("[VideoEditorV2] All elements in container:"),wt.querySelectorAll("*").forEach((ze,st)=>{console.log(`  ${st}: ${ze.tagName}.${ze.className} #${ze.id}`)})},200);const Ye=Math.min(8,t.duration),Ct=pe.views.getView("zoomview");if(Ct){Ct.setZoom({seconds:Ye});const wt=((t.cutPoints?.startKeep||0)+(t.cutPoints?.endKeep||0))/2e3,Zt=Math.max(0,wt-Ye/2);Ct.setStartTime(Zt),console.log("[VideoEditorV2] Initial zoom set to",Ye,"seconds")}})};N.useEffect(()=>{D&&D.update({startTime:_t(M),endTime:_t(j)})},[M,j,D]),N.useEffect(()=>{q&&Ce===null?(Fe(M),console.log("[VideoEditorV2] START locked, playhead initialized at previewStart",M)):!q&&Ce!==null&&(Fe(null),console.log("[VideoEditorV2] START unlocked, playhead hidden"))},[q,Ce,M]),N.useEffect(()=>{if(q&&Ce!==null&&(Ce<M||Ce>j)){const V=Math.max(M,Math.min(Ce,j));Fe(V)}},[M,j,q,Ce]);const Ze=()=>{};N.useEffect(()=>{let V;const X=()=>{if(x.current&&F){const pe=Xt(x.current.currentTime);if(se(pe),pe>=j-20){x.current.pause(),O(!1),x.current.currentTime=_t(j),console.log("[VideoEditorV2] Stopped at END marker:",j);return}V=requestAnimationFrame(X)}};return F&&(V=requestAnimationFrame(X)),()=>{V&&cancelAnimationFrame(V)}},[F,j]);const pt=()=>{x.current&&(F?(x.current.pause(),O(!1)):(q&&Ce!==null?(x.current.currentTime=_t(Ce),console.log("[VideoEditorV2] Playing from playhead:",Ce)):(x.current.currentTime=_t(M),console.log("[VideoEditorV2] Playing from START:",M)),x.current.play(),O(!0)))},gt=()=>{x.current&&(x.current.currentTime=_t(M))},Vt=V=>{if(!b||!y.current)return 0;const X=b.views.getView("zoomview");if(!X)return 0;const pe=X.getStartTime(),Re=X.getEndTime(),Ye=y.current.offsetWidth,wt=_t(V)-pe,Zt=Re-pe;return wt/Zt*Ye},Kt=V=>{if(!b||!y.current)return 0;const X=b.views.getView("zoomview");if(!X)return 0;const pe=X.getStartTime(),Re=X.getEndTime(),Ye=y.current.offsetWidth,Ct=Re-pe,wt=V/Ye*Ct,Zt=pe+wt;return Math.max(0,Math.min(t.duration*1e3,Xt(Zt)))},an=(V,X)=>{X==="start"&&q||X==="end"&&xe||(V.preventDefault(),V.stopPropagation(),vt(X),Et.current=V.clientX,X==="start"?yt.current=M:X==="end"?yt.current=j:X==="playhead"&&Ce!==null&&(yt.current=Ce),console.log("[VideoEditorV2] Started dragging",X))};N.useEffect(()=>{const V=pe=>{if(!lt||!y.current)return;const Re=y.current.getBoundingClientRect(),Ye=pe.clientX-Re.left,Ct=Kt(Ye);if(lt==="start"){const wt=Math.max(0,Math.min(Ct,j-100));A(wt),x.current&&(x.current.currentTime=_t(wt))}else if(lt==="end"){const wt=Math.max(M+100,Math.min(Ct,t.duration*1e3));U(wt),x.current&&(x.current.currentTime=_t(wt))}else if(lt==="playhead"){const wt=Math.max(0,Math.min(Ct,t.duration*1e3));Fe(wt),x.current&&(x.current.currentTime=_t(wt))}},X=()=>{lt&&(console.log("[VideoEditorV2] Stopped dragging",lt),vt(null))};return lt&&(window.addEventListener("mousemove",V),window.addEventListener("mouseup",X)),()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",X)}},[lt,M,j,Ce,t.duration,t.id,i,q,xe]);const Dn=()=>{if(!b)return;const V=b.views.getView("zoomview");if(!V)return;const X=t.duration;if(!X)return;const Ye=Math.max(.5,(H||X)/2),Ct=V.getStartTime(),wt=V.getEndTime(),Zt=(Ct+wt)/2,pn=Ye/2;let Qt=Zt-pn;Qt<0&&(Qt=0),Qt+Ye>X&&(Qt=Math.max(0,X-Ye)),V.setZoom({seconds:Ye}),V.setStartTime(Qt),G(Ye)},jn=()=>{if(!b)return;const V=b.views.getView("zoomview");if(!V)return;const X=t.duration;if(!X)return;const Ye=Math.min(X,(H||X)*2),Ct=V.getStartTime(),wt=V.getEndTime(),Zt=(Ct+wt)/2,pn=Ye/2;let Qt=Zt-pn;Qt<0&&(Qt=0),Qt+Ye>X&&(Qt=Math.max(0,X-Ye)),V.setZoom({seconds:Ye}),V.setStartTime(Qt),G(Ye)},Ln=V=>isNaN(V)||!isFinite(V)?"0.000":(V/1e3).toFixed(3);return l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:713",className:"border-2 border-purple-300 rounded-lg p-3 bg-white",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:715",className:"mb-3",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:716",className:"flex justify-center items-center gap-2 mb-3",children:[l.jsx("h3",{"data-loc":"client/src/components/VideoEditorV2.tsx:717",className:"text-base font-bold text-center px-5 py-2.5 bg-green-100 text-green-900 rounded-lg inline-block",children:t.videoName}),t.generationCount&&t.generationCount>0&&l.jsxs("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:721",className:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded font-semibold",children:["Regen: ",t.generationCount]})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:726",className:"relative bg-black rounded-lg overflow-hidden mx-auto",style:{aspectRatio:"9/16",width:"100%",maxWidth:"300px"},children:[l.jsx("video",{"data-loc":"client/src/components/VideoEditorV2.tsx:730",ref:x,src:t.videoUrl,className:"absolute top-0 left-0 w-full h-full object-contain",playsInline:!0,crossOrigin:"anonymous",onTimeUpdate:Ze,onLoadedMetadata:V=>{const X=V.currentTarget,pe=X.videoWidth/X.clientWidth;console.log("[VideoEditorV2]  Player dimensions (displayed):",X.clientWidth,"x",X.clientHeight),console.log("[VideoEditorV2]  Video dimensions (native):",X.videoWidth,"x",X.videoHeight),console.log("[VideoEditorV2]  Scale factor:",pe),ye(Re=>({...Re,videoWidth:X.videoWidth,videoHeight:X.videoHeight,scaleFactor:pe}))}}),Oe&&Ee.horizontal&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:756",className:"absolute w-full border-t-2 border-purple-500 pointer-events-none",style:{top:"50%",left:0,right:0,zIndex:10}}),Oe&&Ee.vertical&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:764",className:"absolute h-full border-l-2 border-purple-500 pointer-events-none",style:{left:"50%",top:0,bottom:0,zIndex:10}}),Oe&&he.enabled&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:772",className:"absolute cursor-move select-none",style:{left:`${he.x}%`,top:`${he.y}%`,transform:"translate(-50%, -50%)",pointerEvents:"all",zIndex:20},onMouseDown:V=>{V.preventDefault();const X=V.currentTarget.parentElement;if(!X)return;const pe=X.getBoundingClientRect(),Re=V.clientX,Ye=V.clientY,Ct=he.x,wt=he.y,Zt=Qt=>{const Ne=Qt.clientX-Re,ze=Qt.clientY-Ye;let st=Math.max(0,Math.min(100,Ct+Ne/pe.width*100)),qt=Math.max(0,Math.min(100,wt+ze/pe.height*100));const Nt=Math.abs(qt-50)<Qe,Ut=Math.abs(st-50)<Qe;Nt&&(qt=50),Ut&&(st=50),He({horizontal:Nt,vertical:Ut}),ye(kt=>({...kt,x:st,y:qt}))},pn=()=>{document.removeEventListener("mousemove",Zt),document.removeEventListener("mouseup",pn),He({horizontal:!1,vertical:!1}),m?.(t.videoName,he)};document.addEventListener("mousemove",Zt),document.addEventListener("mouseup",pn)},children:l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:821",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(he.text||`Lorem ipsum generator
Lorem ipsum`).split(`
`).map((V,X,pe)=>l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:823",style:{display:"inline-block",fontFamily:he.fontFamily,fontSize:`${he.fontSize}px`,fontWeight:he.bold?700:400,fontStyle:he.italic?"italic":"normal",color:he.textColor,backgroundColor:he.backgroundColor,padding:`${he.padding}px ${he.padding*1.5}px`,borderRadius:`${he.cornerRadius}px`,marginBottom:X<pe.length-1?`${he.lineSpacing}px`:"0",whiteSpace:"nowrap",position:"relative",zIndex:pe.length-X},children:V||" "},X))})})]}),l.jsx("audio",{"data-loc":"client/src/components/VideoEditorV2.tsx:848",id:"peaks-audio-element",ref:w,src:t.audioUrl,crossOrigin:"anonymous",style:{display:"none"}}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:857",className:"flex flex-col sm:flex-row justify-center mt-2 gap-2",children:[l.jsxs(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:858",onClick:pt,size:"sm",variant:"outline",children:[F?l.jsx(PI,{"data-loc":"client/src/components/VideoEditorV2.tsx:863",className:"w-4 h-4 mr-1"}):l.jsx(yA,{"data-loc":"client/src/components/VideoEditorV2.tsx:863",className:"w-4 h-4 mr-1"}),F?"Pause":"Play"]}),l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:866",onClick:gt,size:"sm",variant:"outline",children:" JUMP to START"})]})]}),t.text&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:878",className:"mb-2 mx-auto",style:{maxWidth:"300px"},children:l.jsx("p",{"data-loc":"client/src/components/VideoEditorV2.tsx:879",className:"text-xs text-gray-800 text-center",children:t.redStart!==void 0&&t.redEnd!==void 0?l.jsxs(l.Fragment,{children:[t.text.substring(0,t.redStart),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:883",className:"text-red-600 font-bold",children:t.text.substring(t.redStart,t.redEnd)}),t.text.substring(t.redEnd)]}):t.text})}),t.editingDebugInfo&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:898",className:"mb-2 text-center",children:l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:899",onClick:()=>J(!te),className:"text-blue-600 hover:text-blue-800 underline text-sm font-medium",children:te?"Hide Log":"View Log"})}),Oe&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:910",className:"mb-2 text-center flex items-center justify-center gap-4",children:[l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:911",onClick:()=>_e(!de),className:"text-purple-600 hover:text-purple-800 underline text-sm font-medium",children:de?"- Overlay Settings":"+ Overlay Settings"}),l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:919",onClick:()=>{const V={...he,isLocked:!he.isLocked};ye(V),m?.(t.videoName,V)},className:`px-3 py-1 rounded text-xs font-semibold transition-colors ${he.isLocked?"bg-gray-400 text-white hover:bg-gray-500":"bg-green-600 text-white hover:bg-green-700"}`,children:he.isLocked?" Unlock Overlay":" Lock Overlay"})]}),t.editingDebugInfo&&te&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:939",className:"mb-4 p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:940",className:`px-3 py-1 border rounded text-xs font-semibold inline-flex items-center gap-1 mb-3 ${t.editingDebugInfo.status==="success"?"bg-green-100 border-green-400 text-green-700":t.editingDebugInfo.status==="warning"?"bg-yellow-100 border-yellow-400 text-yellow-700":"bg-red-100 border-red-400 text-red-700"}`,children:l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:945",children:t.editingDebugInfo.message})}),t.editingDebugInfo.whisperTranscript&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:948",className:"px-3 py-2 bg-blue-50 border border-blue-300 rounded text-xs mb-3",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:949",className:"font-semibold text-blue-700 mb-1",children:[" Whisper Transcript (",t.editingDebugInfo.whisperWordCount||0," words):"]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:952",className:"text-blue-900 italic",children:['"',t.editingDebugInfo.whisperTranscript,'"']})]}),t.editingDebugInfo.algorithmLogs&&t.editingDebugInfo.algorithmLogs.length>0&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:958",className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded text-xs",children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:959",className:"font-semibold text-gray-700 mb-2",children:" Algorithm Execution Log:"}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:962",className:"space-y-1 font-mono text-[10px] text-gray-800",children:t.editingDebugInfo.algorithmLogs.map((V,X)=>l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:964",className:"leading-tight",children:V},X))})]})]}),Oe&&de&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:976",className:"mb-3 p-3 bg-purple-50 border border-purple-300 rounded text-xs mx-auto w-full md:w-[60%] lg:w-[40%]",children:l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:977",className:"space-y-2",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:979",children:[l.jsx("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:980",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:"Text:"}),l.jsx("textarea",{"data-loc":"client/src/components/VideoEditorV2.tsx:983",value:he.text,onChange:V=>{const X={...he,text:V.target.value};ye(X)},placeholder:`Lorem ipsum generator
Lorem ipsum`,className:"w-full px-2 py-1 border border-gray-300 rounded text-xs disabled:bg-gray-100 disabled:cursor-not-allowed",rows:3,disabled:he.isLocked})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:997",className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:998",children:[l.jsx("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:999",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:"Font:"}),l.jsxs("select",{"data-loc":"client/src/components/VideoEditorV2.tsx:1002",value:he.fontFamily,onChange:V=>{const X={...he,fontFamily:V.target.value};ye(X)},className:"w-full px-2 py-1 border border-gray-300 rounded text-xs disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:he.isLocked,children:[l.jsx("option",{"data-loc":"client/src/components/VideoEditorV2.tsx:1011",value:"'Inter', system-ui, sans-serif",children:"Inter"}),l.jsx("option",{"data-loc":"client/src/components/VideoEditorV2.tsx:1012",value:"'Roboto', system-ui, sans-serif",children:"Roboto"}),l.jsx("option",{"data-loc":"client/src/components/VideoEditorV2.tsx:1013",value:"Arial, sans-serif",children:"Arial"}),l.jsx("option",{"data-loc":"client/src/components/VideoEditorV2.tsx:1014",value:"'Times New Roman', serif",children:"Times"})]})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1017",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1018",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:["Size: ",he.fontSize,"px"]}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1021",type:"range",min:"10",max:"120",value:he.fontSize,onChange:V=>{const X={...he,fontSize:parseInt(V.target.value)};ye(X)},className:"w-full h-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1037",className:"flex gap-3",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1038",className:"flex items-center gap-1 text-[10px]",children:[l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1039",type:"checkbox",checked:he.bold,onChange:V=>{const X={...he,bold:V.target.checked};ye(X)},className:"w-3 h-3 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked}),"Bold"]}),l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1051",className:"flex items-center gap-1 text-[10px] italic",children:[l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1052",type:"checkbox",checked:he.italic,onChange:V=>{const X={...he,italic:V.target.checked};ye(X)},className:"w-3 h-3 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked}),"Italic"]})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1067",className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1068",children:[l.jsx("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1069",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:"Text:"}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1072",type:"color",value:he.textColor,onChange:V=>{const X={...he,textColor:V.target.value};ye(X)},className:"w-full h-6 border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1083",children:[l.jsx("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1084",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:"BG:"}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1087",type:"color",value:he.backgroundColor,onChange:V=>{const X={...he,backgroundColor:V.target.value};ye(X)},className:"w-full h-6 border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1101",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1102",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:["Opacity: ",(he.opacity*100).toFixed(0),"%"]}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1105",type:"range",min:"0",max:"1",step:"0.01",value:he.opacity,onChange:V=>{const X={...he,opacity:parseFloat(V.target.value)};ye(X)},className:"w-full h-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1121",className:"grid grid-cols-3 gap-2",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1122",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1123",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:["Padding: ",he.padding,"px"]}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1126",type:"range",min:"0",max:"40",value:he.padding,onChange:V=>{const X={...he,padding:parseInt(V.target.value)};ye(X)},className:"w-full h-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1139",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1140",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:["Radius: ",he.cornerRadius,"px"]}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1143",type:"range",min:"0",max:"40",value:he.cornerRadius,onChange:V=>{const X={...he,cornerRadius:parseInt(V.target.value)};ye(X)},className:"w-full h-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1156",children:[l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1157",className:"block text-[10px] font-medium text-gray-700 mb-0.5",children:["Spacing: ",he.lineSpacing,"px"]}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1160",type:"range",min:"-80",max:"80",value:he.lineSpacing,onChange:V=>{const X={...he,lineSpacing:parseInt(V.target.value)};ye(X)},className:"w-full h-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:he.isLocked})]})]}),n&&p&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1177",className:"mt-2",children:l.jsxs("label",{"data-loc":"client/src/components/VideoEditorV2.tsx:1178",className:"flex items-center gap-1 text-[10px] text-gray-700 cursor-pointer",children:[l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1179",type:"checkbox",checked:!1,disabled:he.isLocked,onChange:V=>{if(V.target.checked&&p){const X={...he,x:p.x,y:p.y,fontFamily:p.fontFamily,fontSize:p.fontSize,bold:p.bold,italic:p.italic,textColor:p.textColor,backgroundColor:p.backgroundColor,opacity:p.opacity,padding:p.padding,cornerRadius:p.cornerRadius,lineSpacing:p.lineSpacing};ye(X),m?.(t.videoName,X)}},className:"w-3 h-3"}),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1207",children:"Copy settings from above"})]})}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1213",className:"text-[10px] text-gray-600",children:["Pos: X=",he.x.toFixed(1),"%, Y=",he.y.toFixed(1),"%"]})]})}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1221",className:"mb-2",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1222",className:"flex flex-wrap items-center justify-center gap-2 md:gap-4 mb-1",children:[t.noCutNeeded&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1226",className:"px-3 py-1 bg-orange-100 border border-orange-400 rounded text-xs font-semibold text-orange-700 flex items-center gap-1",children:[l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1227",children:""}),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1228",children:"NO CUT NEEDED"})]}),d&&(!t.audioWav||!t.markers||!t.cleanVoiceUrl)&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1234",className:"px-3 py-1 bg-red-100 border-2 border-red-500 rounded text-xs font-bold text-red-700 flex items-center gap-1 animate-pulse",children:[l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1235",children:""}),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1236",children:"WARNING: Please reprocess this video first"})]}),d&&l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1242",onClick:()=>d(t.videoName),size:"sm",variant:"outline",className:"h-6 md:h-7 text-[10px] md:text-xs px-2 border-blue-500 text-blue-700 hover:bg-blue-50",children:" Reprocesare"}),l.jsxs(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1253",onClick:async()=>{if(t.trimmedVideoUrl&&!q){nt("start"),Ie(!0);return}const V=!q;ee(V),i&&i(t.id,{startKeep:Math.round(M),endKeep:Math.round(j)},V,xe)},size:"sm",variant:q?"default":"outline",className:"h-7 text-xs px-2",style:{backgroundColor:q?"#22c55e":void 0,borderColor:q?"#22c55e":void 0,color:q?"white":void 0},children:[q?l.jsx(GS,{"data-loc":"client/src/components/VideoEditorV2.tsx:1282",className:"w-3 h-3 mr-1"}):l.jsx(qS,{"data-loc":"client/src/components/VideoEditorV2.tsx:1282",className:"w-3 h-3 mr-1"}),q?"START Locked":"Lock START"]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1287",className:"flex flex-col items-center gap-1",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1289",className:"flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1290",onClick:jn,size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:l.jsx(LI,{"data-loc":"client/src/components/VideoEditorV2.tsx:1291",className:"w-3 h-3"})}),l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1293",onClick:Dn,size:"sm",variant:"outline",className:"h-6 w-6 p-0",children:l.jsx(FI,{"data-loc":"client/src/components/VideoEditorV2.tsx:1294",className:"w-3 h-3"})})]}),l.jsxs("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1298",className:"text-xs text-gray-600 whitespace-nowrap",children:["Current: ",l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1299",className:"font-mono font-bold text-purple-600",children:Ln($)})," / ",l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1301",className:"font-mono",children:Ln(t.duration*1e3)})]})]}),l.jsxs(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1306",onClick:async()=>{if(t.trimmedVideoUrl&&!xe){nt("end"),Ie(!0);return}const V=!xe;B(V),i&&i(t.id,{startKeep:Math.round(M),endKeep:Math.round(j)},q,V)},size:"sm",variant:xe?"default":"outline",className:"h-7 text-xs px-2",style:{backgroundColor:xe?"#ef4444":void 0,borderColor:xe?"#ef4444":void 0,color:xe?"white":void 0},children:[xe?l.jsx(GS,{"data-loc":"client/src/components/VideoEditorV2.tsx:1335",className:"w-3 h-3 mr-1"}):l.jsx(qS,{"data-loc":"client/src/components/VideoEditorV2.tsx:1335",className:"w-3 h-3 mr-1"}),xe?"END Locked":"Lock END"]}),t.step9Note&&l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1341",className:"ml-3 px-3 py-1 bg-yellow-100 border border-yellow-400 rounded text-xs text-yellow-900 max-w-xs truncate",title:t.step9Note,children:[" ",t.step9Note]}),o&&(n||r)&&l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1348",onClick:async()=>{Le(!0),Se("Starting merge...");try{await o(n,t,r)}catch(V){console.error("[Cut & Merge] Error:",V)}finally{Le(!1),Se("")}},disabled:fe,size:"sm",variant:"outline",className:"ml-2 md:ml-3 h-6 md:h-7 text-[10px] md:text-xs px-2 md:px-3 border-blue-500 text-blue-700 hover:bg-blue-50",children:fe?"Merging...":"Cut & Merge (test)"}),Oe&&he.enabled&&c&&l.jsx(ke,{"data-loc":"client/src/components/VideoEditorV2.tsx:1372",onClick:async()=>{Le(!0),Se("Testing overlay...");try{await c(t,he)}catch(V){console.error("[Test Overlay] Error:",V)}finally{Le(!1),Se("")}},disabled:fe,size:"sm",variant:"outline",className:"ml-2 md:ml-3 h-6 md:h-7 text-[10px] md:text-xs px-2 md:px-3 border-purple-500 text-purple-700 hover:bg-purple-50",children:fe?"Testing...":" Test Overlay"})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1396",ref:y,className:"waveform-scroll-container",style:{height:"120px",width:"100%",overflowX:"hidden",overflowY:"hidden",position:"relative"},children:[l.jsx("style",{"data-loc":"client/src/components/VideoEditorV2.tsx:1408",children:`
            /* Firefox scrollbar */
            .waveform-scroll-container {
              scrollbar-width: thin;
              scrollbar-color: #9ca3af #e5e7eb;
            }
            
            /* Chrome/Safari/Edge scrollbar */
            .waveform-scroll-container::-webkit-scrollbar {
              height: 4px;
            }
            .waveform-scroll-container::-webkit-scrollbar-track {
              background: #e5e7eb;
              border-radius: 2px;
            }
            .waveform-scroll-container::-webkit-scrollbar-thumb {
              background: #9ca3af;
              border-radius: 2px;
            }
            .waveform-scroll-container::-webkit-scrollbar-thumb:hover {
              background: #6b7280;
            }
          `}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1432",id:"peaks-zoomview-container",ref:v,className:"border border-gray-300 rounded",style:{height:"120px",width:"100%"}}),b&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1443",style:{position:"absolute",left:`${Vt(M)}px`,top:0,transform:"translateX(0px)",zIndex:10},children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1453",style:{position:"absolute",left:0,top:0,width:"2px",height:"120px",backgroundColor:q?"#d1d5db":"#22c55e",pointerEvents:"none"}}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1465",onMouseDown:V=>an(V,"start"),style:{position:"absolute",left:"-5px",top:0,width:"12px",height:"12px",backgroundColor:q?"#d1d5db":"#22c55e",cursor:q?"not-allowed":"ew-resize",pointerEvents:q?"none":"auto",borderRadius:"2px",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},title:q?"START (Locked)":"START (Drag to move)"})]}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1485",style:{position:"absolute",left:`${Vt(j)}px`,top:0,transform:"translateX(-1px)",zIndex:10},children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1495",style:{position:"absolute",left:0,top:0,width:"2px",height:"120px",backgroundColor:xe?"#d1d5db":"#ef4444",pointerEvents:"none"}}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1507",onMouseDown:V=>an(V,"end"),style:{position:"absolute",left:j>=k*1e3-10?"-12px":"-5px",top:0,width:"12px",height:"12px",backgroundColor:xe?"#d1d5db":"#ef4444",cursor:xe?"not-allowed":"ew-resize",pointerEvents:xe?"none":"auto",borderRadius:"2px",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},title:xe?"END (Locked)":"END (Drag to move)"})]}),q&&Ce!==null&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1528",onMouseDown:V=>an(V,"playhead"),style:{position:"absolute",left:`${Vt(Ce)}px`,top:0,width:"1.5px",height:"120px",backgroundColor:"#000000",cursor:"ew-resize",transform:"translateX(-0.75px)",zIndex:9},title:"PLAYHEAD (Drag to move)",children:l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1544",style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:"8px",height:"8px",backgroundColor:"#000000",borderRadius:"2px",border:"2px solid white"}})}),$>0&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1562",style:{position:"absolute",left:`${Vt($)}px`,top:0,width:"2px",height:"120px",backgroundColor:"#3b82f6",transform:"translateX(-1px)",zIndex:8,pointerEvents:"none"},title:"Current playback position",children:l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1577",style:{position:"absolute",top:-8,left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"8px solid #3b82f6"}})})]})]})]}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1598",className:"mb-2 mt-1",children:l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1599",className:"grid grid-cols-3 gap-2 text-center",children:[l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1600",children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1601",className:"text-xs text-gray-600 mb-1",children:" START"}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1604",className:"text-sm font-mono font-bold",style:{color:q?"#9ca3af":"#22c55e"},children:Ln(M)}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1608",className:"flex items-center justify-center gap-1 mt-2",children:[l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:1609",onClick:()=>{const V=Math.max(0,M-ne);A(V)},disabled:q,className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded",title:"Move START left",children:""}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1621",type:"number",value:ne,onChange:V=>{const X=parseInt(V.target.value)||1;le(Math.max(1,Math.min(99,X)))},className:"w-10 px-1 py-1 text-xs text-center border border-gray-300 rounded",min:"1",max:"99"}),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1632",className:"text-xs text-gray-600",children:"ms"}),l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:1633",onClick:()=>{const V=Math.min(j-100,M+ne);A(V)},disabled:q,className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded",title:"Move START right",children:""})]})]}),q&&Ce!==null?l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1648",children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1649",className:"text-xs text-gray-600 mb-1",children:" PLAYHEAD"}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1652",className:"text-sm font-mono font-bold text-black",children:Ln(Ce)})]}):l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1657"}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1659",children:[l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1660",className:"text-xs text-gray-600 mb-1",children:" END"}),l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1663",className:"text-sm font-mono font-bold",style:{color:xe?"#9ca3af":"#ef4444"},children:Ln(j)}),l.jsxs("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1667",className:"flex items-center justify-center gap-1 mt-2",children:[l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:1668",onClick:()=>{const V=Math.max(M+100,j-ne);U(V)},disabled:xe,className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded",title:"Move END left",children:""}),l.jsx("input",{"data-loc":"client/src/components/VideoEditorV2.tsx:1680",type:"number",value:ne,onChange:V=>{const X=parseInt(V.target.value)||1;le(Math.max(1,Math.min(99,X)))},className:"w-10 px-1 py-1 text-xs text-center border border-gray-300 rounded",min:"1",max:"99"}),l.jsx("span",{"data-loc":"client/src/components/VideoEditorV2.tsx:1691",className:"text-xs text-gray-600",children:"ms"}),l.jsx("button",{"data-loc":"client/src/components/VideoEditorV2.tsx:1692",onClick:()=>{const V=k*1e3,X=Math.min(V,j+ne);U(X)},disabled:xe,className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded",title:"Move END right",children:""})]})]})]})}),M>=j&&l.jsx("div",{"data-loc":"client/src/components/VideoEditorV2.tsx:1750",className:"p-3 bg-red-50 border-2 border-red-300 rounded text-center",children:l.jsx("p",{"data-loc":"client/src/components/VideoEditorV2.tsx:1751",className:"text-sm text-red-700 font-semibold",children:" START must be before END"})}),l.jsx(QH,{"data-loc":"client/src/components/VideoEditorV2.tsx:1758",isOpen:at,onClose:()=>{Ie(!1),nt(null)},onConfirm:()=>{if(f&&f(t.videoName),tt==="start"){const V=!q;ee(V),i&&i(t.id,{startKeep:Math.round(M),endKeep:Math.round(j)},V,xe)}else if(tt==="end"){const V=!xe;B(V),i&&i(t.id,{startKeep:Math.round(M),endKeep:Math.round(j)},q,V)}nt(null)},videoName:t.videoName})]})},(e,t)=>e.video.id===t.video.id);function eB(e,t=[]){let n=[];function r(o,c){const d=N.createContext(c);d.displayName=o+"Context";const f=n.length;n=[...n,c];const h=p=>{const{scope:x,children:v,...w}=p,y=x?.[e]?.[f]||d,b=N.useMemo(()=>w,Object.values(w));return l.jsx(y.Provider,{value:b,children:v})};h.displayName=o+"Provider";function m(p,x){const v=x?.[e]?.[f]||d,w=N.useContext(v);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=n.map(c=>N.createContext(c));return function(d){const f=d?.[e]||o;return N.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return i.scopeName=e,[r,tB(i,...t)]}function tB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=r.reduce((d,{useScope:f,scopeName:h})=>{const p=f(o)[`__scope${h}`];return{...d,...p}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var nB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Q5=nB.reduce((e,t)=>{const n=H1(`Primitive.${t}`),r=N.forwardRef((i,o)=>{const{asChild:c,...d}=i,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),a2="Progress",i2=100,[rB]=eB(a2),[aB,iB]=rB(a2),J5=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=sB,...c}=e;(i||i===0)&&!WC(i)&&console.error(oB(`${i}`,"Progress"));const d=WC(i)?i:i2;r!==null&&!zC(r,d)&&console.error(lB(`${r}`,"Progress"));const f=zC(r,d)?r:null,h=Wm(f)?o(f,d):void 0;return l.jsx(aB,{scope:n,value:f,max:d,children:l.jsx(Q5.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Wm(f)?f:void 0,"aria-valuetext":h,role:"progressbar","data-state":nM(f,d),"data-value":f??void 0,"data-max":d,...c,ref:t})})});J5.displayName=a2;var eM="ProgressIndicator",tM=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=iB(eM,n);return l.jsx(Q5.div,{"data-state":nM(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});tM.displayName=eM;function sB(e,t){return`${Math.round(e/t*100)}%`}function nM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Wm(e){return typeof e=="number"}function WC(e){return Wm(e)&&!isNaN(e)&&e>0}function zC(e,t){return Wm(e)&&!isNaN(e)&&e<=t&&e>=0}function oB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${i2}\`.`}function lB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${i2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cB=J5,dB=tM;function bo({className:e,value:t,...n}){return l.jsx(cB,{"data-loc":"client/src/components/ui/progress.tsx:12","data-slot":"progress",className:wn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:l.jsx(dB,{"data-loc":"client/src/components/ui/progress.tsx:20","data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function uB({open:e,ffmpegProgress:t,whisperProgress:n,cleanvoiceProgress:r,currentVideoName:i,processingStep:o,countdown:c=0,estimatedMinutes:d=0,successVideos:f=[],failedVideos:h=[],ffmpegSuccess:m=[],ffmpegFailed:p=[],whisperSuccess:x=[],whisperFailed:v=[],cleanvoiceSuccess:w=[],cleanvoiceFailed:y=[],onRetryFailed:b,onClose:_,onContinue:D,onSampleMerge:C,onStop:M}){const A=t.total>0?t.current/t.total*100:0,j=n.total>0?n.current/n.total*100:0,U=r.total>0?r.current/r.total*100:0,F=Math.min(t.current,n.current,r.current),O=t.total,[$,se]=N.useState(!1),[I,Q]=N.useState(!1),[k,ae]=N.useState(!1),[H,G]=N.useState(!1),[q,ee]=N.useState(!1),[xe,B]=N.useState(!1);N.useEffect(()=>{p.length>0&&Q(!0)},[p.length]),N.useEffect(()=>{v.length>0&&G(!0)},[v.length]),N.useEffect(()=>{y.length>0&&B(!0)},[y.length]);const te=t.status==="processing"||n.status==="processing"||r.status==="processing";return l.jsx(oi,{"data-loc":"client/src/components/ProcessingModal.tsx:87",open:e,onOpenChange:J=>{!J&&!te&&_&&_()},children:l.jsxs(li,{"data-loc":"client/src/components/ProcessingModal.tsx:92",className:"max-w-3xl max-h-[85vh] overflow-y-auto w-[95vw] sm:w-full",onInteractOutside:J=>{te&&J.preventDefault()},children:[l.jsxs(ci,{"data-loc":"client/src/components/ProcessingModal.tsx:95",children:[l.jsxs(di,{"data-loc":"client/src/components/ProcessingModal.tsx:96",className:"flex items-center gap-2",children:[te&&l.jsx(or,{"data-loc":"client/src/components/ProcessingModal.tsx:97",className:"w-5 h-5 animate-spin text-purple-600"})," Prepare for Cutting"]}),l.jsx(rs,{"data-loc":"client/src/components/ProcessingModal.tsx:100",children:"Procesm audio i generm timestamps pentru fiecare video..."})]}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:105",className:"space-y-6 py-4",children:[l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:107",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:108",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/ProcessingModal.tsx:109",className:"text-sm font-semibold text-gray-700",children:" FFmpeg (WAV Extraction)"}),l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:110",className:"text-sm font-medium text-gray-600",children:[t.current,"/",t.total]})]}),l.jsx(bo,{"data-loc":"client/src/components/ProcessingModal.tsx:112",value:A,className:"h-3 bg-blue-100"}),m.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:116",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:117",onClick:()=>se(!$),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:121",children:[" Success (",m.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:122",className:"text-blue-600 underline text-xs",children:"View log"})]}),$&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:125",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:m.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:127",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:128",className:"text-green-600",children:""}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:129",children:J})]},de))})]}),p.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:139",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:140",onClick:()=>Q(!I),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:144",children:[" Failed (",p.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:145",className:"text-blue-600 underline text-xs",children:"View log"})]}),I&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:148",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:p.map((J,de)=>l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:150",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:151",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:152",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:153",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:154",className:"font-medium text-red-700",children:J.videoName}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:155",className:"text-xs text-red-600 mt-0.5",children:["Error: ",J.error]})]})]})},de))})]}),t.activeVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:167",children:[l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:168",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",t.activeVideos.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:171",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:t.activeVideos.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:173",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/ProcessingModal.tsx:174",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:175",children:J})]},de))})]})]}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:184",className:"space-y-3 border-t pt-4",children:[l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:185",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/ProcessingModal.tsx:186",className:"text-sm font-semibold text-gray-700",children:" Whisper (Transcription)"}),l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:187",className:"text-sm font-medium text-gray-600",children:[n.current,"/",n.total]})]}),l.jsx(bo,{"data-loc":"client/src/components/ProcessingModal.tsx:189",value:j,className:"h-3 bg-purple-100"}),x.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:193",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:194",onClick:()=>ae(!k),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:198",children:[" Success (",x.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:199",className:"text-blue-600 underline text-xs",children:"View log"})]}),k&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:202",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:x.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:204",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:205",className:"text-green-600",children:""}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:206",children:J})]},de))})]}),v.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:216",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:217",onClick:()=>G(!H),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:221",children:[" Failed (",v.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:222",className:"text-blue-600 underline text-xs",children:"View log"})]}),H&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:225",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:v.map((J,de)=>l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:227",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:228",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:229",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:230",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:231",className:"font-medium text-red-700",children:J.videoName}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:232",className:"text-xs text-red-600 mt-0.5",children:["Error: ",J.error]})]})]})},de))})]}),n.activeVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:244",children:[l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:245",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",n.activeVideos.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:248",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:n.activeVideos.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:250",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/ProcessingModal.tsx:251",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:252",children:J})]},de))})]})]}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:261",className:"space-y-3 border-t pt-4",children:[l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:262",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/ProcessingModal.tsx:263",className:"text-sm font-semibold text-gray-700",children:" CleanVoice (Audio Processing)"}),l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:264",className:"text-sm font-medium text-gray-600",children:[r.current,"/",r.total]})]}),l.jsx(bo,{"data-loc":"client/src/components/ProcessingModal.tsx:266",value:U,className:"h-3 bg-orange-100"}),w.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:270",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:271",onClick:()=>ee(!q),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:275",children:[" Success (",w.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:276",className:"text-blue-600 underline text-xs",children:"View log"})]}),q&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:279",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:w.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:281",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:282",className:"text-green-600",children:""}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:283",children:J})]},de))})]}),y.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:293",children:[l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:294",onClick:()=>B(!xe),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/ProcessingModal.tsx:298",children:[" Failed (",y.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:299",className:"text-blue-600 underline text-xs",children:"View log"})]}),xe&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:302",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:y.map((J,de)=>l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:304",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:305",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:306",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:307",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:308",className:"font-medium text-red-700",children:J.videoName}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:309",className:"text-xs text-red-600 mt-0.5",children:["Error: ",J.error]})]})]})},de))})]}),r.activeVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:321",children:[l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:322",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",r.activeVideos.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:325",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:r.activeVideos.map((J,de)=>l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:327",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/ProcessingModal.tsx:328",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/ProcessingModal.tsx:329",children:J})]},de))})]})]}),c>0&&l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:339",className:"border-t pt-4",children:l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:340",className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-4 text-center",children:[l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:341",className:"text-4xl font-bold text-orange-600 tabular-nums",children:[" ",c,"s"]}),l.jsx("p",{"data-loc":"client/src/components/ProcessingModal.tsx:344",className:"text-xs text-orange-500 mt-2",children:"FFmpeg rate limit - waiting before next batch"})]})}),te&&c===0&&d>0&&l.jsxs("p",{"data-loc":"client/src/components/ProcessingModal.tsx:353",className:"text-xs text-center text-gray-500",children:[" Timp estimat rmas: ~",d," ",d===1?"minute":"minutes"]}),!te&&F===O&&O>0&&C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:361",className:"border-t pt-4 pb-2",children:l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:362",onClick:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-6 rounded-lg text-base font-medium transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{"data-loc":"client/src/components/ProcessingModal.tsx:366",className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{"data-loc":"client/src/components/ProcessingModal.tsx:367",d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})})," Sample Merge ALL Videos"]})}),l.jsx("div",{"data-loc":"client/src/components/ProcessingModal.tsx:373",className:"border-t border-gray-300 my-2"})]}),l.jsxs("div",{"data-loc":"client/src/components/ProcessingModal.tsx:378",className:"flex gap-2 pt-4",children:[te&&M&&l.jsx("button",{"data-loc":"client/src/components/ProcessingModal.tsx:381",onClick:M,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" STOP Processing"}),!te&&F===O&&O>0&&h.length===0&&D&&l.jsx("button",{"data-loc":"client/src/components/ProcessingModal.tsx:391",onClick:D,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" Continue to Step 8"}),!te&&F===O&&O>0&&h.length>0&&b&&l.jsxs("button",{"data-loc":"client/src/components/ProcessingModal.tsx:401",onClick:b,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[" Retry Failed (",h.length,")"]}),!te&&_&&l.jsx("button",{"data-loc":"client/src/components/ProcessingModal.tsx:411",onClick:_,className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" Close"})]})]})]})})}function fB({open:e,status:t,message:n,countdown:r=0,totalFinalVideos:i,currentFinalVideo:o,currentBatch:c,totalBatches:d,hooksSuccess:f=[],hooksFailed:h=[],hooksInProgress:m=[],bodySuccess:p=[],bodyFailed:x=[],bodyInProgress:v=[],onSkipCountdown:w,onCancel:y,onRetryFailed:b,onContinue:_,onClose:D}){const C=f.length+h.length+m.length,M=C>0?(f.length+h.length)/C*100:0,A=p.length+x.length+v.length,j=A>0?(p.length+x.length)/A*100:0,[U,F]=N.useState(!1),[O,$]=N.useState(!1),[se,I]=N.useState(!1),[Q,k]=N.useState(!1);N.useEffect(()=>{h.length>0&&$(!0)},[h.length]),N.useEffect(()=>{x.length>0&&k(!0)},[x.length]);const ae=t==="processing"||t==="countdown",H=t==="complete"||t==="partial",G=h.length>0||x.length>0;return l.jsx(oi,{"data-loc":"client/src/components/MergeProgressModal.tsx:83",open:e,onOpenChange:q=>{!q&&!ae&&D&&D()},children:l.jsxs(li,{"data-loc":"client/src/components/MergeProgressModal.tsx:88",className:"max-w-3xl max-h-[85vh] overflow-y-auto w-[95vw] sm:w-full",onInteractOutside:q=>{ae&&q.preventDefault()},children:[l.jsxs(ci,{"data-loc":"client/src/components/MergeProgressModal.tsx:91",children:[l.jsxs(di,{"data-loc":"client/src/components/MergeProgressModal.tsx:92",className:"flex items-center gap-2",children:[ae&&l.jsx(or,{"data-loc":"client/src/components/MergeProgressModal.tsx:93",className:"w-5 h-5 animate-spin text-purple-600"})," Prepare for Merge"]}),l.jsx(rs,{"data-loc":"client/src/components/MergeProgressModal.tsx:96",children:n})]}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:101",className:"space-y-6 py-4",children:[r!==void 0&&r>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:104",className:"flex flex-col items-center justify-center gap-4",children:[l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:105",className:"bg-orange-50 border-2 border-orange-300 rounded-lg px-6 py-4",children:[l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:106",className:"text-center text-4xl font-bold text-orange-600 tabular-nums",children:[" ",r,"s"]}),l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:109",className:"text-center text-xs text-orange-500 mt-2",children:["Waiting before ",c===0?"starting merge":"next batch","..."]})]}),w&&l.jsx(ke,{"data-loc":"client/src/components/MergeProgressModal.tsx:114",onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:" Skip Countdown"})]}),C>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:126",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:127",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:128",className:"text-sm font-semibold text-gray-700",children:" HOOKS (Groups)"}),l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:129",className:"text-sm font-medium text-gray-600",children:[f.length+h.length,"/",C]})]}),l.jsx(bo,{"data-loc":"client/src/components/MergeProgressModal.tsx:131",value:M,className:"h-3 bg-purple-100"}),f.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:135",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeProgressModal.tsx:136",onClick:()=>F(!U),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:140",children:[" Success (",f.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:141",className:"text-blue-600 underline text-xs",children:"View log"})]}),U&&l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:144",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:f.map((q,ee)=>l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:146",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:147",className:"text-green-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:148",children:[l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:149",className:"font-medium",children:q.name}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:150",className:"text-xs text-gray-500",children:[q.videoCount," videos: ",q.videoNames.join(", ")]})]})]},ee))})]}),h.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:163",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeProgressModal.tsx:164",onClick:()=>$(!O),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:168",children:[" Failed (",h.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:169",className:"text-blue-600 underline text-xs",children:"View log"})]}),O&&l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:172",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:h.map((q,ee)=>l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:174",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:175",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:176",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:177",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:178",className:"font-medium text-red-700",children:q.name}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:179",className:"text-xs text-red-600 mt-0.5",children:["Error: ",q.error]})]})]})},ee))})]}),m.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:191",children:[l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:192",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",m.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:195",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:m.map((q,ee)=>l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:197",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/MergeProgressModal.tsx:198",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:199",children:q.name})]},ee))})]})]}),A>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:210",className:"space-y-3 border-t pt-4",children:[l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:211",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:212",className:"text-sm font-semibold text-gray-700",children:" BODY (Videos)"}),l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:213",className:"text-sm font-medium text-gray-600",children:[p.length+x.length,"/",A]})]}),l.jsx(bo,{"data-loc":"client/src/components/MergeProgressModal.tsx:215",value:j,className:"h-3 bg-green-100"}),p.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:219",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeProgressModal.tsx:220",onClick:()=>I(!se),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:224",children:[" Success (",p.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:225",className:"text-blue-600 underline text-xs",children:"View log"})]}),se&&l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:228",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:p.map((q,ee)=>l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:230",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:231",className:"text-green-600",children:""}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:232",children:q.name})]},ee))})]}),x.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:242",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeProgressModal.tsx:243",onClick:()=>k(!Q),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:247",children:[" Failed (",x.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:248",className:"text-blue-600 underline text-xs",children:"View log"})]}),Q&&l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:251",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:x.map((q,ee)=>l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:253",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:254",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:255",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:256",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:257",className:"font-medium text-red-700",children:q.name}),l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:258",className:"text-xs text-red-600 mt-0.5",children:["Error: ",q.error]})]})]})},ee))})]}),v.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:270",children:[l.jsxs("p",{"data-loc":"client/src/components/MergeProgressModal.tsx:271",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",v.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:274",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:v.map((q,ee)=>l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:276",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/MergeProgressModal.tsx:277",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/MergeProgressModal.tsx:278",children:q.name})]},ee))})]})]}),H&&l.jsxs("div",{"data-loc":"client/src/components/MergeProgressModal.tsx:289",className:"flex gap-3 pt-4 border-t",children:[G&&b&&l.jsx(ke,{"data-loc":"client/src/components/MergeProgressModal.tsx:291",onClick:b,variant:"outline",className:"flex-1",children:" Retry Failed"}),_&&l.jsx(ke,{"data-loc":"client/src/components/MergeProgressModal.tsx:300",onClick:_,className:"flex-1 bg-green-600 hover:bg-green-700",children:" Continue to Next Step"})]})]})]})})}function hB({open:e,status:t,message:n,countdown:r=0,total:i,current:o,currentBatch:c,totalBatches:d,successVideos:f=[],failedVideos:h=[],inProgressVideos:m=[],onSkipCountdown:p,onRetryFailed:x,onContinue:v,onClose:w}){const b=f.length+h.length+m.length>0?(f.length+h.length)/i*100:0,[_,D]=N.useState(!1),[C,M]=N.useState(!1);N.useEffect(()=>{h.length>0&&M(!0)},[h.length]);const A=t==="processing"||t==="countdown",j=t==="complete"||t==="partial",U=h.length>0;return l.jsx(oi,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:66",open:e,onOpenChange:F=>{!F&&!A&&w&&w()},children:l.jsxs(li,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:71",className:"max-w-3xl max-h-[85vh] overflow-y-auto w-[95vw] sm:w-full",onInteractOutside:F=>{A&&F.preventDefault()},children:[l.jsxs(ci,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:74",children:[l.jsxs(di,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:75",className:"flex items-center gap-2",children:[A&&l.jsx(or,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:76",className:"w-5 h-5 animate-spin text-green-600"})," Merge Final Videos"]}),l.jsx(rs,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:79",children:n})]}),l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:84",className:"space-y-6 py-4",children:[r!==void 0&&r>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:87",className:"flex flex-col items-center justify-center gap-4",children:[l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:88",className:"bg-orange-50 border-2 border-orange-300 rounded-lg px-6 py-4",children:[l.jsxs("p",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:89",className:"text-center text-4xl font-bold text-orange-600 tabular-nums",children:[" ",r,"s"]}),l.jsxs("p",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:92",className:"text-center text-xs text-orange-500 mt-2",children:["Waiting before ",c===0?"starting merge":"next batch","..."]})]}),p&&l.jsx(ke,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:97",onClick:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:" Skip Countdown"})]}),i>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:109",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:110",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:111",className:"text-sm font-semibold text-gray-700",children:" Final Videos"}),l.jsxs("p",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:112",className:"text-sm font-medium text-gray-600",children:[f.length+h.length,"/",i]})]}),l.jsx(bo,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:114",value:b,className:"h-3 bg-green-100"}),f.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:118",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:119",onClick:()=>D(!_),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 hover:text-green-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:123",children:[" Success (",f.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:124",className:"text-blue-600 underline text-xs",children:"View log"})]}),_&&l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:127",className:"mt-2 max-h-32 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:f.map((F,O)=>l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:129",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:130",className:"text-green-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:131",children:[l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:132",className:"font-medium",children:F.name}),l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:133",className:"text-xs text-gray-500",children:[F.hookName," + ",F.bodyName]})]})]},O))})]}),h.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:146",children:[l.jsxs("button",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:147",onClick:()=>M(!C),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 hover:text-red-800 transition-colors",children:[l.jsxs("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:151",children:[" Failed (",h.length,")"]}),l.jsx("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:152",className:"text-blue-600 underline text-xs",children:"View log"})]}),C&&l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:155",className:"mt-2 max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:h.map((F,O)=>l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:157",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:158",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:159",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:160",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:161",className:"font-medium text-red-700",children:F.name}),l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:162",className:"text-xs text-red-600 mt-0.5",children:["Error: ",F.error]})]})]})},O))})]}),m.length>0&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:174",children:[l.jsxs("p",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:175",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",m.length,"):"]}),l.jsx("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:178",className:"max-h-24 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:m.map((F,O)=>l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:180",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:181",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:182",children:F.name})]},O))})]})]}),j&&l.jsxs("div",{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:193",className:"flex gap-3 pt-4 border-t",children:[U&&x&&l.jsx(ke,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:195",onClick:x,variant:"outline",className:"flex-1",children:" Retry Failed"}),v&&l.jsx(ke,{"data-loc":"client/src/components/MergeFinalProgressModal.tsx:204",onClick:v,className:"flex-1 bg-green-600 hover:bg-green-700",children:" Continue to Next Step"})]})]})]})})}function pB({open:e,total:t,current:n,status:r,message:i}){const o=t>0?n/t*100:0,c=r==="downloading"||r==="generating";return l.jsx(oi,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:27",open:e,onOpenChange:()=>{},children:l.jsxs(li,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:28",className:"max-w-md w-[95vw] sm:w-full",onInteractOutside:d=>{c&&d.preventDefault()},children:[l.jsxs(ci,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:31",children:[l.jsxs(di,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:32",className:"flex items-center gap-2",children:[c&&l.jsx(or,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:33",className:"w-5 h-5 animate-spin text-green-600"})," Downloading Videos"]}),l.jsx(rs,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:36",children:i})]}),l.jsx("div",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:41",className:"space-y-4 py-4",children:l.jsxs("div",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:43",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:44",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:45",className:"text-sm font-semibold text-gray-700",children:" Videos"}),l.jsxs("p",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:46",className:"text-sm font-medium text-gray-600",children:[n,"/",t]})]}),l.jsx(bo,{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:48",value:o,className:"h-3 bg-green-100"}),l.jsx("div",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:51",className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{"data-loc":"client/src/components/DownloadZipProgressModal.tsx:52",className:"text-sm text-blue-700",children:[r==="downloading"&&` Downloading ${n}/${t} videos...`,r==="generating"&&" Generating ZIP file...",r==="complete"&&" Download complete!"]})})]})})]})})}function rM(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tx="Checkbox",[gB]=Ms(Tx),[mB,s2]=gB(Tx);function xB(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:c,name:d,onCheckedChange:f,required:h,value:m="on",internal_do_not_use_render:p}=e,[x,v]=Oc({prop:n,defaultProp:i??!1,onChange:f,caller:Tx}),[w,y]=N.useState(null),[b,_]=N.useState(null),D=N.useRef(!1),C=w?!!c||!!w.closest("form"):!0,M={checked:x,disabled:o,setChecked:v,control:w,setControl:y,name:d,form:c,value:m,hasConsumerStoppedPropagationRef:D,required:h,defaultChecked:vl(i)?!1:i,isFormControl:C,bubbleInput:b,setBubbleInput:_};return l.jsx(mB,{scope:t,...M,children:yB(p)?p(M):r})}var aM="CheckboxTrigger",iM=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:c,disabled:d,checked:f,required:h,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:w}=s2(aM,e),y=Nn(i,m),b=N.useRef(f);return N.useEffect(()=>{const _=o?.form;if(_){const D=()=>p(b.current);return _.addEventListener("reset",D),()=>_.removeEventListener("reset",D)}},[o,p]),l.jsx(gn.button,{type:"button",role:"checkbox","aria-checked":vl(f)?"mixed":f,"aria-required":h,"data-state":uM(f),"data-disabled":d?"":void 0,disabled:d,value:c,...r,ref:y,onKeyDown:Pt(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Pt(n,_=>{p(D=>vl(D)?!0:!D),w&&v&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})})});iM.displayName=aM;var sM=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:c,disabled:d,value:f,onCheckedChange:h,form:m,...p}=e;return l.jsx(xB,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:d,required:c,onCheckedChange:h,name:r,form:m,value:f,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(iM,{...p,ref:t,__scopeCheckbox:n}),x&&l.jsx(dM,{__scopeCheckbox:n})]})})});sM.displayName=Tx;var oM="CheckboxIndicator",lM=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=s2(oM,n);return l.jsx(ls,{present:r||vl(o.checked)||o.checked===!0,children:l.jsx(gn.span,{"data-state":uM(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});lM.displayName=oM;var cM="CheckboxBubbleInput",dM=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:c,required:d,disabled:f,name:h,value:m,form:p,bubbleInput:x,setBubbleInput:v}=s2(cM,e),w=Nn(n,v),y=rM(o),b=R3(r);N.useEffect(()=>{const D=x;if(!D)return;const C=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(C,"checked").set,j=!i.current;if(y!==o&&A){const U=new Event("click",{bubbles:j});D.indeterminate=vl(o),A.call(D,vl(o)?!1:o),D.dispatchEvent(U)}},[x,y,o,i]);const _=N.useRef(vl(o)?!1:o);return l.jsx(gn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??_.current,required:d,disabled:f,name:h,value:m,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dM.displayName=cM;function yB(e){return typeof e=="function"}function vl(e){return e==="indeterminate"}function uM(e){return vl(e)?"indeterminate":e?"checked":"unchecked"}function zm({className:e,...t}){return l.jsx(sM,{"data-loc":"client/src/components/ui/checkbox.tsx:12","data-slot":"checkbox",className:wn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(lM,{"data-loc":"client/src/components/ui/checkbox.tsx:20","data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(Ei,{"data-loc":"client/src/components/ui/checkbox.tsx:24",className:"size-3.5"})})})}const vB=({open:e,onClose:t,hookMergedVideos:n,bodyMergedVideoUrl:r,allHookGroups:i,onConfirm:o})=>{const[c,d]=N.useState([]),[f,h]=N.useState(!1);N.useEffect(()=>{e&&(d([]),h(!1))},[e]);const m=n?Object.keys(n):[],p=i?Object.entries(i).filter(([C,M])=>M>1&&!m.includes(C+"M")).map(([C])=>C):[],v=[...m,...p].sort((C,M)=>{const A=C.match(/HOOK(\d+)/)?.[1],j=M.match(/HOOK(\d+)/)?.[1];return A&&j?parseInt(A)-parseInt(j):C.localeCompare(M)}),w=r!==null,y=i?Object.entries(i).filter(([C,M])=>M===1).map(([C])=>C):[],b=()=>{d(v),h(w)},_=()=>{d([]),h(!1)},D=()=>{c.length===0&&!f||(o(c,f),t())};return l.jsx(oi,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:87",open:e,onOpenChange:t,children:l.jsxs(li,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:88",className:"max-w-2xl max-h-[80vh] overflow-y-auto w-[95vw] sm:w-full",children:[l.jsxs(ci,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:89",children:[l.jsx(di,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:90",className:"text-xl font-bold text-purple-900",children:"Select Videos to Re-Merge"}),l.jsx(rs,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:93",children:"You already have merged videos in Step 10. Select which ones you want to re-merge."})]}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:98",className:"space-y-6 mt-4",children:[l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:100",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:101",onClick:b,variant:"outline",size:"sm",className:"flex-1",children:"Select All"}),l.jsx(ke,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:109",onClick:_,variant:"outline",size:"sm",className:"flex-1",children:"Deselect All"})]}),w&&l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:121",className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsx("h3",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:122",className:"font-semibold text-gray-900 mb-3",children:"Body Video"}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:123",className:"flex items-center space-x-3",children:[l.jsx(zm,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:124",id:"body-checkbox",checked:f,onCheckedChange:C=>h(C)}),l.jsx("label",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:129",htmlFor:"body-checkbox",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"BODY (Merged)"})]})]}),v.length>0&&l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:141",className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsxs("h3",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:142",className:"font-semibold text-gray-900 mb-3",children:["Hook Videos (",v.length,")"]}),l.jsx("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:145",className:"space-y-2 max-h-64 overflow-y-auto",children:v.map(C=>{const M=c.includes(C);return l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:149",className:"flex items-center space-x-3",children:[l.jsx(zm,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:150",id:`hook-${C}`,checked:M,onCheckedChange:A=>{d(A?[...c,C]:c.filter(j=>j!==C))}}),l.jsx("label",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:161",htmlFor:`hook-${C}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:C})]},C)})})]}),y.length>0&&l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:176",className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsx("h3",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:177",className:"font-semibold text-gray-900 mb-3",children:"The following videos don't need merge:"}),l.jsx("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:180",className:"space-y-2 max-h-48 overflow-y-auto",children:y.map(C=>l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:182",className:"flex items-center space-x-3",children:[l.jsx("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:183",className:"flex-shrink-0 w-4 h-4 flex items-center justify-center",children:l.jsx("svg",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:184",className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:185",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:188",className:"text-sm text-gray-700",children:C})]},C))})]}),l.jsx("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:198",className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:199",className:"text-sm text-blue-900",children:[l.jsx("span",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:200",className:"font-semibold",children:"Selected:"})," ",f?"1 Body":"0 Body",f&&c.length>0?", ":"",c.length>0?`${c.length} Hook${c.length>1?"s":""}`:"",!f&&c.length===0?"None":""]})}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveMergePopup.tsx:209",className:"flex gap-3 pt-2",children:[l.jsx(ke,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:210",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),l.jsx(ke,{"data-loc":"client/src/components/SelectiveMergePopup.tsx:217",onClick:D,disabled:c.length===0&&!f,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Confirm & Re-Merge"})]})]})]})})},bB=({open:e,onClose:t,videoResults:n,hookMergedVideos:r,bodyMergedVideoUrl:i,finalVideos:o,onConfirm:c,onDeleteMergedVideos:d})=>{const[f,h]=N.useState([]),[m,p]=N.useState(!1),x=n.filter(C=>!C.audioUrl),v=n.filter(C=>C.audioUrl);N.useEffect(()=>{e&&(h(x.map(C=>C.videoName)),p(!1))},[e]);const w=()=>{const C=[...x,...m?v:[]];h(C.map(M=>M.videoName))},y=()=>{h([])},b=(C,M)=>{h(M?[...f,C]:f.filter(A=>A!==C))},_=N.useMemo(()=>{const C=[],M=[];let A=!1;f.forEach(F=>{if(F.includes("_HOOK")||F.includes("HOOK")){const $=F.match(/HOOK(\d+[A-Z]?)/);if($){const I=`HOOK${$[1]}M`;if(r.some(k=>k.videoName.includes(I))&&!C.includes(I)){C.push(I);const k=o.filter(ae=>ae.hookName?.includes(I));M.push(...k)}}}else A=!0});const j=A&&i,U=j&&o.length>0;return{mergedToDelete:C,finalVideosToDelete:M,deleteBodyMerged:j,deleteAllFinal:U,finalCount:U?o.length:M.length}},[f,r,i,o]),D=()=>{f.length!==0&&((_.mergedToDelete.length>0||_.deleteBodyMerged)&&d(_.mergedToDelete,_.deleteAllFinal||!1),c(f),t())};return l.jsx(oi,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:137",open:e,onOpenChange:t,children:l.jsxs(li,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:138",className:"max-w-2xl max-h-[80vh] overflow-y-auto w-[95vw] sm:w-full",children:[l.jsxs(ci,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:139",children:[l.jsx(di,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:140",className:"text-xl font-bold text-green-900",children:"Select Videos to Process"}),l.jsx(rs,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:143",children:"Some videos have already been processed. Select which ones you want to process or re-process."})]}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:148",className:"space-y-6 mt-4",children:[l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:150",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:151",onClick:w,variant:"outline",size:"sm",className:"flex-1",children:"Select All"}),l.jsx(ke,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:159",onClick:y,variant:"outline",size:"sm",className:"flex-1",children:"Deselect All"})]}),x.length>0&&l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:171",className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[l.jsxs("h3",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:172",className:"font-semibold text-green-900 mb-3",children:["Unprocessed Videos (",x.length,")"]}),l.jsx("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:175",className:"text-xs text-green-700 mb-3",children:"These videos don't have audio processing yet (no audioUrl)"}),l.jsx("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:178",className:"space-y-2 max-h-64 overflow-y-auto",children:x.map(C=>{const M=f.includes(C.videoName);return l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:182",className:"flex items-center space-x-3",children:[l.jsx(zm,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:183",id:`unprocessed-${C.videoName}`,checked:M,onCheckedChange:A=>b(C.videoName,A)}),l.jsx("label",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:188",htmlFor:`unprocessed-${C.videoName}`,className:"text-sm font-medium leading-none cursor-pointer",children:C.videoName})]},C.videoName)})})]}),v.length>0&&l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:203",className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:204",className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:205",className:"font-semibold text-gray-900",children:["Processed Videos (",v.length,")"]}),l.jsx(ke,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:208",onClick:()=>{p(!m),m&&h(f.filter(C=>x.some(M=>M.videoName===C)))},variant:"outline",size:"sm",className:m?"bg-orange-100 border-orange-300":"",children:m?" Enabled":" Enable Reprocessing"})]}),l.jsx("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:225",className:"text-xs text-gray-600 mb-3",children:"These videos already have audio processing (have audioUrl). Enable reprocessing to select them."}),l.jsx("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:228",className:"space-y-2 max-h-64 overflow-y-auto",children:v.map(C=>{const M=f.includes(C.videoName),A=!m;return l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:233",className:"flex items-center space-x-3",children:[l.jsx(zm,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:234",id:`processed-${C.videoName}`,checked:M,disabled:A,onCheckedChange:j=>b(C.videoName,j)}),l.jsx("label",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:240",htmlFor:`processed-${C.videoName}`,className:`text-sm font-medium leading-none ${A?"text-gray-400 cursor-not-allowed":"cursor-pointer"}`,children:C.videoName})]},C.videoName)})})]}),(_.mergedToDelete.length>0||_.deleteBodyMerged||_.finalCount>0)&&l.jsx("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:255",className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-4",children:l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:256",className:"flex items-start gap-2",children:[l.jsx("svg",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:257",className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:258",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:260",className:"flex-1",children:[l.jsx("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:261",className:"text-sm font-semibold text-orange-900 mb-2",children:" Warning: Reprocessing selected videos will delete:"}),l.jsxs("ul",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:262",className:"text-sm text-orange-800 space-y-1 list-disc list-inside",children:[_.mergedToDelete.map(C=>l.jsxs("li",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:264",children:["Merged ",C," video in Step 10"]},C)),_.deleteBodyMerged&&l.jsx("li",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:267",children:"BODY merged video in Step 10"}),_.finalCount>0&&l.jsx("li",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:270",children:_.deleteAllFinal?`ALL final videos in Step 11 (${_.finalCount} videos) - they all use the merged body`:`${_.finalCount} final video${_.finalCount!==1?"s":""} in Step 11`})]}),(_.deleteBodyMerged||_.mergedToDelete.length>0)&&l.jsx("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:279",className:"text-xs text-orange-700 mt-2 font-medium",children:"These videos will need to be re-merged and re-processed."})]})]})}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:289",className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsxs("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:290",className:"text-sm text-blue-900",children:[l.jsx("span",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:291",className:"font-semibold",children:"Selected:"})," ",f.length," video",f.length!==1?"s":"",f.length===0?" (None)":""]}),l.jsxs("p",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:295",className:"text-xs text-blue-700 mt-1",children:[f.filter(C=>x.some(M=>M.videoName===C)).length," unprocessed, "," ",f.filter(C=>v.some(M=>M.videoName===C)).length," reprocessing"]})]}),l.jsxs("div",{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:302",className:"flex gap-3 pt-2",children:[l.jsx(ke,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:303",onClick:t,variant:"outline",className:"flex-1",children:"Cancel"}),l.jsxs(ke,{"data-loc":"client/src/components/SelectiveAutopreparePopup.tsx:310",onClick:D,disabled:f.length===0,className:"flex-1 bg-green-600 hover:bg-green-700",children:["Confirm & Process (",f.length,")"]})]})]})]})})},$C={HOOKS:1,MIRROR:2,DCS:3,TRANSITION:4,NEW_CAUSE:5,MECHANISM:6,EMOTIONAL_PROOF:7,TRANSFORMATION:8,CTA:9,OTHER:10};function qC(e){const t=e.toUpperCase();return t.includes("HOOK")?"HOOKS":t.includes("MIRROR")?"MIRROR":t.includes("DCS")?"DCS":t.includes("TRANSITION")?"TRANSITION":t.includes("NEW_CAUSE")||t.includes("NEWCAUSE")?"NEW_CAUSE":t.includes("MECHANISM")?"MECHANISM":t.includes("EMOTIONAL_PROOF")||t.includes("EMOTIONALPROOF")?"EMOTIONAL_PROOF":t.includes("TRANSFORMATION")?"TRANSFORMATION":t.includes("CTA")?"CTA":"OTHER"}function au(e){return[...e].sort((t,n)=>{const r=t.section||qC(t.videoName),i=n.section||qC(n.videoName),o=$C[r]||999,c=$C[i]||999;return o!==c?o-c:t.videoName.localeCompare(n.videoName)})}function _B({isOpen:e,videoName:t,isHook:n,hasProcessingData:r,mergedVideoName:i,finalVideosCount:o,onConfirm:c,onCancel:d}){if(!e)return null;const f=r,h=i!==null,m=o>0,p=h||m;return l.jsx("div",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:35",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:36",className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg shadow-2xl max-w-md w-full border-2 border-orange-300",children:[l.jsxs("div",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:38",className:"bg-gradient-to-r from-orange-500 to-red-500 text-white p-4 rounded-t-lg flex items-center gap-3",children:[l.jsx(_A,{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:39",className:"w-6 h-6"}),l.jsx("h3",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:40",className:"text-lg font-bold",children:"Warning: Regenerate Video"})]}),l.jsxs("div",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:44",className:"p-6 space-y-4",children:[l.jsxs("p",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:45",className:"text-gray-800 font-medium",children:["Regenerating ",l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:46",className:"font-bold text-orange-700",children:t})," will delete:"]}),l.jsxs("ul",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:49",className:"space-y-2 text-sm text-gray-700",children:[f&&l.jsxs("li",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:51",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:52",className:"text-orange-600 font-bold mt-0.5",children:""}),l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:53",children:"All processing data for this video (audio, markers, trimmed video)"})]}),h&&l.jsxs("li",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:58",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:59",className:"text-orange-600 font-bold mt-0.5",children:""}),l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:60",children:n?l.jsxs(l.Fragment,{children:["Merged HOOK video: ",l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:62",className:"font-semibold",children:i})," in Step 10"]}):l.jsx(l.Fragment,{children:"BODY merged video in Step 10"})})]}),m&&l.jsxs("li",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:71",className:"flex items-start gap-2",children:[l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:72",className:"text-orange-600 font-bold mt-0.5",children:""}),l.jsx("span",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:73",children:n?l.jsxs(l.Fragment,{children:["Final video in Step 11 that uses ",t]}):l.jsxs(l.Fragment,{children:["ALL final videos in Step 11 (",o," ",o===1?"video":"videos",") - they all use the merged body"]})})]})]}),p&&l.jsxs("p",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:85",className:"text-sm text-gray-600 italic mt-4",children:[n?"These videos":"All final videos"," will need to be re-merged and re-processed."]}),l.jsx("p",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:90",className:"text-gray-800 font-medium mt-6",children:"Are you sure you want to regenerate this video?"})]}),l.jsxs("div",{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:96",className:"p-4 bg-orange-100/50 rounded-b-lg flex gap-3",children:[l.jsx(ke,{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:97",onClick:d,variant:"outline",className:"flex-1 border-gray-400 text-gray-700 hover:bg-gray-100",children:"Cancel"}),l.jsx(ke,{"data-loc":"client/src/components/RegenerateVideoConfirmModal.tsx:104",onClick:c,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Yes, Regenerate"})]})]})})}function Og(e){const t=N.useRef(e);t.current=e;const n=N.useRef(null);return n.current||(n.current=function(...r){return t.current.apply(this,r)}),n.current}function fM(e={}){const{onKeyDown:t,onCompositionStart:n,onCompositionEnd:r}=e,i=N.useRef(!1),o=N.useRef(null),c=N.useRef(null),d=Og(p=>{o.current&&(clearTimeout(o.current),o.current=null),c.current&&(clearTimeout(c.current),c.current=null),i.current=!0,n?.(p)}),f=Og(p=>{o.current=setTimeout(()=>{c.current=setTimeout(()=>{i.current=!1})}),r?.(p)}),h=Og(p=>{if(i.current&&(p.key==="Escape"||p.key==="Enter"&&!p.shiftKey)){p.stopPropagation();return}t?.(p)}),m=Og(()=>i.current);return{onCompositionStart:d,onCompositionEnd:f,onKeyDown:h,isComposing:m}}function wa({className:e,type:t,onKeyDown:n,onCompositionStart:r,onCompositionEnd:i,...o}){const c=Y1(),{onCompositionStart:d,onCompositionEnd:f,onKeyDown:h}=fM({onKeyDown:m=>{const p=m.nativeEvent.isComposing||c.justEndedComposing();m.key==="Enter"&&p||n?.(m)},onCompositionStart:m=>{c.setComposing(!0),r?.(m)},onCompositionEnd:m=>{c.markCompositionEnd(),setTimeout(()=>{c.setComposing(!1)},100),i?.(m)}});return l.jsx("input",{"data-loc":"client/src/components/ui/input.tsx:53",type:t,"data-slot":"input",className:wn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),onCompositionStart:d,onCompositionEnd:f,onKeyDown:h,...o})}var wB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DB=wB.reduce((e,t)=>{const n=H1(`Primitive.${t}`),r=N.forwardRef((i,o)=>{const{asChild:c,...d}=i,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(f,{...d,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),SB="Label",hM=N.forwardRef((e,t)=>l.jsx(DB.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hM.displayName=SB;var CB=hM;function er({className:e,...t}){return l.jsx(CB,{"data-loc":"client/src/components/ui/label.tsx:11","data-slot":"label",className:wn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const TB={tam:{title:"Create New TAM",label:"TAM name",placeholder:"Enter TAM name"},coreBelief:{title:"Create New Core Belief",label:"Core Belief name",placeholder:"Enter Core Belief name"},emotionalAngle:{title:"Create New Emotional Angle",label:"Emotional Angle name",placeholder:"Enter Emotional Angle name"},ad:{title:"Create New AD",label:"AD name",placeholder:"Enter AD name"},character:{title:"Create New Character",label:"Character name",placeholder:"Enter Character name"}};function EB({open:e,type:t,onOpenChange:n,onConfirm:r}){const[i,o]=N.useState(""),c=()=>{i.trim()&&(r(i.trim()),o(""),n(!1))},d=h=>{h.key==="Enter"&&c()},f=t?TB[t]:null;return f?l.jsx(oi,{"data-loc":"client/src/components/CreateItemDialog.tsx:76",open:e,onOpenChange:n,children:l.jsxs(li,{"data-loc":"client/src/components/CreateItemDialog.tsx:77",children:[l.jsx(ci,{"data-loc":"client/src/components/CreateItemDialog.tsx:78",children:l.jsx(di,{"data-loc":"client/src/components/CreateItemDialog.tsx:79",children:f.title})}),l.jsx("div",{"data-loc":"client/src/components/CreateItemDialog.tsx:81",className:"space-y-4 py-4",children:l.jsxs("div",{"data-loc":"client/src/components/CreateItemDialog.tsx:82",className:"space-y-2",children:[l.jsx(er,{"data-loc":"client/src/components/CreateItemDialog.tsx:83",htmlFor:"name",children:f.label}),l.jsx(wa,{"data-loc":"client/src/components/CreateItemDialog.tsx:84",id:"name",placeholder:f.placeholder,value:i,onChange:h=>o(h.target.value),onKeyDown:d,autoFocus:!0})]})}),l.jsxs(rm,{"data-loc":"client/src/components/CreateItemDialog.tsx:94",children:[l.jsx(ke,{"data-loc":"client/src/components/CreateItemDialog.tsx:95",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(ke,{"data-loc":"client/src/components/CreateItemDialog.tsx:98",onClick:c,disabled:!i.trim(),children:"Create"})]})]})}):null}var Ci={},o2="1.13.7",GC=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ex=Array.prototype,l2=Object.prototype,XC=typeof Symbol<"u"?Symbol.prototype:null,NB=Ex.push,qh=Ex.slice,_h=l2.toString,AB=l2.hasOwnProperty,pM=typeof ArrayBuffer<"u",MB=typeof DataView<"u",UB=Array.isArray,KC=Object.keys,YC=Object.create,ZC=pM&&ArrayBuffer.isView,kB=isNaN,jB=isFinite,gM=!{toString:null}.propertyIsEnumerable("toString"),QC=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],RB=Math.pow(2,53)-1;function Da(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function Rl(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function mM(e){return e===null}function c2(e){return e===void 0}function d2(e){return e===!0||e===!1||_h.call(e)==="[object Boolean]"}function xM(e){return!!(e&&e.nodeType===1)}function da(e){var t="[object "+e+"]";return function(n){return _h.call(n)===t}}const Nx=da("String"),u2=da("Number"),yM=da("Date"),vM=da("RegExp"),bM=da("Error"),f2=da("Symbol"),h2=da("ArrayBuffer");var _M=da("Function"),PB=GC.document&&GC.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof PB!="function"&&(_M=function(e){return typeof e=="function"||!1});const ca=_M,wM=da("Object");var DM=MB&&(!/\[native code\]/.test(String(DataView))||wM(new DataView(new ArrayBuffer(8)))),p2=typeof Map<"u"&&wM(new Map),OB=da("DataView");function IB(e){return e!=null&&ca(e.getInt8)&&h2(e.buffer)}const wh=DM?IB:OB,Pl=UB||da("Array");function Ol(e,t){return e!=null&&AB.call(e,t)}var s1=da("Arguments");(function(){s1(arguments)||(s1=function(e){return Ol(e,"callee")})})();const Ax=s1;function SM(e){return!f2(e)&&jB(e)&&!isNaN(parseFloat(e))}function g2(e){return u2(e)&&kB(e)}function m2(e){return function(){return e}}function CM(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=RB}}function TM(e){return function(t){return t?.[e]}}const $m=TM("byteLength"),FB=CM($m);var LB=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function HB(e){return ZC?ZC(e)&&!wh(e):FB(e)&&LB.test(_h.call(e))}const x2=pM?HB:m2(!1),Va=TM("length");function BB(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function EM(e,t){t=BB(t);var n=QC.length,r=e.constructor,i=ca(r)&&r.prototype||l2,o="constructor";for(Ol(e,o)&&!t.contains(o)&&t.push(o);n--;)o=QC[n],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function Ir(e){if(!Rl(e))return[];if(KC)return KC(e);var t=[];for(var n in e)Ol(e,n)&&t.push(n);return gM&&EM(e,t),t}function NM(e){if(e==null)return!0;var t=Va(e);return typeof t=="number"&&(Pl(e)||Nx(e)||Ax(e))?t===0:Va(Ir(e))===0}function y2(e,t){var n=Ir(t),r=n.length;if(e==null)return!r;for(var i=Object(e),o=0;o<r;o++){var c=n[o];if(t[c]!==i[c]||!(c in i))return!1}return!0}function Fn(e){if(e instanceof Fn)return e;if(!(this instanceof Fn))return new Fn(e);this._wrapped=e}Fn.VERSION=o2;Fn.prototype.value=function(){return this._wrapped};Fn.prototype.valueOf=Fn.prototype.toJSON=Fn.prototype.value;Fn.prototype.toString=function(){return String(this._wrapped)};function JC(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,$m(e))}var eT="[object DataView]";function o1(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:AM(e,t,n,r)}function AM(e,t,n,r){e instanceof Fn&&(e=e._wrapped),t instanceof Fn&&(t=t._wrapped);var i=_h.call(e);if(i!==_h.call(t))return!1;if(DM&&i=="[object Object]"&&wh(e)){if(!wh(t))return!1;i=eT}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return XC.valueOf.call(e)===XC.valueOf.call(t);case"[object ArrayBuffer]":case eT:return AM(JC(e),JC(t),n,r)}var o=i==="[object Array]";if(!o&&x2(e)){var c=$m(e);if(c!==$m(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var d=e.constructor,f=t.constructor;if(d!==f&&!(ca(d)&&d instanceof d&&ca(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var h=n.length;h--;)if(n[h]===e)return r[h]===t;if(n.push(e),r.push(t),o){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!o1(e[h],t[h],n,r))return!1}else{var m=Ir(e),p;if(h=m.length,Ir(t).length!==h)return!1;for(;h--;)if(p=m[h],!(Ol(t,p)&&o1(e[p],t[p],n,r)))return!1}return n.pop(),r.pop(),!0}function MM(e,t){return o1(e,t)}function Mu(e){if(!Rl(e))return[];var t=[];for(var n in e)t.push(n);return gM&&EM(e,t),t}function v2(e){var t=Va(e);return function(n){if(n==null)return!1;var r=Mu(n);if(Va(r))return!1;for(var i=0;i<t;i++)if(!ca(n[e[i]]))return!1;return e!==jM||!ca(n[b2])}}var b2="forEach",UM="has",_2=["clear","delete"],kM=["get",UM,"set"],VB=_2.concat(b2,kM),jM=_2.concat(kM),WB=["add"].concat(_2,b2,UM);const RM=p2?v2(VB):da("Map"),PM=p2?v2(jM):da("WeakMap"),OM=p2?v2(WB):da("Set"),IM=da("WeakSet");function Zc(e){for(var t=Ir(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function FM(e){for(var t=Ir(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function w2(e){for(var t={},n=Ir(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Dh(e){var t=[];for(var n in e)ca(e[n])&&t.push(n);return t.sort()}function D2(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],c=e(o),d=c.length,f=0;f<d;f++){var h=c[f];(!t||n[h]===void 0)&&(n[h]=o[h])}return n}}const S2=D2(Mu),bu=D2(Ir),C2=D2(Mu,!0);function zB(){return function(){}}function LM(e){if(!Rl(e))return{};if(YC)return YC(e);var t=zB();t.prototype=e;var n=new t;return t.prototype=null,n}function HM(e,t){var n=LM(e);return t&&bu(n,t),n}function BM(e){return Rl(e)?Pl(e)?e.slice():S2({},e):e}function VM(e,t){return t(e),e}function T2(e){return Pl(e)?e:[e]}Fn.toPath=T2;function Gh(e){return Fn.toPath(e)}function E2(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}function N2(e,t,n){var r=E2(e,Gh(t));return c2(r)?n:r}function WM(e,t){t=Gh(t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(!Ol(e,i))return!1;e=e[i]}return!!n}function Mx(e){return e}function Lc(e){return e=bu({},e),function(t){return y2(t,e)}}function Ux(e){return e=Gh(e),function(t){return E2(t,e)}}function Xh(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,i,o){return e.call(t,r,i,o)};case 4:return function(r,i,o,c){return e.call(t,r,i,o,c)}}return function(){return e.apply(t,arguments)}}function zM(e,t,n){return e==null?Mx:ca(e)?Xh(e,t,n):Rl(e)&&!Pl(e)?Lc(e):Ux(e)}function kx(e,t){return zM(e,t,1/0)}Fn.iteratee=kx;function $a(e,t,n){return Fn.iteratee!==kx?Fn.iteratee(e,t):zM(e,t,n)}function $M(e,t,n){t=$a(t,n);for(var r=Ir(e),i=r.length,o={},c=0;c<i;c++){var d=r[c];o[d]=t(e[d],d,e)}return o}function A2(){}function qM(e){return e==null?A2:function(t){return N2(e,t)}}function GM(e,t,n){var r=Array(Math.max(0,e));t=Xh(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function qm(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const _u=Date.now||function(){return new Date().getTime()};function XM(e){var t=function(o){return e[o]},n="(?:"+Ir(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,t):o}}const KM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},YM=XM(KM),$B=w2(KM),ZM=XM($B),QM=Fn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xv=/(.)^/,qB={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},GB=/\\|'|\r|\n|\u2028|\u2029/g;function XB(e){return"\\"+qB[e]}var KB=/^\s*(\w|\$)+\s*$/;function JM(e,t,n){!t&&n&&(t=n),t=C2({},t,Fn.templateSettings);var r=RegExp([(t.escape||xv).source,(t.interpolate||xv).source,(t.evaluate||xv).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(h,m,p,x,v){return o+=e.slice(i,v).replace(GB,XB),i=v+h.length,m?o+=`'+
((__t=(`+m+`))==null?'':_.escape(__t))+
'`:p?o+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:x&&(o+=`';
`+x+`
__p+='`),h}),o+=`';
`;var c=t.variable;if(c){if(!KB.test(c))throw new Error("variable is not a bare identifier: "+c)}else o=`with(obj||{}){
`+o+`}
`,c="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var d;try{d=new Function(c,"_",o)}catch(h){throw h.source=o,h}var f=function(h){return d.call(this,h,Fn)};return f.source="function("+c+`){
`+o+"}",f}function e4(e,t,n){t=Gh(t);var r=t.length;if(!r)return ca(n)?n.call(e):n;for(var i=0;i<r;i++){var o=e?.[t[i]];o===void 0&&(o=n,i=r),e=ca(o)?o.call(e):o}return e}var YB=0;function t4(e){var t=++YB+"";return e?e+t:t}function n4(e){var t=Fn(e);return t._chain=!0,t}function r4(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=LM(e.prototype),c=e.apply(o,i);return Rl(c)?c:o}var Qc=Da(function(e,t){var n=Qc.placeholder,r=function(){for(var i=0,o=t.length,c=Array(o),d=0;d<o;d++)c[d]=t[d]===n?arguments[i++]:t[d];for(;i<arguments.length;)c.push(arguments[i++]);return r4(e,r,this,this,c)};return r});Qc.placeholder=Fn;const M2=Da(function(e,t,n){if(!ca(e))throw new TypeError("Bind must be called on a function");var r=Da(function(i){return r4(e,r,t,this,n.concat(i))});return r}),gi=CM(Va);function Jc(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var i=r.length,o=0,c=Va(e);o<c;o++){var d=e[o];if(gi(d)&&(Pl(d)||Ax(d)))if(t>1)Jc(d,t-1,n,r),i=r.length;else for(var f=0,h=d.length;f<h;)r[i++]=d[f++];else n||(r[i++]=d)}return r}const a4=Da(function(e,t){t=Jc(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=M2(e[r],e)}return e});function i4(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return Ol(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}const U2=Da(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),s4=Qc(U2,Fn,1);function o4(e,t,n){var r,i,o,c,d=0;n||(n={});var f=function(){d=n.leading===!1?0:_u(),r=null,c=e.apply(i,o),r||(i=o=null)},h=function(){var m=_u();!d&&n.leading===!1&&(d=m);var p=t-(m-d);return i=this,o=arguments,p<=0||p>t?(r&&(clearTimeout(r),r=null),d=m,c=e.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(f,p)),c};return h.cancel=function(){clearTimeout(r),d=0,r=i=o=null},h}function l4(e,t,n){var r,i,o,c,d,f=function(){var m=_u()-i;t>m?r=setTimeout(f,t-m):(r=null,n||(c=e.apply(d,o)),r||(o=d=null))},h=Da(function(m){return d=this,o=m,i=_u(),r||(r=setTimeout(f,t),n&&(c=e.apply(d,o))),c});return h.cancel=function(){clearTimeout(r),r=o=d=null},h}function c4(e,t){return Qc(t,e)}function jx(e){return function(){return!e.apply(this,arguments)}}function d4(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function u4(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function k2(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const f4=Qc(k2,2);function j2(e,t,n){t=$a(t,n);for(var r=Ir(e),i,o=0,c=r.length;o<c;o++)if(i=r[o],t(e[i],i,e))return i}function h4(e){return function(t,n,r){n=$a(n,r);for(var i=Va(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}const Rx=h4(1),R2=h4(-1);function P2(e,t,n,r){n=$a(n,r,1);for(var i=n(t),o=0,c=Va(e);o<c;){var d=Math.floor((o+c)/2);n(e[d])<i?o=d+1:c=d}return o}function p4(e,t,n){return function(r,i,o){var c=0,d=Va(r);if(typeof o=="number")e>0?c=o>=0?o:Math.max(o+d,c):d=o>=0?Math.min(o+1,d):o+d+1;else if(n&&o&&d)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(qh.call(r,c,d),g2),o>=0?o+c:-1;for(o=e>0?c:d-1;o>=0&&o<d;o+=e)if(r[o]===i)return o;return-1}}const O2=p4(1,Rx,P2),g4=p4(-1,R2);function Sh(e,t,n){var r=gi(e)?Rx:j2,i=r(e,t,n);if(i!==void 0&&i!==-1)return e[i]}function m4(e,t){return Sh(e,Lc(t))}function ss(e,t,n){t=Xh(t,n);var r,i;if(gi(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=Ir(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Do(e,t,n){t=$a(t,n);for(var r=!gi(e)&&Ir(e),i=(r||e).length,o=Array(i),c=0;c<i;c++){var d=r?r[c]:c;o[c]=t(e[d],d,e)}return o}function x4(e){var t=function(n,r,i,o){var c=!gi(n)&&Ir(n),d=(c||n).length,f=e>0?0:d-1;for(o||(i=n[c?c[f]:f],f+=e);f>=0&&f<d;f+=e){var h=c?c[f]:f;i=r(i,n[h],h,n)}return i};return function(n,r,i,o){var c=arguments.length>=3;return t(n,Xh(r,o,4),i,c)}}const pu=x4(1),Gm=x4(-1);function Tl(e,t,n){var r=[];return t=$a(t,n),ss(e,function(i,o,c){t(i,o,c)&&r.push(i)}),r}function y4(e,t,n){return Tl(e,jx($a(t)),n)}function Xm(e,t,n){t=$a(t,n);for(var r=!gi(e)&&Ir(e),i=(r||e).length,o=0;o<i;o++){var c=r?r[o]:o;if(!t(e[c],c,e))return!1}return!0}function Km(e,t,n){t=$a(t,n);for(var r=!gi(e)&&Ir(e),i=(r||e).length,o=0;o<i;o++){var c=r?r[o]:o;if(t(e[c],c,e))return!0}return!1}function Ui(e,t,n,r){return gi(e)||(e=Zc(e)),(typeof n!="number"||r)&&(n=0),O2(e,t,n)>=0}const v4=Da(function(e,t,n){var r,i;return ca(t)?i=t:(t=Gh(t),r=t.slice(0,-1),t=t[t.length-1]),Do(e,function(o){var c=i;if(!c){if(r&&r.length&&(o=E2(o,r)),o==null)return;c=o[t]}return c==null?c:c.apply(o,n)})});function Px(e,t){return Do(e,Ux(t))}function b4(e,t){return Tl(e,Lc(t))}function I2(e,t,n){var r=-1/0,i=-1/0,o,c;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=gi(e)?e:Zc(e);for(var d=0,f=e.length;d<f;d++)o=e[d],o!=null&&o>r&&(r=o)}else t=$a(t,n),ss(e,function(h,m,p){c=t(h,m,p),(c>i||c===-1/0&&r===-1/0)&&(r=h,i=c)});return r}function _4(e,t,n){var r=1/0,i=1/0,o,c;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=gi(e)?e:Zc(e);for(var d=0,f=e.length;d<f;d++)o=e[d],o!=null&&o<r&&(r=o)}else t=$a(t,n),ss(e,function(h,m,p){c=t(h,m,p),(c<i||c===1/0&&r===1/0)&&(r=h,i=c)});return r}var ZB=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function F2(e){return e?Pl(e)?qh.call(e):Nx(e)?e.match(ZB):gi(e)?Do(e,Mx):Zc(e):[]}function L2(e,t,n){if(t==null||n)return gi(e)||(e=Zc(e)),e[qm(e.length-1)];var r=F2(e),i=Va(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,c=0;c<t;c++){var d=qm(c,o),f=r[c];r[c]=r[d],r[d]=f}return r.slice(0,t)}function w4(e){return L2(e,1/0)}function D4(e,t,n){var r=0;return t=$a(t,n),Px(Do(e,function(i,o,c){return{value:i,index:r++,criteria:t(i,o,c)}}).sort(function(i,o){var c=i.criteria,d=o.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return i.index-o.index}),"value")}function Ox(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=$a(r,i),ss(n,function(c,d){var f=r(c,d,n);e(o,c,f)}),o}}const S4=Ox(function(e,t,n){Ol(e,n)?e[n].push(t):e[n]=[t]}),C4=Ox(function(e,t,n){e[n]=t}),T4=Ox(function(e,t,n){Ol(e,n)?e[n]++:e[n]=1}),E4=Ox(function(e,t,n){e[n?0:1].push(t)},!0);function N4(e){return e==null?0:gi(e)?e.length:Ir(e).length}function QB(e,t,n){return t in n}const H2=Da(function(e,t){var n={},r=t[0];if(e==null)return n;ca(r)?(t.length>1&&(r=Xh(r,t[1])),t=Mu(e)):(r=QB,t=Jc(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var c=t[i],d=e[c];r(d,c,e)&&(n[c]=d)}return n}),A4=Da(function(e,t){var n=t[0],r;return ca(n)?(n=jx(n),t.length>1&&(r=t[1])):(t=Do(Jc(t,!1,!1),String),n=function(i,o){return!Ui(t,o)}),H2(e,n,r)});function B2(e,t,n){return qh.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function gu(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:B2(e,e.length-t)}function kc(e,t,n){return qh.call(e,t==null||n?1:t)}function M4(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:kc(e,Math.max(0,e.length-t))}function U4(e){return Tl(e,Boolean)}function k4(e,t){return Jc(e,t,!1)}const V2=Da(function(e,t){return t=Jc(t,!0,!0),Tl(e,function(n){return!Ui(t,n)})}),j4=Da(function(e,t){return V2(e,t)});function Ch(e,t,n,r){d2(t)||(r=n,n=t,t=!1),n!=null&&(n=$a(n,r));for(var i=[],o=[],c=0,d=Va(e);c<d;c++){var f=e[c],h=n?n(f,c,e):f;t&&!n?((!c||o!==h)&&i.push(f),o=h):n?Ui(o,h)||(o.push(h),i.push(f)):Ui(i,f)||i.push(f)}return i}const R4=Da(function(e){return Ch(Jc(e,!0,!0))});function P4(e){for(var t=[],n=arguments.length,r=0,i=Va(e);r<i;r++){var o=e[r];if(!Ui(t,o)){var c;for(c=1;c<n&&Ui(arguments[c],o);c++);c===n&&t.push(o)}}return t}function Th(e){for(var t=e&&I2(e,Va).length||0,n=Array(t),r=0;r<t;r++)n[r]=Px(e,r);return n}const O4=Da(Th);function I4(e,t){for(var n={},r=0,i=Va(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function F4(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function L4(e,t){if(t==null||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(qh.call(e,r,r+=t));return n}function W2(e,t){return e._chain?Fn(t).chain():t}function z2(e){return ss(Dh(e),function(t){var n=Fn[t]=e[t];Fn.prototype[t]=function(){var r=[this._wrapped];return NB.apply(r,arguments),W2(this,n.apply(Fn,r))}}),Fn}ss(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Ex[e];Fn.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),W2(this,n)}});ss(["concat","join","slice"],function(e){var t=Ex[e];Fn.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),W2(this,n)}});const JB=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o2,after:u4,all:Xm,allKeys:Mu,any:Km,assign:bu,before:k2,bind:M2,bindAll:a4,chain:n4,chunk:L4,clone:BM,collect:Do,compact:U4,compose:d4,constant:m2,contains:Ui,countBy:T4,create:HM,debounce:l4,default:Fn,defaults:C2,defer:s4,delay:U2,detect:Sh,difference:V2,drop:kc,each:ss,escape:YM,every:Xm,extend:S2,extendOwn:bu,filter:Tl,find:Sh,findIndex:Rx,findKey:j2,findLastIndex:R2,findWhere:m4,first:gu,flatten:k4,foldl:pu,foldr:Gm,forEach:ss,functions:Dh,get:N2,groupBy:S4,has:WM,head:gu,identity:Mx,include:Ui,includes:Ui,indexBy:C4,indexOf:O2,initial:B2,inject:pu,intersection:P4,invert:w2,invoke:v4,isArguments:Ax,isArray:Pl,isArrayBuffer:h2,isBoolean:d2,isDataView:wh,isDate:yM,isElement:xM,isEmpty:NM,isEqual:MM,isError:bM,isFinite:SM,isFunction:ca,isMap:RM,isMatch:y2,isNaN:g2,isNull:mM,isNumber:u2,isObject:Rl,isRegExp:vM,isSet:OM,isString:Nx,isSymbol:f2,isTypedArray:x2,isUndefined:c2,isWeakMap:PM,isWeakSet:IM,iteratee:kx,keys:Ir,last:M4,lastIndexOf:g4,map:Do,mapObject:$M,matcher:Lc,matches:Lc,max:I2,memoize:i4,methods:Dh,min:_4,mixin:z2,negate:jx,noop:A2,now:_u,object:I4,omit:A4,once:f4,pairs:FM,partial:Qc,partition:E4,pick:H2,pluck:Px,property:Ux,propertyOf:qM,random:qm,range:F4,reduce:pu,reduceRight:Gm,reject:y4,rest:kc,restArguments:Da,result:e4,sample:L2,select:Tl,shuffle:w4,size:N4,some:Km,sortBy:D4,sortedIndex:P2,tail:kc,take:gu,tap:VM,template:JM,templateSettings:QM,throttle:o4,times:GM,toArray:F2,toPath:T2,transpose:Th,unescape:ZM,union:R4,uniq:Ch,unique:Ch,uniqueId:t4,unzip:Th,values:Zc,where:b4,without:j4,wrap:c4,zip:O4},Symbol.toStringTag,{value:"Module"}));var l1=z2(JB);l1._=l1;const eV=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o2,after:u4,all:Xm,allKeys:Mu,any:Km,assign:bu,before:k2,bind:M2,bindAll:a4,chain:n4,chunk:L4,clone:BM,collect:Do,compact:U4,compose:d4,constant:m2,contains:Ui,countBy:T4,create:HM,debounce:l4,default:l1,defaults:C2,defer:s4,delay:U2,detect:Sh,difference:V2,drop:kc,each:ss,escape:YM,every:Xm,extend:S2,extendOwn:bu,filter:Tl,find:Sh,findIndex:Rx,findKey:j2,findLastIndex:R2,findWhere:m4,first:gu,flatten:k4,foldl:pu,foldr:Gm,forEach:ss,functions:Dh,get:N2,groupBy:S4,has:WM,head:gu,identity:Mx,include:Ui,includes:Ui,indexBy:C4,indexOf:O2,initial:B2,inject:pu,intersection:P4,invert:w2,invoke:v4,isArguments:Ax,isArray:Pl,isArrayBuffer:h2,isBoolean:d2,isDataView:wh,isDate:yM,isElement:xM,isEmpty:NM,isEqual:MM,isError:bM,isFinite:SM,isFunction:ca,isMap:RM,isMatch:y2,isNaN:g2,isNull:mM,isNumber:u2,isObject:Rl,isRegExp:vM,isSet:OM,isString:Nx,isSymbol:f2,isTypedArray:x2,isUndefined:c2,isWeakMap:PM,isWeakSet:IM,iteratee:kx,keys:Ir,last:M4,lastIndexOf:g4,map:Do,mapObject:$M,matcher:Lc,matches:Lc,max:I2,memoize:i4,methods:Dh,min:_4,mixin:z2,negate:jx,noop:A2,now:_u,object:I4,omit:A4,once:f4,pairs:FM,partial:Qc,partition:E4,pick:H2,pluck:Px,property:Ux,propertyOf:qM,random:qm,range:F4,reduce:pu,reduceRight:Gm,reject:y4,rest:kc,restArguments:Da,result:e4,sample:L2,select:Tl,shuffle:w4,size:N4,some:Km,sortBy:D4,sortedIndex:P2,tail:kc,take:gu,tap:VM,template:JM,templateSettings:QM,throttle:o4,times:GM,toArray:F2,toPath:T2,transpose:Th,unescape:ZM,union:R4,uniq:Ch,unique:Ch,uniqueId:t4,unzip:Th,values:Zc,where:b4,without:j4,wrap:c4,zip:O4},Symbol.toStringTag,{value:"Module"})),Cr=F8(eV);var Ig={},Ti={},yv={exports:{}},Fg={exports:{}},tT;function Uu(){if(tT)return Fg.exports;tT=1;var e=(function(){return this===void 0})();if(e)Fg.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(m,p){var x=Object.getOwnPropertyDescriptor(m,p);return!!(!x||x.writable||x.set)}};else{var t={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(m){var p=[];for(var x in m)t.call(m,x)&&p.push(x);return p},o=function(m,p){return{value:m[p]}},c=function(m,p,x){return m[p]=x.value,m},d=function(m){return m},f=function(m){try{return Object(m).constructor.prototype}catch{return r}},h=function(m){try{return n.call(m)==="[object Array]"}catch{return!1}};Fg.exports={isArray:h,keys:i,names:i,defineProperty:c,getDescriptor:o,freeze:d,getPrototypeOf:f,isES5:e,propertyIsWritable:function(){return!0}}}return Fg.exports}var Lf,nT;function tr(){if(nT)return Lf;nT=1;var e={},t=Uu(),n=typeof navigator>"u",r={e:{}},i,o=typeof self<"u"?self:typeof window<"u"?window:typeof gl<"u"?gl:Lf!==void 0?Lf:null;function c(){try{var J=i;return i=null,J.apply(this,arguments)}catch(de){return r.e=de,r}}function d(J){return i=J,c}var f=function(J,de){var _e={}.hasOwnProperty;function Oe(){this.constructor=J,this.constructor$=de;for(var Ee in de.prototype)_e.call(de.prototype,Ee)&&Ee.charAt(Ee.length-1)!=="$"&&(this[Ee+"$"]=de.prototype[Ee])}return Oe.prototype=de.prototype,J.prototype=new Oe,J.prototype};function h(J){return J==null||J===!0||J===!1||typeof J=="string"||typeof J=="number"}function m(J){return typeof J=="function"||typeof J=="object"&&J!==null}function p(J){return h(J)?new Error(U(J)):J}function x(J,de){var _e=J.length,Oe=new Array(_e+1),Ee;for(Ee=0;Ee<_e;++Ee)Oe[Ee]=J[Ee];return Oe[Ee]=de,Oe}function v(J,de,_e){if(t.isES5){var Oe=Object.getOwnPropertyDescriptor(J,de);if(Oe!=null)return Oe.get==null&&Oe.set==null?Oe.value:_e}else return{}.hasOwnProperty.call(J,de)?J[de]:void 0}function w(J,de,_e){if(h(J))return J;var Oe={value:_e,configurable:!0,enumerable:!1,writable:!0};return t.defineProperty(J,de,Oe),J}function y(J){throw J}var b=(function(){var J=[Array.prototype,Object.prototype,Function.prototype],de=function(Ee){for(var He=0;He<J.length;++He)if(J[He]===Ee)return!0;return!1};if(t.isES5){var _e=Object.getOwnPropertyNames;return function(Ee){for(var He=[],Qe=Object.create(null);Ee!=null&&!de(Ee);){var at;try{at=_e(Ee)}catch{return He}for(var Ie=0;Ie<at.length;++Ie){var tt=at[Ie];if(!Qe[tt]){Qe[tt]=!0;var nt=Object.getOwnPropertyDescriptor(Ee,tt);nt!=null&&nt.get==null&&nt.set==null&&He.push(tt)}}Ee=t.getPrototypeOf(Ee)}return He}}else{var Oe={}.hasOwnProperty;return function(Ee){if(de(Ee))return[];var He=[];e:for(var Qe in Ee)if(Oe.call(Ee,Qe))He.push(Qe);else{for(var at=0;at<J.length;++at)if(Oe.call(J[at],Qe))continue e;He.push(Qe)}return He}}})(),_=/this\s*\.\s*\S+\s*=/;function D(J){try{if(typeof J=="function"){var de=t.names(J.prototype),_e=t.isES5&&de.length>1,Oe=de.length>0&&!(de.length===1&&de[0]==="constructor"),Ee=_.test(J+"")&&t.names(J).length>0;if(_e||Oe||Ee)return!0}return!1}catch{return!1}}function C(J){return J}var M=/^[a-z$_][a-z$_0-9]*$/i;function A(J){return M.test(J)}function j(J,de,_e){for(var Oe=new Array(J),Ee=0;Ee<J;++Ee)Oe[Ee]=de+Ee+_e;return Oe}function U(J){try{return J+""}catch{return"[no string representation]"}}function F(J){return J!==null&&typeof J=="object"&&typeof J.message=="string"&&typeof J.name=="string"}function O(J){try{w(J,"isOperational",!0)}catch{}}function $(J){return J==null?!1:J instanceof Error.__BluebirdErrorTypes__.OperationalError||J.isOperational===!0}function se(J){return F(J)&&t.propertyIsWritable(J,"stack")}var I=(function(){return"stack"in new Error?function(J){return se(J)?J:new Error(U(J))}:function(J){if(se(J))return J;try{throw new Error(U(J))}catch(de){return de}}})();function Q(J){return{}.toString.call(J)}function k(J,de,_e){for(var Oe=t.names(J),Ee=0;Ee<Oe.length;++Ee){var He=Oe[Ee];if(_e(He))try{t.defineProperty(de,He,t.getDescriptor(J,He))}catch{}}}var ae=function(J){return t.isArray(J)?J:null};if(typeof Symbol<"u"&&Symbol.iterator){var H=typeof Array.from=="function"?function(J){return Array.from(J)}:function(J){for(var de=[],_e=J[Symbol.iterator](),Oe;!(Oe=_e.next()).done;)de.push(Oe.value);return de};ae=function(J){return t.isArray(J)?J:J!=null&&typeof J[Symbol.iterator]=="function"?H(J):null}}var G=typeof process<"u"&&Q(process).toLowerCase()==="[object process]",q=typeof process<"u"&&typeof e<"u";function ee(J){return q?e[J]:void 0}function xe(){if(typeof Promise=="function")try{var J=new Promise(function(){});if({}.toString.call(J)==="[object Promise]")return Promise}catch{}}function B(J,de){return J.bind(de)}var te={isClass:D,isIdentifier:A,inheritedDataKeys:b,getDataPropertyOrDefault:v,thrower:y,isArray:t.isArray,asArray:ae,notEnumerableProp:w,isPrimitive:h,isObject:m,isError:F,canEvaluate:n,errorObj:r,tryCatch:d,inherits:f,withAppended:x,maybeWrapAsError:p,toFastProperties:C,filledRange:j,toString:U,canAttachTrace:se,ensureErrorObject:I,originatesFromRejection:$,markAsOriginatingFromRejection:O,classString:Q,copyDescriptors:k,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:G,hasEnvVariables:q,env:ee,global:o,getNativePromise:xe,domainBind:B};te.isRecentNode=te.isNode&&(function(){var J=process.versions.node.split(".").map(Number);return J[0]===0&&J[1]>10||J[0]>0})(),te.isNode&&te.toFastProperties(process);try{throw new Error}catch(J){te.lastLineError=J}return Lf=te,Lf}var Lg={exports:{}},vv,rT;function tV(){if(rT)return vv;rT=1;var e=tr(),t,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=e.getNativePromise();if(e.isNode&&typeof MutationObserver>"u"){var i=gl.setImmediate,o=process.nextTick;t=e.isRecentNode?function(d){i.call(gl,d)}:function(d){o.call(process,d)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var c=r.resolve();t=function(d){c.then(d)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?t=(function(){var d=document.createElement("div"),f={attributes:!0},h=!1,m=document.createElement("div"),p=new MutationObserver(function(){d.classList.toggle("foo"),h=!1});p.observe(m,f);var x=function(){h||(h=!0,m.classList.toggle("foo"))};return function(w){var y=new MutationObserver(function(){y.disconnect(),w()});y.observe(d,f),x()}})():typeof setImmediate<"u"?t=function(d){setImmediate(d)}:typeof setTimeout<"u"?t=function(d){setTimeout(d,0)}:t=n;return vv=t,vv}var bv,aT;function nV(){if(aT)return bv;aT=1;function e(n,r,i,o,c){for(var d=0;d<c;++d)i[d+o]=n[d+r],n[d+r]=void 0}function t(n){this._capacity=n,this._length=0,this._front=0}return t.prototype._willBeOverCapacity=function(n){return this._capacity<n},t.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},t.prototype.push=function(n,r,i){var o=this.length()+3;if(this._willBeOverCapacity(o)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var c=this._front+o-3;this._checkCapacity(o);var d=this._capacity-1;this[c+0&d]=n,this[c+1&d]=r,this[c+2&d]=i,this._length=o},t.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},t.prototype.length=function(){return this._length},t.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},t.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,o=this._length,c=i+o&r-1;e(this,0,this,r,c)},bv=t,bv}var iT;function rV(){if(iT)return Lg.exports;iT=1;var e;try{throw new Error}catch(f){e=f}var t=tV(),n=nV(),r=tr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var f=this;this.drainQueues=function(){f._drainQueues()},this._schedule=t}i.prototype.setScheduler=function(f){var h=this._schedule;return this._schedule=f,this._customScheduler=!0,h},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(f,h){h?(process.stderr.write("Fatal "+(f instanceof Error?f.stack:f)+`
`),process.exit(2)):this.throwLater(f)},i.prototype.throwLater=function(f,h){if(arguments.length===1&&(h=f,f=function(){throw h}),typeof setTimeout<"u")setTimeout(function(){f(h)},0);else try{this._schedule(function(){f(h)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function o(f,h,m){this._lateQueue.push(f,h,m),this._queueTick()}function c(f,h,m){this._normalQueue.push(f,h,m),this._queueTick()}function d(f){this._normalQueue._pushOne(f),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(f,h,m){this._trampolineEnabled?o.call(this,f,h,m):this._schedule(function(){setTimeout(function(){f.call(h,m)},100)})},i.prototype.invoke=function(f,h,m){this._trampolineEnabled?c.call(this,f,h,m):this._schedule(function(){f.call(h,m)})},i.prototype.settlePromises=function(f){this._trampolineEnabled?d.call(this,f):this._schedule(function(){f._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=c,i.prototype.settlePromises=d),i.prototype._drainQueue=function(f){for(;f.length()>0;){var h=f.shift();if(typeof h!="function"){h._settlePromises();continue}var m=f.shift(),p=f.shift();h.call(m,p)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Lg.exports=i,Lg.exports.firstLineError=e,Lg.exports}var _v,sT;function El(){if(sT)return _v;sT=1;var e=Uu(),t=e.freeze,n=tr(),r=n.inherits,i=n.notEnumerableProp;function o(_,D){function C(M){if(!(this instanceof C))return new C(M);i(this,"message",typeof M=="string"?M:D),i(this,"name",_),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(C,Error),C}var c,d,f=o("Warning","warning"),h=o("CancellationError","cancellation error"),m=o("TimeoutError","timeout error"),p=o("AggregateError","aggregate error");try{c=TypeError,d=RangeError}catch{c=o("TypeError","type error"),d=o("RangeError","range error")}for(var x="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<x.length;++v)typeof Array.prototype[x[v]]=="function"&&(p.prototype[x[v]]=Array.prototype[x[v]]);e.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var w=0;p.prototype.toString=function(){var _=Array(w*4+1).join(" "),D=`
`+_+`AggregateError of:
`;w++,_=Array(w*4+1).join(" ");for(var C=0;C<this.length;++C){for(var M=this[C]===this?"[Circular AggregateError]":this[C]+"",A=M.split(`
`),j=0;j<A.length;++j)A[j]=_+A[j];M=A.join(`
`),D+=M+`
`}return w--,D};function y(_){if(!(this instanceof y))return new y(_);i(this,"name","OperationalError"),i(this,"message",_),this.cause=_,this.isOperational=!0,_ instanceof Error?(i(this,"message",_.message),i(this,"stack",_.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(y,Error);var b=Error.__BluebirdErrorTypes__;return b||(b=t({CancellationError:h,TimeoutError:m,OperationalError:y,RejectionError:y,AggregateError:p}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),_v={Error,TypeError:c,RangeError:d,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f},_v}var wv,oT;function aV(){return oT||(oT=1,wv=function(e,t){var n=tr(),r=n.errorObj,i=n.isObject;function o(p,x){if(i(p)){if(p instanceof e)return p;var v=d(p);if(v===r){x&&x._pushContext();var w=e.reject(v.e);return x&&x._popContext(),w}else if(typeof v=="function"){if(h(p)){var w=new e(t);return p._then(w._fulfill,w._reject,void 0,w,null),w}return m(p,v,x)}}return p}function c(p){return p.then}function d(p){try{return c(p)}catch(x){return r.e=x,r}}var f={}.hasOwnProperty;function h(p){try{return f.call(p,"_promise0")}catch{return!1}}function m(p,x,v){var w=new e(t),y=w;v&&v._pushContext(),w._captureStackTrace(),v&&v._popContext();var b=!0,_=n.tryCatch(x).call(p,D,C);b=!1,w&&_===r&&(w._rejectCallback(_.e,!0,!0),w=null);function D(M){w&&(w._resolveCallback(M),w=null)}function C(M){w&&(w._rejectCallback(M,b,!0),w=null)}return y}return o}),wv}var Dv,lT;function iV(){return lT||(lT=1,Dv=function(e,t,n,r,i){var o=tr();o.isArray;function c(f){switch(f){case-2:return[];case-3:return{}}}function d(f){var h=this._promise=new e(t);f instanceof e&&h._propagateFrom(f,3),h._setOnCancel(this),this._values=f,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.inherits(d,i),d.prototype.length=function(){return this._length},d.prototype.promise=function(){return this._promise},d.prototype._init=function f(h,m){var p=n(this._values,this._promise);if(p instanceof e){p=p._target();var x=p._bitField;if(this._values=p,(x&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(f,this._reject,void 0,this,m);if((x&33554432)!==0)p=p._value();else return(x&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=o.asArray(p),p===null){var v=r("expecting an array or an iterable object but got "+o.classString(p)).reason();this._promise._rejectCallback(v,!1);return}if(p.length===0){m===-5?this._resolveEmptyArray():this._resolve(c(m));return}this._iterate(p)},d.prototype._iterate=function(f){var h=this.getActualLength(f.length);this._length=h,this._values=this.shouldCopyValues()?new Array(h):this._values;for(var m=this._promise,p=!1,x=null,v=0;v<h;++v){var w=n(f[v],m);w instanceof e?(w=w._target(),x=w._bitField):x=null,p?x!==null&&w.suppressUnhandledRejections():x!==null?(x&50397184)===0?(w._proxy(this,v),this._values[v]=w):(x&33554432)!==0?p=this._promiseFulfilled(w._value(),v):(x&16777216)!==0?p=this._promiseRejected(w._reason(),v):p=this._promiseCancelled(v):p=this._promiseFulfilled(w,v)}p||m._setAsyncGuaranteed()},d.prototype._isResolved=function(){return this._values===null},d.prototype._resolve=function(f){this._values=null,this._promise._fulfill(f)},d.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},d.prototype._reject=function(f){this._values=null,this._promise._rejectCallback(f,!1)},d.prototype._promiseFulfilled=function(f,h){this._values[h]=f;var m=++this._totalResolved;return m>=this._length?(this._resolve(this._values),!0):!1},d.prototype._promiseCancelled=function(){return this._cancel(),!0},d.prototype._promiseRejected=function(f){return this._totalResolved++,this._reject(f),!0},d.prototype._resultCancelled=function(){if(!this._isResolved()){var f=this._values;if(this._cancel(),f instanceof e)f.cancel();else for(var h=0;h<f.length;++h)f[h]instanceof e&&f[h].cancel()}},d.prototype.shouldCopyValues=function(){return!0},d.prototype.getActualLength=function(f){return f},d}),Dv}var Sv,cT;function sV(){return cT||(cT=1,Sv=function(e){var t=!1,n=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(o())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var c=n.pop(),d=c._promiseCreated;return c._promiseCreated=null,d}return null};function i(){if(t)return new r}function o(){var c=n.length-1;if(c>=0)return n[c]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var c=e.prototype._pushContext,d=e.prototype._popContext,f=e._peekContext,h=e.prototype._peekContext,m=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=c,e.prototype._popContext=d,e._peekContext=f,e.prototype._peekContext=h,e.prototype._promiseCreated=m,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=o,e.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},r}),Sv}var Cv,dT;function oV(){return dT||(dT=1,Cv=function(e,t){var n=e._getDomain,r=e._async,i=El().Warning,o=tr(),c=o.canAttachTrace,d,f,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,x=null,v=null,w=!1,y,b=!!(o.env("BLUEBIRD_DEBUG")!=0&&(o.env("BLUEBIRD_DEBUG")||o.env("NODE_ENV")==="development")),_=!!(o.env("BLUEBIRD_WARNINGS")!=0&&(b||o.env("BLUEBIRD_WARNINGS"))),D=!!(o.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(b||o.env("BLUEBIRD_LONG_STACK_TRACES"))),C=o.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!o.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var oe=this._target();oe._bitField=oe._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){tt("rejectionHandled",d,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var oe=this._settledValue();this._setUnhandledRejectionIsNotified(),tt("unhandledRejection",f,oe,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(oe,Y,Ce){return de(oe,Y,Ce||this)},e.onPossiblyUnhandledRejection=function(oe){var Y=n();f=typeof oe=="function"?Y===null?oe:o.domainBind(Y,oe):void 0},e.onUnhandledRejectionHandled=function(oe){var Y=n();d=typeof oe=="function"?Y===null?oe:o.domainBind(Y,oe):void 0};var M=function(){};e.longStackTraces=function(){if(r.haveItemsQueued()&&!Se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Se.longStackTraces&&he()){var oe=e.prototype._captureStackTrace,Y=e.prototype._attachExtraTrace;Se.longStackTraces=!0,M=function(){if(r.haveItemsQueued()&&!Se.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=oe,e.prototype._attachExtraTrace=Y,t.deactivateLongStackTraces(),r.enableTrampoline(),Se.longStackTraces=!1},e.prototype._captureStackTrace=xe,e.prototype._attachExtraTrace=B,t.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return Se.longStackTraces&&he()};var A=(function(){try{if(typeof CustomEvent=="function"){var oe=new CustomEvent("CustomEvent");return o.global.dispatchEvent(oe),function(Y,Ce){var Fe=new CustomEvent(Y.toLowerCase(),{detail:Ce,cancelable:!0});return!o.global.dispatchEvent(Fe)}}else if(typeof Event=="function"){var oe=new Event("CustomEvent");return o.global.dispatchEvent(oe),function(Ce,Fe){var lt=new Event(Ce.toLowerCase(),{cancelable:!0});return lt.detail=Fe,!o.global.dispatchEvent(lt)}}else{var oe=document.createEvent("CustomEvent");return oe.initCustomEvent("testingtheevent",!1,!0,{}),o.global.dispatchEvent(oe),function(Ce,Fe){var lt=document.createEvent("CustomEvent");return lt.initCustomEvent(Ce.toLowerCase(),!1,!0,Fe),!o.global.dispatchEvent(lt)}}}catch{}return function(){return!1}})(),j=(function(){return o.isNode?function(){return process.emit.apply(process,arguments)}:o.global?function(oe){var Y="on"+oe.toLowerCase(),Ce=o.global[Y];return Ce?(Ce.apply(o.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function U(oe,Y){return{promise:Y}}var F={promiseCreated:U,promiseFulfilled:U,promiseRejected:U,promiseResolved:U,promiseCancelled:U,promiseChained:function(oe,Y,Ce){return{promise:Y,child:Ce}},warning:function(oe,Y){return{warning:Y}},unhandledRejection:function(oe,Y,Ce){return{reason:Y,promise:Ce}},rejectionHandled:U},O=function(oe){var Y=!1;try{Y=j.apply(null,arguments)}catch(Fe){r.throwLater(Fe),Y=!0}var Ce=!1;try{Ce=A(oe,F[oe].apply(null,arguments))}catch(Fe){r.throwLater(Fe),Ce=!0}return Ce||Y};e.config=function(oe){if(oe=Object(oe),"longStackTraces"in oe&&(oe.longStackTraces?e.longStackTraces():!oe.longStackTraces&&e.hasLongStackTraces()&&M()),"warnings"in oe){var Y=oe.warnings;Se.warnings=!!Y,C=Se.warnings,o.isObject(Y)&&"wForgottenReturn"in Y&&(C=!!Y.wForgottenReturn)}if("cancellation"in oe&&oe.cancellation&&!Se.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=ae,e.prototype._propagateFrom=H,e.prototype._onCancel=Q,e.prototype._setOnCancel=k,e.prototype._attachCancellationCallback=I,e.prototype._execute=se,q=H,Se.cancellation=!0}return"monitoring"in oe&&(oe.monitoring&&!Se.monitoring?(Se.monitoring=!0,e.prototype._fireEvent=O):!oe.monitoring&&Se.monitoring&&(Se.monitoring=!1,e.prototype._fireEvent=$)),e};function $(){return!1}e.prototype._fireEvent=$,e.prototype._execute=function(oe,Y,Ce){try{oe(Y,Ce)}catch(Fe){return Fe}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(oe){},e.prototype._attachCancellationCallback=function(oe){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(oe,Y){};function se(oe,Y,Ce){var Fe=this;try{oe(Y,Ce,function(lt){if(typeof lt!="function")throw new TypeError("onCancel must be a function, got: "+o.toString(lt));Fe._attachCancellationCallback(lt)})}catch(lt){return lt}}function I(oe){if(!this._isCancellable())return this;var Y=this._onCancel();Y!==void 0?o.isArray(Y)?Y.push(oe):this._setOnCancel([Y,oe]):this._setOnCancel(oe)}function Q(){return this._onCancelField}function k(oe){this._onCancelField=oe}function ae(){this._cancellationParent=void 0,this._onCancelField=void 0}function H(oe,Y){if((Y&1)!==0){this._cancellationParent=oe;var Ce=oe._branchesRemainingToCancel;Ce===void 0&&(Ce=0),oe._branchesRemainingToCancel=Ce+1}(Y&2)!==0&&oe._isBound()&&this._setBoundTo(oe._boundTo)}function G(oe,Y){(Y&2)!==0&&oe._isBound()&&this._setBoundTo(oe._boundTo)}var q=G;function ee(){var oe=this._boundTo;return oe!==void 0&&oe instanceof e?oe.isFulfilled()?oe.value():void 0:oe}function xe(){this._trace=new Le(this._peekContext())}function B(oe,Y){if(c(oe)){var Ce=this._trace;if(Ce!==void 0&&Y&&(Ce=Ce._parent),Ce!==void 0)Ce.attachExtraTrace(oe);else if(!oe.__stackCleaned__){var Fe=at(oe);o.notEnumerableProp(oe,"stack",Fe.message+`
`+Fe.stack.join(`
`)),o.notEnumerableProp(oe,"__stackCleaned__",!0)}}}function te(oe,Y,Ce,Fe,lt){if(oe===void 0&&Y!==null&&C){if(lt!==void 0&&lt._returnedNonUndefined()||(Fe._bitField&65535)===0)return;Ce&&(Ce=Ce+" ");var vt="",Et="";if(Y._trace){for(var yt=Y._trace.stack.split(`
`),_t=He(yt),Xt=_t.length-1;Xt>=0;--Xt){var Me=_t[Xt];if(!m.test(Me)){var Ze=Me.match(p);Ze&&(vt="at "+Ze[1]+":"+Ze[2]+":"+Ze[3]+" ");break}}if(_t.length>0){for(var pt=_t[0],Xt=0;Xt<yt.length;++Xt)if(yt[Xt]===pt){Xt>0&&(Et=`
`+yt[Xt-1]);break}}}var gt="a promise was created in a "+Ce+"handler "+vt+"but was not returned from it, see http://goo.gl/rRqMUw"+Et;Fe._warn(gt,!0,Y)}}function J(oe,Y){var Ce=oe+" is deprecated and will be removed in a future version.";return Y&&(Ce+=" Use "+Y+" instead."),de(Ce)}function de(oe,Y,Ce){if(Se.warnings){var Fe=new i(oe),lt;if(Y)Ce._attachExtraTrace(Fe);else if(Se.longStackTraces&&(lt=e._peekContext()))lt.attachExtraTrace(Fe);else{var vt=at(Fe);Fe.stack=vt.message+`
`+vt.stack.join(`
`)}O("warning",Fe)||Ie(Fe,"",!0)}}function _e(oe,Y){for(var Ce=0;Ce<Y.length-1;++Ce)Y[Ce].push("From previous event:"),Y[Ce]=Y[Ce].join(`
`);return Ce<Y.length&&(Y[Ce]=Y[Ce].join(`
`)),oe+`
`+Y.join(`
`)}function Oe(oe){for(var Y=0;Y<oe.length;++Y)(oe[Y].length===0||Y+1<oe.length&&oe[Y][0]===oe[Y+1][0])&&(oe.splice(Y,1),Y--)}function Ee(oe){for(var Y=oe[0],Ce=1;Ce<oe.length;++Ce){for(var Fe=oe[Ce],lt=Y.length-1,vt=Y[lt],Et=-1,yt=Fe.length-1;yt>=0;--yt)if(Fe[yt]===vt){Et=yt;break}for(var yt=Et;yt>=0;--yt){var _t=Fe[yt];if(Y[lt]===_t)Y.pop(),lt--;else break}Y=Fe}}function He(oe){for(var Y=[],Ce=0;Ce<oe.length;++Ce){var Fe=oe[Ce],lt=Fe==="    (No stack trace)"||x.test(Fe),vt=lt&&ye(Fe);lt&&!vt&&(w&&Fe.charAt(0)!==" "&&(Fe="    "+Fe),Y.push(Fe))}return Y}function Qe(oe){for(var Y=oe.stack.replace(/\s+$/g,"").split(`
`),Ce=0;Ce<Y.length;++Ce){var Fe=Y[Ce];if(Fe==="    (No stack trace)"||x.test(Fe))break}return Ce>0&&oe.name!="SyntaxError"&&(Y=Y.slice(Ce)),Y}function at(oe){var Y=oe.stack,Ce=oe.toString();return Y=typeof Y=="string"&&Y.length>0?Qe(oe):["    (No stack trace)"],{message:Ce,stack:oe.name=="SyntaxError"?Y:He(Y)}}function Ie(oe,Y,Ce){if(typeof console<"u"){var Fe;if(o.isObject(oe)){var lt=oe.stack;Fe=Y+v(lt,oe)}else Fe=Y+String(oe);typeof y=="function"?y(Fe,Ce):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Fe)}}function tt(oe,Y,Ce,Fe){var lt=!1;try{typeof Y=="function"&&(lt=!0,oe==="rejectionHandled"?Y(Fe):Y(Ce,Fe))}catch(vt){r.throwLater(vt)}oe==="unhandledRejection"?!O(oe,Ce,Fe)&&!lt&&Ie(Ce,"Unhandled rejection "):O(oe,Fe)}function nt(oe){var Y;if(typeof oe=="function")Y="[function "+(oe.name||"anonymous")+"]";else{Y=oe&&typeof oe.toString=="function"?oe.toString():o.toString(oe);var Ce=/\[object [a-zA-Z0-9$_]+\]/;if(Ce.test(Y))try{var Fe=JSON.stringify(oe);Y=Fe}catch{}Y.length===0&&(Y="(empty array)")}return"(<"+P(Y)+">, no stack trace)"}function P(oe){var Y=41;return oe.length<Y?oe:oe.substr(0,Y-3)+"..."}function he(){return typeof qe=="function"}var ye=function(){return!1},ne=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function le(oe){var Y=oe.match(ne);if(Y)return{fileName:Y[1],line:parseInt(Y[2],10)}}function fe(oe,Y){if(he()){for(var Ce=oe.stack.split(`
`),Fe=Y.stack.split(`
`),lt=-1,vt=-1,Et,yt,_t=0;_t<Ce.length;++_t){var Xt=le(Ce[_t]);if(Xt){Et=Xt.fileName,lt=Xt.line;break}}for(var _t=0;_t<Fe.length;++_t){var Xt=le(Fe[_t]);if(Xt){yt=Xt.fileName,vt=Xt.line;break}}lt<0||vt<0||!Et||!yt||Et!==yt||lt>=vt||(ye=function(Me){if(h.test(Me))return!0;var Ze=le(Me);return!!(Ze&&Ze.fileName===Et&&lt<=Ze.line&&Ze.line<=vt)})}}function Le(oe){this._parent=oe,this._promisesCreated=0;var Y=this._length=1+(oe===void 0?0:oe._length);qe(this,Le),Y>32&&this.uncycle()}o.inherits(Le,Error),t.CapturedTrace=Le,Le.prototype.uncycle=function(){var oe=this._length;if(!(oe<2)){for(var Y=[],Ce={},Fe=0,lt=this;lt!==void 0;++Fe)Y.push(lt),lt=lt._parent;oe=this._length=Fe;for(var Fe=oe-1;Fe>=0;--Fe){var vt=Y[Fe].stack;Ce[vt]===void 0&&(Ce[vt]=Fe)}for(var Fe=0;Fe<oe;++Fe){var Et=Y[Fe].stack,yt=Ce[Et];if(yt!==void 0&&yt!==Fe){yt>0&&(Y[yt-1]._parent=void 0,Y[yt-1]._length=1),Y[Fe]._parent=void 0,Y[Fe]._length=1;var _t=Fe>0?Y[Fe-1]:this;yt<oe-1?(_t._parent=Y[yt+1],_t._parent.uncycle(),_t._length=_t._parent._length+1):(_t._parent=void 0,_t._length=1);for(var Xt=_t._length+1,Me=Fe-2;Me>=0;--Me)Y[Me]._length=Xt,Xt++;return}}}},Le.prototype.attachExtraTrace=function(oe){if(!oe.__stackCleaned__){this.uncycle();for(var Y=at(oe),Ce=Y.message,Fe=[Y.stack],lt=this;lt!==void 0;)Fe.push(He(lt.stack.split(`
`))),lt=lt._parent;Ee(Fe),Oe(Fe),o.notEnumerableProp(oe,"stack",_e(Ce,Fe)),o.notEnumerableProp(oe,"__stackCleaned__",!0)}};var qe=(function(){var Y=/^\s*at\s*/,Ce=function(Et,yt){return typeof Et=="string"?Et:yt.name!==void 0&&yt.message!==void 0?yt.toString():nt(yt)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,x=Y,v=Ce;var Fe=Error.captureStackTrace;return ye=function(Et){return h.test(Et)},function(Et,yt){Error.stackTraceLimit+=6,Fe(Et,yt),Error.stackTraceLimit-=6}}var lt=new Error;if(typeof lt.stack=="string"&&lt.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return x=/@/,v=Ce,w=!0,function(yt){yt.stack=new Error().stack};var vt;try{throw new Error}catch(Et){vt="stack"in Et}return!("stack"in lt)&&vt&&typeof Error.stackTraceLimit=="number"?(x=Y,v=Ce,function(yt){Error.stackTraceLimit+=6;try{throw new Error}catch(_t){yt.stack=_t.stack}Error.stackTraceLimit-=6}):(v=function(Et,yt){return typeof Et=="string"?Et:(typeof yt=="object"||typeof yt=="function")&&yt.name!==void 0&&yt.message!==void 0?yt.toString():nt(yt)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(y=function(oe){console.warn(oe)},o.isNode&&process.stderr.isTTY?y=function(oe,Y){var Ce=Y?"\x1B[33m":"\x1B[31m";console.warn(Ce+oe+`\x1B[0m
`)}:!o.isNode&&typeof new Error().stack=="string"&&(y=function(oe,Y){console.warn("%c"+oe,Y?"color: darkorange":"color: red")}));var Se={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return D&&e.longStackTraces(),{longStackTraces:function(){return Se.longStackTraces},warnings:function(){return Se.warnings},cancellation:function(){return Se.cancellation},monitoring:function(){return Se.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return ee},checkForgottenReturns:te,setBounds:fe,warn:de,deprecated:J,CapturedTrace:Le,fireDomEvent:A,fireGlobalEvent:j}}),Cv}var Tv,uT;function lV(){return uT||(uT=1,Tv=function(e,t){var n=tr(),r=e.CancellationError,i=n.errorObj;function o(p,x,v){this.promise=p,this.type=x,this.handler=v,this.called=!1,this.cancelPromise=null}o.prototype.isFinallyHandler=function(){return this.type===0};function c(p){this.finallyHandler=p}c.prototype._resultCancelled=function(){d(this.finallyHandler)};function d(p,x){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(x):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function f(){return m.call(this,this.promise._target()._settledValue())}function h(p){if(!d(this,p))return i.e=p,i}function m(p){var x=this.promise,v=this.handler;if(!this.called){this.called=!0;var w=this.isFinallyHandler()?v.call(x._boundValue()):v.call(x._boundValue(),p);if(w!==void 0){x._setReturnedNonUndefined();var y=t(w,x);if(y instanceof e){if(this.cancelPromise!=null)if(y._isCancelled()){var b=new r("late cancellation observer");return x._attachExtraTrace(b),i.e=b,i}else y.isPending()&&y._attachCancellationCallback(new c(this));return y._then(f,h,void 0,this,void 0)}}}return x.isRejected()?(d(this),i.e=p,i):(d(this),p)}return e.prototype._passThrough=function(p,x,v,w){return typeof p!="function"?this.then():this._then(v,w,void 0,new o(this,x,p),void 0)},e.prototype.lastly=e.prototype.finally=function(p){return this._passThrough(p,0,m,m)},e.prototype.tap=function(p){return this._passThrough(p,1,m)},o}),Tv}var Ev,fT;function cV(){return fT||(fT=1,Ev=function(e){var t=tr(),n=Uu().keys,r=t.tryCatch,i=t.errorObj;function o(c,d,f){return function(h){var m=f._boundValue();e:for(var p=0;p<c.length;++p){var x=c[p];if(x===Error||x!=null&&x.prototype instanceof Error){if(h instanceof x)return r(d).call(m,h)}else if(typeof x=="function"){var v=r(x).call(m,h);if(v===i)return v;if(v)return r(d).call(m,h)}else if(t.isObject(h)){for(var w=n(x),y=0;y<w.length;++y){var b=w[y];if(x[b]!=h[b])continue e}return r(d).call(m,h)}}return e}}return o}),Ev}var Nv,hT;function H4(){if(hT)return Nv;hT=1;var e=tr(),t=e.maybeWrapAsError,n=El(),r=n.OperationalError,i=Uu();function o(h){return h instanceof Error&&i.getPrototypeOf(h)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function d(h){var m;if(o(h)){m=new r(h),m.name=h.name,m.message=h.message,m.stack=h.stack;for(var p=i.keys(h),x=0;x<p.length;++x){var v=p[x];c.test(v)||(m[v]=h[v])}return m}return e.markAsOriginatingFromRejection(h),h}function f(h,m){return function(p,x){if(h!==null){if(p){var v=d(t(p));h._attachExtraTrace(v),h._reject(v)}else if(!m)h._fulfill(x);else{for(var w=arguments.length,y=new Array(Math.max(w-1,0)),b=1;b<w;++b)y[b-1]=arguments[b];h._fulfill(y)}h=null}}}return Nv=f,Nv}var Av,pT;function dV(){return pT||(pT=1,Av=function(e,t,n,r,i){var o=tr(),c=o.tryCatch;e.method=function(d){if(typeof d!="function")throw new e.TypeError("expecting a function but got "+o.classString(d));return function(){var f=new e(t);f._captureStackTrace(),f._pushContext();var h=c(d).apply(this,arguments),m=f._popContext();return i.checkForgottenReturns(h,m,"Promise.method",f),f._resolveFromSyncValue(h),f}},e.attempt=e.try=function(d){if(typeof d!="function")return r("expecting a function but got "+o.classString(d));var f=new e(t);f._captureStackTrace(),f._pushContext();var h;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var m=arguments[1],p=arguments[2];h=o.isArray(m)?c(d).apply(p,m):c(d).call(p,m)}else h=c(d)();var x=f._popContext();return i.checkForgottenReturns(h,x,"Promise.try",f),f._resolveFromSyncValue(h),f},e.prototype._resolveFromSyncValue=function(d){d===o.errorObj?this._rejectCallback(d.e,!1):this._resolveCallback(d,!0)}}),Av}var Mv,gT;function uV(){return gT||(gT=1,Mv=function(e,t,n,r){var i=!1,o=function(h,m){this._reject(m)},c=function(h,m){m.promiseRejectionQueued=!0,m.bindingPromise._then(o,o,null,this,h)},d=function(h,m){(this._bitField&50397184)===0&&this._resolveCallback(m.target)},f=function(h,m){m.promiseRejectionQueued||this._reject(h)};e.prototype.bind=function(h){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var m=n(h),p=new e(t);p._propagateFrom(this,1);var x=this._target();if(p._setBoundTo(m),m instanceof e){var v={promiseRejectionQueued:!1,promise:p,target:x,bindingPromise:m};x._then(t,c,void 0,p,v),m._then(d,f,void 0,p,v),p._setOnCancel(m)}else p._resolveCallback(x);return p},e.prototype._setBoundTo=function(h){h!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=h):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(h,m){return e.resolve(m).bind(h)}}),Mv}var Uv,mT;function fV(){return mT||(mT=1,Uv=function(e,t,n,r){var i=tr(),o=i.tryCatch,c=i.errorObj,d=e._async;e.prototype.break=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var f=this,h=f;f._isCancellable();){if(!f._cancelBy(h)){h._isFollowing()?h._followee().cancel():h._cancelBranched();break}var m=f._cancellationParent;if(m==null||!m._isCancellable()){f._isFollowing()?f._followee().cancel():f._cancelBranched();break}else f._isFollowing()&&f._followee().cancel(),f._setWillBeCancelled(),h=f,f=m}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(f){return f===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),d.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(f,h){if(i.isArray(f))for(var m=0;m<f.length;++m)this._doInvokeOnCancel(f[m],h);else if(f!==void 0)if(typeof f=="function"){if(!h){var p=o(f).call(this._boundValue());p===c&&(this._attachExtraTrace(p.e),d.throwLater(p.e))}}else f._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var f=this._onCancel();this._unsetOnCancel(),d.invoke(this._doInvokeOnCancel,this,f)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),Uv}var kv,xT;function hV(){return xT||(xT=1,kv=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},e.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],o=function(){throw i};return this.caught(r,o)},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var o=function(){return i};return this.caught(r,o)}}),kv}var jv,yT;function pV(){return yT||(yT=1,jv=function(e){function t(f){f!==void 0?(f=f._target(),this._bitField=f._bitField,this._settledValueField=f._isFateSealed()?f._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},o=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0},c=t.prototype.isPending=function(){return(this._bitField&50397184)===0},d=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return c.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return d.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var f=this._target();return f._unsetRejectionIsUnhandled(),r.call(f)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}),jv}var Rv,vT;function gV(){return vT||(vT=1,Rv=function(e,t,n,r,i,o){var c=tr(),d=c.canEvaluate,f=c.tryCatch,h=c.errorObj,m;if(d){for(var p=function(D){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,D))},x=function(D){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,D))},v=function(D){for(var C=new Array(D),M=0;M<C.length;++M)C[M]="this.p"+(M+1);var A=C.join(" = ")+" = null;",j=`var promise;
`+C.map(function($){return`                                                         
	                promise = `+$+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),U=C.join(", "),F="Holder$"+D,O=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return O=O.replace(/\[TheName\]/g,F).replace(/\[TheTotal\]/g,D).replace(/\[ThePassedArguments\]/g,U).replace(/\[TheProperties\]/g,A).replace(/\[CancellationCode\]/g,j),new Function("tryCatch","errorObj","Promise","async",O)(f,h,e,i)},w=[],y=[],b=[],_=0;_<8;++_)w.push(v(_+1)),y.push(p(_+1)),b.push(x(_+1));m=function(D){this._reject(D)}}e.join=function(){var D=arguments.length-1,C;if(D>0&&typeof arguments[D]=="function"&&(C=arguments[D],D<=8&&d)){var k=new e(r);k._captureStackTrace();for(var M=w[D-1],A=new M(C),j=y,U=0;U<D;++U){var F=n(arguments[U],k);if(F instanceof e){F=F._target();var O=F._bitField;(O&50397184)===0?(F._then(j[U],m,void 0,k,A),b[U](F,A),A.asyncNeeded=!1):(O&33554432)!==0?j[U].call(k,F._value(),A):(O&16777216)!==0?k._reject(F._reason()):k._cancel()}else j[U].call(k,F,A)}if(!k._isFateSealed()){if(A.asyncNeeded){var $=o();$!==null&&(A.fn=c.domainBind($,A.fn))}k._setAsyncGuaranteed(),k._setOnCancel(A)}return k}for(var se=arguments.length,I=new Array(se),Q=0;Q<se;++Q)I[Q]=arguments[Q];C&&I.pop();var k=new t(I).promise();return C!==void 0?k.spread(C):k}}),Rv}var Pv,bT;function mV(){return bT||(bT=1,Pv=function(e,t,n,r,i,o){var c=e._getDomain,d=tr(),f=d.tryCatch,h=d.errorObj,m=e._async;function p(v,w,y,b){this.constructor$(v),this._promise._captureStackTrace();var _=c();this._callback=_===null?w:d.domainBind(_,w),this._preservedValues=b===i?new Array(this.length()):null,this._limit=y,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0)}d.inherits(p,t),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(v,w){var y=this._values,b=this.length(),_=this._preservedValues,D=this._limit;if(w<0){if(w=w*-1-1,y[w]=v,D>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(D>=1&&this._inFlight>=D)return y[w]=v,this._queue.push(w),!1;_!==null&&(_[w]=v);var C=this._promise,M=this._callback,A=C._boundValue();C._pushContext();var j=f(M).call(A,v,w,b),U=C._popContext();if(o.checkForgottenReturns(j,U,_!==null?"Promise.filter":"Promise.map",C),j===h)return this._reject(j.e),!0;var F=r(j,this._promise);if(F instanceof e){F=F._target();var O=F._bitField;if((O&50397184)===0)return D>=1&&this._inFlight++,y[w]=F,F._proxy(this,(w+1)*-1),!1;if((O&33554432)!==0)j=F._value();else return(O&16777216)!==0?(this._reject(F._reason()),!0):(this._cancel(),!0)}y[w]=j}var $=++this._totalResolved;return $>=b?(_!==null?this._filter(y,_):this._resolve(y),!0):!1},p.prototype._drainQueue=function(){for(var v=this._queue,w=this._limit,y=this._values;v.length>0&&this._inFlight<w;){if(this._isResolved())return;var b=v.pop();this._promiseFulfilled(y[b],b)}},p.prototype._filter=function(v,w){for(var y=w.length,b=new Array(y),_=0,D=0;D<y;++D)v[D]&&(b[_++]=w[D]);b.length=_,this._resolve(b)},p.prototype.preservedValues=function(){return this._preservedValues};function x(v,w,y,b){if(typeof w!="function")return n("expecting a function but got "+d.classString(w));var _=0;if(y!==void 0)if(typeof y=="object"&&y!==null){if(typeof y.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+d.classString(y.concurrency)));_=y.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+d.classString(y)));return _=typeof _=="number"&&isFinite(_)&&_>=1?_:0,new p(v,w,_,b).promise()}e.prototype.map=function(v,w){return x(this,v,w,null)},e.map=function(v,w,y,b){return x(v,w,y,b)}}),Pv}var Ov,_T;function xV(){if(_T)return Ov;_T=1;var e=Object.create;if(e){var t=e(null),n=e(null);t[" size"]=n[" size"]=0}return Ov=function(r){var i=tr(),o=i.canEvaluate,c=i.isIdentifier,d,f;{var h=function(b){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,b))(x)},m=function(b){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",b))},p=function(b,_,D){var C=D[b];if(typeof C!="function"){if(!c(b))return null;if(C=_(b),D[b]=C,D[" size"]++,D[" size"]>512){for(var M=Object.keys(D),A=0;A<256;++A)delete D[M[A]];D[" size"]=M.length-256}}return C};d=function(b){return p(b,h,t)},f=function(b){return p(b,m,n)}}function x(b,_){var D;if(b!=null&&(D=b[_]),typeof D!="function"){var C="Object "+i.classString(b)+" has no method '"+i.toString(_)+"'";throw new r.TypeError(C)}return D}function v(b){var _=this.pop(),D=x(b,_);return D.apply(b,this)}r.prototype.call=function(b){for(var _=arguments.length,D=new Array(Math.max(_-1,0)),C=1;C<_;++C)D[C-1]=arguments[C];if(o){var M=d(b);if(M!==null)return this._then(M,void 0,void 0,D,void 0)}return D.push(b),this._then(v,void 0,void 0,D,void 0)};function w(b){return b[this]}function y(b){var _=+this;return _<0&&(_=Math.max(0,_+b.length)),b[_]}r.prototype.get=function(b){var _=typeof b=="number",D;if(_)D=y;else if(o){var C=f(b);D=C!==null?C:w}else D=w;return this._then(D,void 0,void 0,b,void 0)}},Ov}var Iv,wT;function yV(){return wT||(wT=1,Iv=function(e,t,n,r,i,o){var c=tr(),d=El().TypeError,f=tr().inherits,h=c.errorObj,m=c.tryCatch,p={};function x(C){setTimeout(function(){throw C},0)}function v(C){var M=n(C);return M!==C&&typeof C._isDisposable=="function"&&typeof C._getDisposer=="function"&&C._isDisposable()&&M._setDisposable(C._getDisposer()),M}function w(C,M){var A=0,j=C.length,U=new e(i);function F(){if(A>=j)return U._fulfill();var O=v(C[A++]);if(O instanceof e&&O._isDisposable()){try{O=n(O._getDisposer().tryDispose(M),C.promise)}catch($){return x($)}if(O instanceof e)return O._then(F,x,null,null,null)}F()}return F(),U}function y(C,M,A){this._data=C,this._promise=M,this._context=A}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},y.prototype.tryDispose=function(C){var M=this.resource(),A=this._context;A!==void 0&&A._pushContext();var j=M!==p?this.doDispose(M,C):null;return A!==void 0&&A._popContext(),this._promise._unsetDisposable(),this._data=null,j},y.isDisposer=function(C){return C!=null&&typeof C.resource=="function"&&typeof C.tryDispose=="function"};function b(C,M,A){this.constructor$(C,M,A)}f(b,y),b.prototype.doDispose=function(C,M){var A=this.data();return A.call(C,C,M)};function _(C){return y.isDisposer(C)?(this.resources[this.index]._setDisposable(C),C.promise()):C}function D(C){this.length=C,this.promise=null,this[C-1]=null}D.prototype._resultCancelled=function(){for(var C=this.length,M=0;M<C;++M){var A=this[M];A instanceof e&&A.cancel()}},e.using=function(){var C=arguments.length;if(C<2)return t("you must pass at least 2 arguments to Promise.using");var M=arguments[C-1];if(typeof M!="function")return t("expecting a function but got "+c.classString(M));var A,j=!0;C===2&&Array.isArray(arguments[0])?(A=arguments[0],C=A.length,j=!1):(A=arguments,C--);for(var U=new D(C),F=0;F<C;++F){var O=A[F];if(y.isDisposer(O)){var $=O;O=O.promise(),O._setDisposable($)}else{var se=n(O);se instanceof e&&(O=se._then(_,null,null,{resources:U,index:F},void 0))}U[F]=O}for(var I=new Array(U.length),F=0;F<I.length;++F)I[F]=e.resolve(U[F]).reflect();var Q=e.all(I).then(function(ae){for(var H=0;H<ae.length;++H){var G=ae[H];if(G.isRejected())return h.e=G.error(),h;if(!G.isFulfilled()){Q.cancel();return}ae[H]=G.value()}k._pushContext(),M=m(M);var q=j?M.apply(void 0,ae):M(ae),ee=k._popContext();return o.checkForgottenReturns(q,ee,"Promise.using",k),q}),k=Q.lastly(function(){var ae=new e.PromiseInspection(Q);return w(U,ae)});return U.promise=k,k._setOnCancel(U),k},e.prototype._setDisposable=function(C){this._bitField=this._bitField|131072,this._disposer=C},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(C){if(typeof C=="function")return new b(C,this,r());throw new d}}),Iv}var Fv,DT;function vV(){return DT||(DT=1,Fv=function(e,t,n){var r=tr(),i=e.TimeoutError;function o(p){this.handle=p}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(p){return d(+this).thenReturn(p)},d=e.delay=function(p,x){var v,w;return x!==void 0?(v=e.resolve(x)._then(c,null,null,p,void 0),n.cancellation()&&x instanceof e&&v._setOnCancel(x)):(v=new e(t),w=setTimeout(function(){v._fulfill()},+p),n.cancellation()&&v._setOnCancel(new o(w)),v._captureStackTrace()),v._setAsyncGuaranteed(),v};e.prototype.delay=function(p){return d(p,this)};var f=function(p,x,v){var w;typeof x!="string"?x instanceof Error?w=x:w=new i("operation timed out"):w=new i(x),r.markAsOriginatingFromRejection(w),p._attachExtraTrace(w),p._reject(w),v?.cancel()};function h(p){return clearTimeout(this.handle),p}function m(p){throw clearTimeout(this.handle),p}e.prototype.timeout=function(p,x){p=+p;var v,w,y=new o(setTimeout(function(){v.isPending()&&f(v,x,w)},p));return n.cancellation()?(w=this.then(),v=w._then(h,m,void 0,y,void 0),v._setOnCancel(y)):v=this._then(h,m,void 0,y,void 0),v}}),Fv}var Lv,ST;function bV(){return ST||(ST=1,Lv=function(e,t,n,r,i,o){var c=El(),d=c.TypeError,f=tr(),h=f.errorObj,m=f.tryCatch,p=[];function x(w,y,b){for(var _=0;_<y.length;++_){b._pushContext();var D=m(y[_])(w);if(b._popContext(),D===h){b._pushContext();var C=e.reject(h.e);return b._popContext(),C}var M=r(D,b);if(M instanceof e)return M}return null}function v(w,y,b,_){if(o.cancellation()){var D=new e(n),C=this._finallyPromise=new e(n);this._promise=D.lastly(function(){return C}),D._captureStackTrace(),D._setOnCancel(this)}else{var M=this._promise=new e(n);M._captureStackTrace()}this._stack=_,this._generatorFunction=w,this._receiver=y,this._generator=void 0,this._yieldHandlers=typeof b=="function"?[b].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}f.inherits(v,i),v.prototype._isResolved=function(){return this._promise===null},v.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},v.prototype._promiseCancelled=function(){if(!this._isResolved()){var w=typeof this._generator.return<"u",y;if(w)this._promise._pushContext(),y=m(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var b=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=b,this._promise._attachExtraTrace(b),this._promise._pushContext(),y=m(this._generator.throw).call(this._generator,b),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(y)}},v.prototype._promiseFulfilled=function(w){this._yieldedPromise=null,this._promise._pushContext();var y=m(this._generator.next).call(this._generator,w);this._promise._popContext(),this._continue(y)},v.prototype._promiseRejected=function(w){this._yieldedPromise=null,this._promise._attachExtraTrace(w),this._promise._pushContext();var y=m(this._generator.throw).call(this._generator,w);this._promise._popContext(),this._continue(y)},v.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var w=this._yieldedPromise;this._yieldedPromise=null,w.cancel()}},v.prototype.promise=function(){return this._promise},v.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},v.prototype._continue=function(w){var y=this._promise;if(w===h)return this._cleanup(),this._cancellationPhase?y.cancel():y._rejectCallback(w.e,!1);var b=w.value;if(w.done===!0)return this._cleanup(),this._cancellationPhase?y.cancel():y._resolveCallback(b);var _=r(b,this._promise);if(!(_ instanceof e)&&(_=x(_,this._yieldHandlers,this._promise),_===null)){this._promiseRejected(new d(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",b)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}_=_._target();var D=_._bitField;(D&50397184)===0?(this._yieldedPromise=_,_._proxy(this,null)):(D&33554432)!==0?e._async.invoke(this._promiseFulfilled,this,_._value()):(D&16777216)!==0?e._async.invoke(this._promiseRejected,this,_._reason()):this._promiseCancelled()},e.coroutine=function(w,y){if(typeof w!="function")throw new d(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=Object(y).yieldHandler,_=v,D=new Error().stack;return function(){var C=w.apply(this,arguments),M=new _(void 0,void 0,b,D),A=M.promise();return M._generator=C,M._promiseFulfilled(void 0),A}},e.coroutine.addYieldHandler=function(w){if(typeof w!="function")throw new d("expecting a function but got "+f.classString(w));p.push(w)},e.spawn=function(w){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),typeof w!="function")return t(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=new v(w,this),b=y.promise();return y._run(e.spawn),b}}),Lv}var Hv,CT;function _V(){return CT||(CT=1,Hv=function(e){var t=tr(),n=e._async,r=t.tryCatch,i=t.errorObj;function o(f,h){var m=this;if(!t.isArray(f))return c.call(m,f,h);var p=r(h).apply(m._boundValue(),[null].concat(f));p===i&&n.throwLater(p.e)}function c(f,h){var m=this,p=m._boundValue(),x=f===void 0?r(h).call(p,null):r(h).call(p,null,f);x===i&&n.throwLater(x.e)}function d(f,h){var m=this;if(!f){var p=new Error(f+"");p.cause=f,f=p}var x=r(h).call(m._boundValue(),f);x===i&&n.throwLater(x.e)}e.prototype.asCallback=e.prototype.nodeify=function(f,h){if(typeof f=="function"){var m=c;h!==void 0&&Object(h).spread&&(m=o),this._then(m,d,void 0,this,f)}return this}}),Hv}var Bv,TT;function wV(){return TT||(TT=1,Bv=function(e,t){var n={},r=tr(),i=H4(),o=r.withAppended,c=r.maybeWrapAsError,d=r.canEvaluate,f=El().TypeError,h="Async",m={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+p.join("|")+")$"),v=function(Q){return r.isIdentifier(Q)&&Q.charAt(0)!=="_"&&Q!=="constructor"};function w(Q){return!x.test(Q)}function y(Q){try{return Q.__isPromisified__===!0}catch{return!1}}function b(Q,k,ae){var H=r.getDataPropertyOrDefault(Q,k+ae,m);return H?y(H):!1}function _(Q,k,ae){for(var H=0;H<Q.length;H+=2){var G=Q[H];if(ae.test(G)){for(var q=G.replace(ae,""),ee=0;ee<Q.length;ee+=2)if(Q[ee]===q)throw new f(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",k))}}}function D(Q,k,ae,H){for(var G=r.inheritedDataKeys(Q),q=[],ee=0;ee<G.length;++ee){var xe=G[ee],B=Q[xe],te=H===v?!0:v(xe);typeof B=="function"&&!y(B)&&!b(Q,xe,k)&&H(xe,B,Q,te)&&q.push(xe,B)}return _(q,k,ae),q}var C=function(Q){return Q.replace(/([$])/,"\\$")},M;{var A=function(Q){for(var k=[Q],ae=Math.max(0,Q-1-3),H=Q-1;H>=ae;--H)k.push(H);for(var H=Q+1;H<=3;++H)k.push(H);return k},j=function(Q){return r.filledRange(Q,"_arg","")},U=function(Q){return r.filledRange(Math.max(Q,3),"_arg","")},F=function(Q){return typeof Q.length=="number"?Math.max(Math.min(Q.length,1024),0):0};M=function(Q,k,ae,H,G,q){var ee=Math.max(0,F(H)-1),xe=A(ee),B=typeof Q=="string"||k===n;function te(Oe){var Ee=j(Oe).join(", "),He=Oe>0?", ":"",Qe;return B?Qe=`ret = callback.call(this, {{args}}, nodeback); break;
`:Qe=k===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Qe.replace("{{args}}",Ee).replace(", ",He)}function J(){for(var Oe="",Ee=0;Ee<xe.length;++Ee)Oe+="case "+xe[Ee]+":"+te(xe[Ee]);return Oe+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Oe}var de=typeof Q=="string"?"this != null ? this['"+Q+"'] : fn":"fn",_e=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+q+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",J()).replace("[GetFunctionCode]",de);return _e=_e.replace("Parameters",U(ee)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",_e)(e,H,k,o,c,i,r.tryCatch,r.errorObj,r.notEnumerableProp,t)}}function O(Q,k,ae,H,G,q){var ee=(function(){return this})(),xe=Q;typeof xe=="string"&&(Q=H);function B(){var te=k;k===n&&(te=this);var J=new e(t);J._captureStackTrace();var de=typeof xe=="string"&&this!==ee?this[xe]:Q,_e=i(J,q);try{de.apply(te,o(arguments,_e))}catch(Oe){J._rejectCallback(c(Oe),!0,!0)}return J._isFateSealed()||J._setAsyncGuaranteed(),J}return r.notEnumerableProp(B,"__isPromisified__",!0),B}var $=d?M:O;function se(Q,k,ae,H,G){for(var q=new RegExp(C(k)+"$"),ee=D(Q,k,q,ae),xe=0,B=ee.length;xe<B;xe+=2){var te=ee[xe],J=ee[xe+1],de=te+k;if(H===$)Q[de]=$(te,n,te,J,k,G);else{var _e=H(J,function(){return $(te,n,te,J,k,G)});r.notEnumerableProp(_e,"__isPromisified__",!0),Q[de]=_e}}return r.toFastProperties(Q),Q}function I(Q,k,ae){return $(Q,k,void 0,Q,null,ae)}e.promisify=function(Q,k){if(typeof Q!="function")throw new f("expecting a function but got "+r.classString(Q));if(y(Q))return Q;k=Object(k);var ae=k.context===void 0?n:k.context,H=!!k.multiArgs,G=I(Q,ae,H);return r.copyDescriptors(Q,G,w),G},e.promisifyAll=function(Q,k){if(typeof Q!="function"&&typeof Q!="object")throw new f(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);k=Object(k);var ae=!!k.multiArgs,H=k.suffix;typeof H!="string"&&(H=h);var G=k.filter;typeof G!="function"&&(G=v);var q=k.promisifier;if(typeof q!="function"&&(q=$),!r.isIdentifier(H))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var ee=r.inheritedDataKeys(Q),xe=0;xe<ee.length;++xe){var B=Q[ee[xe]];ee[xe]!=="constructor"&&r.isClass(B)&&(se(B.prototype,H,G,q,ae),se(B,H,G,q,ae))}return se(Q,H,G,q,ae)}}),Bv}var Vv,ET;function DV(){return ET||(ET=1,Vv=function(e,t,n,r){var i=tr(),o=i.isObject,c=Uu(),d;typeof Map=="function"&&(d=Map);var f=(function(){var x=0,v=0;function w(y,b){this[x]=y,this[x+v]=b,x++}return function(b){v=b.size,x=0;var _=new Array(b.size*2);return b.forEach(w,_),_}})(),h=function(x){for(var v=new d,w=x.length/2|0,y=0;y<w;++y){var b=x[w+y],_=x[y];v.set(b,_)}return v};function m(x){var v=!1,w;if(d!==void 0&&x instanceof d)w=f(x),v=!0;else{var y=c.keys(x),b=y.length;w=new Array(b*2);for(var _=0;_<b;++_){var D=y[_];w[_]=x[D],w[_+b]=D}}this.constructor$(w),this._isMap=v,this._init$(void 0,-3)}i.inherits(m,t),m.prototype._init=function(){},m.prototype._promiseFulfilled=function(x,v){this._values[v]=x;var w=++this._totalResolved;if(w>=this._length){var y;if(this._isMap)y=h(this._values);else{y={};for(var b=this.length(),_=0,D=this.length();_<D;++_)y[this._values[_+b]]=this._values[_]}return this._resolve(y),!0}return!1},m.prototype.shouldCopyValues=function(){return!1},m.prototype.getActualLength=function(x){return x>>1};function p(x){var v,w=n(x);if(o(w))w instanceof e?v=w._then(e.props,void 0,void 0,void 0,void 0):v=new m(w).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return w instanceof e&&v._propagateFrom(w,2),v}e.prototype.props=function(){return p(this)},e.props=function(x){return p(x)}}),Vv}var Wv,NT;function SV(){return NT||(NT=1,Wv=function(e,t,n,r){var i=tr(),o=function(d){return d.then(function(f){return c(f,d)})};function c(d,f){var h=n(d);if(h instanceof e)return o(h);if(d=i.asArray(d),d===null)return r("expecting an array or an iterable object but got "+i.classString(d));var m=new e(t);f!==void 0&&m._propagateFrom(f,3);for(var p=m._fulfill,x=m._reject,v=0,w=d.length;v<w;++v){var y=d[v];y===void 0&&!(v in d)||e.cast(y)._then(p,x,void 0,m,null)}return m}e.race=function(d){return c(d,void 0)},e.prototype.race=function(){return c(this,void 0)}}),Wv}var zv,AT;function CV(){return AT||(AT=1,zv=function(e,t,n,r,i,o){var c=e._getDomain,d=tr(),f=d.tryCatch;function h(w,y,b,_){this.constructor$(w);var D=c();this._fn=D===null?y:d.domainBind(D,y),b!==void 0&&(b=e.resolve(b),b._attachCancellationCallback(this)),this._initialValue=b,this._currentCancellable=null,_===i?this._eachValues=Array(this._length):_===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}d.inherits(h,t),h.prototype._gotAccum=function(w){this._eachValues!==void 0&&this._eachValues!==null&&w!==i&&this._eachValues.push(w)},h.prototype._eachComplete=function(w){return this._eachValues!==null&&this._eachValues.push(w),this._eachValues},h.prototype._init=function(){},h.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},h.prototype.shouldCopyValues=function(){return!1},h.prototype._resolve=function(w){this._promise._resolveCallback(w),this._values=null},h.prototype._resultCancelled=function(w){if(w===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},h.prototype._iterate=function(w){this._values=w;var y,b,_=w.length;if(this._initialValue!==void 0?(y=this._initialValue,b=0):(y=e.resolve(w[0]),b=1),this._currentCancellable=y,!y.isRejected())for(;b<_;++b){var D={accum:null,value:w[b],index:b,length:_,array:this};y=y._then(x,void 0,void 0,D,void 0)}this._eachValues!==void 0&&(y=y._then(this._eachComplete,void 0,void 0,this,void 0)),y._then(m,m,void 0,y,this)},e.prototype.reduce=function(w,y){return p(this,w,y,null)},e.reduce=function(w,y,b,_){return p(w,y,b,_)};function m(w,y){this.isFulfilled()?y._resolve(w):y._reject(w)}function p(w,y,b,_){if(typeof y!="function")return n("expecting a function but got "+d.classString(y));var D=new h(w,y,b,_);return D.promise()}function x(w){this.accum=w,this.array._gotAccum(w);var y=r(this.value,this.array._promise);return y instanceof e?(this.array._currentCancellable=y,y._then(v,void 0,void 0,this,void 0)):v.call(this,y)}function v(w){var y=this.array,b=y._promise,_=f(y._fn);b._pushContext();var D;y._eachValues!==void 0?D=_.call(b._boundValue(),w,this.index,this.length):D=_.call(b._boundValue(),this.accum,w,this.index,this.length),D instanceof e&&(y._currentCancellable=D);var C=b._popContext();return o.checkForgottenReturns(D,C,y._eachValues!==void 0?"Promise.each":"Promise.reduce",b),D}}),zv}var $v,MT;function TV(){return MT||(MT=1,$v=function(e,t,n){var r=e.PromiseInspection,i=tr();function o(c){this.constructor$(c)}i.inherits(o,t),o.prototype._promiseResolved=function(c,d){this._values[c]=d;var f=++this._totalResolved;return f>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseFulfilled=function(c,d){var f=new r;return f._bitField=33554432,f._settledValueField=c,this._promiseResolved(d,f)},o.prototype._promiseRejected=function(c,d){var f=new r;return f._bitField=16777216,f._settledValueField=c,this._promiseResolved(d,f)},e.settle=function(c){return n.deprecated(".settle()",".reflect()"),new o(c).promise()},e.prototype.settle=function(){return e.settle(this)}}),$v}var qv,UT;function EV(){return UT||(UT=1,qv=function(e,t,n){var r=tr(),i=El().RangeError,o=El().AggregateError,c=r.isArray,d={};function f(m){this.constructor$(m),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(f,t),f.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var m=c(this._values);!this._isResolved()&&m&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},f.prototype.init=function(){this._initialized=!0,this._init()},f.prototype.setUnwrap=function(){this._unwrap=!0},f.prototype.howMany=function(){return this._howMany},f.prototype.setHowMany=function(m){this._howMany=m},f.prototype._promiseFulfilled=function(m){return this._addFulfilled(m),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},f.prototype._promiseRejected=function(m){return this._addRejected(m),this._checkOutcome()},f.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(d),this._checkOutcome())},f.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var m=new o,p=this.length();p<this._values.length;++p)this._values[p]!==d&&m.push(this._values[p]);return m.length>0?this._reject(m):this._cancel(),!0}return!1},f.prototype._fulfilled=function(){return this._totalResolved},f.prototype._rejected=function(){return this._values.length-this.length()},f.prototype._addRejected=function(m){this._values.push(m)},f.prototype._addFulfilled=function(m){this._values[this._totalResolved++]=m},f.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},f.prototype._getRangeError=function(m){var p="Input array must contain at least "+this._howMany+" items but contains only "+m+" items";return new i(p)},f.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function h(m,p){if((p|0)!==p||p<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var x=new f(m),v=x.promise();return x.setHowMany(p),x.init(),v}e.some=function(m,p){return h(m,p)},e.prototype.some=function(m){return h(this,m)},e._SomePromiseArray=f}),qv}var Gv,kT;function NV(){return kT||(kT=1,Gv=function(e,t){var n=e.map;e.prototype.filter=function(r,i){return n(this,r,i,t)},e.filter=function(r,i,o){return n(r,i,o,t)}}),Gv}var Xv,jT;function AV(){return jT||(jT=1,Xv=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}function o(c,d){return n(c,d,t,t)}e.prototype.each=function(c){return n(this,c,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(c){return n(this,c,t,t)},e.each=function(c,d){return n(c,d,t,0)._then(i,void 0,void 0,c,void 0)},e.mapSeries=o}),Xv}var Kv,RT;function MV(){return RT||(RT=1,Kv=function(e){var t=e._SomePromiseArray;function n(r){var i=new t(r),o=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),o}e.any=function(r){return n(r)},e.prototype.any=function(){return n(this)}}),Kv}var PT;function UV(){return PT||(PT=1,(function(e){e.exports=function(){var t=function(){return new x(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new I.PromiseInspection(this._target())},r=function(H){return I.reject(new x(H))};function i(){}var o={},c=tr(),d;c.isNode?d=function(){var H=process.domain;return H===void 0&&(H=null),H}:d=function(){return null},c.notEnumerableProp(I,"_getDomain",d);var f=Uu(),h=rV(),m=new h;f.defineProperty(I,"_async",{value:m});var p=El(),x=I.TypeError=p.TypeError;I.RangeError=p.RangeError;var v=I.CancellationError=p.CancellationError;I.TimeoutError=p.TimeoutError,I.OperationalError=p.OperationalError,I.RejectionError=p.OperationalError,I.AggregateError=p.AggregateError;var w=function(){},y={},b={},_=aV()(I,w),D=iV()(I,w,_,r,i),C=sV()(I),M=C.create,A=oV()(I,C);A.CapturedTrace;var j=lV()(I,_),U=cV()(b),F=H4(),O=c.errorObj,$=c.tryCatch;function se(H,G){if(typeof G!="function")throw new x("expecting a function but got "+c.classString(G));if(H.constructor!==I)throw new x(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function I(H){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,H!==w&&(se(this,H),this._resolveFromExecutor(H)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(H){var G=arguments.length;if(G>1){var q=new Array(G-1),ee=0,xe;for(xe=0;xe<G-1;++xe){var B=arguments[xe];if(c.isObject(B))q[ee++]=B;else return r("expecting an object but got A catch statement predicate "+c.classString(B))}return q.length=ee,H=arguments[xe],this.then(void 0,U(q,H,this))}return this.then(void 0,H)},I.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},I.prototype.then=function(H,G){if(A.warnings()&&arguments.length>0&&typeof H!="function"&&typeof G!="function"){var q=".then() only accepts functions but was passed: "+c.classString(H);arguments.length>1&&(q+=", "+c.classString(G)),this._warn(q)}return this._then(H,G,void 0,void 0,void 0)},I.prototype.done=function(H,G){var q=this._then(H,G,void 0,void 0,void 0);q._setIsFinal()},I.prototype.spread=function(H){return typeof H!="function"?r("expecting a function but got "+c.classString(H)):this.all()._then(H,void 0,void 0,y,void 0)},I.prototype.toJSON=function(){var H={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(H.fulfillmentValue=this.value(),H.isFulfilled=!0):this.isRejected()&&(H.rejectionReason=this.reason(),H.isRejected=!0),H},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new D(this).promise()},I.prototype.error=function(H){return this.caught(c.originatesFromRejection,H)},I.getNewLibraryCopy=e.exports,I.is=function(H){return H instanceof I},I.fromNode=I.fromCallback=function(H){var G=new I(w);G._captureStackTrace();var q=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,ee=$(H)(F(G,q));return ee===O&&G._rejectCallback(ee.e,!0),G._isFateSealed()||G._setAsyncGuaranteed(),G},I.all=function(H){return new D(H).promise()},I.cast=function(H){var G=_(H);return G instanceof I||(G=new I(w),G._captureStackTrace(),G._setFulfilled(),G._rejectionHandler0=H),G},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(H){var G=new I(w);return G._captureStackTrace(),G._rejectCallback(H,!0),G},I.setScheduler=function(H){if(typeof H!="function")throw new x("expecting a function but got "+c.classString(H));return m.setScheduler(H)},I.prototype._then=function(H,G,q,ee,xe){var B=xe!==void 0,te=B?xe:new I(w),J=this._target(),de=J._bitField;B||(te._propagateFrom(this,3),te._captureStackTrace(),ee===void 0&&(this._bitField&2097152)!==0&&((de&50397184)!==0?ee=this._boundValue():ee=J===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,te));var _e=d();if((de&50397184)!==0){var Oe,Ee,He=J._settlePromiseCtx;(de&33554432)!==0?(Ee=J._rejectionHandler0,Oe=H):(de&16777216)!==0?(Ee=J._fulfillmentHandler0,Oe=G,J._unsetRejectionIsUnhandled()):(He=J._settlePromiseLateCancellationObserver,Ee=new v("late cancellation observer"),J._attachExtraTrace(Ee),Oe=G),m.invoke(He,J,{handler:_e===null?Oe:typeof Oe=="function"&&c.domainBind(_e,Oe),promise:te,receiver:ee,value:Ee})}else J._addCallbacks(H,G,te,ee,_e);return te},I.prototype._length=function(){return this._bitField&65535},I.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},I.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},I.prototype._setLength=function(H){this._bitField=this._bitField&-65536|H&65535},I.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},I.prototype._isFinal=function(){return(this._bitField&4194304)>0},I.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},I.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},I.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},I.prototype._receiverAt=function(H){var G=H===0?this._receiver0:this[H*4-4+3];if(G!==o)return G===void 0&&this._isBound()?this._boundValue():G},I.prototype._promiseAt=function(H){return this[H*4-4+2]},I.prototype._fulfillmentHandlerAt=function(H){return this[H*4-4+0]},I.prototype._rejectionHandlerAt=function(H){return this[H*4-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(H){H._bitField;var G=H._fulfillmentHandler0,q=H._rejectionHandler0,ee=H._promise0,xe=H._receiverAt(0);xe===void 0&&(xe=o),this._addCallbacks(G,q,ee,xe,null)},I.prototype._migrateCallbackAt=function(H,G){var q=H._fulfillmentHandlerAt(G),ee=H._rejectionHandlerAt(G),xe=H._promiseAt(G),B=H._receiverAt(G);B===void 0&&(B=o),this._addCallbacks(q,ee,xe,B,null)},I.prototype._addCallbacks=function(H,G,q,ee,xe){var B=this._length();if(B>=65531&&(B=0,this._setLength(0)),B===0)this._promise0=q,this._receiver0=ee,typeof H=="function"&&(this._fulfillmentHandler0=xe===null?H:c.domainBind(xe,H)),typeof G=="function"&&(this._rejectionHandler0=xe===null?G:c.domainBind(xe,G));else{var te=B*4-4;this[te+2]=q,this[te+3]=ee,typeof H=="function"&&(this[te+0]=xe===null?H:c.domainBind(xe,H)),typeof G=="function"&&(this[te+1]=xe===null?G:c.domainBind(xe,G))}return this._setLength(B+1),B},I.prototype._proxy=function(H,G){this._addCallbacks(void 0,void 0,G,H,null)},I.prototype._resolveCallback=function(H,G){if((this._bitField&117506048)===0){if(H===this)return this._rejectCallback(t(),!1);var q=_(H,this);if(!(q instanceof I))return this._fulfill(H);G&&this._propagateFrom(q,2);var ee=q._target();if(ee===this){this._reject(t());return}var xe=ee._bitField;if((xe&50397184)===0){var B=this._length();B>0&&ee._migrateCallback0(this);for(var te=1;te<B;++te)ee._migrateCallbackAt(this,te);this._setFollowing(),this._setLength(0),this._setFollowee(ee)}else if((xe&33554432)!==0)this._fulfill(ee._value());else if((xe&16777216)!==0)this._reject(ee._reason());else{var J=new v("late cancellation observer");ee._attachExtraTrace(J),this._reject(J)}}},I.prototype._rejectCallback=function(H,G,q){var ee=c.ensureErrorObject(H),xe=ee===H;if(!xe&&!q&&A.warnings()){var B="a promise was rejected with a non-error: "+c.classString(H);this._warn(B,!0)}this._attachExtraTrace(ee,G?xe:!1),this._reject(H)},I.prototype._resolveFromExecutor=function(H){var G=this;this._captureStackTrace(),this._pushContext();var q=!0,ee=this._execute(H,function(xe){G._resolveCallback(xe)},function(xe){G._rejectCallback(xe,q)});q=!1,this._popContext(),ee!==void 0&&G._rejectCallback(ee,!0)},I.prototype._settlePromiseFromHandler=function(H,G,q,ee){var xe=ee._bitField;if((xe&65536)===0){ee._pushContext();var B;G===y?!q||typeof q.length!="number"?(B=O,B.e=new x("cannot .spread() a non-array: "+c.classString(q))):B=$(H).apply(this._boundValue(),q):B=$(H).call(G,q);var te=ee._popContext();xe=ee._bitField,(xe&65536)===0&&(B===b?ee._reject(q):B===O?ee._rejectCallback(B.e,!1):(A.checkForgottenReturns(B,te,"",ee,this),ee._resolveCallback(B)))}},I.prototype._target=function(){for(var H=this;H._isFollowing();)H=H._followee();return H},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(H){this._rejectionHandler0=H},I.prototype._settlePromise=function(H,G,q,ee){var xe=H instanceof I,B=this._bitField,te=(B&134217728)!==0;(B&65536)!==0?(xe&&H._invokeInternalOnCancel(),q instanceof j&&q.isFinallyHandler()?(q.cancelPromise=H,$(G).call(q,ee)===O&&H._reject(O.e)):G===n?H._fulfill(n.call(q)):q instanceof i?q._promiseCancelled(H):xe||H instanceof D?H._cancel():q.cancel()):typeof G=="function"?xe?(te&&H._setAsyncGuaranteed(),this._settlePromiseFromHandler(G,q,ee,H)):G.call(q,ee,H):q instanceof i?q._isResolved()||((B&33554432)!==0?q._promiseFulfilled(ee,H):q._promiseRejected(ee,H)):xe&&(te&&H._setAsyncGuaranteed(),(B&33554432)!==0?H._fulfill(ee):H._reject(ee))},I.prototype._settlePromiseLateCancellationObserver=function(H){var G=H.handler,q=H.promise,ee=H.receiver,xe=H.value;typeof G=="function"?q instanceof I?this._settlePromiseFromHandler(G,ee,xe,q):G.call(ee,xe,q):q instanceof I&&q._reject(xe)},I.prototype._settlePromiseCtx=function(H){this._settlePromise(H.promise,H.handler,H.receiver,H.value)},I.prototype._settlePromise0=function(H,G,q){var ee=this._promise0,xe=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(ee,H,xe,G)},I.prototype._clearCallbackDataAtIndex=function(H){var G=H*4-4;this[G+2]=this[G+3]=this[G+0]=this[G+1]=void 0},I.prototype._fulfill=function(H){var G=this._bitField;if(!((G&117506048)>>>16)){if(H===this){var q=t();return this._attachExtraTrace(q),this._reject(q)}this._setFulfilled(),this._rejectionHandler0=H,(G&65535)>0&&((G&134217728)!==0?this._settlePromises():m.settlePromises(this))}},I.prototype._reject=function(H){var G=this._bitField;if(!((G&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=H,this._isFinal())return m.fatalError(H,c.isNode);(G&65535)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(H,G){for(var q=1;q<H;q++){var ee=this._fulfillmentHandlerAt(q),xe=this._promiseAt(q),B=this._receiverAt(q);this._clearCallbackDataAtIndex(q),this._settlePromise(xe,ee,B,G)}},I.prototype._rejectPromises=function(H,G){for(var q=1;q<H;q++){var ee=this._rejectionHandlerAt(q),xe=this._promiseAt(q),B=this._receiverAt(q);this._clearCallbackDataAtIndex(q),this._settlePromise(xe,ee,B,G)}},I.prototype._settlePromises=function(){var H=this._bitField,G=H&65535;if(G>0){if((H&16842752)!==0){var q=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,q,H),this._rejectPromises(G,q)}else{var ee=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,ee,H),this._fulfillPromises(G,ee)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var H=this._bitField;if((H&33554432)!==0)return this._rejectionHandler0;if((H&16777216)!==0)return this._fulfillmentHandler0};function Q(H){this.promise._resolveCallback(H)}function k(H){this.promise._rejectCallback(H,!1)}I.defer=I.pending=function(){A.deprecated("Promise.defer","new Promise");var H=new I(w);return{promise:H,resolve:Q,reject:k}},c.notEnumerableProp(I,"_makeSelfResolutionError",t),dV()(I,w,_,r,A),uV()(I,w,_,A),fV()(I,D,r,A),hV()(I),pV()(I),gV()(I,D,_,w,m,d),I.Promise=I,I.version="3.4.7",mV()(I,D,r,_,w,A),xV()(I),yV()(I,r,_,M,w,A),vV()(I,w,A),bV()(I,r,w,_,i,A),_V()(I),wV()(I,w),DV()(I,D,_,r),SV()(I,w,_,r),CV()(I,D,r,_,w,A),TV()(I,D,A),EV()(I,D,r),NV()(I,w),AV()(I,w),MV()(I),c.toFastProperties(I),c.toFastProperties(I.prototype);function ae(H){var G=new I(w);G._fulfillmentHandler0=H,G._rejectionHandler0=H,G._promise0=H,G._receiver0=H}return ae({a:1}),ae({b:2}),ae({c:3}),ae(1),ae(function(){}),ae(void 0),ae(!1),ae(new I(w)),A.setBounds(h.firstLineError,c.lastLineError),I}})(yv)),yv.exports}var OT;function Il(){if(OT)return Ti;OT=1;var e=Cr,t=UV()();Ti.defer=n,Ti.when=t.resolve,Ti.resolve=t.resolve,Ti.all=t.all,Ti.props=t.props,Ti.reject=t.reject,Ti.promisify=t.promisify,Ti.mapSeries=t.mapSeries,Ti.attempt=t.attempt,Ti.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),o=t.promisify(r);return o.apply(null,i)},t.prototype.fail=t.prototype.caught,t.prototype.also=function(r){return this.then(function(i){var o=e.extend({},i,r(i));return t.props(o)})};function n(){var r,i,o=new t.Promise(function(c,d){r=c,i=d});return{resolve:r,reject:i,promise:o}}return Ti}var Pn={},IT;function ed(){if(IT)return Pn;IT=1;var e=Cr,t=Pn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(j,U){return U=U||{},{type:t.document,children:j,notes:U.notes||new p({}),comments:U.comments||[]}}function r(j,U){U=U||{};var F=U.indent||{};return{type:t.paragraph,children:j,styleId:U.styleId||null,styleName:U.styleName||null,numbering:U.numbering||null,alignment:U.alignment||null,indent:{start:F.start||null,end:F.end||null,firstLine:F.firstLine||null,hanging:F.hanging||null}}}function i(j,U){return U=U||{},{type:t.run,children:j,styleId:U.styleId||null,styleName:U.styleName||null,isBold:!!U.isBold,isUnderline:!!U.isUnderline,isItalic:!!U.isItalic,isStrikethrough:!!U.isStrikethrough,isAllCaps:!!U.isAllCaps,isSmallCaps:!!U.isSmallCaps,verticalAlignment:U.verticalAlignment||o.baseline,font:U.font||null,fontSize:U.fontSize||null,highlight:U.highlight||null}}var o={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function c(j){return{type:t.text,value:j}}function d(){return{type:t.tab}}function f(j){return{type:t.checkbox,checked:j.checked}}function h(j,U){return{type:t.hyperlink,children:j,href:U.href,anchor:U.anchor,targetFrame:U.targetFrame}}function m(j){return{type:t.noteReference,noteType:j.noteType,noteId:j.noteId}}function p(j){this._notes=e.indexBy(j,function(U){return y(U.noteType,U.noteId)})}p.prototype.resolve=function(j){return this.findNoteByKey(y(j.noteType,j.noteId))},p.prototype.findNoteByKey=function(j){return this._notes[j]||null};function x(j){return{type:t.note,noteType:j.noteType,noteId:j.noteId,body:j.body}}function v(j){return{type:t.commentReference,commentId:j.commentId}}function w(j){return{type:t.comment,commentId:j.commentId,body:j.body,authorName:j.authorName,authorInitials:j.authorInitials}}function y(j,U){return j+"-"+U}function b(j){return{type:t.image,read:function(U){return U?j.readImage(U):j.readImage().then(function(F){return Buffer.from(F)})},readAsArrayBuffer:function(){return j.readImage()},readAsBase64String:function(){return j.readImage("base64")},readAsBuffer:function(){return j.readImage().then(function(U){return Buffer.from(U)})},altText:j.altText,contentType:j.contentType}}function _(j,U){return U=U||{},{type:t.table,children:j,styleId:U.styleId||null,styleName:U.styleName||null}}function D(j,U){return U=U||{},{type:t.tableRow,children:j,isHeader:U.isHeader||!1}}function C(j,U){return U=U||{},{type:t.tableCell,children:j,colSpan:U.colSpan==null?1:U.colSpan,rowSpan:U.rowSpan==null?1:U.rowSpan}}function M(j){return{type:t.break,breakType:j}}function A(j){return{type:t.bookmarkStart,name:j.name}}return Pn.document=Pn.Document=n,Pn.paragraph=Pn.Paragraph=r,Pn.run=Pn.Run=i,Pn.text=Pn.Text=c,Pn.tab=Pn.Tab=d,Pn.checkbox=Pn.Checkbox=f,Pn.Hyperlink=h,Pn.noteReference=Pn.NoteReference=m,Pn.Notes=p,Pn.Note=x,Pn.commentReference=v,Pn.comment=w,Pn.Image=b,Pn.Table=_,Pn.TableRow=D,Pn.TableCell=C,Pn.lineBreak=M("line"),Pn.pageBreak=M("page"),Pn.columnBreak=M("column"),Pn.BookmarkStart=A,Pn.verticalAlignment=o,Pn}var iu={},FT;function So(){if(FT)return iu;FT=1;var e=Cr;iu.Result=t,iu.success=n,iu.warning=r,iu.error=i;function t(f,h){this.value=f,this.messages=h||[]}t.prototype.map=function(f){return new t(f(this.value),this.messages)},t.prototype.flatMap=function(f){var h=f(this.value);return new t(h.value,o([this,h]))},t.prototype.flatMapThen=function(f){var h=this;return f(this.value).then(function(m){return new t(m.value,o([h,m]))})},t.combine=function(f){var h=e.flatten(e.pluck(f,"value")),m=o(f);return new t(h,m)};function n(f){return new t(f,[])}function r(f){return{type:"warning",message:f}}function i(f){return{type:"error",message:f.message,error:f}}function o(f){var h=[];return e.flatten(e.pluck(f,"messages"),!0).forEach(function(m){c(h,m)||h.push(m)}),h}function c(f,h){return e.find(f,d.bind(null,h))!==void 0}function d(f,h){return f.type===h.type&&f.message===h.message}return iu}var Hf={},Bf={},LT;function kV(){if(LT)return Bf;LT=1,Bf.byteLength=d,Bf.toByteArray=h,Bf.fromByteArray=x;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function c(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=v.indexOf("=");y===-1&&(y=w);var b=y===w?0:4-y%4;return[y,b]}function d(v){var w=c(v),y=w[0],b=w[1];return(y+b)*3/4-b}function f(v,w,y){return(w+y)*3/4-y}function h(v){var w,y=c(v),b=y[0],_=y[1],D=new n(f(v,b,_)),C=0,M=_>0?b-4:b,A;for(A=0;A<M;A+=4)w=t[v.charCodeAt(A)]<<18|t[v.charCodeAt(A+1)]<<12|t[v.charCodeAt(A+2)]<<6|t[v.charCodeAt(A+3)],D[C++]=w>>16&255,D[C++]=w>>8&255,D[C++]=w&255;return _===2&&(w=t[v.charCodeAt(A)]<<2|t[v.charCodeAt(A+1)]>>4,D[C++]=w&255),_===1&&(w=t[v.charCodeAt(A)]<<10|t[v.charCodeAt(A+1)]<<4|t[v.charCodeAt(A+2)]>>2,D[C++]=w>>8&255,D[C++]=w&255),D}function m(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function p(v,w,y){for(var b,_=[],D=w;D<y;D+=3)b=(v[D]<<16&16711680)+(v[D+1]<<8&65280)+(v[D+2]&255),_.push(m(b));return _.join("")}function x(v){for(var w,y=v.length,b=y%3,_=[],D=16383,C=0,M=y-b;C<M;C+=D)_.push(p(v,C,C+D>M?M:C+D));return b===1?(w=v[y-1],_.push(e[w>>2]+e[w<<4&63]+"==")):b===2&&(w=(v[y-2]<<8)+v[y-1],_.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),_.join("")}return Bf}var HT;function B4(){if(HT)return Hf;HT=1;var e=kV(),t=UA();Hf.openArrayBuffer=n,Hf.splitPath=r,Hf.joinPath=i;function n(o){return t.loadAsync(o).then(function(c){function d(p){return c.file(p)!==null}function f(p,x){return c.file(p).async("uint8array").then(function(v){if(x==="base64")return e.fromByteArray(v);if(x){var w=new TextDecoder(x);return w.decode(v)}else return v})}function h(p,x){c.file(p,x)}function m(){return c.generateAsync({type:"arraybuffer"})}return{exists:d,read:f,write:h,toArrayBuffer:m}})}function r(o){var c=o.lastIndexOf("/");return c===-1?{dirname:"",basename:o}:{dirname:o.substring(0,c),basename:o.substring(c+1)}}function i(){var o=Array.prototype.filter.call(arguments,function(d){return d}),c=[];return o.forEach(function(d){/^\//.test(d)?c=[d]:c.push(d)}),c.join("/")}return Hf}var Hg={},cl={},su={},BT;function V4(){if(BT)return su;BT=1;var e=Cr;su.Element=n,su.element=function(o,c,d){return new n(o,c,d)},su.text=function(o){return{type:"text",value:o}};var t=su.emptyElement={first:function(){return null},firstOrEmpty:function(){return t},attributes:{},children:[]};function n(o,c,d){this.type="element",this.name=o,this.attributes=c||{},this.children=d||[]}n.prototype.first=function(o){return e.find(this.children,function(c){return c.name===o})},n.prototype.firstOrEmpty=function(o){return this.first(o)||t},n.prototype.getElementsByTagName=function(o){var c=e.filter(this.children,function(d){return d.name===o});return i(c)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(o){return i(e.flatten(this.map(function(c){return c.getElementsByTagName(o)},!0)))}};function i(o){return e.extend(o,r)}return su}var Yv={},Bg={},Vf={},go={},vc={},VT;function Ix(){if(VT)return vc;VT=1;function e(o,c,d){if(d===void 0&&(d=Array.prototype),o&&typeof d.find=="function")return d.find.call(o,c);for(var f=0;f<o.length;f++)if(Object.prototype.hasOwnProperty.call(o,f)){var h=o[f];if(c.call(void 0,h,f,o))return h}}function t(o,c){return c===void 0&&(c=Object),c&&typeof c.freeze=="function"?c.freeze(o):o}function n(o,c){if(o===null||typeof o!="object")throw new TypeError("target is not an object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d]);return o}var r=t({HTML:"text/html",isHTML:function(o){return o===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(o){return o===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return vc.assign=n,vc.find=e,vc.freeze=t,vc.MIME_TYPE=r,vc.NAMESPACE=i,vc}var WT;function $2(){if(WT)return go;WT=1;var e=Ix(),t=e.find,n=e.NAMESPACE;function r(V){return V!==""}function i(V){return V?V.split(/[\t\n\f\r ]+/).filter(r):[]}function o(V,X){return V.hasOwnProperty(X)||(V[X]=!0),V}function c(V){if(!V)return[];var X=i(V);return Object.keys(X.reduce(o,{}))}function d(V){return function(X){return V&&V.indexOf(X)!==-1}}function f(V,X){for(var pe in V)Object.prototype.hasOwnProperty.call(V,pe)&&(X[pe]=V[pe])}function h(V,X){var pe=V.prototype;if(!(pe instanceof X)){let Ye=function(){};var Re=Ye;Ye.prototype=X.prototype,Ye=new Ye,f(pe,Ye),V.prototype=pe=Ye}pe.constructor!=V&&(typeof V!="function"&&console.error("unknown Class:"+V),pe.constructor=V)}var m={},p=m.ELEMENT_NODE=1,x=m.ATTRIBUTE_NODE=2,v=m.TEXT_NODE=3,w=m.CDATA_SECTION_NODE=4,y=m.ENTITY_REFERENCE_NODE=5,b=m.ENTITY_NODE=6,_=m.PROCESSING_INSTRUCTION_NODE=7,D=m.COMMENT_NODE=8,C=m.DOCUMENT_NODE=9,M=m.DOCUMENT_TYPE_NODE=10,A=m.DOCUMENT_FRAGMENT_NODE=11,j=m.NOTATION_NODE=12,U={},F={};U.INDEX_SIZE_ERR=(F[1]="Index size error",1),U.DOMSTRING_SIZE_ERR=(F[2]="DOMString size error",2);var O=U.HIERARCHY_REQUEST_ERR=(F[3]="Hierarchy request error",3);U.WRONG_DOCUMENT_ERR=(F[4]="Wrong document",4),U.INVALID_CHARACTER_ERR=(F[5]="Invalid character",5),U.NO_DATA_ALLOWED_ERR=(F[6]="No data allowed",6),U.NO_MODIFICATION_ALLOWED_ERR=(F[7]="No modification allowed",7);var $=U.NOT_FOUND_ERR=(F[8]="Not found",8);U.NOT_SUPPORTED_ERR=(F[9]="Not supported",9);var se=U.INUSE_ATTRIBUTE_ERR=(F[10]="Attribute in use",10);U.INVALID_STATE_ERR=(F[11]="Invalid state",11),U.SYNTAX_ERR=(F[12]="Syntax error",12),U.INVALID_MODIFICATION_ERR=(F[13]="Invalid modification",13),U.NAMESPACE_ERR=(F[14]="Invalid namespace",14),U.INVALID_ACCESS_ERR=(F[15]="Invalid access",15);function I(V,X){if(X instanceof Error)var pe=X;else pe=this,Error.call(this,F[V]),this.message=F[V],Error.captureStackTrace&&Error.captureStackTrace(this,I);return pe.code=V,X&&(this.message=this.message+": "+X),pe}I.prototype=Error.prototype,f(U,I);function Q(){}Q.prototype={length:0,item:function(V){return V>=0&&V<this.length?this[V]:null},toString:function(V,X){for(var pe=[],Re=0;Re<this.length;Re++)Kt(this[Re],pe,V,X);return pe.join("")},filter:function(V){return Array.prototype.filter.call(this,V)},indexOf:function(V){return Array.prototype.indexOf.call(this,V)}};function k(V,X){this._node=V,this._refresh=X,ae(this)}function ae(V){var X=V._node._inc||V._node.ownerDocument._inc;if(V._inc!==X){var pe=V._refresh(V._node);if(jn(V,"length",pe.length),!V.$$length||pe.length<V.$$length)for(var Re=pe.length;Re in V;Re++)Object.prototype.hasOwnProperty.call(V,Re)&&delete V[Re];f(pe,V),V._inc=X}}k.prototype.item=function(V){return ae(this),this[V]||null},h(k,Q);function H(){}function G(V,X){for(var pe=V.length;pe--;)if(V[pe]===X)return pe}function q(V,X,pe,Re){if(Re?X[G(X,Re)]=pe:X[X.length++]=pe,V){pe.ownerElement=V;var Ye=V.ownerDocument;Ye&&(Re&&Oe(Ye,V,Re),_e(Ye,V,pe))}}function ee(V,X,pe){var Re=G(X,pe);if(Re>=0){for(var Ye=X.length-1;Re<Ye;)X[Re]=X[++Re];if(X.length=Ye,V){var Ct=V.ownerDocument;Ct&&(Oe(Ct,V,pe),pe.ownerElement=null)}}else throw new I($,new Error(V.tagName+"@"+pe))}H.prototype={length:0,item:Q.prototype.item,getNamedItem:function(V){for(var X=this.length;X--;){var pe=this[X];if(pe.nodeName==V)return pe}},setNamedItem:function(V){var X=V.ownerElement;if(X&&X!=this._ownerElement)throw new I(se);var pe=this.getNamedItem(V.nodeName);return q(this._ownerElement,this,V,pe),pe},setNamedItemNS:function(V){var X=V.ownerElement,pe;if(X&&X!=this._ownerElement)throw new I(se);return pe=this.getNamedItemNS(V.namespaceURI,V.localName),q(this._ownerElement,this,V,pe),pe},removeNamedItem:function(V){var X=this.getNamedItem(V);return ee(this._ownerElement,this,X),X},removeNamedItemNS:function(V,X){var pe=this.getNamedItemNS(V,X);return ee(this._ownerElement,this,pe),pe},getNamedItemNS:function(V,X){for(var pe=this.length;pe--;){var Re=this[pe];if(Re.localName==X&&Re.namespaceURI==V)return Re}return null}};function xe(){}xe.prototype={hasFeature:function(V,X){return!0},createDocument:function(V,X,pe){var Re=new de;if(Re.implementation=this,Re.childNodes=new Q,Re.doctype=pe||null,pe&&Re.appendChild(pe),X){var Ye=Re.createElementNS(V,X);Re.appendChild(Ye)}return Re},createDocumentType:function(V,X,pe){var Re=new vt;return Re.name=V,Re.nodeName=V,Re.publicId=X||"",Re.systemId=pe||"",Re}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(V,X){return fe(this,V,X)},replaceChild:function(V,X){fe(this,V,X,le),X&&this.removeChild(X)},removeChild:function(V){return He(this,V)},appendChild:function(V){return this.insertBefore(V,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(V){return Dn(this.ownerDocument||this,this,V)},normalize:function(){for(var V=this.firstChild;V;){var X=V.nextSibling;X&&X.nodeType==v&&V.nodeType==v?(this.removeChild(X),V.appendData(X.data)):(V.normalize(),V=X)}},isSupported:function(V,X){return this.ownerDocument.implementation.hasFeature(V,X)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(V){for(var X=this;X;){var pe=X._nsMap;if(pe){for(var Re in pe)if(Object.prototype.hasOwnProperty.call(pe,Re)&&pe[Re]===V)return Re}X=X.nodeType==x?X.ownerDocument:X.parentNode}return null},lookupNamespaceURI:function(V){for(var X=this;X;){var pe=X._nsMap;if(pe&&Object.prototype.hasOwnProperty.call(pe,V))return pe[V];X=X.nodeType==x?X.ownerDocument:X.parentNode}return null},isDefaultNamespace:function(V){var X=this.lookupPrefix(V);return X==null}};function te(V){return V=="<"&&"&lt;"||V==">"&&"&gt;"||V=="&"&&"&amp;"||V=='"'&&"&quot;"||"&#"+V.charCodeAt()+";"}f(m,B),f(m,B.prototype);function J(V,X){if(X(V))return!0;if(V=V.firstChild)do if(J(V,X))return!0;while(V=V.nextSibling)}function de(){this.ownerDocument=this}function _e(V,X,pe){V&&V._inc++;var Re=pe.namespaceURI;Re===n.XMLNS&&(X._nsMap[pe.prefix?pe.localName:""]=pe.value)}function Oe(V,X,pe,Re){V&&V._inc++;var Ye=pe.namespaceURI;Ye===n.XMLNS&&delete X._nsMap[pe.prefix?pe.localName:""]}function Ee(V,X,pe){if(V&&V._inc){V._inc++;var Re=X.childNodes;if(pe)Re[Re.length++]=pe;else{for(var Ye=X.firstChild,Ct=0;Ye;)Re[Ct++]=Ye,Ye=Ye.nextSibling;Re.length=Ct,delete Re[Re.length]}}}function He(V,X){var pe=X.previousSibling,Re=X.nextSibling;return pe?pe.nextSibling=Re:V.firstChild=Re,Re?Re.previousSibling=pe:V.lastChild=pe,X.parentNode=null,X.previousSibling=null,X.nextSibling=null,Ee(V.ownerDocument,V),X}function Qe(V){return V&&(V.nodeType===B.DOCUMENT_NODE||V.nodeType===B.DOCUMENT_FRAGMENT_NODE||V.nodeType===B.ELEMENT_NODE)}function at(V){return V&&(tt(V)||nt(V)||Ie(V)||V.nodeType===B.DOCUMENT_FRAGMENT_NODE||V.nodeType===B.COMMENT_NODE||V.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Ie(V){return V&&V.nodeType===B.DOCUMENT_TYPE_NODE}function tt(V){return V&&V.nodeType===B.ELEMENT_NODE}function nt(V){return V&&V.nodeType===B.TEXT_NODE}function P(V,X){var pe=V.childNodes||[];if(t(pe,tt)||Ie(X))return!1;var Re=t(pe,Ie);return!(X&&Re&&pe.indexOf(Re)>pe.indexOf(X))}function he(V,X){var pe=V.childNodes||[];function Re(Ct){return tt(Ct)&&Ct!==X}if(t(pe,Re))return!1;var Ye=t(pe,Ie);return!(X&&Ye&&pe.indexOf(Ye)>pe.indexOf(X))}function ye(V,X,pe){if(!Qe(V))throw new I(O,"Unexpected parent node type "+V.nodeType);if(pe&&pe.parentNode!==V)throw new I($,"child not in parent");if(!at(X)||Ie(X)&&V.nodeType!==B.DOCUMENT_NODE)throw new I(O,"Unexpected node type "+X.nodeType+" for parent node type "+V.nodeType)}function ne(V,X,pe){var Re=V.childNodes||[],Ye=X.childNodes||[];if(X.nodeType===B.DOCUMENT_FRAGMENT_NODE){var Ct=Ye.filter(tt);if(Ct.length>1||t(Ye,nt))throw new I(O,"More than one element or text in fragment");if(Ct.length===1&&!P(V,pe))throw new I(O,"Element in fragment can not be inserted before doctype")}if(tt(X)&&!P(V,pe))throw new I(O,"Only one element can be added and only after doctype");if(Ie(X)){if(t(Re,Ie))throw new I(O,"Only one doctype is allowed");var wt=t(Re,tt);if(pe&&Re.indexOf(wt)<Re.indexOf(pe))throw new I(O,"Doctype can only be inserted before an element");if(!pe&&wt)throw new I(O,"Doctype can not be appended since element is present")}}function le(V,X,pe){var Re=V.childNodes||[],Ye=X.childNodes||[];if(X.nodeType===B.DOCUMENT_FRAGMENT_NODE){var Ct=Ye.filter(tt);if(Ct.length>1||t(Ye,nt))throw new I(O,"More than one element or text in fragment");if(Ct.length===1&&!he(V,pe))throw new I(O,"Element in fragment can not be inserted before doctype")}if(tt(X)&&!he(V,pe))throw new I(O,"Only one element can be added and only after doctype");if(Ie(X)){let pn=function(Qt){return Ie(Qt)&&Qt!==pe};var Zt=pn;if(t(Re,pn))throw new I(O,"Only one doctype is allowed");var wt=t(Re,tt);if(pe&&Re.indexOf(wt)<Re.indexOf(pe))throw new I(O,"Doctype can only be inserted before an element")}}function fe(V,X,pe,Re){ye(V,X,pe),V.nodeType===B.DOCUMENT_NODE&&(Re||ne)(V,X,pe);var Ye=X.parentNode;if(Ye&&Ye.removeChild(X),X.nodeType===A){var Ct=X.firstChild;if(Ct==null)return X;var wt=X.lastChild}else Ct=wt=X;var Zt=pe?pe.previousSibling:V.lastChild;Ct.previousSibling=Zt,wt.nextSibling=pe,Zt?Zt.nextSibling=Ct:V.firstChild=Ct,pe==null?V.lastChild=wt:pe.previousSibling=wt;do{Ct.parentNode=V;var pn=V.ownerDocument||V;Le(Ct,pn)}while(Ct!==wt&&(Ct=Ct.nextSibling));return Ee(V.ownerDocument||V,V),X.nodeType==A&&(X.firstChild=X.lastChild=null),X}function Le(V,X){if(V.ownerDocument!==X){if(V.ownerDocument=X,V.nodeType===p&&V.attributes)for(var pe=0;pe<V.attributes.length;pe++){var Re=V.attributes.item(pe);Re&&(Re.ownerDocument=X)}for(var Ye=V.firstChild;Ye;)Le(Ye,X),Ye=Ye.nextSibling}}function qe(V,X){X.parentNode&&X.parentNode.removeChild(X),X.parentNode=V,X.previousSibling=V.lastChild,X.nextSibling=null,X.previousSibling?X.previousSibling.nextSibling=X:V.firstChild=X,V.lastChild=X,Ee(V.ownerDocument,V,X);var pe=V.ownerDocument||V;return Le(X,pe),X}de.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(V,X){if(V.nodeType==A){for(var pe=V.firstChild;pe;){var Re=pe.nextSibling;this.insertBefore(pe,X),pe=Re}return V}return fe(this,V,X),Le(V,this),this.documentElement===null&&V.nodeType===p&&(this.documentElement=V),V},removeChild:function(V){return this.documentElement==V&&(this.documentElement=null),He(this,V)},replaceChild:function(V,X){fe(this,V,X,le),Le(V,this),X&&this.removeChild(X),tt(V)&&(this.documentElement=V)},importNode:function(V,X){return an(this,V,X)},getElementById:function(V){var X=null;return J(this.documentElement,function(pe){if(pe.nodeType==p&&pe.getAttribute("id")==V)return X=pe,!0}),X},getElementsByClassName:function(V){var X=c(V);return new k(this,function(pe){var Re=[];return X.length>0&&J(pe.documentElement,function(Ye){if(Ye!==pe&&Ye.nodeType===p){var Ct=Ye.getAttribute("class");if(Ct){var wt=V===Ct;if(!wt){var Zt=c(Ct);wt=X.every(d(Zt))}wt&&Re.push(Ye)}}}),Re})},createElement:function(V){var X=new Se;X.ownerDocument=this,X.nodeName=V,X.tagName=V,X.localName=V,X.childNodes=new Q;var pe=X.attributes=new H;return pe._ownerElement=X,X},createDocumentFragment:function(){var V=new Xt;return V.ownerDocument=this,V.childNodes=new Q,V},createTextNode:function(V){var X=new Ce;return X.ownerDocument=this,X.appendData(V),X},createComment:function(V){var X=new Fe;return X.ownerDocument=this,X.appendData(V),X},createCDATASection:function(V){var X=new lt;return X.ownerDocument=this,X.appendData(V),X},createProcessingInstruction:function(V,X){var pe=new Me;return pe.ownerDocument=this,pe.tagName=pe.nodeName=pe.target=V,pe.nodeValue=pe.data=X,pe},createAttribute:function(V){var X=new oe;return X.ownerDocument=this,X.name=V,X.nodeName=V,X.localName=V,X.specified=!0,X},createEntityReference:function(V){var X=new _t;return X.ownerDocument=this,X.nodeName=V,X},createElementNS:function(V,X){var pe=new Se,Re=X.split(":"),Ye=pe.attributes=new H;return pe.childNodes=new Q,pe.ownerDocument=this,pe.nodeName=X,pe.tagName=X,pe.namespaceURI=V,Re.length==2?(pe.prefix=Re[0],pe.localName=Re[1]):pe.localName=X,Ye._ownerElement=pe,pe},createAttributeNS:function(V,X){var pe=new oe,Re=X.split(":");return pe.ownerDocument=this,pe.nodeName=X,pe.name=X,pe.namespaceURI=V,pe.specified=!0,Re.length==2?(pe.prefix=Re[0],pe.localName=Re[1]):pe.localName=X,pe}},h(de,B);function Se(){this._nsMap={}}Se.prototype={nodeType:p,hasAttribute:function(V){return this.getAttributeNode(V)!=null},getAttribute:function(V){var X=this.getAttributeNode(V);return X&&X.value||""},getAttributeNode:function(V){return this.attributes.getNamedItem(V)},setAttribute:function(V,X){var pe=this.ownerDocument.createAttribute(V);pe.value=pe.nodeValue=""+X,this.setAttributeNode(pe)},removeAttribute:function(V){var X=this.getAttributeNode(V);X&&this.removeAttributeNode(X)},appendChild:function(V){return V.nodeType===A?this.insertBefore(V,null):qe(this,V)},setAttributeNode:function(V){return this.attributes.setNamedItem(V)},setAttributeNodeNS:function(V){return this.attributes.setNamedItemNS(V)},removeAttributeNode:function(V){return this.attributes.removeNamedItem(V.nodeName)},removeAttributeNS:function(V,X){var pe=this.getAttributeNodeNS(V,X);pe&&this.removeAttributeNode(pe)},hasAttributeNS:function(V,X){return this.getAttributeNodeNS(V,X)!=null},getAttributeNS:function(V,X){var pe=this.getAttributeNodeNS(V,X);return pe&&pe.value||""},setAttributeNS:function(V,X,pe){var Re=this.ownerDocument.createAttributeNS(V,X);Re.value=Re.nodeValue=""+pe,this.setAttributeNode(Re)},getAttributeNodeNS:function(V,X){return this.attributes.getNamedItemNS(V,X)},getElementsByTagName:function(V){return new k(this,function(X){var pe=[];return J(X,function(Re){Re!==X&&Re.nodeType==p&&(V==="*"||Re.tagName==V)&&pe.push(Re)}),pe})},getElementsByTagNameNS:function(V,X){return new k(this,function(pe){var Re=[];return J(pe,function(Ye){Ye!==pe&&Ye.nodeType===p&&(V==="*"||Ye.namespaceURI===V)&&(X==="*"||Ye.localName==X)&&Re.push(Ye)}),Re})}},de.prototype.getElementsByTagName=Se.prototype.getElementsByTagName,de.prototype.getElementsByTagNameNS=Se.prototype.getElementsByTagNameNS,h(Se,B);function oe(){}oe.prototype.nodeType=x,h(oe,B);function Y(){}Y.prototype={data:"",substringData:function(V,X){return this.data.substring(V,V+X)},appendData:function(V){V=this.data+V,this.nodeValue=this.data=V,this.length=V.length},insertData:function(V,X){this.replaceData(V,0,X)},appendChild:function(V){throw new Error(F[O])},deleteData:function(V,X){this.replaceData(V,X,"")},replaceData:function(V,X,pe){var Re=this.data.substring(0,V),Ye=this.data.substring(V+X);pe=Re+pe+Ye,this.nodeValue=this.data=pe,this.length=pe.length}},h(Y,B);function Ce(){}Ce.prototype={nodeName:"#text",nodeType:v,splitText:function(V){var X=this.data,pe=X.substring(V);X=X.substring(0,V),this.data=this.nodeValue=X,this.length=X.length;var Re=this.ownerDocument.createTextNode(pe);return this.parentNode&&this.parentNode.insertBefore(Re,this.nextSibling),Re}},h(Ce,Y);function Fe(){}Fe.prototype={nodeName:"#comment",nodeType:D},h(Fe,Y);function lt(){}lt.prototype={nodeName:"#cdata-section",nodeType:w},h(lt,Y);function vt(){}vt.prototype.nodeType=M,h(vt,B);function Et(){}Et.prototype.nodeType=j,h(Et,B);function yt(){}yt.prototype.nodeType=b,h(yt,B);function _t(){}_t.prototype.nodeType=y,h(_t,B);function Xt(){}Xt.prototype.nodeName="#document-fragment",Xt.prototype.nodeType=A,h(Xt,B);function Me(){}Me.prototype.nodeType=_,h(Me,B);function Ze(){}Ze.prototype.serializeToString=function(V,X,pe){return pt.call(V,X,pe)},B.prototype.toString=pt;function pt(V,X){var pe=[],Re=this.nodeType==9&&this.documentElement||this,Ye=Re.prefix,Ct=Re.namespaceURI;if(Ct&&Ye==null){var Ye=Re.lookupPrefix(Ct);if(Ye==null)var wt=[{namespace:Ct,prefix:null}]}return Kt(this,pe,V,X,wt),pe.join("")}function gt(V,X,pe){var Re=V.prefix||"",Ye=V.namespaceURI;if(!Ye||Re==="xml"&&Ye===n.XML||Ye===n.XMLNS)return!1;for(var Ct=pe.length;Ct--;){var wt=pe[Ct];if(wt.prefix===Re)return wt.namespace!==Ye}return!0}function Vt(V,X,pe){V.push(" ",X,'="',pe.replace(/[<>&"\t\n\r]/g,te),'"')}function Kt(V,X,pe,Re,Ye){if(Ye||(Ye=[]),Re)if(V=Re(V),V){if(typeof V=="string"){X.push(V);return}}else return;switch(V.nodeType){case p:var Ct=V.attributes,wt=Ct.length,Wt=V.firstChild,Zt=V.tagName;pe=n.isHTML(V.namespaceURI)||pe;var pn=Zt;if(!pe&&!V.prefix&&V.namespaceURI){for(var Qt,Ne=0;Ne<Ct.length;Ne++)if(Ct.item(Ne).name==="xmlns"){Qt=Ct.item(Ne).value;break}if(!Qt)for(var ze=Ye.length-1;ze>=0;ze--){var st=Ye[ze];if(st.prefix===""&&st.namespace===V.namespaceURI){Qt=st.namespace;break}}if(Qt!==V.namespaceURI)for(var ze=Ye.length-1;ze>=0;ze--){var st=Ye[ze];if(st.namespace===V.namespaceURI){st.prefix&&(pn=st.prefix+":"+Zt);break}}}X.push("<",pn);for(var qt=0;qt<wt;qt++){var Nt=Ct.item(qt);Nt.prefix=="xmlns"?Ye.push({prefix:Nt.localName,namespace:Nt.value}):Nt.nodeName=="xmlns"&&Ye.push({prefix:"",namespace:Nt.value})}for(var qt=0;qt<wt;qt++){var Nt=Ct.item(qt);if(gt(Nt,pe,Ye)){var Ut=Nt.prefix||"",kt=Nt.namespaceURI;Vt(X,Ut?"xmlns:"+Ut:"xmlns",kt),Ye.push({prefix:Ut,namespace:kt})}Kt(Nt,X,pe,Re,Ye)}if(Zt===pn&&gt(V,pe,Ye)){var Ut=V.prefix||"",kt=V.namespaceURI;Vt(X,Ut?"xmlns:"+Ut:"xmlns",kt),Ye.push({prefix:Ut,namespace:kt})}if(Wt||pe&&!/^(?:meta|link|img|br|hr|input)$/i.test(Zt)){if(X.push(">"),pe&&/^script$/i.test(Zt))for(;Wt;)Wt.data?X.push(Wt.data):Kt(Wt,X,pe,Re,Ye.slice()),Wt=Wt.nextSibling;else for(;Wt;)Kt(Wt,X,pe,Re,Ye.slice()),Wt=Wt.nextSibling;X.push("</",pn,">")}else X.push("/>");return;case C:case A:for(var Wt=V.firstChild;Wt;)Kt(Wt,X,pe,Re,Ye.slice()),Wt=Wt.nextSibling;return;case x:return Vt(X,V.name,V.value);case v:return X.push(V.data.replace(/[<&>]/g,te));case w:return X.push("<![CDATA[",V.data,"]]>");case D:return X.push("<!--",V.data,"-->");case M:var ln=V.publicId,Sn=V.systemId;if(X.push("<!DOCTYPE ",V.name),ln)X.push(" PUBLIC ",ln),Sn&&Sn!="."&&X.push(" ",Sn),X.push(">");else if(Sn&&Sn!=".")X.push(" SYSTEM ",Sn,">");else{var qr=V.internalSubset;qr&&X.push(" [",qr,"]"),X.push(">")}return;case _:return X.push("<?",V.target," ",V.data,"?>");case y:return X.push("&",V.nodeName,";");default:X.push("??",V.nodeName)}}function an(V,X,pe){var Re;switch(X.nodeType){case p:Re=X.cloneNode(!1),Re.ownerDocument=V;case A:break;case x:pe=!0;break}if(Re||(Re=X.cloneNode(!1)),Re.ownerDocument=V,Re.parentNode=null,pe)for(var Ye=X.firstChild;Ye;)Re.appendChild(an(V,Ye,pe)),Ye=Ye.nextSibling;return Re}function Dn(V,X,pe){var Re=new X.constructor;for(var Ye in X)if(Object.prototype.hasOwnProperty.call(X,Ye)){var Ct=X[Ye];typeof Ct!="object"&&Ct!=Re[Ye]&&(Re[Ye]=Ct)}switch(X.childNodes&&(Re.childNodes=new Q),Re.ownerDocument=V,Re.nodeType){case p:var wt=X.attributes,Zt=Re.attributes=new H,pn=wt.length;Zt._ownerElement=Re;for(var Qt=0;Qt<pn;Qt++)Re.setAttributeNode(Dn(V,wt.item(Qt),!0));break;case x:pe=!0}if(pe)for(var Ne=X.firstChild;Ne;)Re.appendChild(Dn(V,Ne,pe)),Ne=Ne.nextSibling;return Re}function jn(V,X,pe){V[X]=pe}try{if(Object.defineProperty){let V=function(X){switch(X.nodeType){case p:case A:var pe=[];for(X=X.firstChild;X;)X.nodeType!==7&&X.nodeType!==8&&pe.push(V(X)),X=X.nextSibling;return pe.join("");default:return X.nodeValue}};var Ln=V;Object.defineProperty(k.prototype,"length",{get:function(){return ae(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return V(this)},set:function(X){switch(this.nodeType){case p:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(X||String(X))&&this.appendChild(this.ownerDocument.createTextNode(X));break;default:this.data=X,this.value=X,this.nodeValue=X}}}),jn=function(X,pe,Re){X["$$"+pe]=Re}}}catch{}return go.DocumentType=vt,go.DOMException=I,go.DOMImplementation=xe,go.Element=Se,go.Node=B,go.NodeList=Q,go.XMLSerializer=Ze,go}var Wf={},Zv={},zT;function jV(){return zT||(zT=1,(function(e){var t=Ix().freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(Zv)),Zv}var Vg={},$T;function RV(){if($T)return Vg;$T=1;var e=Ix().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+t.source+n.source+"*(?::"+t.source+n.source+"*)?$"),i=0,o=1,c=2,d=3,f=4,h=5,m=6,p=7;function x(O,$){this.message=O,this.locator=$,Error.captureStackTrace&&Error.captureStackTrace(this,x)}x.prototype=new Error,x.prototype.name=x.name;function v(){}v.prototype={parse:function(O,$,se){var I=this.domBuilder;I.startDocument(),M($,$={}),w(O,$,se,I,this.errorHandler),I.endDocument()}};function w(O,$,se,I,Q){function k(qe){if(qe>65535){qe-=65536;var Se=55296+(qe>>10),oe=56320+(qe&1023);return String.fromCharCode(Se,oe)}else return String.fromCharCode(qe)}function ae(qe){var Se=qe.slice(1,-1);return Object.hasOwnProperty.call(se,Se)?se[Se]:Se.charAt(0)==="#"?k(parseInt(Se.substr(1).replace("x","0x"))):(Q.error("entity not found:"+qe),qe)}function H(qe){if(qe>de){var Se=O.substring(de,qe).replace(/&#?\w+;/g,ae);B&&G(de),I.characters(Se,0,qe-de),de=qe}}function G(qe,Se){for(;qe>=ee&&(Se=xe.exec(O));)q=Se.index,ee=q+Se[0].length,B.lineNumber++;B.columnNumber=qe-q+1}for(var q=0,ee=0,xe=/.*(?:\r\n?|\n)|.*$/g,B=I.locator,te=[{currentNSMap:$}],J={},de=0;;){try{var _e=O.indexOf("<",de);if(_e<0){if(!O.substr(de).match(/^\s*$/)){var Oe=I.doc,Ee=Oe.createTextNode(O.substr(de));Oe.appendChild(Ee),I.currentElement=Ee}return}switch(_e>de&&H(_e),O.charAt(_e+1)){case"/":var ye=O.indexOf(">",_e+3),He=O.substring(_e+2,ye).replace(/[ \t\n\r]+$/g,""),Qe=te.pop();ye<0?(He=O.substring(_e+2).replace(/[\s<].*/,""),Q.error("end tag name: "+He+" is not complete:"+Qe.tagName),ye=_e+1+He.length):He.match(/\s</)&&(He=He.replace(/[\s<].*/,""),Q.error("end tag name: "+He+" maybe not complete"),ye=_e+1+He.length);var at=Qe.localNSMap,Ie=Qe.tagName==He,tt=Ie||Qe.tagName&&Qe.tagName.toLowerCase()==He.toLowerCase();if(tt){if(I.endElement(Qe.uri,Qe.localName,He),at)for(var nt in at)Object.prototype.hasOwnProperty.call(at,nt)&&I.endPrefixMapping(nt);Ie||Q.fatalError("end tag name: "+He+" is not match the current start tagName:"+Qe.tagName)}else te.push(Qe);ye++;break;case"?":B&&G(_e),ye=j(O,_e,I);break;case"!":B&&G(_e),ye=A(O,_e,I,Q);break;default:B&&G(_e);var P=new U,he=te[te.length-1].currentNSMap,ye=b(O,_e,P,he,ae,Q),ne=P.length;if(!P.closed&&C(O,ye,P.tagName,J)&&(P.closed=!0,se.nbsp||Q.warning("unclosed xml attribute")),B&&ne){for(var le=y(B,{}),fe=0;fe<ne;fe++){var Le=P[fe];G(Le.offset),Le.locator=y(B,{})}I.locator=le,_(P,I,he)&&te.push(P),I.locator=B}else _(P,I,he)&&te.push(P);e.isHTML(P.uri)&&!P.closed?ye=D(O,ye,P.tagName,ae,I):ye++}}catch(qe){if(qe instanceof x)throw qe;Q.error("element parse error: "+qe),ye=-1}ye>de?de=ye:H(Math.max(_e,de)+1)}}function y(O,$){return $.lineNumber=O.lineNumber,$.columnNumber=O.columnNumber,$}function b(O,$,se,I,Q,k){function ae(B,te,J){se.attributeNames.hasOwnProperty(B)&&k.fatalError("Attribute "+B+" redefined"),se.addValue(B,te.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,Q),J)}for(var H,G,q=++$,ee=i;;){var xe=O.charAt(q);switch(xe){case"=":if(ee===o)H=O.slice($,q),ee=d;else if(ee===c)ee=d;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ee===d||ee===o)if(ee===o&&(k.warning('attribute value must after "="'),H=O.slice($,q)),$=q+1,q=O.indexOf(xe,$),q>0)G=O.slice($,q),ae(H,G,$-1),ee=h;else throw new Error("attribute value no end '"+xe+"' match");else if(ee==f)G=O.slice($,q),ae(H,G,$),k.warning('attribute "'+H+'" missed start quot('+xe+")!!"),$=q+1,ee=h;else throw new Error('attribute value must after "="');break;case"/":switch(ee){case i:se.setTagName(O.slice($,q));case h:case m:case p:ee=p,se.closed=!0;case f:case o:break;case c:se.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return k.error("unexpected end of input"),ee==i&&se.setTagName(O.slice($,q)),q;case">":switch(ee){case i:se.setTagName(O.slice($,q));case h:case m:case p:break;case f:case o:G=O.slice($,q),G.slice(-1)==="/"&&(se.closed=!0,G=G.slice(0,-1));case c:ee===c&&(G=H),ee==f?(k.warning('attribute "'+G+'" missed quot(")!'),ae(H,G,$)):((!e.isHTML(I[""])||!G.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+G+'" missed value!! "'+G+'" instead!!'),ae(G,G,$));break;case d:throw new Error("attribute value missed!!")}return q;case"":xe=" ";default:if(xe<=" ")switch(ee){case i:se.setTagName(O.slice($,q)),ee=m;break;case o:H=O.slice($,q),ee=c;break;case f:var G=O.slice($,q);k.warning('attribute "'+G+'" missed quot(")!!'),ae(H,G,$);case h:ee=m;break}else switch(ee){case c:se.tagName,(!e.isHTML(I[""])||!H.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+H+'" missed value!! "'+H+'" instead2!!'),ae(H,H,$),$=q,ee=o;break;case h:k.warning('attribute space is required"'+H+'"!!');case m:ee=o,$=q;break;case d:ee=f,$=q;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}q++}}function _(O,$,se){for(var I=O.tagName,Q=null,xe=O.length;xe--;){var k=O[xe],ae=k.qName,H=k.value,B=ae.indexOf(":");if(B>0)var G=k.prefix=ae.slice(0,B),q=ae.slice(B+1),ee=G==="xmlns"&&q;else q=ae,G=null,ee=ae==="xmlns"&&"";k.localName=q,ee!==!1&&(Q==null&&(Q={},M(se,se={})),se[ee]=Q[ee]=H,k.uri=e.XMLNS,$.startPrefixMapping(ee,H))}for(var xe=O.length;xe--;){k=O[xe];var G=k.prefix;G&&(G==="xml"&&(k.uri=e.XML),G!=="xmlns"&&(k.uri=se[G||""]))}var B=I.indexOf(":");B>0?(G=O.prefix=I.slice(0,B),q=O.localName=I.slice(B+1)):(G=null,q=O.localName=I);var te=O.uri=se[G||""];if($.startElement(te,q,I,O),O.closed){if($.endElement(te,q,I),Q)for(G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&$.endPrefixMapping(G)}else return O.currentNSMap=se,O.localNSMap=Q,!0}function D(O,$,se,I,Q){if(/^(?:script|textarea)$/i.test(se)){var k=O.indexOf("</"+se+">",$),ae=O.substring($+1,k);if(/[&<]/.test(ae))return/^script$/i.test(se)?(Q.characters(ae,0,ae.length),k):(ae=ae.replace(/&#?\w+;/g,I),Q.characters(ae,0,ae.length),k)}return $+1}function C(O,$,se,I){var Q=I[se];return Q==null&&(Q=O.lastIndexOf("</"+se+">"),Q<$&&(Q=O.lastIndexOf("</"+se)),I[se]=Q),Q<$}function M(O,$){for(var se in O)Object.prototype.hasOwnProperty.call(O,se)&&($[se]=O[se])}function A(O,$,se,I){var Q=O.charAt($+2);switch(Q){case"-":if(O.charAt($+3)==="-"){var k=O.indexOf("-->",$+4);return k>$?(se.comment(O,$+4,k-$-4),k+3):(I.error("Unclosed comment"),-1)}else return-1;default:if(O.substr($+3,6)=="CDATA["){var k=O.indexOf("]]>",$+9);return se.startCDATA(),se.characters(O,$+9,k-$-9),se.endCDATA(),k+3}var ae=F(O,$),H=ae.length;if(H>1&&/!doctype/i.test(ae[0][0])){var G=ae[1][0],q=!1,ee=!1;H>3&&(/^public$/i.test(ae[2][0])?(q=ae[3][0],ee=H>4&&ae[4][0]):/^system$/i.test(ae[2][0])&&(ee=ae[3][0]));var xe=ae[H-1];return se.startDTD(G,q,ee),se.endDTD(),xe.index+xe[0].length}}return-1}function j(O,$,se){var I=O.indexOf("?>",$);if(I){var Q=O.substring($,I).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Q?(Q[0].length,se.processingInstruction(Q[1],Q[2]),I+2):-1}return-1}function U(){this.attributeNames={}}U.prototype={setTagName:function(O){if(!r.test(O))throw new Error("invalid tagName:"+O);this.tagName=O},addValue:function(O,$,se){if(!r.test(O))throw new Error("invalid attribute:"+O);this.attributeNames[O]=this.length,this[this.length++]={qName:O,value:$,offset:se}},length:0,getLocalName:function(O){return this[O].localName},getLocator:function(O){return this[O].locator},getQName:function(O){return this[O].qName},getURI:function(O){return this[O].uri},getValue:function(O){return this[O].value}};function F(O,$){var se,I=[],Q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Q.lastIndex=$,Q.exec(O);se=Q.exec(O);)if(I.push(se),se[1])return I}return Vg.XMLReader=v,Vg.ParseError=x,Vg}var qT;function PV(){if(qT)return Wf;qT=1;var e=Ix(),t=$2(),n=jV(),r=RV(),i=t.DOMImplementation,o=e.NAMESPACE,c=r.ParseError,d=r.XMLReader;function f(b){return b.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function h(b){this.options=b||{locator:{}}}h.prototype.parseFromString=function(b,_){var D=this.options,C=new d,M=D.domBuilder||new p,A=D.errorHandler,j=D.locator,U=D.xmlns||{},F=/\/x?html?$/.test(_),O=F?n.HTML_ENTITIES:n.XML_ENTITIES;j&&M.setDocumentLocator(j),C.errorHandler=m(A,M,j),C.domBuilder=D.domBuilder||M,F&&(U[""]=o.HTML),U.xml=U.xml||o.XML;var $=D.normalizeLineEndings||f;return b&&typeof b=="string"?C.parse($(b),U,O):C.errorHandler.error("invalid doc source"),M.doc};function m(b,_,D){if(!b){if(_ instanceof p)return _;b=_}var C={},M=b instanceof Function;D=D||{};function A(j){var U=b[j];!U&&M&&(U=b.length==2?function(F){b(j,F)}:b),C[j]=U&&function(F){U("[xmldom "+j+"]	"+F+v(D))}||function(){}}return A("warning"),A("error"),A("fatalError"),C}function p(){this.cdata=!1}function x(b,_){_.lineNumber=b.lineNumber,_.columnNumber=b.columnNumber}p.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(b,_,D,C){var M=this.doc,A=M.createElementNS(b,D||_),j=C.length;y(this,A),this.currentElement=A,this.locator&&x(this.locator,A);for(var U=0;U<j;U++){var b=C.getURI(U),F=C.getValue(U),D=C.getQName(U),O=M.createAttributeNS(b,D);this.locator&&x(C.getLocator(U),O),O.value=O.nodeValue=F,A.setAttributeNode(O)}},endElement:function(b,_,D){var C=this.currentElement;C.tagName,this.currentElement=C.parentNode},startPrefixMapping:function(b,_){},endPrefixMapping:function(b){},processingInstruction:function(b,_){var D=this.doc.createProcessingInstruction(b,_);this.locator&&x(this.locator,D),y(this,D)},ignorableWhitespace:function(b,_,D){},characters:function(b,_,D){if(b=w.apply(this,arguments),b){if(this.cdata)var C=this.doc.createCDATASection(b);else var C=this.doc.createTextNode(b);this.currentElement?this.currentElement.appendChild(C):/^\s*$/.test(b)&&this.doc.appendChild(C),this.locator&&x(this.locator,C)}},skippedEntity:function(b){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(b){(this.locator=b)&&(b.lineNumber=0)},comment:function(b,_,D){b=w.apply(this,arguments);var C=this.doc.createComment(b);this.locator&&x(this.locator,C),y(this,C)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(b,_,D){var C=this.doc.implementation;if(C&&C.createDocumentType){var M=C.createDocumentType(b,_,D);this.locator&&x(this.locator,M),y(this,M),this.doc.doctype=M}},warning:function(b){console.warn("[xmldom warning]	"+b,v(this.locator))},error:function(b){console.error("[xmldom error]	"+b,v(this.locator))},fatalError:function(b){throw new c(b,this.locator)}};function v(b){if(b)return`
@`+(b.systemId||"")+"#[line:"+b.lineNumber+",col:"+b.columnNumber+"]"}function w(b,_,D){return typeof b=="string"?b.substr(_,D):b.length>=_+D||_?new java.lang.String(b,_,D)+"":b}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(b){p.prototype[b]=function(){return null}});function y(b,_){b.currentElement?b.currentElement.appendChild(_):b.doc.appendChild(_)}return Wf.__DOMHandler=p,Wf.normalizeLineEndings=f,Wf.DOMParser=h,Wf}var GT;function OV(){if(GT)return Vf;GT=1;var e=$2();return Vf.DOMImplementation=e.DOMImplementation,Vf.XMLSerializer=e.XMLSerializer,Vf.DOMParser=PV().DOMParser,Vf}var XT;function IV(){if(XT)return Bg;XT=1;var e=OV(),t=$2();function n(r){var i=null,o=new e.DOMParser({errorHandler:function(d,f){i={level:d,message:f}}}),c=o.parseFromString(r);if(i===null)return c;throw new Error(i.level+": "+i.message)}return Bg.parseFromString=n,Bg.Node=t.Node,Bg}var KT;function FV(){if(KT)return Yv;KT=1;var e=Il(),t=Cr,n=IV(),r=V4(),i=r.Element;Yv.readString=c;var o=n.Node;function c(d,f){f=f||{};try{var h=n.parseFromString(d,"text/xml")}catch(v){return e.reject(v)}if(h.documentElement.tagName==="parsererror")return e.resolve(new Error(h.documentElement.textContent));function m(v){switch(v.nodeType){case o.ELEMENT_NODE:return p(v);case o.TEXT_NODE:return r.text(v.nodeValue)}}function p(v){var w=x(v),y=[];t.forEach(v.childNodes,function(_){var D=m(_);D&&y.push(D)});var b={};return t.forEach(v.attributes,function(_){b[x(_)]=_.value}),new i(w,b,y)}function x(v){if(v.namespaceURI){var w=f[v.namespaceURI],y;return w?y=w+":":y="{"+v.namespaceURI+"}",y+v.localName}else return v.localName}return e.resolve(m(h.documentElement))}return Yv}var Qv={},bc={},_s={},YT;function Fl(){return YT||(YT=1,(function(){var e,t,n,r,i,o,c,d=[].slice,f={}.hasOwnProperty;e=function(){var h,m,p,x,v,w;if(w=arguments[0],v=2<=arguments.length?d.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(h=0,p=v.length;h<p;h++)if(x=v[h],x!=null)for(m in x)f.call(x,m)&&(w[m]=x[m]);return w},i=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},o=function(h){var m;return!!h&&((m=typeof h)=="function"||m==="object")},n=function(h){return i(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},r=function(h){var m;if(n(h))return!h.length;for(m in h)if(f.call(h,m))return!1;return!0},c=function(h){var m,p;return o(h)&&(p=Object.getPrototypeOf(h))&&(m=p.constructor)&&typeof m=="function"&&m instanceof m&&Function.prototype.toString.call(m)===Function.prototype.toString.call(Object)},t=function(h){return i(h.valueOf)?h.valueOf():h},_s.assign=e,_s.isFunction=i,_s.isObject=o,_s.isArray=n,_s.isEmpty=r,_s.isPlainObject=c,_s.getValue=t}).call(_s)),_s}var lm={exports:{}},cm={exports:{}},dm={exports:{}},um={exports:{}},LV=um.exports,ZT;function W4(){return ZT||(ZT=1,(function(){um.exports=(function(){function e(t,n,r){if(this.options=t.options,this.stringify=t.stringify,this.parent=t,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},e.prototype.debugInfo=function(t){return t=t||this.name,t==null?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},e})()}).call(LV)),um.exports}var HV=dm.exports,QT;function Fx(){return QT||(QT=1,(function(){var e,t,n,r,i,o,c=function(f,h){for(var m in h)d.call(h,m)&&(f[m]=h[m]);function p(){this.constructor=f}return p.prototype=h.prototype,f.prototype=new p,f.__super__=h.prototype,f},d={}.hasOwnProperty;o=Fl(),i=o.isObject,r=o.isFunction,n=o.getValue,t=qa(),e=W4(),dm.exports=(function(f){c(h,f);function h(m,p,x){if(h.__super__.constructor.call(this,m),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},x!=null&&this.attribute(x),m.isDocument&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this)}return h.prototype.clone=function(){var m,p,x,v;x=Object.create(this),x.isRoot&&(x.documentObject=null),x.attributes={},v=this.attributes;for(p in v)d.call(v,p)&&(m=v[p],x.attributes[p]=m.clone());return x.children=[],this.children.forEach(function(w){var y;return y=w.clone(),y.parent=x,x.children.push(y)}),x},h.prototype.attribute=function(m,p){var x,v;if(m!=null&&(m=n(m)),i(m))for(x in m)d.call(m,x)&&(v=m[x],this.attribute(x,v));else r(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[m]=new e(this,m,p));return this},h.prototype.removeAttribute=function(m){var p,x,v;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=n(m),Array.isArray(m))for(x=0,v=m.length;x<v;x++)p=m[x],delete this.attributes[p];else delete this.attributes[m];return this},h.prototype.toString=function(m){return this.options.writer.set(m).element(this)},h.prototype.att=function(m,p){return this.attribute(m,p)},h.prototype.a=function(m,p){return this.attribute(m,p)},h})(t)}).call(HV)),dm.exports}var fm={exports:{}},BV=fm.exports,JT;function Lx(){return JT||(JT=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),fm.exports=(function(r){t(i,r);function i(o,c){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(c)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},i})(e)}).call(BV)),fm.exports}var hm={exports:{}},VV=hm.exports,eE;function Hx(){return eE||(eE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),hm.exports=(function(r){t(i,r);function i(o,c){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(c)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},i})(e)}).call(VV)),hm.exports}var pm={exports:{}},WV=pm.exports,tE;function Bx(){return tE||(tE=1,(function(){var e,t,n=function(i,o){for(var c in o)r.call(o,c)&&(i[c]=o[c]);function d(){this.constructor=i}return d.prototype=o.prototype,i.prototype=new d,i.__super__=o.prototype,i},r={}.hasOwnProperty;t=Fl().isObject,e=qa(),pm.exports=(function(i){n(o,i);function o(c,d,f,h){var m;o.__super__.constructor.call(this,c),t(d)&&(m=d,d=m.version,f=m.encoding,h=m.standalone),d||(d="1.0"),this.version=this.stringify.xmlVersion(d),f!=null&&(this.encoding=this.stringify.xmlEncoding(f)),h!=null&&(this.standalone=this.stringify.xmlStandalone(h))}return o.prototype.toString=function(c){return this.options.writer.set(c).declaration(this)},o})(e)}).call(WV)),pm.exports}var gm={exports:{}},mm={exports:{}},zV=mm.exports,nE;function Vx(){return nE||(nE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),mm.exports=(function(r){t(i,r);function i(o,c,d,f,h,m){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(d==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!f)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!h)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(h.indexOf("#")!==0&&(h="#"+h),!h.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(m&&!h.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(d),this.attributeType=this.stringify.dtdAttType(f),this.defaultValue=this.stringify.dtdAttDefault(m),this.defaultValueType=h}return i.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},i})(e)}).call(zV)),mm.exports}var xm={exports:{}},$V=xm.exports,rE;function Wx(){return rE||(rE=1,(function(){var e,t,n=function(i,o){for(var c in o)r.call(o,c)&&(i[c]=o[c]);function d(){this.constructor=i}return d.prototype=o.prototype,i.prototype=new d,i.__super__=o.prototype,i},r={}.hasOwnProperty;t=Fl().isObject,e=qa(),xm.exports=(function(i){n(o,i);function o(c,d,f,h){if(o.__super__.constructor.call(this,c),f==null)throw new Error("Missing DTD entity name. "+this.debugInfo(f));if(h==null)throw new Error("Missing DTD entity value. "+this.debugInfo(f));if(this.pe=!!d,this.name=this.stringify.eleName(f),!t(h))this.value=this.stringify.dtdEntityValue(h);else{if(!h.pubID&&!h.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(f));if(h.pubID&&!h.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(f));if(h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID)),h.nData!=null&&(this.nData=this.stringify.dtdNData(h.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(f))}}return o.prototype.toString=function(c){return this.options.writer.set(c).dtdEntity(this)},o})(e)}).call($V)),xm.exports}var ym={exports:{}},qV=ym.exports,aE;function zx(){return aE||(aE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),ym.exports=(function(r){t(i,r);function i(o,c,d){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());d||(d="(#PCDATA)"),Array.isArray(d)&&(d="("+d.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(d)}return i.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},i})(e)}).call(qV)),ym.exports}var vm={exports:{}},GV=vm.exports,iE;function $x(){return iE||(iE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),vm.exports=(function(r){t(i,r);function i(o,c,d){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!d.pubID&&!d.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.eleName(c),d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID))}return i.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},i})(e)}).call(GV)),vm.exports}var XV=gm.exports,sE;function qx(){return sE||(sE=1,(function(){var e,t,n,r,i,o,c=function(f,h){for(var m in h)d.call(h,m)&&(f[m]=h[m]);function p(){this.constructor=f}return p.prototype=h.prototype,f.prototype=new p,f.__super__=h.prototype,f},d={}.hasOwnProperty;o=Fl().isObject,i=qa(),e=Vx(),n=Wx(),t=zx(),r=$x(),gm.exports=(function(f){c(h,f);function h(m,p,x){var v,w;h.__super__.constructor.call(this,m),this.name="!DOCTYPE",this.documentObject=m,o(p)&&(v=p,p=v.pubID,x=v.sysID),x==null&&(w=[p,x],x=w[0],p=w[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),x!=null&&(this.sysID=this.stringify.dtdSysID(x))}return h.prototype.element=function(m,p){var x;return x=new t(this,m,p),this.children.push(x),this},h.prototype.attList=function(m,p,x,v,w){var y;return y=new e(this,m,p,x,v,w),this.children.push(y),this},h.prototype.entity=function(m,p){var x;return x=new n(this,!1,m,p),this.children.push(x),this},h.prototype.pEntity=function(m,p){var x;return x=new n(this,!0,m,p),this.children.push(x),this},h.prototype.notation=function(m,p){var x;return x=new r(this,m,p),this.children.push(x),this},h.prototype.toString=function(m){return this.options.writer.set(m).docType(this)},h.prototype.ele=function(m,p){return this.element(m,p)},h.prototype.att=function(m,p,x,v,w){return this.attList(m,p,x,v,w)},h.prototype.ent=function(m,p){return this.entity(m,p)},h.prototype.pent=function(m,p){return this.pEntity(m,p)},h.prototype.not=function(m,p){return this.notation(m,p)},h.prototype.up=function(){return this.root()||this.documentObject},h})(i)}).call(XV)),gm.exports}var bm={exports:{}},KV=bm.exports,oE;function Gx(){return oE||(oE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),bm.exports=(function(r){t(i,r);function i(o,c){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(c)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},i})(e)}).call(KV)),bm.exports}var _m={exports:{}},YV=_m.exports,lE;function Xx(){return lE||(lE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),_m.exports=(function(r){t(i,r);function i(o,c){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(c)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return this.options.writer.set(o).text(this)},i})(e)}).call(YV)),_m.exports}var wm={exports:{}},ZV=wm.exports,cE;function Kx(){return cE||(cE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),wm.exports=(function(r){t(i,r);function i(o,c,d){if(i.__super__.constructor.call(this,o),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(c),d&&(this.value=this.stringify.insValue(d))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},i})(e)}).call(ZV)),wm.exports}var Dm={exports:{}},QV=Dm.exports,dE;function q2(){return dE||(dE=1,(function(){var e,t=function(r,i){for(var o in i)n.call(i,o)&&(r[o]=i[o]);function c(){this.constructor=r}return c.prototype=i.prototype,r.prototype=new c,r.__super__=i.prototype,r},n={}.hasOwnProperty;e=qa(),Dm.exports=(function(r){t(i,r);function i(o){i.__super__.constructor.call(this,o),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(o){return""},i})(e)}).call(QV)),Dm.exports}var JV=cm.exports,uE;function qa(){return uE||(uE=1,(function(){var e,t,n,r,i,o,c,d,f,h,m,p,x,v,w={}.hasOwnProperty;v=Fl(),x=v.isObject,p=v.isFunction,m=v.isEmpty,h=v.getValue,o=null,e=null,t=null,n=null,r=null,d=null,f=null,c=null,i=null,cm.exports=(function(){function y(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],o||(o=Fx(),e=Lx(),t=Hx(),n=Bx(),r=qx(),d=Gx(),f=Xx(),c=Kx(),i=q2())}return y.prototype.element=function(b,_,D){var C,M,A,j,U,F,O,$,se,I,Q;if(F=null,_===null&&D==null&&(se=[{},null],_=se[0],D=se[1]),_==null&&(_={}),_=h(_),x(_)||(I=[_,D],D=I[0],_=I[1]),b!=null&&(b=h(b)),Array.isArray(b))for(A=0,O=b.length;A<O;A++)M=b[A],F=this.element(M);else if(p(b))F=this.element(b.apply());else if(x(b)){for(U in b)if(w.call(b,U))if(Q=b[U],p(Q)&&(Q=Q.apply()),x(Q)&&m(Q)&&(Q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&U.indexOf(this.stringify.convertAttKey)===0)F=this.attribute(U.substr(this.stringify.convertAttKey.length),Q);else if(!this.options.separateArrayItems&&Array.isArray(Q))for(j=0,$=Q.length;j<$;j++)M=Q[j],C={},C[U]=M,F=this.element(C);else x(Q)?(F=this.element(U),F.element(Q)):F=this.element(U,Q)}else this.options.skipNullNodes&&D===null?F=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?F=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?F=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?F=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?F=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?F=this.instruction(b.substr(this.stringify.convertPIKey.length),D):F=this.node(b,_,D);if(F==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return F},y.prototype.insertBefore=function(b,_,D){var C,M,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return M=this.parent.children.indexOf(this),A=this.parent.children.splice(M),C=this.parent.element(b,_,D),Array.prototype.push.apply(this.parent.children,A),C},y.prototype.insertAfter=function(b,_,D){var C,M,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return M=this.parent.children.indexOf(this),A=this.parent.children.splice(M+1),C=this.parent.element(b,_,D),Array.prototype.push.apply(this.parent.children,A),C},y.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},y.prototype.node=function(b,_,D){var C,M;return b!=null&&(b=h(b)),_||(_={}),_=h(_),x(_)||(M=[_,D],D=M[0],_=M[1]),C=new o(this,b,_),D!=null&&C.text(D),this.children.push(C),C},y.prototype.text=function(b){var _;return _=new f(this,b),this.children.push(_),this},y.prototype.cdata=function(b){var _;return _=new e(this,b),this.children.push(_),this},y.prototype.comment=function(b){var _;return _=new t(this,b),this.children.push(_),this},y.prototype.commentBefore=function(b){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.commentAfter=function(b){var _,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.raw=function(b){var _;return _=new d(this,b),this.children.push(_),this},y.prototype.dummy=function(){var b;return b=new i(this),this.children.push(b),b},y.prototype.instruction=function(b,_){var D,C,M,A,j;if(b!=null&&(b=h(b)),_!=null&&(_=h(_)),Array.isArray(b))for(A=0,j=b.length;A<j;A++)D=b[A],this.instruction(D);else if(x(b))for(D in b)w.call(b,D)&&(C=b[D],this.instruction(D,C));else p(_)&&(_=_.apply()),M=new c(this,b,_),this.children.push(M);return this},y.prototype.instructionBefore=function(b,_){var D,C;return D=this.parent.children.indexOf(this),C=this.parent.children.splice(D),this.parent.instruction(b,_),Array.prototype.push.apply(this.parent.children,C),this},y.prototype.instructionAfter=function(b,_){var D,C;return D=this.parent.children.indexOf(this),C=this.parent.children.splice(D+1),this.parent.instruction(b,_),Array.prototype.push.apply(this.parent.children,C),this},y.prototype.declaration=function(b,_,D){var C,M;return C=this.document(),M=new n(C,b,_,D),C.children[0]instanceof n?C.children[0]=M:C.children.unshift(M),C.root()||C},y.prototype.doctype=function(b,_){var D,C,M,A,j,U,F,O,$,se;for(C=this.document(),M=new r(C,b,_),$=C.children,A=j=0,F=$.length;j<F;A=++j)if(D=$[A],D instanceof r)return C.children[A]=M,M;for(se=C.children,A=U=0,O=se.length;U<O;A=++U)if(D=se[A],D.isRoot)return C.children.splice(A,0,M),M;return C.children.push(M),M},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},y.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},y.prototype.end=function(b){return this.document().end(b)},y.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},y.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},y.prototype.importDocument=function(b){var _;return _=b.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},y.prototype.debugInfo=function(b){var _,D;return b=b||this.name,b==null&&!((_=this.parent)!=null&&_.name)?"":b==null?"parent: <"+this.parent.name+">":(D=this.parent)!=null&&D.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},y.prototype.ele=function(b,_,D){return this.element(b,_,D)},y.prototype.nod=function(b,_,D){return this.node(b,_,D)},y.prototype.txt=function(b){return this.text(b)},y.prototype.dat=function(b){return this.cdata(b)},y.prototype.com=function(b){return this.comment(b)},y.prototype.ins=function(b,_){return this.instruction(b,_)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(b,_,D){return this.declaration(b,_,D)},y.prototype.dtd=function(b,_){return this.doctype(b,_)},y.prototype.e=function(b,_,D){return this.element(b,_,D)},y.prototype.n=function(b,_,D){return this.node(b,_,D)},y.prototype.t=function(b){return this.text(b)},y.prototype.d=function(b){return this.cdata(b)},y.prototype.c=function(b){return this.comment(b)},y.prototype.r=function(b){return this.raw(b)},y.prototype.i=function(b,_){return this.instruction(b,_)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(b){return this.importDocument(b)},y})()}).call(JV)),cm.exports}var Sm={exports:{}},eW=Sm.exports,fE;function z4(){return fE||(fE=1,(function(){var e=function(n,r){return function(){return n.apply(r,arguments)}},t={}.hasOwnProperty;Sm.exports=(function(){function n(r){this.assertLegalChar=e(this.assertLegalChar,this);var i,o,c;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,o=r.stringify||{};for(i in o)t.call(o,i)&&(c=o[i],this[i]=c)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(eW)),Sm.exports}var Cm={exports:{}},Tm={exports:{}},tW=Tm.exports,hE;function $4(){return hE||(hE=1,(function(){var e={}.hasOwnProperty;Tm.exports=(function(){function t(n){var r,i,o,c,d,f,h,m,p;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(o=n.indent)!=null?o:"  ",this.newline=(c=n.newline)!=null?c:`
`,this.offset=(d=n.offset)!=null?d:0,this.dontprettytextnodes=(f=n.dontprettytextnodes)!=null?f:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(h=n.spacebeforeslash)!=null?h:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,m=n.writer||{};for(r in m)e.call(m,r)&&(p=m[r],this[r]=p)}return t.prototype.set=function(n){var r,i,o;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)e.call(i,r)&&(o=i[r],this[r]=o);return this},t.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},t})()}).call(tW)),Tm.exports}var nW=Cm.exports,pE;function G2(){return pE||(pE=1,(function(){var e,t,n,r,i,o,c,d,f,h,m,p,x,v,w=function(b,_){for(var D in _)y.call(_,D)&&(b[D]=_[D]);function C(){this.constructor=b}return C.prototype=_.prototype,b.prototype=new C,b.__super__=_.prototype,b},y={}.hasOwnProperty;c=Bx(),d=qx(),e=Lx(),t=Hx(),h=Fx(),p=Gx(),x=Xx(),m=Kx(),f=q2(),n=Vx(),r=zx(),i=Wx(),o=$x(),v=$4(),Cm.exports=(function(b){w(_,b);function _(D){_.__super__.constructor.call(this,D)}return _.prototype.document=function(D){var C,M,A,j,U;for(this.textispresent=!1,j="",U=D.children,M=0,A=U.length;M<A;M++)C=U[M],!(C instanceof f)&&(j+=(function(){switch(!1){case!(C instanceof c):return this.declaration(C);case!(C instanceof d):return this.docType(C);case!(C instanceof t):return this.comment(C);case!(C instanceof m):return this.processingInstruction(C);default:return this.element(C,0)}}).call(this));return this.pretty&&j.slice(-this.newline.length)===this.newline&&(j=j.slice(0,-this.newline.length)),j},_.prototype.attribute=function(D){return" "+D.name+'="'+D.value+'"'},_.prototype.cdata=function(D,C){return this.space(C)+"<![CDATA["+D.text+"]]>"+this.newline},_.prototype.comment=function(D,C){return this.space(C)+"<!-- "+D.text+" -->"+this.newline},_.prototype.declaration=function(D,C){var M;return M=this.space(C),M+='<?xml version="'+D.version+'"',D.encoding!=null&&(M+=' encoding="'+D.encoding+'"'),D.standalone!=null&&(M+=' standalone="'+D.standalone+'"'),M+=this.spacebeforeslash+"?>",M+=this.newline,M},_.prototype.docType=function(D,C){var M,A,j,U,F;if(C||(C=0),U=this.space(C),U+="<!DOCTYPE "+D.root().name,D.pubID&&D.sysID?U+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(U+=' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(U+=" [",U+=this.newline,F=D.children,A=0,j=F.length;A<j;A++)M=F[A],U+=(function(){switch(!1){case!(M instanceof n):return this.dtdAttList(M,C+1);case!(M instanceof r):return this.dtdElement(M,C+1);case!(M instanceof i):return this.dtdEntity(M,C+1);case!(M instanceof o):return this.dtdNotation(M,C+1);case!(M instanceof e):return this.cdata(M,C+1);case!(M instanceof t):return this.comment(M,C+1);case!(M instanceof m):return this.processingInstruction(M,C+1);default:throw new Error("Unknown DTD node type: "+M.constructor.name)}}).call(this);U+="]"}return U+=this.spacebeforeslash+">",U+=this.newline,U},_.prototype.element=function(D,C){var M,A,j,U,F,O,$,se,I,Q,k,ae,H;C||(C=0),H=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),ae=this.space(C),se="",se+=ae+"<"+D.name,I=D.attributes;for($ in I)y.call(I,$)&&(M=I[$],se+=this.attribute(M));if(D.children.length===0||D.children.every(function(G){return G.value===""}))this.allowEmpty?se+="></"+D.name+">"+this.newline:se+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)se+=">",se+=D.children[0].value,se+="</"+D.name+">"+this.newline;else{if(this.dontprettytextnodes){for(Q=D.children,j=0,F=Q.length;j<F;j++)if(A=Q[j],A.value!=null){this.textispresent++,H=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,ae=this.space(C)),se+=">"+this.newline,k=D.children,U=0,O=k.length;U<O;U++)A=k[U],se+=(function(){switch(!1){case!(A instanceof e):return this.cdata(A,C+1);case!(A instanceof t):return this.comment(A,C+1);case!(A instanceof h):return this.element(A,C+1);case!(A instanceof p):return this.raw(A,C+1);case!(A instanceof x):return this.text(A,C+1);case!(A instanceof m):return this.processingInstruction(A,C+1);case!(A instanceof f):return"";default:throw new Error("Unknown XML node type: "+A.constructor.name)}}).call(this);H&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),se+=ae+"</"+D.name+">"+this.newline}return se},_.prototype.processingInstruction=function(D,C){var M;return M=this.space(C)+"<?"+D.target,D.value&&(M+=" "+D.value),M+=this.spacebeforeslash+"?>"+this.newline,M},_.prototype.raw=function(D,C){return this.space(C)+D.value+this.newline},_.prototype.text=function(D,C){return this.space(C)+D.value+this.newline},_.prototype.dtdAttList=function(D,C){var M;return M=this.space(C)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType,D.defaultValueType!=="#DEFAULT"&&(M+=" "+D.defaultValueType),D.defaultValue&&(M+=' "'+D.defaultValue+'"'),M+=this.spacebeforeslash+">"+this.newline,M},_.prototype.dtdElement=function(D,C){return this.space(C)+"<!ELEMENT "+D.name+" "+D.value+this.spacebeforeslash+">"+this.newline},_.prototype.dtdEntity=function(D,C){var M;return M=this.space(C)+"<!ENTITY",D.pe&&(M+=" %"),M+=" "+D.name,D.value?M+=' "'+D.value+'"':(D.pubID&&D.sysID?M+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(M+=' SYSTEM "'+D.sysID+'"'),D.nData&&(M+=" NDATA "+D.nData)),M+=this.spacebeforeslash+">"+this.newline,M},_.prototype.dtdNotation=function(D,C){var M;return M=this.space(C)+"<!NOTATION "+D.name,D.pubID&&D.sysID?M+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.pubID?M+=' PUBLIC "'+D.pubID+'"':D.sysID&&(M+=' SYSTEM "'+D.sysID+'"'),M+=this.spacebeforeslash+">"+this.newline,M},_.prototype.openNode=function(D,C){var M,A,j,U;if(C||(C=0),D instanceof h){j=this.space(C)+"<"+D.name,U=D.attributes;for(A in U)y.call(U,A)&&(M=U[A],j+=this.attribute(M));return j+=(D.children?">":"/>")+this.newline,j}else return j=this.space(C)+"<!DOCTYPE "+D.rootNodeName,D.pubID&&D.sysID?j+=' PUBLIC "'+D.pubID+'" "'+D.sysID+'"':D.sysID&&(j+=' SYSTEM "'+D.sysID+'"'),j+=(D.children?" [":">")+this.newline,j},_.prototype.closeNode=function(D,C){switch(C||(C=0),!1){case!(D instanceof h):return this.space(C)+"</"+D.name+">"+this.newline;case!(D instanceof d):return this.space(C)+"]>"+this.newline}},_})(v)}).call(nW)),Cm.exports}var rW=lm.exports,gE;function aW(){return gE||(gE=1,(function(){var e,t,n,r,i=function(c,d){for(var f in d)o.call(d,f)&&(c[f]=d[f]);function h(){this.constructor=c}return h.prototype=d.prototype,c.prototype=new h,c.__super__=d.prototype,c},o={}.hasOwnProperty;r=Fl().isPlainObject,e=qa(),n=z4(),t=G2(),lm.exports=(function(c){i(d,c);function d(f){d.__super__.constructor.call(this,null),this.name="?xml",f||(f={}),f.writer||(f.writer=new t),this.options=f,this.stringify=new n(f),this.isDocument=!0}return d.prototype.end=function(f){var h;return f?r(f)&&(h=f,f=this.options.writer.set(h)):f=this.options.writer,f.document(this)},d.prototype.toString=function(f){return this.options.writer.set(f).document(this)},d})(e)}).call(rW)),lm.exports}var Em={exports:{}},iW=Em.exports,mE;function sW(){return mE||(mE=1,(function(){var e,t,n,r,i,o,c,d,f,h,m,p,x,v,w,y,b,_,D,C,M={}.hasOwnProperty;C=Fl(),_=C.isObject,b=C.isFunction,D=C.isPlainObject,y=C.getValue,h=Fx(),t=Lx(),n=Hx(),p=Gx(),w=Xx(),m=Kx(),d=Bx(),f=qx(),r=Vx(),o=Wx(),i=zx(),c=$x(),e=W4(),v=z4(),x=G2(),Em.exports=(function(){function A(j,U,F){var O;this.name="?xml",j||(j={}),j.writer?D(j.writer)&&(O=j.writer,j.writer=new x(O)):j.writer=new x(j),this.options=j,this.writer=j.writer,this.stringify=new v(j),this.onDataCallback=U||function(){},this.onEndCallback=F||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return A.prototype.node=function(j,U,F){var O,$;if(j==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(j));return this.openCurrent(),j=y(j),U===null&&F==null&&(O=[{},null],U=O[0],F=O[1]),U==null&&(U={}),U=y(U),_(U)||($=[U,F],F=$[0],U=$[1]),this.currentNode=new h(this,j,U),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,F!=null&&this.text(F),this},A.prototype.element=function(j,U,F){return this.currentNode&&this.currentNode instanceof f?this.dtdElement.apply(this,arguments):this.node(j,U,F)},A.prototype.attribute=function(j,U){var F,O;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(j));if(j!=null&&(j=y(j)),_(j))for(F in j)M.call(j,F)&&(O=j[F],this.attribute(F,O));else b(U)&&(U=U.apply()),(!this.options.skipNullAttributes||U!=null)&&(this.currentNode.attributes[j]=new e(this,j,U));return this},A.prototype.text=function(j){var U;return this.openCurrent(),U=new w(this,j),this.onData(this.writer.text(U,this.currentLevel+1),this.currentLevel+1),this},A.prototype.cdata=function(j){var U;return this.openCurrent(),U=new t(this,j),this.onData(this.writer.cdata(U,this.currentLevel+1),this.currentLevel+1),this},A.prototype.comment=function(j){var U;return this.openCurrent(),U=new n(this,j),this.onData(this.writer.comment(U,this.currentLevel+1),this.currentLevel+1),this},A.prototype.raw=function(j){var U;return this.openCurrent(),U=new p(this,j),this.onData(this.writer.raw(U,this.currentLevel+1),this.currentLevel+1),this},A.prototype.instruction=function(j,U){var F,O,$,se,I;if(this.openCurrent(),j!=null&&(j=y(j)),U!=null&&(U=y(U)),Array.isArray(j))for(F=0,se=j.length;F<se;F++)O=j[F],this.instruction(O);else if(_(j))for(O in j)M.call(j,O)&&($=j[O],this.instruction(O,$));else b(U)&&(U=U.apply()),I=new m(this,j,U),this.onData(this.writer.processingInstruction(I,this.currentLevel+1),this.currentLevel+1);return this},A.prototype.declaration=function(j,U,F){var O;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return O=new d(this,j,U,F),this.onData(this.writer.declaration(O,this.currentLevel+1),this.currentLevel+1),this},A.prototype.doctype=function(j,U,F){if(this.openCurrent(),j==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new f(this,U,F),this.currentNode.rootNodeName=j,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},A.prototype.dtdElement=function(j,U){var F;return this.openCurrent(),F=new i(this,j,U),this.onData(this.writer.dtdElement(F,this.currentLevel+1),this.currentLevel+1),this},A.prototype.attList=function(j,U,F,O,$){var se;return this.openCurrent(),se=new r(this,j,U,F,O,$),this.onData(this.writer.dtdAttList(se,this.currentLevel+1),this.currentLevel+1),this},A.prototype.entity=function(j,U){var F;return this.openCurrent(),F=new o(this,!1,j,U),this.onData(this.writer.dtdEntity(F,this.currentLevel+1),this.currentLevel+1),this},A.prototype.pEntity=function(j,U){var F;return this.openCurrent(),F=new o(this,!0,j,U),this.onData(this.writer.dtdEntity(F,this.currentLevel+1),this.currentLevel+1),this},A.prototype.notation=function(j,U){var F;return this.openCurrent(),F=new c(this,j,U),this.onData(this.writer.dtdNotation(F,this.currentLevel+1),this.currentLevel+1),this},A.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},A.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},A.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},A.prototype.openNode=function(j){if(!j.isOpen)return!this.root&&this.currentLevel===0&&j instanceof h&&(this.root=j),this.onData(this.writer.openNode(j,this.currentLevel),this.currentLevel),j.isOpen=!0},A.prototype.closeNode=function(j){if(!j.isClosed)return this.onData(this.writer.closeNode(j,this.currentLevel),this.currentLevel),j.isClosed=!0},A.prototype.onData=function(j,U){return this.documentStarted=!0,this.onDataCallback(j,U+1)},A.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},A.prototype.debugInfo=function(j){return j==null?"":"node: <"+j+">"},A.prototype.ele=function(){return this.element.apply(this,arguments)},A.prototype.nod=function(j,U,F){return this.node(j,U,F)},A.prototype.txt=function(j){return this.text(j)},A.prototype.dat=function(j){return this.cdata(j)},A.prototype.com=function(j){return this.comment(j)},A.prototype.ins=function(j,U){return this.instruction(j,U)},A.prototype.dec=function(j,U,F){return this.declaration(j,U,F)},A.prototype.dtd=function(j,U,F){return this.doctype(j,U,F)},A.prototype.e=function(j,U,F){return this.element(j,U,F)},A.prototype.n=function(j,U,F){return this.node(j,U,F)},A.prototype.t=function(j){return this.text(j)},A.prototype.d=function(j){return this.cdata(j)},A.prototype.c=function(j){return this.comment(j)},A.prototype.r=function(j){return this.raw(j)},A.prototype.i=function(j,U){return this.instruction(j,U)},A.prototype.att=function(){return this.currentNode&&this.currentNode instanceof f?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.a=function(){return this.currentNode&&this.currentNode instanceof f?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.ent=function(j,U){return this.entity(j,U)},A.prototype.pent=function(j,U){return this.pEntity(j,U)},A.prototype.not=function(j,U){return this.notation(j,U)},A})()}).call(iW)),Em.exports}var Nm={exports:{}},oW=Nm.exports,xE;function lW(){return xE||(xE=1,(function(){var e,t,n,r,i,o,c,d,f,h,m,p,x,v,w=function(b,_){for(var D in _)y.call(_,D)&&(b[D]=_[D]);function C(){this.constructor=b}return C.prototype=_.prototype,b.prototype=new C,b.__super__=_.prototype,b},y={}.hasOwnProperty;c=Bx(),d=qx(),e=Lx(),t=Hx(),h=Fx(),p=Gx(),x=Xx(),m=Kx(),f=q2(),n=Vx(),r=zx(),i=Wx(),o=$x(),v=$4(),Nm.exports=(function(b){w(_,b);function _(D,C){_.__super__.constructor.call(this,C),this.stream=D}return _.prototype.document=function(D){var C,M,A,j,U,F,O,$;for(F=D.children,M=0,j=F.length;M<j;M++)C=F[M],C.isLastRootNode=!1;for(D.children[D.children.length-1].isLastRootNode=!0,O=D.children,$=[],A=0,U=O.length;A<U;A++)if(C=O[A],!(C instanceof f))switch(!1){case!(C instanceof c):$.push(this.declaration(C));break;case!(C instanceof d):$.push(this.docType(C));break;case!(C instanceof t):$.push(this.comment(C));break;case!(C instanceof m):$.push(this.processingInstruction(C));break;default:$.push(this.element(C))}return $},_.prototype.attribute=function(D){return this.stream.write(" "+D.name+'="'+D.value+'"')},_.prototype.cdata=function(D,C){return this.stream.write(this.space(C)+"<![CDATA["+D.text+"]]>"+this.endline(D))},_.prototype.comment=function(D,C){return this.stream.write(this.space(C)+"<!-- "+D.text+" -->"+this.endline(D))},_.prototype.declaration=function(D,C){return this.stream.write(this.space(C)),this.stream.write('<?xml version="'+D.version+'"'),D.encoding!=null&&this.stream.write(' encoding="'+D.encoding+'"'),D.standalone!=null&&this.stream.write(' standalone="'+D.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(D))},_.prototype.docType=function(D,C){var M,A,j,U;if(C||(C=0),this.stream.write(this.space(C)),this.stream.write("<!DOCTYPE "+D.root().name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(D)),U=D.children,A=0,j=U.length;A<j;A++)switch(M=U[A],!1){case!(M instanceof n):this.dtdAttList(M,C+1);break;case!(M instanceof r):this.dtdElement(M,C+1);break;case!(M instanceof i):this.dtdEntity(M,C+1);break;case!(M instanceof o):this.dtdNotation(M,C+1);break;case!(M instanceof e):this.cdata(M,C+1);break;case!(M instanceof t):this.comment(M,C+1);break;case!(M instanceof m):this.processingInstruction(M,C+1);break;default:throw new Error("Unknown DTD node type: "+M.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(D))},_.prototype.element=function(D,C){var M,A,j,U,F,O,$,se;C||(C=0),se=this.space(C),this.stream.write(se+"<"+D.name),O=D.attributes;for(F in O)y.call(O,F)&&(M=O[F],this.attribute(M));if(D.children.length===0||D.children.every(function(I){return I.value===""}))this.allowEmpty?this.stream.write("></"+D.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&D.children.length===1&&D.children[0].value!=null)this.stream.write(">"),this.stream.write(D.children[0].value),this.stream.write("</"+D.name+">");else{for(this.stream.write(">"+this.newline),$=D.children,j=0,U=$.length;j<U;j++)switch(A=$[j],!1){case!(A instanceof e):this.cdata(A,C+1);break;case!(A instanceof t):this.comment(A,C+1);break;case!(A instanceof h):this.element(A,C+1);break;case!(A instanceof p):this.raw(A,C+1);break;case!(A instanceof x):this.text(A,C+1);break;case!(A instanceof m):this.processingInstruction(A,C+1);break;case!(A instanceof f):break;default:throw new Error("Unknown XML node type: "+A.constructor.name)}this.stream.write(se+"</"+D.name+">")}return this.stream.write(this.endline(D))},_.prototype.processingInstruction=function(D,C){return this.stream.write(this.space(C)+"<?"+D.target),D.value&&this.stream.write(" "+D.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(D))},_.prototype.raw=function(D,C){return this.stream.write(this.space(C)+D.value+this.endline(D))},_.prototype.text=function(D,C){return this.stream.write(this.space(C)+D.value+this.endline(D))},_.prototype.dtdAttList=function(D,C){return this.stream.write(this.space(C)+"<!ATTLIST "+D.elementName+" "+D.attributeName+" "+D.attributeType),D.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+D.defaultValueType),D.defaultValue&&this.stream.write(' "'+D.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdElement=function(D,C){return this.stream.write(this.space(C)+"<!ELEMENT "+D.name+" "+D.value),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdEntity=function(D,C){return this.stream.write(this.space(C)+"<!ENTITY"),D.pe&&this.stream.write(" %"),this.stream.write(" "+D.name),D.value?this.stream.write(' "'+D.value+'"'):(D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),D.nData&&this.stream.write(" NDATA "+D.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.dtdNotation=function(D,C){return this.stream.write(this.space(C)+"<!NOTATION "+D.name),D.pubID&&D.sysID?this.stream.write(' PUBLIC "'+D.pubID+'" "'+D.sysID+'"'):D.pubID?this.stream.write(' PUBLIC "'+D.pubID+'"'):D.sysID&&this.stream.write(' SYSTEM "'+D.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(D))},_.prototype.endline=function(D){return D.isLastRootNode?"":this.newline},_})(v)}).call(oW)),Nm.exports}var yE;function cW(){return yE||(yE=1,(function(){var e,t,n,r,i,o,c;c=Fl(),i=c.assign,o=c.isFunction,e=aW(),t=sW(),r=G2(),n=lW(),bc.create=function(d,f,h,m){var p,x;if(d==null)throw new Error("Root element needs a name.");return m=i({},f,h,m),p=new e(m),x=p.element(d),m.headless||(p.declaration(m),(m.pubID!=null||m.sysID!=null)&&p.doctype(m)),x},bc.begin=function(d,f,h){var m;return o(d)&&(m=[d,f],f=m[0],h=m[1],d={}),f?new t(d,f,h):new e(d)},bc.stringWriter=function(d){return new r(d)},bc.streamWriter=function(d,f){return new n(d,f)}}).call(bc)),bc}var vE;function dW(){if(vE)return Qv;vE=1;var e=Cr,t=cW();Qv.writeString=n;function n(i,o){var c=e.invert(o),d={element:h,text:r};function f(x,v){return d[v.type](x,v)}function h(x,v){var w=x.element(m(v.name),v.attributes);v.children.forEach(function(y){f(w,y)})}function m(x){var v=/^\{(.*)\}(.*)$/.exec(x);if(v){var w=c[v[1]];return w+(w===""?"":":")+v[2]}else return x}function p(x){var v=t.create(m(x.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return e.forEach(o,function(w,y){var b="xmlns"+(y===""?"":":"+y);v.attribute(b,w)}),x.children.forEach(function(w){f(v,w)}),v.end()}return p(i)}function r(i,o){i.text(o.value)}return Qv}var bE;function X2(){if(bE)return cl;bE=1;var e=V4();return cl.Element=e.Element,cl.element=e.element,cl.emptyElement=e.emptyElement,cl.text=e.text,cl.readString=FV().readString,cl.writeString=dW().writeString,cl}var _E;function uW(){if(_E)return Hg;_E=1;var e=Cr,t=Il(),n=X2();Hg.read=i,Hg.readXmlFromZipFile=o;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function i(f){return n.readString(f,r).then(function(h){return d(h)[0]})}function o(f,h){return f.exists(h)?f.read(h,"utf-8").then(c).then(i):t.resolve(null)}function c(f){return f.replace(/^\uFEFF/g,"")}function d(f){return f.type==="element"?f.name==="mc:AlternateContent"?f.firstOrEmpty("mc:Fallback").children:(f.children=e.flatten(f.children.map(d,!0)),[f]):[f]}return Hg}var Wg={},es={},zg={},wE;function fW(){if(wE)return zg;wE=1,Object.defineProperty(zg,"__esModule",{value:!0});var e=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return zg.default=e,zg}var DE;function hW(){if(DE)return es;DE=1;var e=es&&es.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(es,"__esModule",{value:!0}),es.hex=es.dec=es.codePoint=void 0;for(var t=e(fW()),n={},r=String.fromCodePoint?String.fromCodePoint:x,i=0,o=t.default;i<o.length;i++){var c=o[i],d=parseInt(c["Unicode dec"],10),f={codePoint:d,string:r(d)};n[c["Typeface name"].toUpperCase()+"_"+c["Dingbat dec"]]=f}function h(v,w){return n[v.toUpperCase()+"_"+w]}es.codePoint=h;function m(v,w){return h(v,parseInt(w,10))}es.dec=m;function p(v,w){return h(v,parseInt(w,16))}es.hex=p;function x(v){if(v<=65535)return String.fromCharCode(v);var w=Math.floor((v-65536)/1024)+55296,y=(v-65536)%1024+56320;return String.fromCharCode(w,y)}return es}var dl={},SE;function q4(){if(SE)return dl;SE=1;var e=Cr;dl.paragraph=t,dl.run=n,dl._elements=i,dl._elementsOfType=r,dl.getDescendantsOfType=o,dl.getDescendants=c;function t(f){return r("paragraph",f)}function n(f){return r("run",f)}function r(f,h){return i(function(m){return m.type===f?h(m):m})}function i(f){return function h(m){if(m.children){var p=e.map(m.children,h);m=e.extend(m,{children:p})}return f(m)}}function o(f,h){return c(f).filter(function(m){return m.type===h})}function c(f){var h=[];return d(f,function(m){h.push(m)}),h}function d(f,h){f.children&&f.children.forEach(function(m){d(m,h),h(m)})}return dl}var $g={},CE;function pW(){if(CE)return $g;CE=1,$g.uriToZipEntryName=e,$g.replaceFragment=t;function e(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function t(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return $g}var TE;function gW(){if(TE)return Wg;TE=1,Wg.createBodyReader=f,Wg._readNumberingProperties=m;var e=hW(),t=Cr,n=ed(),r=So().Result,i=So().warning,o=X2(),c=q4(),d=pW();function f(A){return{readXmlElement:function(j){return new h(A).readXmlElement(j)},readXmlElements:function(j){return new h(A).readXmlElements(j)}}}function h(A){var j=[],U=[],F=[],O=A.relationships,$=A.contentTypes,se=A.docxFile,I=A.files,Q=A.numbering,k=A.styles;function ae(Me){var Ze=Me.map(H);return D(Ze)}function H(Me){if(Me.type==="element"){var Ze=ne[Me.name];if(Ze)return Ze(Me);if(!Object.prototype.hasOwnProperty.call(x,Me.name)){var pt=i("An unrecognised element was ignored: "+Me.name);return v([pt])}}return w()}function G(Me){return de(Me).map(function(Ze){return{type:"paragraphProperties",styleId:Ze.styleId,styleName:Ze.name,alignment:Me.firstOrEmpty("w:jc").attributes["w:val"],numbering:m(Ze.styleId,Me.firstOrEmpty("w:numPr"),Q),indent:q(Me.firstOrEmpty("w:ind"))}})}function q(Me){return{start:Me.attributes["w:start"]||Me.attributes["w:left"],end:Me.attributes["w:end"]||Me.attributes["w:right"],firstLine:Me.attributes["w:firstLine"],hanging:Me.attributes["w:hanging"]}}function ee(Me){return _e(Me).map(function(Ze){var pt=Me.firstOrEmpty("w:sz").attributes["w:val"],gt=/^[0-9]+$/.test(pt)?parseInt(pt,10)/2:null;return{type:"runProperties",styleId:Ze.styleId,styleName:Ze.name,verticalAlignment:Me.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Me.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:gt,isBold:B(Me.first("w:b")),isUnderline:xe(Me.first("w:u")),isItalic:B(Me.first("w:i")),isStrikethrough:B(Me.first("w:strike")),isAllCaps:B(Me.first("w:caps")),isSmallCaps:B(Me.first("w:smallCaps")),highlight:J(Me.firstOrEmpty("w:highlight").attributes["w:val"])}})}function xe(Me){if(Me){var Ze=Me.attributes["w:val"];return Ze!==void 0&&Ze!=="false"&&Ze!=="0"&&Ze!=="none"}else return!1}function B(Me){if(Me){var Ze=Me.attributes["w:val"];return Ze!=="false"&&Ze!=="0"}else return!1}function te(Me){return Me!=="false"&&Me!=="0"}function J(Me){return!Me||Me==="none"?null:Me}function de(Me){return Ee(Me,"w:pStyle","Paragraph",k.findParagraphStyleById)}function _e(Me){return Ee(Me,"w:rStyle","Run",k.findCharacterStyleById)}function Oe(Me){return Ee(Me,"w:tblStyle","Table",k.findTableStyleById)}function Ee(Me,Ze,pt,gt){var Vt=[],Kt=Me.first(Ze),an=null,Dn=null;if(Kt&&(an=Kt.attributes["w:val"],an)){var jn=gt(an);jn?Dn=jn.name:Vt.push(Xt(pt,an))}return b({styleId:an,name:Dn},Vt)}function He(Me){var Ze=Me.attributes["w:fldCharType"];if(Ze==="begin")j.push({type:"begin",fldChar:Me}),U=[];else if(Ze==="end"){var pt=j.pop();if(pt.type==="begin"&&(pt=at(pt)),pt.type==="checkbox")return y(n.checkbox({checked:pt.checked}))}else if(Ze==="separate"){var gt=j.pop(),Vt=at(gt);j.push(Vt)}return w()}function Qe(){var Me=t.last(j.filter(function(Ze){return Ze.type==="hyperlink"}));return Me?Me.options:null}function at(Me){return Ie(U.join(""),Me.type==="begin"?Me.fldChar:o.emptyElement)}function Ie(Me,Ze){var pt=/\s*HYPERLINK "(.*)"/.exec(Me);if(pt)return{type:"hyperlink",options:{href:pt[1]}};var gt=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Me);if(gt)return{type:"hyperlink",options:{anchor:gt[1]}};var Vt=/\s*FORMCHECKBOX\s*/.exec(Me);if(Vt){var Kt=Ze.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),an=Kt.first("w:checked"),Dn=an==null?B(Kt.first("w:default")):B(an);return{type:"checkbox",checked:Dn}}return{type:"unknown"}}function tt(Me){return U.push(Me.text()),w()}function nt(Me){var Ze=Me.attributes["w:font"],pt=Me.attributes["w:char"],gt=e.hex(Ze,pt);return gt==null&&/^F0..$/.test(pt)&&(gt=e.hex(Ze,pt.substring(2))),gt==null?v([i("A w:sym element with an unsupported character was ignored: char "+pt+" in font "+Ze)]):y(new n.Text(gt.string))}function P(Me){return function(Ze){var pt=Ze.attributes["w:id"];return y(new n.NoteReference({noteType:Me,noteId:pt}))}}function he(Me){return y(n.commentReference({commentId:Me.attributes["w:id"]}))}function ye(Me){return ae(Me.children)}var ne={"w:p":function(Me){var Ze=Me.firstOrEmpty("w:pPr"),pt=!!Ze.firstOrEmpty("w:rPr").first("w:del");if(pt)return Me.children.forEach(function(Vt){F.push(Vt)}),w();var gt=Me.children;return F.length>0&&(gt=F.concat(gt),F=[]),_.map(G(Ze),ae(gt),function(Vt,Kt){return new n.Paragraph(Kt,Vt)}).insertExtra()},"w:r":function(Me){return _.map(ee(Me.firstOrEmpty("w:rPr")),ae(Me.children),function(Ze,pt){var gt=Qe();return gt!==null&&(pt=[new n.Hyperlink(pt,gt)]),new n.Run(pt,Ze)})},"w:fldChar":He,"w:instrText":tt,"w:t":function(Me){return y(new n.Text(Me.text()))},"w:tab":function(Me){return y(new n.Tab)},"w:noBreakHyphen":function(){return y(new n.Text(""))},"w:softHyphen":function(Me){return y(new n.Text(""))},"w:sym":nt,"w:hyperlink":function(Me){var Ze=Me.attributes["r:id"],pt=Me.attributes["w:anchor"];return ae(Me.children).map(function(gt){function Vt(an){var Dn=Me.attributes["w:tgtFrame"]||null;return new n.Hyperlink(gt,t.extend({targetFrame:Dn},an))}if(Ze){var Kt=O.findTargetByRelationshipId(Ze);return pt&&(Kt=d.replaceFragment(Kt,pt)),Vt({href:Kt})}else return pt?Vt({anchor:pt}):gt})},"w:tbl":le,"w:tr":Le,"w:tc":qe,"w:footnoteReference":P("footnote"),"w:endnoteReference":P("endnote"),"w:commentReference":he,"w:br":function(Me){var Ze=Me.attributes["w:type"];return Ze==null||Ze==="textWrapping"?y(n.lineBreak):Ze==="page"?y(n.pageBreak):Ze==="column"?y(n.columnBreak):v([i("Unsupported break type: "+Ze)])},"w:bookmarkStart":function(Me){var Ze=Me.attributes["w:name"];return Ze==="_GoBack"?w():y(new n.BookmarkStart({name:Ze}))},"mc:AlternateContent":function(Me){return ye(Me.firstOrEmpty("mc:Fallback"))},"w:sdt":function(Me){var Ze=ae(Me.firstOrEmpty("w:sdtContent").children);return Ze.map(function(pt){var gt=Me.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(gt){var Vt=gt.first("wordml:checked"),Kt=!!Vt&&te(Vt.attributes["wordml:val"]),an=n.checkbox({checked:Kt}),Dn=!1,jn=pt.map(c._elementsOfType(n.types.text,function(Ln){return Ln.value.length>0&&!Dn?(Dn=!0,an):Ln}));return Dn?jn:an}else return pt})},"w:ins":ye,"w:object":ye,"w:smartTag":ye,"w:drawing":ye,"w:pict":function(Me){return ye(Me).toExtra()},"v:roundrect":ye,"v:shape":ye,"v:textbox":ye,"w:txbxContent":ye,"wp:inline":Ce,"wp:anchor":Ce,"v:imagedata":Et,"v:group":ye,"v:rect":ye};return{readXmlElement:H,readXmlElements:ae};function le(Me){var Ze=fe(Me.firstOrEmpty("w:tblPr"));return ae(Me.children).flatMap(oe).flatMap(function(pt){return Ze.map(function(gt){return n.Table(pt,gt)})})}function fe(Me){return Oe(Me).map(function(Ze){return{styleId:Ze.styleId,styleName:Ze.name}})}function Le(Me){var Ze=Me.firstOrEmpty("w:trPr"),pt=!!Ze.first("w:del");if(pt)return w();var gt=!!Ze.first("w:tblHeader");return ae(Me.children).map(function(Vt){return n.TableRow(Vt,{isHeader:gt})})}function qe(Me){return ae(Me.children).map(function(Ze){var pt=Me.firstOrEmpty("w:tcPr"),gt=pt.firstOrEmpty("w:gridSpan").attributes["w:val"],Vt=gt?parseInt(gt,10):1,Kt=n.TableCell(Ze,{colSpan:Vt});return Kt._vMerge=Se(pt),Kt})}function Se(Me){var Ze=Me.first("w:vMerge");if(Ze){var pt=Ze.attributes["w:val"];return pt==="continue"||!pt}else return null}function oe(Me){var Ze=t.any(Me,function(Vt){return Vt.type!==n.types.tableRow});if(Ze)return Y(Me),b(Me,[i("unexpected non-row element in table, cell merging may be incorrect")]);var pt=t.any(Me,function(Vt){return t.any(Vt.children,function(Kt){return Kt.type!==n.types.tableCell})});if(pt)return Y(Me),b(Me,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var gt={};return Me.forEach(function(Vt){var Kt=0;Vt.children.forEach(function(an){an._vMerge&&gt[Kt]?gt[Kt].rowSpan++:(gt[Kt]=an,an._vMerge=!1),Kt+=an.colSpan})}),Me.forEach(function(Vt){Vt.children=Vt.children.filter(function(Kt){return!Kt._vMerge}),Vt.children.forEach(function(Kt){delete Kt._vMerge})}),y(Me)}function Y(Me){Me.forEach(function(Ze){var pt=c.getDescendantsOfType(Ze,n.types.tableCell);pt.forEach(function(gt){delete gt._vMerge})})}function Ce(Me){var Ze=Me.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return D(Ze.map(Fe.bind(null,Me)))}function Fe(Me,Ze){var pt=Me.first("wp:docPr").attributes,gt=lt(pt.descr)?pt.title:pt.descr,Vt=vt(Ze);return Vt===null?v([i("Could not find image file for a:blip element")]):_t(Vt,gt)}function lt(Me){return Me==null||/^\s*$/.test(Me)}function vt(Me){var Ze=Me.attributes["r:embed"],pt=Me.attributes["r:link"];if(Ze)return yt(Ze);if(pt){var gt=O.findTargetByRelationshipId(pt);return{path:gt,read:I.read.bind(I,gt)}}else return null}function Et(Me){var Ze=Me.attributes["r:id"];return Ze?_t(yt(Ze),Me.attributes["o:title"]):v([i("A v:imagedata element without a relationship ID was ignored")])}function yt(Me){var Ze=d.uriToZipEntryName("word",O.findTargetByRelationshipId(Me));return{path:Ze,read:se.read.bind(se,Ze)}}function _t(Me,Ze){var pt=$.findContentType(Me.path),gt=n.Image({readImage:Me.read,altText:Ze,contentType:pt}),Vt=p[pt]?[]:i("Image of type "+pt+" is unlikely to display in web browsers");return b(gt,Vt)}function Xt(Me,Ze){return i(Me+" style with ID "+Ze+" was referenced but not defined in the document")}}function m(A,j,U){var F=j.firstOrEmpty("w:ilvl").attributes["w:val"],O=j.firstOrEmpty("w:numId").attributes["w:val"];if(F!==void 0&&O!==void 0)return U.findLevel(O,F);if(A!=null){var $=U.findLevelByParagraphStyleId(A);if($!=null)return $}return O!==void 0?U.findLevel(O,"0"):null}var p={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},x={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function v(A){return new _(null,null,A)}function w(){return new _(null)}function y(A){return new _(A)}function b(A,j){return new _(A,null,j)}function _(A,j,U){this.value=A||[],this.extra=j||[],this._result=new r({element:this.value,extra:j},U),this.messages=this._result.messages}_.prototype.toExtra=function(){return new _(null,C(this.extra,this.value),this.messages)},_.prototype.insertExtra=function(){var A=this.extra;return A&&A.length?new _(C(this.value,A),null,this.messages):this},_.prototype.map=function(A){var j=this._result.map(function(U){return A(U.element)});return new _(j.value,this.extra,j.messages)},_.prototype.flatMap=function(A){var j=this._result.flatMap(function(U){return A(U.element)._result});return new _(j.value.element,C(this.extra,j.value.extra),j.messages)},_.map=function(A,j,U){return new _(U(A.value,j.value),C(A.extra,j.extra),A.messages.concat(j.messages))};function D(A){var j=r.combine(t.pluck(A,"_result"));return new _(t.flatten(t.pluck(j.value,"element")),t.filter(t.flatten(t.pluck(j.value,"extra")),M),j.messages)}function C(A,j){return t.flatten([A,j])}function M(A){return A}return Wg}var Jv={},EE;function mW(){if(EE)return Jv;EE=1,Jv.DocumentXmlReader=n;var e=ed(),t=So().Result;function n(r){var i=r.bodyReader;function o(c){var d=c.first("w:body");if(d==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var f=i.readXmlElements(d.children).map(function(h){return new e.Document(h,{notes:r.notes,comments:r.comments})});return new t(f.value,f.messages)}return{convertXmlToDocument:o}}return Jv}var zf={},NE;function xW(){if(NE)return zf;NE=1,zf.readRelationships=e,zf.defaultValue=new t([]),zf.Relationships=t;function e(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var o={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(o)}}),new t(r)}function t(n){var r={};n.forEach(function(o){r[o.relationshipId]=o.target});var i={};return n.forEach(function(o){i[o.type]||(i[o.type]=[]),i[o.type].push(o.target)}),{findTargetByRelationshipId:function(o){return r[o]},findTargetsByType:function(o){return i[o]||[]}}}return zf}var qg={},AE;function yW(){if(AE)return qg;AE=1,qg.readContentTypesFromXml=t;var e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};qg.defaultContentTypes=n({},{});function t(r){var i={},o={};return r.children.forEach(function(c){if(c.name==="content-types:Default"&&(i[c.attributes.Extension]=c.attributes.ContentType),c.name==="content-types:Override"){var d=c.attributes.PartName;d.charAt(0)==="/"&&(d=d.substring(1)),o[d]=c.attributes.ContentType}}),n(o,i)}function n(r,i){return{findContentType:function(o){var c=r[o];if(c)return c;var d=o.split("."),f=d[d.length-1];if(i.hasOwnProperty(f))return i[f];var h=e[f.toLowerCase()];return h?"image/"+h:null}}}return qg}var $f={},ME;function vW(){if(ME)return $f;ME=1;var e=Cr;$f.readNumberingXml=n,$f.Numbering=t,$f.defaultNumbering=new t({},{});function t(c,d,f){var h=e.flatten(e.values(d).map(function(v){return e.values(v.levels)})),m=e.indexBy(h.filter(function(v){return v.paragraphStyleId!=null}),"paragraphStyleId");function p(v,w){var y=c[v];if(y){var b=d[y.abstractNumId];if(b){if(b.numStyleLink==null)return d[y.abstractNumId].levels[w];var _=f.findNumberingStyleById(b.numStyleLink);return p(_.numId,w)}else return null}else return null}function x(v){return m[v]||null}return{findLevel:p,findLevelByParagraphStyleId:x}}function n(c,d){if(!d||!d.styles)throw new Error("styles is missing");var f=r(c),h=o(c);return new t(h,f,d.styles)}function r(c){var d={};return c.getElementsByTagName("w:abstractNum").forEach(function(f){var h=f.attributes["w:abstractNumId"];d[h]=i(f)}),d}function i(c){var d={},f=null;c.getElementsByTagName("w:lvl").forEach(function(m){var p=m.attributes["w:ilvl"],x=m.firstOrEmpty("w:numFmt").attributes["w:val"],v=x!=="bullet",w=m.firstOrEmpty("w:pStyle").attributes["w:val"];p===void 0?f={isOrdered:v,level:"0",paragraphStyleId:w}:d[p]={isOrdered:v,level:p,paragraphStyleId:w}}),f!==null&&d[f.level]===void 0&&(d[f.level]=f);var h=c.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:d,numStyleLink:h}}function o(c){var d={};return c.getElementsByTagName("w:num").forEach(function(f){var h=f.attributes["w:numId"],m=f.first("w:abstractNumId").attributes["w:val"];d[h]={abstractNumId:m}}),d}return $f}var qf={},UE;function bW(){if(UE)return qf;UE=1,qf.readStylesXml=t,qf.Styles=e,qf.defaultStyles=new e({},{});function e(c,d,f,h){return{findParagraphStyleById:function(m){return c[m]},findCharacterStyleById:function(m){return d[m]},findTableStyleById:function(m){return f[m]},findNumberingStyleById:function(m){return h[m]}}}e.EMPTY=new e({},{},{},{});function t(c){var d={},f={},h={},m={},p={paragraph:d,character:f,table:h,numbering:m};return c.getElementsByTagName("w:style").forEach(function(x){var v=n(x),w=p[v.type];w&&w[v.styleId]===void 0&&(w[v.styleId]=v)}),new e(d,f,h,m)}function n(c){var d=c.attributes["w:type"];if(d==="numbering")return i(d,c);var f=o(c),h=r(c);return{type:d,styleId:f,name:h}}function r(c){var d=c.first("w:name");return d?d.attributes["w:val"]:null}function i(c,d){var f=o(d),h=d.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:c,numId:h,styleId:f}}function o(c){return c.attributes["w:styleId"]}return qf}var ou={},kE;function _W(){if(kE)return ou;kE=1;var e=ed(),t=So().Result;ou.createFootnotesReader=n.bind(ou,"footnote"),ou.createEndnotesReader=n.bind(ou,"endnote");function n(r,i){function o(f){return t.combine(f.getElementsByTagName("w:"+r).filter(c).map(d))}function c(f){var h=f.attributes["w:type"];return h!=="continuationSeparator"&&h!=="separator"}function d(f){var h=f.attributes["w:id"];return i.readXmlElements(f.children).map(function(m){return e.Note({noteType:r,noteId:h,body:m})})}return o}return ou}var eb={},jE;function wW(){if(jE)return eb;jE=1;var e=ed(),t=So().Result;function n(r){function i(c){return t.combine(c.getElementsByTagName("w:comment").map(o))}function o(c){var d=c.attributes["w:id"];function f(h){return(c.attributes[h]||"").trim()||null}return r.readXmlElements(c.children).map(function(h){return e.comment({commentId:d,body:h,authorName:f("w:author"),authorInitials:f("w:initials")})})}return i}return eb.createCommentsReader=n,eb}var tb={},RE;function DW(){if(RE)return tb;RE=1;var e=Il();tb.Files=t;function t(){function n(r){return e.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return tb}var PE;function SW(){if(PE)return Ig;PE=1,Ig.read=w,Ig._findPartPaths=y;var e=Il(),t=ed(),n=So().Result,r=B4(),i=uW().readXmlFromZipFile,o=gW().createBodyReader,c=mW().DocumentXmlReader,d=xW(),f=yW(),h=vW(),m=bW(),p=_W(),x=wW(),v=DW().Files;function w(O,$,se){$=$||{},se=se||{};var I=new v({externalFileAccess:se.externalFileAccess,relativeToFile:$.path});return e.props({contentTypes:A(O),partPaths:y(O),docxFile:O,files:I}).also(function(Q){return{styles:U(O,Q.partPaths.styles)}}).also(function(Q){return{numbering:j(O,Q.partPaths.numbering,Q.styles)}}).also(function(Q){return{footnotes:C(Q.partPaths.footnotes,Q,function(k,ae){return ae?p.createFootnotesReader(k)(ae):new n([])}),endnotes:C(Q.partPaths.endnotes,Q,function(k,ae){return ae?p.createEndnotesReader(k)(ae):new n([])}),comments:C(Q.partPaths.comments,Q,function(k,ae){return ae?x.createCommentsReader(k)(ae):new n([])})}}).also(function(Q){return{notes:Q.footnotes.flatMap(function(k){return Q.endnotes.map(function(ae){return new t.Notes(k.concat(ae))})})}}).then(function(Q){return C(Q.partPaths.mainDocument,Q,function(k,ae){return Q.notes.flatMap(function(H){return Q.comments.flatMap(function(G){var q=new c({bodyReader:k,notes:H,comments:G});return q.convertXmlToDocument(ae)})})})})}function y(O){return F(O).then(function($){var se=b({docxFile:O,relationships:$,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!O.exists(se))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return D({filename:M(se),readElement:d.readRelationships,defaultValue:d.defaultValue})(O).then(function(I){function Q(k){return b({docxFile:O,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+k,basePath:r.splitPath(se).dirname,fallbackPath:"word/"+k+".xml"})}return{mainDocument:se,comments:Q("comments"),endnotes:Q("endnotes"),footnotes:Q("footnotes"),numbering:Q("numbering"),styles:Q("styles")}})})}function b(O){var $=O.docxFile,se=O.relationships,I=O.relationshipType,Q=O.basePath,k=O.fallbackPath,ae=se.findTargetsByType(I),H=ae.map(function(q){return _(r.joinPath(Q,q),"/")}),G=H.filter(function(q){return $.exists(q)});return G.length===0?k:G[0]}function _(O,$){return O.substring(0,$.length)===$?O.substring($.length):O}function D(O){return function($){return i($,O.filename).then(function(se){return se?O.readElement(se):O.defaultValue})}}function C(O,$,se){var I=D({filename:M(O),readElement:d.readRelationships,defaultValue:d.defaultValue});return I($.docxFile).then(function(Q){var k=new o({relationships:Q,contentTypes:$.contentTypes,docxFile:$.docxFile,numbering:$.numbering,styles:$.styles,files:$.files});return i($.docxFile,O).then(function(ae){return se(k,ae)})})}function M(O){var $=r.splitPath(O);return r.joinPath($.dirname,"_rels",$.basename+".rels")}var A=D({filename:"[Content_Types].xml",readElement:f.readContentTypesFromXml,defaultValue:f.defaultContentTypes});function j(O,$,se){return D({filename:$,readElement:function(I){return h.readNumberingXml(I,{styles:se})},defaultValue:h.defaultNumbering})(O)}function U(O,$){return D({filename:$,readElement:m.readStylesXml,defaultValue:m.defaultStyles})(O)}var F=D({filename:"_rels/.rels",readElement:d.readRelationships,defaultValue:d.defaultValue});return Ig}var Gg={},OE;function CW(){if(OE)return Gg;OE=1;var e=Cr,t=Il(),n=X2();Gg.writeStyleMap=c,Gg.readStyleMap=m;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",o="/"+i;function c(p,x){return p.write(i,x),d(p).then(function(){return f(p)})}function d(p){var x="word/_rels/document.xml.rels",v="http://schemas.openxmlformats.org/package/2006/relationships",w="{"+v+"}Relationship";return p.read(x,"utf8").then(n.readString).then(function(y){var b=y.children;h(b,w,"Id",{Id:"rMammothStyleMap",Type:r,Target:o});var _={"":v};return p.write(x,n.writeString(y,_))})}function f(p){var x="[Content_Types].xml",v="http://schemas.openxmlformats.org/package/2006/content-types",w="{"+v+"}Override";return p.read(x,"utf8").then(n.readString).then(function(y){var b=y.children;h(b,w,"PartName",{PartName:o,ContentType:"text/prs.mammoth.style-map"});var _={"":v};return p.write(x,n.writeString(y,_))})}function h(p,x,v,w){var y=e.find(p,function(b){return b.name===x&&b.attributes[v]===w[v]});y?y.attributes=w:p.push(n.element(x,w))}function m(p){return p.exists(i)?p.read(i,"utf8"):t.resolve(null)}return Gg}var Xg={},_c={},mo={},ul={},IE;function G4(){if(IE)return ul;IE=1;var e=Zx();function t(f,h,m){return r(e.element(f,h,{fresh:!1}),m)}function n(f,h,m){var p=e.element(f,h,{fresh:!0});return r(p,m)}function r(f,h){return{type:"element",tag:f,children:h||[]}}function i(f){return{type:"text",value:f}}var o={type:"forceWrite"};ul.freshElement=n,ul.nonFreshElement=t,ul.elementWithTag=r,ul.text=i,ul.forceWrite=o;var c={br:!0,hr:!0,img:!0,input:!0};function d(f){return f.children.length===0&&c[f.tag.tagName]}return ul.isVoidElement=d,ul}var nb,FE;function TW(){if(FE)return nb;FE=1;var e=Cr,t=G4();function n(y){return r(h(y))}function r(y){var b=[];return y.map(i).forEach(function(_){f(b,_)}),b}function i(y){return o[y.type](y)}var o={element:c,text:d,forceWrite:d};function c(y){return t.elementWithTag(y.tag,r(y.children))}function d(y){return y}function f(y,b){var _=y[y.length-1];b.type==="element"&&!b.tag.fresh&&_&&_.type==="element"&&b.tag.matchesElement(_.tag)?(b.tag.separator&&f(_.children,t.text(b.tag.separator)),b.children.forEach(function(D){f(_.children,D)})):y.push(b)}function h(y){return m(y,function(b){return p[b.type](b)})}function m(y,b){return e.flatten(e.map(y,b),!0)}var p={element:v,text:w,forceWrite:x};function x(y){return[y]}function v(y){var b=h(y.children);return b.length===0&&!t.isVoidElement(y)?[]:[t.elementWithTag(y.tag,b)]}function w(y){return y.value.length===0?[]:[y]}return nb=n,nb}var LE;function Yx(){if(LE)return mo;LE=1;var e=G4();mo.freshElement=e.freshElement,mo.nonFreshElement=e.nonFreshElement,mo.elementWithTag=e.elementWithTag,mo.text=e.text,mo.forceWrite=e.forceWrite,mo.simplify=TW();function t(c,d){d.forEach(function(f){n(c,f)})}function n(c,d){r[d.type](c,d)}var r={element:i,text:o,forceWrite:function(){}};function i(c,d){e.isVoidElement(d)?c.selfClosing(d.tag.tagName,d.tag.attributes):(c.open(d.tag.tagName,d.tag.attributes),t(c,d.children),c.close(d.tag.tagName))}function o(c,d){c.text(d.value)}return mo.write=t,mo}var HE;function Zx(){if(HE)return _c;HE=1;var e=Cr,t=Yx();_c.topLevelElement=n,_c.elements=r,_c.element=o;function n(d,f){return r([o(d,f,{fresh:!0})])}function r(d){return new i(d.map(function(f){return e.isString(f)?o(f):f}))}function i(d){this._elements=d}i.prototype.wrap=function(f){for(var h=f(),m=this._elements.length-1;m>=0;m--)h=this._elements[m].wrapNodes(h);return h};function o(d,f,h){return h=h||{},new c(d,f,h)}function c(d,f,h){var m={};e.isArray(d)?(d.forEach(function(p){m[p]=!0}),d=d[0]):m[d]=!0,this.tagName=d,this.tagNames=m,this.attributes=f||{},this.fresh=h.fresh,this.separator=h.separator}return c.prototype.matchesElement=function(d){return this.tagNames[d.tagName]&&e.isEqual(this.attributes||{},d.attributes||{})},c.prototype.wrap=function(f){return this.wrapNodes(f())},c.prototype.wrapNodes=function(f){return[t.elementWithTag(this,f)]},_c.empty=r([]),_c.ignore={wrap:function(){return[]}},_c}var rb={},BE;function X4(){return BE||(BE=1,(function(e){var t=Cr,n=Il(),r=Yx();e.imgElement=i;function i(o){return function(c,d){return n.when(o(c)).then(function(f){var h={};return c.altText&&(h.alt=c.altText),t.extend(h,f),[r.freshElement("img",h)]})}}e.inline=e.imgElement,e.dataUri=i(function(o){return o.readAsBase64String().then(function(c){return{src:"data:"+o.contentType+";base64,"+c}})})})(rb)),rb}var ab={},ib={},VE;function EW(){if(VE)return ib;VE=1;var e=Cr;ib.writer=t;function t(d){return d=d||{},d.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var d=0,f="  ",h=[],m=!0,p=!1,x=i();function v(A,j){n[A]&&C(),h.push(A),x.open(A,j),n[A]&&d++,m=!1}function w(A){n[A]&&(d--,C()),h.pop(),x.close(A)}function y(A){D();var j=M()?A:A.replace(`
`,`
`+f);x.text(j)}function b(A,j){C(),x.selfClosing(A,j)}function _(){return h.length===0||n[h[h.length-1]]}function D(){p||(C(),p=!0)}function C(){if(p=!1,!m&&_()&&!M()){x._append(`
`);for(var A=0;A<d;A++)x._append(f)}}function M(){return e.some(h,function(A){return A==="pre"})}return{asString:x.asString,open:v,close:w,text:y,selfClosing:b}}function i(){var d=[];function f(y,b){var _=p(b);d.push("<"+y+_+">")}function h(y){d.push("</"+y+">")}function m(y,b){var _=p(b);d.push("<"+y+_+" />")}function p(y){return e.map(y,function(b,_){return" "+_+'="'+c(b)+'"'}).join("")}function x(y){d.push(o(y))}function v(y){d.push(y)}function w(){return d.join("")}return{asString:w,open:f,close:h,text:x,selfClosing:m,_append:v}}function o(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(d){return d.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return ib}var sb={},WE;function NW(){if(WE)return sb;WE=1;var e=Cr;function t(p){return n(p,p)}function n(p,x){return function(){return{start:p,end:x}}}function r(p){var x=p.href||"";return x?{start:"[",end:"]("+x+")",anchorPosition:"before"}:{}}function i(p){var x=p.src||"",v=p.alt||"";return x||v?{start:"!["+v+"]("+x+")"}:{}}function o(p){return function(x,v){return{start:v?`
`:"",end:v?"":`
`,list:{isOrdered:p.isOrdered,indent:v?v.indent+1:0,count:0}}}}function c(p,x,v){x=x||{indent:0,isOrdered:!1,count:0},x.count++,v.hasClosed=!1;var w=x.isOrdered?x.count+".":"-",y=f("	",x.indent)+w+" ";return{start:y,end:function(){if(!v.hasClosed)return v.hasClosed=!0,`
`}}}var d={p:n("",`

`),br:n("",`  
`),ul:o({isOrdered:!1}),ol:o({isOrdered:!0}),li:c,strong:t("__"),em:t("*"),a:r,img:i};(function(){for(var p=1;p<=6;p++)d["h"+p]=n(f("#",p)+" ",`

`)})();function f(p,x){return new Array(x+1).join(p)}function h(){var p=[],x=[],v=null,w={};function y(A,j){j=j||{};var U=d[A]||function(){return{}},F=U(j,v,w);x.push({end:F.end,list:v}),F.list&&(v=F.list);var O=F.anchorPosition==="before";O&&b(j),p.push(F.start||""),O||b(j)}function b(A){A.id&&p.push('<a id="'+A.id+'"></a>')}function _(A){var j=x.pop();v=j.list;var U=e.isFunction(j.end)?j.end():j.end;p.push(U||"")}function D(A,j){y(A,j),_()}function C(A){p.push(m(A))}function M(){return p.join("")}return{asString:M,open:y,close:_,text:C,selfClosing:D}}sb.writer=h;function m(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return sb}var zE;function AW(){if(zE)return ab;zE=1;var e=EW(),t=NW();ab.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?t.writer():e.writer(r)}return ab}var $E;function MW(){if($E)return Xg;$E=1;var e=Cr,t=Il(),n=ed(),r=Zx(),i=So(),o=X4(),c=Yx(),d=AW();Xg.DocumentConverter=f;function f(b){return{convertToHtml:function(_){var D=e.indexBy(_.type===n.types.document?_.comments:[],"commentId"),C=new h(b,D);return C.convertToHtml(_)}}}function h(b,_){var D=1,C=[],M=[];b=e.extend({ignoreEmptyParagraphs:!0},b);var A=b.idPrefix===void 0?"":b.idPrefix,j=b.ignoreEmptyParagraphs,U=r.topLevelElement("p"),F=b.styleMap||[];function O(P){var he=[],ye=se(P,he,{}),ne=[];w(ye,function(fe){fe.type==="deferred"&&ne.push(fe)});var le={};return t.mapSeries(ne,function(fe){return fe.value().then(function(Le){le[fe.id]=Le})}).then(function(){function fe(qe){return v(qe,function(Se){return Se.type==="deferred"?le[Se.id]:Se.children?[e.extend({},Se,{children:fe(Se.children)})]:[Se]})}var Le=d.writer({prettyPrint:b.prettyPrint,outputFormat:b.outputFormat});return c.write(Le,c.simplify(fe(ye))),new i.Result(Le.asString(),he)})}function $(P,he,ye){return v(P,function(ne){return se(ne,he,ye)})}function se(P,he,ye){if(!ye)throw new Error("options not set");var ne=nt[P.type];return ne?ne(P,he,ye):[]}function I(P,he,ye){return Q(P,he).wrap(function(){var ne=$(P.children,he,ye);return j?ne:[c.forceWrite].concat(ne)})}function Q(P,he){var ye=G(P);return ye?ye.to:(P.styleId&&he.push(x("paragraph",P)),U)}function k(P,he,ye){var ne=function(){return $(P.children,he,ye)},le=[];if(P.highlight!==null){var fe=H({type:"highlight",color:P.highlight});fe&&le.push(fe)}P.isSmallCaps&&le.push(ae("smallCaps")),P.isAllCaps&&le.push(ae("allCaps")),P.isStrikethrough&&le.push(ae("strikethrough","s")),P.isUnderline&&le.push(ae("underline")),P.verticalAlignment===n.verticalAlignment.subscript&&le.push(r.element("sub",{},{fresh:!1})),P.verticalAlignment===n.verticalAlignment.superscript&&le.push(r.element("sup",{},{fresh:!1})),P.isItalic&&le.push(ae("italic","em")),P.isBold&&le.push(ae("bold","strong"));var Le=r.empty,qe=G(P);return qe?Le=qe.to:P.styleId&&he.push(x("run",P)),le.push(Le),le.forEach(function(Se){ne=Se.wrap.bind(Se,ne)}),ne()}function ae(P,he){var ye=H({type:P});return ye||(he?r.element(he,{},{fresh:!1}):r.empty)}function H(P,he){var ye=G(P);return ye?ye.to:he}function G(P){for(var he=0;he<F.length;he++)if(F[he].from.matches(P))return F[he]}function q(P){return function(he,ye){return t.attempt(function(){return P(he,ye)}).caught(function(ne){return ye.push(i.error(ne)),[]})}}function ee(P){return B(P.noteType,P.noteId)}function xe(P){return te(P.noteType,P.noteId)}function B(P,he){return J(P+"-"+he)}function te(P,he){return J(P+"-ref-"+he)}function J(P){return A+P}var de=r.elements([r.element("table",{},{fresh:!0})]);function _e(P,he,ye){return H(P,de).wrap(function(){return Oe(P,he,ye)})}function Oe(P,he,ye){var ne=e.findIndex(P.children,function(qe){return!qe.type===n.types.tableRow||!qe.isHeader});ne===-1&&(ne=P.children.length);var le;if(ne===0)le=$(P.children,he,e.extend({},ye,{isTableHeader:!1}));else{var fe=$(P.children.slice(0,ne),he,e.extend({},ye,{isTableHeader:!0})),Le=$(P.children.slice(ne),he,e.extend({},ye,{isTableHeader:!1}));le=[c.freshElement("thead",{},fe),c.freshElement("tbody",{},Le)]}return[c.forceWrite].concat(le)}function Ee(P,he,ye){var ne=$(P.children,he,ye);return[c.freshElement("tr",{},[c.forceWrite].concat(ne))]}function He(P,he,ye){var ne=ye.isTableHeader?"th":"td",le=$(P.children,he,ye),fe={};return P.colSpan!==1&&(fe.colspan=P.colSpan.toString()),P.rowSpan!==1&&(fe.rowspan=P.rowSpan.toString()),[c.freshElement(ne,fe,[c.forceWrite].concat(le))]}function Qe(P,he,ye){return H(P,r.ignore).wrap(function(){var ne=_[P.commentId],le=M.length+1,fe="["+y(ne)+le+"]";return M.push({label:fe,comment:ne}),[c.freshElement("a",{href:"#"+B("comment",P.commentId),id:te("comment",P.commentId)},[c.text(fe)])]})}function at(P,he,ye){var ne=P.label,le=P.comment,fe=$(le.body,he,ye).concat([c.nonFreshElement("p",{},[c.text(" "),c.freshElement("a",{href:"#"+te("comment",le.commentId)},[c.text("")])])]);return[c.freshElement("dt",{id:B("comment",le.commentId)},[c.text("Comment "+ne)]),c.freshElement("dd",{},fe)]}function Ie(P,he,ye){return tt(P).wrap(function(){return[]})}function tt(P){var he=G(P);return he?he.to:P.breakType==="line"?r.topLevelElement("br"):r.empty}var nt={document:function(P,he,ye){var ne=$(P.children,he,ye),le=C.map(function(Le){return P.notes.resolve(Le)}),fe=$(le,he,ye);return ne.concat([c.freshElement("ol",{},fe),c.freshElement("dl",{},v(M,function(Le){return at(Le,he,ye)}))])},paragraph:I,run:k,text:function(P,he,ye){return[c.text(P.value)]},tab:function(P,he,ye){return[c.text("	")]},hyperlink:function(P,he,ye){var ne=P.anchor?"#"+J(P.anchor):P.href,le={href:ne};P.targetFrame!=null&&(le.target=P.targetFrame);var fe=$(P.children,he,ye);return[c.nonFreshElement("a",le,fe)]},checkbox:function(P){var he={type:"checkbox"};return P.checked&&(he.checked="checked"),[c.freshElement("input",he)]},bookmarkStart:function(P,he,ye){var ne=c.freshElement("a",{id:J(P.name)},[c.forceWrite]);return[ne]},noteReference:function(P,he,ye){C.push(P);var ne=c.freshElement("a",{href:"#"+ee(P),id:xe(P)},[c.text("["+D+++"]")]);return[c.freshElement("sup",{},[ne])]},note:function(P,he,ye){var ne=$(P.body,he,ye),le=c.elementWithTag(r.element("p",{},{fresh:!1}),[c.text(" "),c.freshElement("a",{href:"#"+xe(P)},[c.text("")])]),fe=ne.concat([le]);return c.freshElement("li",{id:ee(P)},fe)},commentReference:Qe,comment:at,image:p(q(b.convertImage||o.dataUri)),table:_e,tableRow:Ee,tableCell:He,break:Ie};return{convertToHtml:O}}var m=1;function p(b){return function(_,D,C){return[{type:"deferred",id:m++,value:function(){return b(_,D,C)}}]}}function x(b,_){return i.warning("Unrecognised "+b+" style: '"+_.styleName+"' (Style ID: "+_.styleId+")")}function v(b,_){return e.flatten(b.map(_),!0)}function w(b,_){b.forEach(function(D){_(D),D.children&&w(D.children,_)})}var y=Xg.commentAuthorLabel=function(_){return _.authorInitials||""};return Xg}var ob={},qE;function UW(){if(qE)return ob;qE=1;var e=ed();function t(n){if(n.type==="text")return n.value;if(n.type===e.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(t).join("")+r}return ob.convertElementToRawText=t,ob}var Gf={},ts={},lb={},cb={exports:{}},GE;function kW(){if(GE)return cb.exports;GE=1;var e=cb.exports=function(t,n){this._tokens=t,this._startIndex=n||0};return e.prototype.head=function(){return this._tokens[this._startIndex]},e.prototype.tail=function(t){return new e(this._tokens,this._startIndex+1)},e.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},e.prototype.end=function(){return this._tokens[this._tokens.length-1]},e.prototype.to=function(t){var n=this.head().source,r=t.head()||t.end();return n.to(r.source)},cb.exports}var XE;function jW(){if(XE)return lb;XE=1;var e=kW();return lb.Parser=function(t){var n=function(r,i){return r(new e(i))};return{parseTokens:n}},lb}var db={},ub={},KE;function RW(){return KE||(KE=1,(function(e){e.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return e.none},flatMap:function(){return e.none},filter:function(){return e.none},toArray:function(){return[]},orElse:t,valueOrElse:t});function t(r){return typeof r=="function"?r():r}e.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:e.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},e.isOption=function(r){return r===e.none||r instanceof n},e.fromNullable=function(r){return r==null?e.none:new n(r)}})(ub)),ub}var fb,YE;function K2(){if(YE)return fb;YE=1,fb={failure:function(t,n){if(t.length<1)throw new Error("Failure must have errors");return new e({status:"failure",remaining:n,errors:t})},error:function(t,n){if(t.length<1)throw new Error("Failure must have errors");return new e({status:"error",remaining:n,errors:t})},success:function(t,n,r){return new e({status:"success",value:t,source:r,remaining:n,errors:[]})},cut:function(t){return new e({status:"cut",remaining:t,errors:[]})}};var e=function(t){this._value=t.value,this._status=t.status,this._hasValue=t.value!==void 0,this._remaining=t.remaining,this._source=t.source,this._errors=t.errors};return e.prototype.map=function(t){return this._hasValue?new e({value:t(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},e.prototype.changeRemaining=function(t){return new e({value:this._value,status:this._status,remaining:t,source:this._source,errors:this._errors})},e.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},e.prototype.isFailure=function(){return this._status==="failure"},e.prototype.isError=function(){return this._status==="error"},e.prototype.isCut=function(){return this._status==="cut"},e.prototype.value=function(){return this._value},e.prototype.remaining=function(){return this._remaining},e.prototype.source=function(){return this._source},e.prototype.errors=function(){return this._errors},fb}var hb={},ZE;function K4(){if(ZE)return hb;ZE=1,hb.error=function(t){return new e(t)};var e=function(t){this.expected=t.expected,this.actual=t.actual,this._location=t.location};return e.prototype.describe=function(){var t=this._location?this._location.describe()+`:
`:"";return t+"Expected "+this.expected+`
but got `+this.actual},e.prototype.lineNumber=function(){return this._location.lineNumber()},e.prototype.characterNumber=function(){return this._location.characterNumber()},hb}var pb={},QE;function PW(){if(QE)return pb;QE=1,pb.fromArray=function(t){var n=0,r=function(){return n<t.length};return new e({hasNext:r,next:function(){if(r())return t[n++];throw new Error("No more elements")}})};var e=function(t){this._iterator=t};return e.prototype.map=function(t){var n=this._iterator;return new e({hasNext:function(){return n.hasNext()},next:function(){return t(n.next())}})},e.prototype.filter=function(t){var n=this._iterator,r=!1,i=!1,o,c=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)o=n.next(),i=t(o)};return new e({hasNext:function(){return c(),i},next:function(){c();var d=o;return r=!1,d}})},e.prototype.first=function(){var t=this._iterator;return this._iterator.hasNext()?t.next():null},e.prototype.toArray=function(){for(var t=[];this._iterator.hasNext();)t.push(this._iterator.next());return t},pb}var JE;function Y4(){return JE||(JE=1,(function(e){var t=Cr,n=RW(),r=K2(),i=K4(),o=PW();e.token=function(x,v){var w=v!==void 0;return function(y){var b=y.head();if(b&&b.name===x&&(!w||b.value===v))return r.success(b.value,y.tail(),b.source);var _=m({name:x,value:v});return p(y,_)}},e.tokenOfType=function(x){return e.token(x)},e.firstOf=function(x,v){return t.isArray(v)||(v=Array.prototype.slice.call(arguments,1)),function(w){return o.fromArray(v).map(function(y){return y(w)}).filter(function(y){return y.isSuccess()||y.isError()}).first()||p(w,x)}},e.then=function(x,v){return function(w){var y=x(w);return y.map||console.log(y),y.map(v)}},e.sequence=function(){var x=Array.prototype.slice.call(arguments,0),v=function(y){var b=t.foldl(x,function(D,C){var M=D.result,A=D.hasCut;if(!M.isSuccess())return{result:M,hasCut:A};var j=C(M.remaining());if(j.isCut())return{result:M,hasCut:!0};if(j.isSuccess()){var U;C.isCaptured?U=M.value().withValue(C,j.value()):U=M.value();var F=j.remaining(),O=y.to(F);return{result:r.success(U,F,O),hasCut:A}}else return A?{result:r.error(j.errors(),j.remaining()),hasCut:A}:{result:j,hasCut:A}},{result:r.success(new c,y),hasCut:!1}).result,_=y.to(b.remaining());return b.map(function(D){return D.withValue(e.sequence.source,_)})};v.head=function(){var y=t.find(x,w);return e.then(v,e.sequence.extract(y))},v.map=function(y){return e.then(v,function(b){return y.apply(this,b.toArray())})};function w(y){return y.isCaptured}return v};var c=function(x,v){this._values=x||{},this._valuesArray=v||[]};c.prototype.withValue=function(x,v){if(x.captureName&&x.captureName in this._values)throw new Error('Cannot add second value for capture "'+x.captureName+'"');var w=t.clone(this._values);w[x.captureName]=v;var y=this._valuesArray.concat([v]);return new c(w,y)},c.prototype.get=function(x){if(x.captureName in this._values)return this._values[x.captureName];throw new Error('No value for capture "'+x.captureName+'"')},c.prototype.toArray=function(){return this._valuesArray},e.sequence.capture=function(x,v){var w=function(){return x.apply(this,arguments)};return w.captureName=v,w.isCaptured=!0,w},e.sequence.extract=function(x){return function(v){return v.get(x)}},e.sequence.applyValues=function(x){var v=Array.prototype.slice.call(arguments,1);return function(w){var y=v.map(function(b){return w.get(b)});return x.apply(this,y)}},e.sequence.source={captureName:"source"},e.sequence.cut=function(){return function(x){return r.cut(x)}},e.optional=function(x){return function(v){var w=x(v);return w.isSuccess()?w.map(n.some):w.isFailure()?r.success(n.none,v):w}},e.zeroOrMoreWithSeparator=function(x,v){return h(x,v,!1)},e.oneOrMoreWithSeparator=function(x,v){return h(x,v,!0)};var d=e.zeroOrMore=function(x){return function(v){for(var w=[],y;(y=x(v))&&y.isSuccess();)v=y.remaining(),w.push(y.value());return y.isError()?y:r.success(w,v)}};e.oneOrMore=function(x){return e.oneOrMoreWithSeparator(x,f)};function f(x){return r.success(null,x)}var h=function(x,v,w){return function(y){var b=x(y);if(b.isSuccess()){var _=e.sequence.capture(x,"main"),D=d(e.then(e.sequence(v,_),e.sequence.extract(_))),C=D(b.remaining());return r.success([b.value()].concat(C.value()),C.remaining())}else return w||b.isError()?b:r.success([],y)}};e.leftAssociative=function(x,v,w){var y;w?y=[{func:w,rule:v}]:y=v,y=y.map(function(_){return e.then(_.rule,function(D){return function(C,M){return _.func(C,D,M)}})});var b=e.firstOf.apply(null,["rules"].concat(y));return function(_){var D=_,C=x(_);if(!C.isSuccess())return C;for(var M=b(C.remaining());M.isSuccess();){var A=M.remaining(),j=D.to(M.remaining()),U=M.value();C=r.success(U(C.value(),j),A,j),M=b(C.remaining())}return M.isError()?M:C}},e.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},e.nonConsuming=function(x){return function(v){return x(v).changeRemaining(v)}};var m=function(x){return x.value?x.name+' "'+x.value+'"':x.name};function p(x,v){var w,y=x.head();return y?w=i.error({expected:v,actual:m(y),location:y.source}):w=i.error({expected:v,actual:"end of tokens"}),r.failure([w],x)}})(db)),db}var gb={exports:{}},eN;function Z4(){if(eN)return gb.exports;eN=1,gb.exports=function(t,n){var r={asString:function(){return t},range:function(i,o){return new e(t,n,i,o)}};return r};var e=function(t,n,r,i){this._string=t,this._description=n,this._startIndex=r,this._endIndex=i};return e.prototype.to=function(t){return new e(this._string,this._description,this._startIndex,t._endIndex)},e.prototype.describe=function(){var t=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+t.lineNumber+`
Character number: `+t.characterNumber},e.prototype.lineNumber=function(){return this._position().lineNumber},e.prototype.characterNumber=function(){return this._position().characterNumber},e.prototype._position=function(){for(var t=this,n=0,r=function(){return t._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var o=this._startIndex-n+1;return{lineNumber:i,characterNumber:o}},gb.exports}var mb,tN;function Q4(){return tN||(tN=1,mb=function(e,t,n){this.name=e,this.value=t,n&&(this.source=n)}),mb}var xb={},nN;function OW(){return nN||(nN=1,(function(e){var t=Y4(),n=K2();e.parser=function(o,c,d){var f={rule:x,leftAssociative:v,rightAssociative:w},h=new r(d.map(p)),m=t.firstOf(o,c);function p(_){return{name:_.name,rule:i(_.ruleBuilder.bind(null,f))}}function x(){return y(h)}function v(_){return y(h.untilExclusive(_))}function w(_){return y(h.untilInclusive(_))}function y(_){return b.bind(null,_)}function b(_,D){var C=m(D);return C.isSuccess()?_.apply(C):C}return f};function r(o){function c(p){return new r(o.slice(0,f().indexOf(p)))}function d(p){return new r(o.slice(0,f().indexOf(p)+1))}function f(){return o.map(function(p){return p.name})}function h(p){for(var x,v;;)if(x=m(p.remaining()),x.isSuccess())v=p.source().to(x.source()),p=n.success(x.value()(p.value(),v),x.remaining(),v);else return x.isFailure()?p:x}function m(p){return t.firstOf("infix",o.map(function(x){return x.rule}))(p)}return{apply:h,untilExclusive:c,untilInclusive:d}}e.infix=function(o,c){function d(f){return e.infix(o,function(h){var m=c(h);return function(p){var x=m(p);return x.map(function(v){return function(w,y){return f(w,v,y)}})}})}return{name:o,ruleBuilder:c,map:d}};var i=function(o){var c;return function(d){return c||(c=o()),c(d)}}})(xb)),xb}var yb={},rN;function IW(){if(rN)return yb;rN=1;var e=Q4(),t=Z4();yb.RegexTokeniser=n;function n(r){r=r.map(function(d){return{name:d.name,regex:new RegExp(d.regex.source,"g")}});function i(d,f){for(var h=new t(d,f),m=0,p=[];m<d.length;){var x=o(d,m,h);m=x.endIndex,p.push(x.token)}return p.push(c(d,h)),p}function o(d,f,h){for(var m=0;m<r.length;m++){var p=r[m].regex;p.lastIndex=f;var x=p.exec(d);if(x){var w=f+x[0].length;if(x.index===f&&w>f){var v=x[1],y=new e(r[m].name,v,h.range(f,w));return{token:y,endIndex:w}}}}var w=f+1,y=new e("unrecognisedCharacter",d.substring(f,w),h.range(f,w));return{token:y,endIndex:w}}function c(d,f){return new e("end",null,f.range(d.length,d.length))}return{tokenise:i}}return yb}var aN;function J4(){return aN||(aN=1,ts.Parser=jW().Parser,ts.rules=Y4(),ts.errors=K4(),ts.results=K2(),ts.StringSource=Z4(),ts.Token=Q4(),ts.bottomUp=OW(),ts.RegexTokeniser=IW().RegexTokeniser,ts.rule=function(e){var t;return function(n){return t||(t=e()),t(n)}}),ts}var Wr={},iN;function FW(){if(iN)return Wr;iN=1,Wr.paragraph=e,Wr.run=t,Wr.table=n,Wr.bold=new i("bold"),Wr.italic=new i("italic"),Wr.underline=new i("underline"),Wr.strikethrough=new i("strikethrough"),Wr.allCaps=new i("allCaps"),Wr.smallCaps=new i("smallCaps"),Wr.highlight=r,Wr.commentReference=new i("commentReference"),Wr.lineBreak=new c({breakType:"line"}),Wr.pageBreak=new c({breakType:"page"}),Wr.columnBreak=new c({breakType:"column"}),Wr.equalTo=f,Wr.startsWith=h;function e(x){return new i("paragraph",x)}function t(x){return new i("run",x)}function n(x){return new i("table",x)}function r(x){return new o(x)}function i(x,v){v=v||{},this._elementType=x,this._styleId=v.styleId,this._styleName=v.styleName,v.list&&(this._listIndex=v.list.levelIndex,this._listIsOrdered=v.list.isOrdered)}i.prototype.matches=function(x){return x.type===this._elementType&&(this._styleId===void 0||x.styleId===this._styleId)&&(this._styleName===void 0||x.styleName&&this._styleName.operator(this._styleName.operand,x.styleName))&&(this._listIndex===void 0||d(x,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===x.breakType)};function o(x){x=x||{},this._color=x.color}o.prototype.matches=function(x){return x.type==="highlight"&&(this._color===void 0||x.color===this._color)};function c(x){x=x||{},this._breakType=x.breakType}c.prototype.matches=function(x){return x.type==="break"&&(this._breakType===void 0||x.breakType===this._breakType)};function d(x,v,w){return x.numbering&&x.numbering.level==v&&x.numbering.isOrdered==w}function f(x){return{operator:m,operand:x}}function h(x){return{operator:p,operand:x}}function m(x,v){return x.toUpperCase()===v.toUpperCase()}function p(x,v){return v.toUpperCase().indexOf(x.toUpperCase())===0}return Wr}var vb={},sN;function LW(){if(sN)return vb;sN=1;var e=J4(),t=e.RegexTokeniser;vb.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var o="(?:[a-zA-Z\\-_]|\\\\.)",c=new t([{name:"identifier",regex:new RegExp("("+o+"(?:"+o+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return c.tokenise(i)}return vb}var oN;function HW(){if(oN)return Gf;oN=1;var e=Cr,t=J4(),n=FW(),r=Zx(),i=LW().tokenise,o=So();Gf.readHtmlPath=m,Gf.readDocumentMatcher=f,Gf.readStyle=c;function c(F){return M(U,F)}function d(){return t.rules.sequence(t.rules.sequence.capture(h()),t.rules.tokenOfType("whitespace"),t.rules.tokenOfType("arrow"),t.rules.sequence.capture(t.rules.optional(t.rules.sequence(t.rules.tokenOfType("whitespace"),t.rules.sequence.capture(p())).head())),t.rules.tokenOfType("end")).map(function(F,O){return{from:F,to:O.valueOrElse(r.empty)}})}function f(F){return M(h(),F)}function h(){var F=t.rules.sequence,O=function(at,Ie){return t.rules.then(t.rules.token("identifier",at),function(){return Ie})},$=O("p",n.paragraph),se=O("r",n.run),I=t.rules.firstOf("p or r or table",$,se),Q=t.rules.sequence(t.rules.tokenOfType("dot"),t.rules.sequence.cut(),t.rules.sequence.capture(x)).map(function(at){return{styleId:at}}),k=t.rules.firstOf("style name matcher",t.rules.then(t.rules.sequence(t.rules.tokenOfType("equals"),t.rules.sequence.cut(),t.rules.sequence.capture(w)).head(),function(at){return{styleName:n.equalTo(at)}}),t.rules.then(t.rules.sequence(t.rules.tokenOfType("startsWith"),t.rules.sequence.cut(),t.rules.sequence.capture(w)).head(),function(at){return{styleName:n.startsWith(at)}})),ae=t.rules.sequence(t.rules.tokenOfType("open-square-bracket"),t.rules.sequence.cut(),t.rules.token("identifier","style-name"),t.rules.sequence.capture(k),t.rules.tokenOfType("close-square-bracket")).head(),H=t.rules.firstOf("list type",O("ordered-list",{isOrdered:!0}),O("unordered-list",{isOrdered:!1})),G=F(t.rules.tokenOfType("colon"),F.capture(H),F.cut(),t.rules.tokenOfType("open-paren"),F.capture(v),t.rules.tokenOfType("close-paren")).map(function(at,Ie){return{list:{isOrdered:at.isOrdered,levelIndex:Ie-1}}});function q(at){var Ie=t.rules.firstOf.apply(t.rules.firstOf,["matcher suffix"].concat(at)),tt=t.rules.zeroOrMore(Ie);return t.rules.then(tt,function(nt){var P={};return nt.forEach(function(he){e.extend(P,he)}),P})}var ee=F(F.capture(I),F.capture(q([Q,ae,G]))).map(function(at,Ie){return at(Ie)}),xe=F(t.rules.token("identifier","table"),F.capture(q([Q,ae]))).map(function(at){return n.table(at)}),B=O("b",n.bold),te=O("i",n.italic),J=O("u",n.underline),de=O("strike",n.strikethrough),_e=O("all-caps",n.allCaps),Oe=O("small-caps",n.smallCaps),Ee=F(t.rules.token("identifier","highlight"),t.rules.sequence.capture(t.rules.optional(t.rules.sequence(t.rules.tokenOfType("open-square-bracket"),t.rules.sequence.cut(),t.rules.token("identifier","color"),t.rules.tokenOfType("equals"),t.rules.sequence.capture(w),t.rules.tokenOfType("close-square-bracket")).head()))).map(function(at){return n.highlight({color:at.valueOrElse(void 0)})}),He=O("comment-reference",n.commentReference),Qe=F(t.rules.token("identifier","br"),F.cut(),t.rules.tokenOfType("open-square-bracket"),t.rules.token("identifier","type"),t.rules.tokenOfType("equals"),F.capture(w),t.rules.tokenOfType("close-square-bracket")).map(function(at){switch(at){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return t.rules.firstOf("element type",ee,xe,B,te,J,de,_e,Oe,Ee,He,Qe)}function m(F){return M(p(),F)}function p(){var F=t.rules.sequence.capture,O=t.rules.tokenOfType("whitespace"),$=t.rules.then(t.rules.optional(t.rules.sequence(t.rules.tokenOfType("colon"),t.rules.token("identifier","fresh"))),function(k){return k.map(function(){return!0}).valueOrElse(!1)}),se=t.rules.then(t.rules.optional(t.rules.sequence(t.rules.tokenOfType("colon"),t.rules.token("identifier","separator"),t.rules.tokenOfType("open-paren"),F(w),t.rules.tokenOfType("close-paren")).head()),function(k){return k.valueOrElse("")}),I=t.rules.oneOrMoreWithSeparator(x,t.rules.tokenOfType("choice")),Q=t.rules.sequence(F(I),F(t.rules.zeroOrMore(C)),F($),F(se)).map(function(k,ae,H,G){var q={},ee={};return ae.forEach(function(xe){xe.append&&q[xe.name]?q[xe.name]+=" "+xe.value:q[xe.name]=xe.value}),H&&(ee.fresh=!0),G&&(ee.separator=G),r.element(k,q,ee)});return t.rules.firstOf("html path",t.rules.then(t.rules.tokenOfType("bang"),function(){return r.ignore}),t.rules.then(t.rules.zeroOrMoreWithSeparator(Q,t.rules.sequence(O,t.rules.tokenOfType("gt"),O)),r.elements))}var x=t.rules.then(t.rules.tokenOfType("identifier"),b),v=t.rules.tokenOfType("integer"),w=t.rules.then(t.rules.tokenOfType("string"),b),y={n:`
`,r:"\r",t:"	"};function b(F){return F.replace(/\\(.)/g,function(O,$){return y[$]||$})}var _=t.rules.sequence(t.rules.tokenOfType("open-square-bracket"),t.rules.sequence.cut(),t.rules.sequence.capture(x),t.rules.tokenOfType("equals"),t.rules.sequence.capture(w),t.rules.tokenOfType("close-square-bracket")).map(function(F,O){return{name:F,value:O,append:!1}}),D=t.rules.sequence(t.rules.tokenOfType("dot"),t.rules.sequence.cut(),t.rules.sequence.capture(x)).map(function(F){return{name:"class",value:F,append:!0}}),C=t.rules.firstOf("attribute or class",_,D);function M(F,O){var $=i(O),se=t.Parser(),I=se.parseTokens(F,$);return I.isSuccess()?o.success(I.value()):new o.Result(null,[o.warning(A(O,I))])}function A(F,O){return"Did not understand this style mapping, so ignored it: "+F+`
`+O.errors().map(j).join(`
`)}function j(F){return"Error was at character number "+F.characterNumber()+": Expected "+F.expected+" but got "+F.actual}var U=d();return Gf}var Xf={},lN;function BW(){if(lN)return Xf;lN=1,Xf.readOptions=r;var e=Cr,t=Xf._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],n=Xf._standardOptions={externalFileAccess:!1,transformDocument:o,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(c){return c=c||{},e.extend({},n,c,{customStyleMap:i(c.styleMap),readStyleMap:function(){var d=this.customStyleMap;return this.includeEmbeddedStyleMap&&(d=d.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(d=d.concat(t)),d}})}function i(c){return c?e.isString(c)?c.split(`
`).map(function(d){return d.trim()}).filter(function(d){return d!==""&&d.charAt(0)!=="#"}):c:[]}function o(c){return c}return Xf}var bb={},cN;function VW(){if(cN)return bb;cN=1;var e=Il(),t=B4();bb.openZip=n;function n(r){return r.arrayBuffer?e.resolve(t.openArrayBuffer(r.arrayBuffer)):e.reject(new Error("Could not find file in options"))}return bb}var _b={},dN;function WW(){if(dN)return _b;dN=1;var e=Zx(),t=Yx();_b.element=n;function n(r){return function(i){return t.elementWithTag(e.element(r),[i])}}return _b}var uN;function zW(){if(uN)return Ci;uN=1;var e=Cr,t=SW(),n=CW(),r=MW().DocumentConverter,i=UW().convertElementToRawText,o=HW().readStyle,c=BW().readOptions,d=VW(),f=So().Result;Ci.convertToHtml=h,Ci.convertToMarkdown=m,Ci.convert=p,Ci.extractRawText=y,Ci.images=X4(),Ci.transforms=q4(),Ci.underline=WW(),Ci.embedStyleMap=b,Ci.readEmbeddedStyleMap=x;function h(_,D){return p(_,D)}function m(_,D){var C=Object.create(D||{});return C.outputFormat="markdown",p(_,C)}function p(_,D){return D=c(D),d.openZip(_).tap(function(C){return n.readStyleMap(C).then(function(M){D.embeddedStyleMap=M})}).then(function(C){return t.read(C,_,D).then(function(M){return M.map(D.transformDocument)}).then(function(M){return v(M,D)})})}function x(_){return d.openZip(_).then(n.readStyleMap)}function v(_,D){var C=w(D.readStyleMap()),M=e.extend({},D,{styleMap:C.value}),A=new r(M);return _.flatMapThen(function(j){return C.flatMapThen(function(U){return A.convertToHtml(j)})})}function w(_){return f.combine((_||[]).map(o)).map(function(D){return D.filter(function(C){return!!C})})}function y(_){return d.openZip(_).then(t.read).then(function(D){return D.map(i)})}function b(_,D){return d.openZip(_).tap(function(C){return n.writeStyleMap(C,D)}).then(function(C){return C.toArrayBuffer()}).then(function(C){return{toArrayBuffer:function(){return C},toBuffer:function(){return Buffer.from(C)}}})}return Ci.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Ci}var $W=zW();const fN=ex($W);function Tc({className:e,onKeyDown:t,onCompositionStart:n,onCompositionEnd:r,...i}){const o=Y1(),{onCompositionStart:c,onCompositionEnd:d,onKeyDown:f}=fM({onKeyDown:h=>{const m=h.nativeEvent.isComposing||o.justEndedComposing();h.key==="Enter"&&!h.shiftKey&&m||t?.(h)},onCompositionStart:h=>{o.setComposing(!0),n?.(h)},onCompositionEnd:h=>{o.markCompositionEnd(),setTimeout(()=>{o.setComposing(!1)},100),r?.(h)}});return l.jsx("textarea",{"data-loc":"client/src/components/ui/textarea.tsx:53","data-slot":"textarea",className:wn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),onCompositionStart:c,onCompositionEnd:d,onKeyDown:f,...i})}function hN(e,[t,n]){return Math.min(n,Math.max(t,e))}function pN(e){const t=qW(e),n=N.forwardRef((r,i)=>{const{children:o,...c}=r,d=N.Children.toArray(o),f=d.find(XW);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function qW(e){const t=N.forwardRef((n,r)=>{const{children:i,...o}=n;if(N.isValidElement(i)){const c=YW(i),d=KW(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GW=Symbol("radix.slottable");function XW(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GW}function KW(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function YW(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Y2(e){const t=e+"CollectionProvider",[n,r]=Ms(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=y=>{const{scope:b,children:_}=y,D=mt.useRef(null),C=mt.useRef(new Map).current;return l.jsx(i,{scope:b,itemMap:C,collectionRef:D,children:_})};c.displayName=t;const d=e+"CollectionSlot",f=pN(d),h=mt.forwardRef((y,b)=>{const{scope:_,children:D}=y,C=o(d,_),M=Nn(b,C.collectionRef);return l.jsx(f,{ref:M,children:D})});h.displayName=d;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=pN(m),v=mt.forwardRef((y,b)=>{const{scope:_,children:D,...C}=y,M=mt.useRef(null),A=Nn(b,M),j=o(m,_);return mt.useEffect(()=>(j.itemMap.set(M,{ref:M,...C}),()=>{j.itemMap.delete(M)})),l.jsx(x,{[p]:"",ref:A,children:D})});v.displayName=m;function w(y){const b=o(e+"CollectionConsumer",y);return mt.useCallback(()=>{const D=b.collectionRef.current;if(!D)return[];const C=Array.from(D.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((j,U)=>C.indexOf(j.ref.current)-C.indexOf(U.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},w,r]}var ZW=N.createContext(void 0);function Z2(e){const t=N.useContext(ZW);return e||t||"ltr"}function QW(e){const t=JW(e),n=N.forwardRef((r,i)=>{const{children:o,...c}=r,d=N.Children.toArray(o),f=d.find(tz);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function JW(e){const t=N.forwardRef((n,r)=>{const{children:i,...o}=n;if(N.isValidElement(i)){const c=rz(i),d=nz(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ez=Symbol("radix.slottable");function tz(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ez}function nz(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function rz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var az=[" ","Enter","ArrowUp","ArrowDown"],iz=[" ","Enter"],Hc="Select",[Qx,Jx,sz]=Y2(Hc),[ku]=Ms(Hc,[sz,Su]),ey=Su(),[oz,Ll]=ku(Hc),[lz,cz]=ku(Hc),eU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:c,defaultValue:d,onValueChange:f,dir:h,name:m,autoComplete:p,disabled:x,required:v,form:w}=e,y=ey(t),[b,_]=N.useState(null),[D,C]=N.useState(null),[M,A]=N.useState(!1),j=Z2(h),[U,F]=Oc({prop:r,defaultProp:i??!1,onChange:o,caller:Hc}),[O,$]=Oc({prop:c,defaultProp:d,onChange:f,caller:Hc}),se=N.useRef(null),I=b?w||!!b.closest("form"):!0,[Q,k]=N.useState(new Set),ae=Array.from(Q).map(H=>H.props.value).join(";");return l.jsx(k1,{...y,children:l.jsxs(oz,{required:v,scope:t,trigger:b,onTriggerChange:_,valueNode:D,onValueNodeChange:C,valueNodeHasChildren:M,onValueNodeHasChildrenChange:A,contentId:Cs(),value:O,onValueChange:$,open:U,onOpenChange:F,dir:j,triggerPointerDownPosRef:se,disabled:x,children:[l.jsx(Qx.Provider,{scope:t,children:l.jsx(lz,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(H=>{k(G=>new Set(G).add(H))},[]),onNativeOptionRemove:N.useCallback(H=>{k(G=>{const q=new Set(G);return q.delete(H),q})},[]),children:n})}),I?l.jsxs(wU,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:p,value:O,onChange:H=>$(H.target.value),disabled:x,form:w,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(Q)]},ae):null]})})};eU.displayName=Hc;var tU="SelectTrigger",nU=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=ey(n),c=Ll(tU,n),d=c.disabled||r,f=Nn(t,c.onTriggerChange),h=Jx(n),m=N.useRef("touch"),[p,x,v]=SU(y=>{const b=h().filter(C=>!C.disabled),_=b.find(C=>C.value===c.value),D=CU(b,y,_);D!==void 0&&c.onValueChange(D.value)}),w=y=>{d||(c.onOpenChange(!0),v()),y&&(c.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(j1,{asChild:!0,...o,children:l.jsx(gn.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":DU(c.value)?"":void 0,...i,ref:f,onClick:Pt(i.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&w(y)}),onPointerDown:Pt(i.onPointerDown,y=>{m.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Pt(i.onKeyDown,y=>{const b=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&x(y.key),!(b&&y.key===" ")&&az.includes(y.key)&&(w(),y.preventDefault())})})})});nU.displayName=tU;var rU="SelectValue",aU=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:c="",...d}=e,f=Ll(rU,n),{onValueNodeHasChildrenChange:h}=f,m=o!==void 0,p=Nn(t,f.onValueNodeChange);return oa(()=>{h(m)},[h,m]),l.jsx(gn.span,{...d,ref:p,style:{pointerEvents:"none"},children:DU(f.value)?l.jsx(l.Fragment,{children:c}):o})});aU.displayName=rU;var dz="SelectIcon",iU=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(gn.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});iU.displayName=dz;var uz="SelectPortal",sU=e=>l.jsx(Ih,{asChild:!0,...e});sU.displayName=uz;var Bc="SelectContent",oU=N.forwardRef((e,t)=>{const n=Ll(Bc,e.__scopeSelect),[r,i]=N.useState();if(oa(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Rh.createPortal(l.jsx(lU,{scope:e.__scopeSelect,children:l.jsx(Qx.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(cU,{...e,ref:t})});oU.displayName=Bc;var ns=10,[lU,Hl]=ku(Bc),fz="SelectContentImpl",hz=QW("SelectContent.RemoveScroll"),cU=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:b,..._}=e,D=Ll(Bc,n),[C,M]=N.useState(null),[A,j]=N.useState(null),U=Nn(t,Ee=>M(Ee)),[F,O]=N.useState(null),[$,se]=N.useState(null),I=Jx(n),[Q,k]=N.useState(!1),ae=N.useRef(!1);N.useEffect(()=>{if(C)return $1(C)},[C]),z1();const H=N.useCallback(Ee=>{const[He,...Qe]=I().map(tt=>tt.ref.current),[at]=Qe.slice(-1),Ie=document.activeElement;for(const tt of Ee)if(tt===Ie||(tt?.scrollIntoView({block:"nearest"}),tt===He&&A&&(A.scrollTop=0),tt===at&&A&&(A.scrollTop=A.scrollHeight),tt?.focus(),document.activeElement!==Ie))return},[I,A]),G=N.useCallback(()=>H([F,C]),[H,F,C]);N.useEffect(()=>{Q&&G()},[Q,G]);const{onOpenChange:q,triggerPointerDownPosRef:ee}=D;N.useEffect(()=>{if(C){let Ee={x:0,y:0};const He=at=>{Ee={x:Math.abs(Math.round(at.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(at.pageY)-(ee.current?.y??0))}},Qe=at=>{Ee.x<=10&&Ee.y<=10?at.preventDefault():C.contains(at.target)||q(!1),document.removeEventListener("pointermove",He),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[C,q,ee]),N.useEffect(()=>{const Ee=()=>q(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[q]);const[xe,B]=SU(Ee=>{const He=I().filter(Ie=>!Ie.disabled),Qe=He.find(Ie=>Ie.ref.current===document.activeElement),at=CU(He,Ee,Qe);at&&setTimeout(()=>at.ref.current.focus())}),te=N.useCallback((Ee,He,Qe)=>{const at=!ae.current&&!Qe;(D.value!==void 0&&D.value===He||at)&&(O(Ee),at&&(ae.current=!0))},[D.value]),J=N.useCallback(()=>C?.focus(),[C]),de=N.useCallback((Ee,He,Qe)=>{const at=!ae.current&&!Qe;(D.value!==void 0&&D.value===He||at)&&se(Ee)},[D.value]),_e=r==="popper"?c1:dU,Oe=_e===c1?{side:d,sideOffset:f,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return l.jsx(lU,{scope:n,content:C,viewport:A,onViewportChange:j,itemRefCallback:te,selectedItem:F,onItemLeave:J,itemTextRefCallback:de,focusSelectedItem:G,selectedItemText:$,position:r,isPositioned:Q,searchRef:xe,children:l.jsx(xx,{as:hz,allowPinchZoom:!0,children:l.jsx(gx,{asChild:!0,trapped:D.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:Pt(i,Ee=>{D.trigger?.focus({preventScroll:!0}),Ee.preventDefault()}),children:l.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:l.jsx(_e,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:Ee=>Ee.preventDefault(),..._,...Oe,onPlaced:()=>k(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Pt(_.onKeyDown,Ee=>{const He=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!He&&Ee.key.length===1&&B(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let at=I().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(at=at.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const Ie=Ee.target,tt=at.indexOf(Ie);at=at.slice(tt+1)}setTimeout(()=>H(at)),Ee.preventDefault()}})})})})})})});cU.displayName=fz;var pz="SelectItemAlignedPosition",dU=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Ll(Bc,n),c=Hl(Bc,n),[d,f]=N.useState(null),[h,m]=N.useState(null),p=Nn(t,U=>m(U)),x=Jx(n),v=N.useRef(!1),w=N.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:_,focusSelectedItem:D}=c,C=N.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&h&&y&&b&&_){const U=o.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),$=_.getBoundingClientRect();if(o.dir!=="rtl"){const Ie=$.left-F.left,tt=O.left-Ie,nt=U.left-tt,P=U.width+nt,he=Math.max(P,F.width),ye=window.innerWidth-ns,ne=hN(tt,[ns,Math.max(ns,ye-he)]);d.style.minWidth=P+"px",d.style.left=ne+"px"}else{const Ie=F.right-$.right,tt=window.innerWidth-O.right-Ie,nt=window.innerWidth-U.right-tt,P=U.width+nt,he=Math.max(P,F.width),ye=window.innerWidth-ns,ne=hN(tt,[ns,Math.max(ns,ye-he)]);d.style.minWidth=P+"px",d.style.right=ne+"px"}const se=x(),I=window.innerHeight-ns*2,Q=y.scrollHeight,k=window.getComputedStyle(h),ae=parseInt(k.borderTopWidth,10),H=parseInt(k.paddingTop,10),G=parseInt(k.borderBottomWidth,10),q=parseInt(k.paddingBottom,10),ee=ae+H+Q+q+G,xe=Math.min(b.offsetHeight*5,ee),B=window.getComputedStyle(y),te=parseInt(B.paddingTop,10),J=parseInt(B.paddingBottom,10),de=U.top+U.height/2-ns,_e=I-de,Oe=b.offsetHeight/2,Ee=b.offsetTop+Oe,He=ae+H+Ee,Qe=ee-He;if(He<=de){const Ie=se.length>0&&b===se[se.length-1].ref.current;d.style.bottom="0px";const tt=h.clientHeight-y.offsetTop-y.offsetHeight,nt=Math.max(_e,Oe+(Ie?J:0)+tt+G),P=He+nt;d.style.height=P+"px"}else{const Ie=se.length>0&&b===se[0].ref.current;d.style.top="0px";const nt=Math.max(de,ae+y.offsetTop+(Ie?te:0)+Oe)+Qe;d.style.height=nt+"px",y.scrollTop=He-de+y.offsetTop}d.style.margin=`${ns}px 0`,d.style.minHeight=xe+"px",d.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[x,o.trigger,o.valueNode,d,h,y,b,_,o.dir,r]);oa(()=>C(),[C]);const[M,A]=N.useState();oa(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const j=N.useCallback(U=>{U&&w.current===!0&&(C(),D?.(),w.current=!1)},[C,D]);return l.jsx(mz,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:j,children:l.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:l.jsx(gn.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});dU.displayName=pz;var gz="SelectPopperPosition",c1=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ns,...o}=e,c=ey(n);return l.jsx(R1,{...c,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c1.displayName=gz;var[mz,Q2]=ku(Bc,{}),d1="SelectViewport",uU=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Hl(d1,n),c=Q2(d1,n),d=Nn(t,o.onViewportChange),f=N.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Qx.Slot,{scope:n,children:l.jsx(gn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pt(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=c;if(x?.current&&p){const v=Math.abs(f.current-m.scrollTop);if(v>0){const w=window.innerHeight-ns*2,y=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),_=Math.max(y,b);if(_<w){const D=_+v,C=Math.min(w,D),M=D-C;p.style.height=C+"px",p.style.bottom==="0px"&&(m.scrollTop=M>0?M:0,p.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});uU.displayName=d1;var fU="SelectGroup",[xz,yz]=ku(fU),vz=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Cs();return l.jsx(xz,{scope:n,id:i,children:l.jsx(gn.div,{role:"group","aria-labelledby":i,...r,ref:t})})});vz.displayName=fU;var hU="SelectLabel",bz=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=yz(hU,n);return l.jsx(gn.div,{id:i.id,...r,ref:t})});bz.displayName=hU;var Ym="SelectItem",[_z,pU]=ku(Ym),gU=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...c}=e,d=Ll(Ym,n),f=Hl(Ym,n),h=d.value===r,[m,p]=N.useState(o??""),[x,v]=N.useState(!1),w=Nn(t,D=>f.itemRefCallback?.(D,r,i)),y=Cs(),b=N.useRef("touch"),_=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(_z,{scope:n,value:r,disabled:i,textId:y,isSelected:h,onItemTextChange:N.useCallback(D=>{p(C=>C||(D?.textContent??"").trim())},[]),children:l.jsx(Qx.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:l.jsx(gn.div,{role:"option","aria-labelledby":y,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:w,onFocus:Pt(c.onFocus,()=>v(!0)),onBlur:Pt(c.onBlur,()=>v(!1)),onClick:Pt(c.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:Pt(c.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:Pt(c.onPointerDown,D=>{b.current=D.pointerType}),onPointerMove:Pt(c.onPointerMove,D=>{b.current=D.pointerType,i?f.onItemLeave?.():b.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pt(c.onPointerLeave,D=>{D.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Pt(c.onKeyDown,D=>{f.searchRef?.current!==""&&D.key===" "||(iz.includes(D.key)&&_(),D.key===" "&&D.preventDefault())})})})})});gU.displayName=Ym;var th="SelectItemText",mU=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,c=Ll(th,n),d=Hl(th,n),f=pU(th,n),h=cz(th,n),[m,p]=N.useState(null),x=Nn(t,_=>p(_),f.onItemTextChange,_=>d.itemTextRefCallback?.(_,f.value,f.disabled)),v=m?.textContent,w=N.useMemo(()=>l.jsx("option",{value:f.value,disabled:f.disabled,children:v},f.value),[f.disabled,f.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=h;return oa(()=>(y(w),()=>b(w)),[y,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(gn.span,{id:f.textId,...o,ref:x}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Rh.createPortal(o.children,c.valueNode):null]})});mU.displayName=th;var xU="SelectItemIndicator",yU=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return pU(xU,n).isSelected?l.jsx(gn.span,{"aria-hidden":!0,...r,ref:t}):null});yU.displayName=xU;var u1="SelectScrollUpButton",vU=N.forwardRef((e,t)=>{const n=Hl(u1,e.__scopeSelect),r=Q2(u1,e.__scopeSelect),[i,o]=N.useState(!1),c=Nn(t,r.onScrollButtonChange);return oa(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=f.scrollTop>0;o(h)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(_U,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});vU.displayName=u1;var f1="SelectScrollDownButton",bU=N.forwardRef((e,t)=>{const n=Hl(f1,e.__scopeSelect),r=Q2(f1,e.__scopeSelect),[i,o]=N.useState(!1),c=Nn(t,r.onScrollButtonChange);return oa(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;o(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?l.jsx(_U,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});bU.displayName=f1;var _U=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Hl("SelectScrollButton",n),c=N.useRef(null),d=Jx(n),f=N.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return N.useEffect(()=>()=>f(),[f]),oa(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),l.jsx(gn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Pt(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Pt(i.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Pt(i.onPointerLeave,()=>{f()})})}),wz="SelectSeparator",Dz=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(gn.div,{"aria-hidden":!0,...r,ref:t})});Dz.displayName=wz;var h1="SelectArrow",Sz=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ey(n),o=Ll(h1,n),c=Hl(h1,n);return o.open&&c.position==="popper"?l.jsx(P1,{...i,...r,ref:t}):null});Sz.displayName=h1;var Cz="SelectBubbleInput",wU=N.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=N.useRef(null),o=Nn(r,i),c=rM(t);return N.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const p=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(p)}},[c,t]),l.jsx(gn.select,{...n,style:{...z3,...n.style},ref:o,defaultValue:t})});wU.displayName=Cz;function DU(e){return e===""||e===void 0}function SU(e){const t=Es(e),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(c=>{const d=n.current+c;t(d),(function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),o=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function CU(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let c=Tz(e,Math.max(o,0));i.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function Tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ez=eU,Nz=nU,Az=aU,Mz=iU,Uz=sU,kz=oU,jz=uU,Rz=gU,Pz=mU,Oz=yU,Iz=vU,Fz=bU;function Pa({...e}){return l.jsx(Ez,{"data-loc":"client/src/components/ui/select.tsx:10","data-slot":"select",...e})}function Oa({...e}){return l.jsx(Az,{"data-loc":"client/src/components/ui/select.tsx:22","data-slot":"select-value",...e})}function Ia({className:e,size:t="default",children:n,...r}){return l.jsxs(Nz,{"data-loc":"client/src/components/ui/select.tsx:34","data-slot":"select-trigger","data-size":t,className:wn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,l.jsx(Mz,{"data-loc":"client/src/components/ui/select.tsx:44",asChild:!0,children:l.jsx(cu,{"data-loc":"client/src/components/ui/select.tsx:45",className:"size-4 opacity-50"})})]})}function Fa({className:e,children:t,position:n="popper",align:r="center",...i}){return l.jsx(Uz,{"data-loc":"client/src/components/ui/select.tsx:59",children:l.jsxs(kz,{"data-loc":"client/src/components/ui/select.tsx:60","data-slot":"select-content",className:wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,align:r,...i,children:[l.jsx(Lz,{"data-loc":"client/src/components/ui/select.tsx:72"}),l.jsx(jz,{"data-loc":"client/src/components/ui/select.tsx:73",className:wn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(Hz,{"data-loc":"client/src/components/ui/select.tsx:82"})]})})}function On({className:e,children:t,...n}){return l.jsxs(Rz,{"data-loc":"client/src/components/ui/select.tsx:107","data-slot":"select-item",className:wn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{"data-loc":"client/src/components/ui/select.tsx:115",className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(Oz,{"data-loc":"client/src/components/ui/select.tsx:116",children:l.jsx(Ei,{"data-loc":"client/src/components/ui/select.tsx:117",className:"size-4"})})}),l.jsx(Pz,{"data-loc":"client/src/components/ui/select.tsx:120",children:t})]})}function Lz({className:e,...t}){return l.jsx(Iz,{"data-loc":"client/src/components/ui/select.tsx:143","data-slot":"select-scroll-up-button",className:wn("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(EI,{"data-loc":"client/src/components/ui/select.tsx:151",className:"size-4"})})}function Hz({className:e,...t}){return l.jsx(Fz,{"data-loc":"client/src/components/ui/select.tsx:161","data-slot":"select-scroll-down-button",className:wn("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(cu,{"data-loc":"client/src/components/ui/select.tsx:169",className:"size-4"})})}var wb="rovingFocusGroup.onEntryFocus",Bz={bubbles:!1,cancelable:!0},Kh="RovingFocusGroup",[p1,TU,Vz]=Y2(Kh),[Wz,EU]=Ms(Kh,[Vz]),[zz,$z]=Wz(Kh),NU=N.forwardRef((e,t)=>l.jsx(p1.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(p1.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qz,{...e,ref:t})})}));NU.displayName=Kh;var qz=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=N.useRef(null),v=Nn(t,x),w=Z2(o),[y,b]=Oc({prop:c,defaultProp:d??null,onChange:f,caller:Kh}),[_,D]=N.useState(!1),C=Es(h),M=TU(n),A=N.useRef(!1),[j,U]=N.useState(0);return N.useEffect(()=>{const F=x.current;if(F)return F.addEventListener(wb,C),()=>F.removeEventListener(wb,C)},[C]),l.jsx(zz,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:y,onItemFocus:N.useCallback(F=>b(F),[b]),onItemShiftTab:N.useCallback(()=>D(!0),[]),onFocusableItemAdd:N.useCallback(()=>U(F=>F+1),[]),onFocusableItemRemove:N.useCallback(()=>U(F=>F-1),[]),children:l.jsx(gn.div,{tabIndex:_||j===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Pt(e.onMouseDown,()=>{A.current=!0}),onFocus:Pt(e.onFocus,F=>{const O=!A.current;if(F.target===F.currentTarget&&O&&!_){const $=new CustomEvent(wb,Bz);if(F.currentTarget.dispatchEvent($),!$.defaultPrevented){const se=M().filter(H=>H.focusable),I=se.find(H=>H.active),Q=se.find(H=>H.id===y),ae=[I,Q,...se].filter(Boolean).map(H=>H.ref.current);UU(ae,m)}}A.current=!1}),onBlur:Pt(e.onBlur,()=>D(!1))})})}),AU="RovingFocusGroupItem",MU=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:c,...d}=e,f=Cs(),h=o||f,m=$z(AU,n),p=m.currentTabStopId===h,x=TU(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=m;return N.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),l.jsx(p1.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:l.jsx(gn.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:Pt(e.onMouseDown,b=>{r?m.onItemFocus(h):b.preventDefault()}),onFocus:Pt(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:Pt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=Kz(b,m.orientation,m.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let C=x().filter(M=>M.focusable).map(M=>M.ref.current);if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const M=C.indexOf(b.currentTarget);C=m.loop?Yz(C,M+1):C.slice(M+1)}setTimeout(()=>UU(C))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:y!=null}):c})})});MU.displayName=AU;var Gz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kz(e,t,n){const r=Xz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gz[r]}function UU(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Yz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Zz=NU,Qz=MU;function Jz(e){const t=e$(e),n=N.forwardRef((r,i)=>{const{children:o,...c}=r,d=N.Children.toArray(o),f=d.find(n$);if(f){const h=f.props.children,m=d.map(p=>p===f?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:p);return l.jsx(t,{...c,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,m):null})}return l.jsx(t,{...c,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function e$(e){const t=N.forwardRef((n,r)=>{const{children:i,...o}=n;if(N.isValidElement(i)){const c=a$(i),d=r$(o,i.props);return i.type!==N.Fragment&&(d.ref=r?To(r,c):c),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var t$=Symbol("radix.slottable");function n$(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===t$}function r$(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...d)=>{const f=o(...d);return i(...d),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function a$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var g1=["Enter"," "],i$=["ArrowDown","PageUp","Home"],kU=["ArrowUp","PageDown","End"],s$=[...i$,...kU],o$={ltr:[...g1,"ArrowRight"],rtl:[...g1,"ArrowLeft"]},l$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yh="Menu",[Eh,c$,d$]=Y2(Yh),[td,jU]=Ms(Yh,[d$,Su,EU]),ty=Su(),RU=EU(),[u$,nd]=td(Yh),[f$,Zh]=td(Yh),PU=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:c=!0}=e,d=ty(t),[f,h]=N.useState(null),m=N.useRef(!1),p=Es(o),x=Z2(i);return N.useEffect(()=>{const v=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),l.jsx(k1,{...d,children:l.jsx(u$,{scope:t,open:n,onOpenChange:p,content:f,onContentChange:h,children:l.jsx(f$,{scope:t,onClose:N.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:c,children:r})})})};PU.displayName=Yh;var h$="MenuAnchor",J2=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ty(n);return l.jsx(j1,{...i,...r,ref:t})});J2.displayName=h$;var e_="MenuPortal",[p$,OU]=td(e_,{forceMount:void 0}),IU=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=nd(e_,t);return l.jsx(p$,{scope:t,forceMount:n,children:l.jsx(ls,{present:n||o.open,children:l.jsx(Ih,{asChild:!0,container:i,children:r})})})};IU.displayName=e_;var ki="MenuContent",[g$,t_]=td(ki),FU=N.forwardRef((e,t)=>{const n=OU(ki,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=nd(ki,e.__scopeMenu),c=Zh(ki,e.__scopeMenu);return l.jsx(Eh.Provider,{scope:e.__scopeMenu,children:l.jsx(ls,{present:r||o.open,children:l.jsx(Eh.Slot,{scope:e.__scopeMenu,children:c.modal?l.jsx(m$,{...i,ref:t}):l.jsx(x$,{...i,ref:t})})})})}),m$=N.forwardRef((e,t)=>{const n=nd(ki,e.__scopeMenu),r=N.useRef(null),i=Nn(t,r);return N.useEffect(()=>{const o=r.current;if(o)return $1(o)},[]),l.jsx(n_,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),x$=N.forwardRef((e,t)=>{const n=nd(ki,e.__scopeMenu);return l.jsx(n_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),y$=Jz("MenuContent.ScrollLock"),n_=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,disableOutsideScroll:w,...y}=e,b=nd(ki,n),_=Zh(ki,n),D=ty(n),C=RU(n),M=c$(n),[A,j]=N.useState(null),U=N.useRef(null),F=Nn(t,U,b.onContentChange),O=N.useRef(0),$=N.useRef(""),se=N.useRef(0),I=N.useRef(null),Q=N.useRef("right"),k=N.useRef(0),ae=w?xx:N.Fragment,H=w?{as:y$,allowPinchZoom:!0}:void 0,G=ee=>{const xe=$.current+ee,B=M().filter(Ee=>!Ee.disabled),te=document.activeElement,J=B.find(Ee=>Ee.ref.current===te)?.textValue,de=B.map(Ee=>Ee.textValue),_e=M$(de,xe,J),Oe=B.find(Ee=>Ee.textValue===_e)?.ref.current;(function Ee(He){$.current=He,window.clearTimeout(O.current),He!==""&&(O.current=window.setTimeout(()=>Ee(""),1e3))})(xe),Oe&&setTimeout(()=>Oe.focus())};N.useEffect(()=>()=>window.clearTimeout(O.current),[]),z1();const q=N.useCallback(ee=>Q.current===I.current?.side&&k$(ee,I.current?.area),[]);return l.jsx(g$,{scope:n,searchRef:$,onItemEnter:N.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),onItemLeave:N.useCallback(ee=>{q(ee)||(U.current?.focus(),j(null))},[q]),onTriggerLeave:N.useCallback(ee=>{q(ee)&&ee.preventDefault()},[q]),pointerGraceTimerRef:se,onPointerGraceIntentChange:N.useCallback(ee=>{I.current=ee},[]),children:l.jsx(ae,{...H,children:l.jsx(gx,{asChild:!0,trapped:i,onMountAutoFocus:Pt(o,ee=>{ee.preventDefault(),U.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:l.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,children:l.jsx(Zz,{asChild:!0,...C,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:j,onEntryFocus:Pt(f,ee=>{_.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(R1,{role:"menu","aria-orientation":"vertical","data-state":e6(b.open),"data-radix-menu-content":"",dir:_.dir,...D,...y,ref:F,style:{outline:"none",...y.style},onKeyDown:Pt(y.onKeyDown,ee=>{const B=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,te=ee.ctrlKey||ee.altKey||ee.metaKey,J=ee.key.length===1;B&&(ee.key==="Tab"&&ee.preventDefault(),!te&&J&&G(ee.key));const de=U.current;if(ee.target!==de||!s$.includes(ee.key))return;ee.preventDefault();const Oe=M().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);kU.includes(ee.key)&&Oe.reverse(),N$(Oe)}),onBlur:Pt(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(O.current),$.current="")}),onPointerMove:Pt(e.onPointerMove,Nh(ee=>{const xe=ee.target,B=k.current!==ee.clientX;if(ee.currentTarget.contains(xe)&&B){const te=ee.clientX>k.current?"right":"left";Q.current=te,k.current=ee.clientX}}))})})})})})})});FU.displayName=ki;var v$="MenuGroup",r_=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(gn.div,{role:"group",...r,ref:t})});r_.displayName=v$;var b$="MenuLabel",LU=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(gn.div,{...r,ref:t})});LU.displayName=b$;var Zm="MenuItem",gN="menu.itemSelect",ny=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=N.useRef(null),c=Zh(Zm,e.__scopeMenu),d=t_(Zm,e.__scopeMenu),f=Nn(t,o),h=N.useRef(!1),m=()=>{const p=o.current;if(!n&&p){const x=new CustomEvent(gN,{bubbles:!0,cancelable:!0});p.addEventListener(gN,v=>r?.(v),{once:!0}),v3(p,x),x.defaultPrevented?h.current=!1:c.onClose()}};return l.jsx(HU,{...i,ref:f,disabled:n,onClick:Pt(e.onClick,m),onPointerDown:p=>{e.onPointerDown?.(p),h.current=!0},onPointerUp:Pt(e.onPointerUp,p=>{h.current||p.currentTarget?.click()}),onKeyDown:Pt(e.onKeyDown,p=>{const x=d.searchRef.current!=="";n||x&&p.key===" "||g1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});ny.displayName=Zm;var HU=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,c=t_(Zm,n),d=RU(n),f=N.useRef(null),h=Nn(t,f),[m,p]=N.useState(!1),[x,v]=N.useState("");return N.useEffect(()=>{const w=f.current;w&&v((w.textContent??"").trim())},[o.children]),l.jsx(Eh.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:l.jsx(Qz,{asChild:!0,...d,focusable:!r,children:l.jsx(gn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:Pt(e.onPointerMove,Nh(w=>{r?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pt(e.onPointerLeave,Nh(w=>c.onItemLeave(w))),onFocus:Pt(e.onFocus,()=>p(!0)),onBlur:Pt(e.onBlur,()=>p(!1))})})})}),_$="MenuCheckboxItem",BU=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(qU,{scope:e.__scopeMenu,checked:n,children:l.jsx(ny,{role:"menuitemcheckbox","aria-checked":Qm(n)?"mixed":n,...i,ref:t,"data-state":i_(n),onSelect:Pt(i.onSelect,()=>r?.(Qm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BU.displayName=_$;var VU="MenuRadioGroup",[w$,D$]=td(VU,{value:void 0,onValueChange:()=>{}}),WU=N.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=Es(r);return l.jsx(w$,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(r_,{...i,ref:t})})});WU.displayName=VU;var zU="MenuRadioItem",$U=N.forwardRef((e,t)=>{const{value:n,...r}=e,i=D$(zU,e.__scopeMenu),o=n===i.value;return l.jsx(qU,{scope:e.__scopeMenu,checked:o,children:l.jsx(ny,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":i_(o),onSelect:Pt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});$U.displayName=zU;var a_="MenuItemIndicator",[qU,S$]=td(a_,{checked:!1}),GU=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=S$(a_,n);return l.jsx(ls,{present:r||Qm(o.checked)||o.checked===!0,children:l.jsx(gn.span,{...i,ref:t,"data-state":i_(o.checked)})})});GU.displayName=a_;var C$="MenuSeparator",XU=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(gn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});XU.displayName=C$;var T$="MenuArrow",KU=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ty(n);return l.jsx(P1,{...i,...r,ref:t})});KU.displayName=T$;var E$="MenuSub",[gG,YU]=td(E$),nh="MenuSubTrigger",ZU=N.forwardRef((e,t)=>{const n=nd(nh,e.__scopeMenu),r=Zh(nh,e.__scopeMenu),i=YU(nh,e.__scopeMenu),o=t_(nh,e.__scopeMenu),c=N.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=o,h={__scopeMenu:e.__scopeMenu},m=N.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return N.useEffect(()=>m,[m]),N.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),f(null)}},[d,f]),l.jsx(J2,{asChild:!0,...h,children:l.jsx(HU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":e6(n.open),...e,ref:To(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pt(e.onPointerMove,Nh(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Pt(e.onPointerLeave,Nh(p=>{m();const x=n.content?.getBoundingClientRect();if(x){const v=n.content?.dataset.side,w=v==="right",y=w?-5:5,b=x[w?"left":"right"],_=x[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:b,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:b,y:x.bottom}],side:v}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Pt(e.onKeyDown,p=>{const x=o.searchRef.current!=="";e.disabled||x&&p.key===" "||o$[r.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});ZU.displayName=nh;var QU="MenuSubContent",JU=N.forwardRef((e,t)=>{const n=OU(ki,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=nd(ki,e.__scopeMenu),c=Zh(ki,e.__scopeMenu),d=YU(QU,e.__scopeMenu),f=N.useRef(null),h=Nn(t,f);return l.jsx(Eh.Provider,{scope:e.__scopeMenu,children:l.jsx(ls,{present:r||o.open,children:l.jsx(Eh.Slot,{scope:e.__scopeMenu,children:l.jsx(n_,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{c.isUsingKeyboardRef.current&&f.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Pt(e.onFocusOutside,m=>{m.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Pt(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:Pt(e.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),x=l$[c.dir].includes(m.key);p&&x&&(o.onOpenChange(!1),d.trigger?.focus(),m.preventDefault())})})})})})});JU.displayName=QU;function e6(e){return e?"open":"closed"}function Qm(e){return e==="indeterminate"}function i_(e){return Qm(e)?"indeterminate":e?"checked":"unchecked"}function N$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function A$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function M$(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let c=A$(e,Math.max(o,0));i.length===1&&(c=c.filter(h=>h!==n));const f=c.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function U$(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const d=t[o],f=t[c],h=d.x,m=d.y,p=f.x,x=f.y;m>r!=x>r&&n<(p-h)*(r-m)/(x-m)+h&&(i=!i)}return i}function k$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return U$(n,t)}function Nh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var j$=PU,R$=J2,P$=IU,O$=FU,I$=r_,F$=LU,L$=ny,H$=BU,B$=WU,V$=$U,W$=GU,z$=XU,$$=KU,q$=ZU,G$=JU,ry="DropdownMenu",[X$]=Ms(ry,[jU]),Sa=jU(),[K$,t6]=X$(ry),n6=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:c,modal:d=!0}=e,f=Sa(t),h=N.useRef(null),[m,p]=Oc({prop:i,defaultProp:o??!1,onChange:c,caller:ry});return l.jsx(K$,{scope:t,triggerId:Cs(),triggerRef:h,contentId:Cs(),open:m,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(x=>!x),[p]),modal:d,children:l.jsx(j$,{...f,open:m,onOpenChange:p,dir:r,modal:d,children:n})})};n6.displayName=ry;var r6="DropdownMenuTrigger",a6=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=t6(r6,n),c=Sa(n);return l.jsx(R$,{asChild:!0,...c,children:l.jsx(gn.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:To(t,o.triggerRef),onPointerDown:Pt(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:Pt(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});a6.displayName=r6;var Y$="DropdownMenuPortal",i6=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Sa(t);return l.jsx(P$,{...r,...n})};i6.displayName=Y$;var s6="DropdownMenuContent",o6=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=t6(s6,n),o=Sa(n),c=N.useRef(!1);return l.jsx(O$,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:Pt(e.onCloseAutoFocus,d=>{c.current||i.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Pt(e.onInteractOutside,d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,m=f.button===2||h;(!i.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o6.displayName=s6;var Z$="DropdownMenuGroup",Q$=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(I$,{...i,...r,ref:t})});Q$.displayName=Z$;var J$="DropdownMenuLabel",eq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(F$,{...i,...r,ref:t})});eq.displayName=J$;var tq="DropdownMenuItem",l6=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(L$,{...i,...r,ref:t})});l6.displayName=tq;var nq="DropdownMenuCheckboxItem",rq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(H$,{...i,...r,ref:t})});rq.displayName=nq;var aq="DropdownMenuRadioGroup",iq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(B$,{...i,...r,ref:t})});iq.displayName=aq;var sq="DropdownMenuRadioItem",oq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(V$,{...i,...r,ref:t})});oq.displayName=sq;var lq="DropdownMenuItemIndicator",cq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(W$,{...i,...r,ref:t})});cq.displayName=lq;var dq="DropdownMenuSeparator",uq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(z$,{...i,...r,ref:t})});uq.displayName=dq;var fq="DropdownMenuArrow",hq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx($$,{...i,...r,ref:t})});hq.displayName=fq;var pq="DropdownMenuSubTrigger",gq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(q$,{...i,...r,ref:t})});gq.displayName=pq;var mq="DropdownMenuSubContent",xq=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sa(n);return l.jsx(G$,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xq.displayName=mq;var yq=n6,vq=a6,bq=i6,_q=o6,wq=l6;function c6({...e}){return l.jsx(yq,{"data-loc":"client/src/components/ui/dropdown-menu.tsx:10","data-slot":"dropdown-menu",...e})}function d6({...e}){return l.jsx(vq,{"data-loc":"client/src/components/ui/dropdown-menu.tsx:25","data-slot":"dropdown-menu-trigger",...e})}function u6({className:e,sideOffset:t=4,...n}){return l.jsx(bq,{"data-loc":"client/src/components/ui/dropdown-menu.tsx:38",children:l.jsx(_q,{"data-loc":"client/src/components/ui/dropdown-menu.tsx:39","data-slot":"dropdown-menu-content",sideOffset:t,className:wn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function f6({className:e,inset:t,variant:n="default",...r}){return l.jsx(wq,{"data-loc":"client/src/components/ui/dropdown-menu.tsx:70","data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:wn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Dq(e,t){const n=new RegExp(`^${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}_D(\\d+)$`),r=t.map(o=>{const c=o.videoName.match(n);return c?parseInt(c[1]):0}).filter(o=>o>0),i=r.length>0?Math.max(...r)+1:1;return`${e}_D${i}`}function Sq(e){return e.replace(/_D\d+$/,"")}function Cq(e){const t=e.match(/_D(\d+)$/);return t?parseInt(t[1]):null}function Tq({currentUser:e,onLogout:t}){const[,n]=Eu(),[r,i]=N.useState(null),[o,c]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(null),[p,x]=N.useState(null),v=N.useRef(null),[w,y]=N.useState({open:!1,type:null,onConfirm:null}),[b,_]=N.useState("upload"),[D,C]=N.useState(""),[M,A]=N.useState(""),[j,U]=N.useState(""),[F,O]=N.useState(null),[$,se]=N.useState([]),[I,Q]=N.useState([]),[k,ae]=N.useState([]),[H,G]=N.useState(!0),[q,ee]=N.useState([]),[xe,B]=N.useState([]),[te,J]=N.useState(0),[de,_e]=N.useState(!1),Oe=N.useRef(!1),[Ee,He]=N.useState(!1),[Qe,at]=N.useState(!1),[Ie,tt]=N.useState(!1),[nt,P]=N.useState({ffmpeg:{current:0,total:0,status:"idle",activeVideos:[]},whisper:{current:0,total:0,status:"idle",activeVideos:[]},cleanvoice:{current:0,total:0,status:"idle",activeVideos:[]},currentVideoName:"",countdown:0,estimatedMinutes:0,successVideos:[],failedVideos:[],ffmpegSuccess:[],ffmpegFailed:[],whisperSuccess:[],whisperFailed:[],cleanvoiceSuccess:[],cleanvoiceFailed:[]}),[he,ye]=N.useState(null),[ne,le]=N.useState([]),[fe,Le]=N.useState([]),[qe,Se]=N.useState([]),oe=T=>{if(typeof T=="function")Se(L=>{const R=T(L);return Array.isArray(R)?R:(console.error("[setVideoResults]  Attempted to set NON-ARRAY!",{type:typeof R,value:R,stack:new Error().stack}),L)});else{if(!Array.isArray(T)){console.error("[setVideoResults]  Attempted to set NON-ARRAY!",{type:typeof T,value:T,stack:new Error().stack});return}Se(T)}},Y=qe,[Ce,Fe]=N.useState(null),[lt,vt]=N.useState("PROMPT_NEUTRAL"),[Et,yt]=N.useState(""),[_t,Xt]=N.useState(""),[Me,Ze]=N.useState(-1),[pt,gt]=N.useState(-1),[Vt,Kt]=N.useState("all");N.useRef(null),N.useRef(!1);const an=N.useRef(!1),Dn=N.useRef(null),[jn,Ln]=N.useState({}),[V,X]=N.useState("all"),[pe,Re]=N.useState("all"),[Ye,Ct]=N.useState({}),[wt,Zt]=N.useState(Date.now()),[pn,Qt]=N.useState(!1),[Ne,ze]=N.useState(""),[st,qt]=N.useState("hardcoded"),[Nt,Ut]=N.useState(-1),[kt,Wt]=N.useState(null),[ln,Sn]=N.useState(""),[qr,Ri]=N.useState(""),[rn,Qr]=N.useState(!1),[Pi,Ca]=N.useState(1),[Fr,Oi]=N.useState([]),[en,rr]=N.useState([]),[rd,Qh]=N.useState("all"),[mi,ko]=N.useState([]),[Jh,ad]=N.useState(!1),[Ot,zn]=N.useState(()=>1),[Bl,Vl]=N.useState(!0),[Ii,Ga]=N.useState("default"),[ep,ju]=N.useState(!1),[ct,id]=N.useState(e),[sd,Fi]=N.useState(!1),[jr,jo]=N.useState(null),[Wl,zl]=N.useState(""),[Li,Ru]=N.useState(!1),[Pu,Rs]=N.useState(!1),[St,_n]=N.useState({current:0,total:0,currentVideo:"",status:"idle",message:"",successVideos:[],failedVideos:[],inProgressVideos:[],mergedVideos:[],currentBatch:0,totalBatches:0,batchSize:0,mergeStatus:"idle",ffmpegRequestsCurrent:0,ffmpegRequestsTotal:0,countdown:0,cuttingCurrent:0,cuttingTotal:0,mergingCurrent:0,mergingTotal:0});N.useEffect(()=>{St.failedVideos.length>0&&Rs(!0)},[St.failedVideos.length]);const[od,Ro]=N.useState(!1),[Hi,Ou]=N.useState(()=>{try{return localStorage.getItem("mergedVideoUrl")||null}catch{return null}}),[ld,Ta]=N.useState(""),[$l,ql]=N.useState("Loading..."),[xi,Ps]=N.useState([]),[Iu,Fu]=N.useState(""),[Po,Gl]=N.useState(()=>{try{return localStorage.getItem("lastMergedPairHash")||null}catch{return null}});N.useEffect(()=>{Hi&&localStorage.setItem("mergedVideoUrl",Hi)},[Hi]),N.useEffect(()=>{Po&&localStorage.setItem("lastMergedPairHash",Po)},[Po]);const[Bi,Os]=N.useState(!1),[Xl,yi]=N.useState(""),[vi,Vi]=N.useState(()=>{try{return localStorage.getItem("sampleMergedVideoUrl")||null}catch{return null}}),[Kl,Jr]=N.useState(""),[Xa,Oo]=N.useState([]),[pr,ar]=N.useState(null),[ea,$n]=N.useState(""),[Is,cd]=N.useState(()=>{try{return localStorage.getItem("lastSampleVideoUrl")||null}catch{return null}}),[Wi,Yl]=N.useState(()=>{try{const T=localStorage.getItem("lastSampleMergeTimestamp");return T?parseInt(T,10):null}catch{return null}}),[Fs,Ls]=N.useState(0),[ay,iy]=N.useState(0),[sy,Io]=N.useState(!1);N.useEffect(()=>{Is&&localStorage.setItem("lastSampleVideoUrl",Is)},[Is]),N.useEffect(()=>{Wi!==null&&localStorage.setItem("lastSampleMergeTimestamp",Wi.toString())},[Wi]),N.useEffect(()=>{if(Fs>0){const T=setTimeout(()=>{Ls(L=>L-1)},1e3);return()=>clearTimeout(T)}},[Fs]),N.useEffect(()=>{if(!vi||Xa.length===0)return;const T=document.getElementById("sample-merge-video-player");if(!T)return;let L=[];const R=ce=>{L=[];let K=0;console.log("[Sample Merge]  buildTimeline data sources:",{hasRef:!!Dn.current,refCount:Dn.current?.length||0,stateCount:Y.length,usingRef:!!Dn.current});const re=Dn.current||Y,me=Xa.reduce((ge,ve)=>{const ue=re.find(we=>we.videoName===ve.name);if(!ue)return ge+10;if(ue.cutPoints){const we=(ue.cutPoints.endKeep||0)-(ue.cutPoints.startKeep||0);return ge+we/1e3}else if(ue.trimmedDuration)return ge+ue.trimmedDuration;return ge+10},0);console.log("[Sample Merge] Building timeline:",{totalExpectedDuration:me,totalRealDuration:ce,videosCount:Xa.length}),Xa.forEach(ge=>{let ve=0;const we=(Dn.current||Y).find(Ae=>Ae.videoName===ge.name);if(we)if(we.cutPoints){const Ae=(we.cutPoints.endKeep||0)-(we.cutPoints.startKeep||0);ve=Ae/1e3,ge.name==="T2_C1_E1_AD1_HOOK1_DARIA_1"&&console.log("[Sample Merge]  HOOK1_DARIA_1 cutPoints:",{endKeep:we.cutPoints.endKeep,startKeep:we.cutPoints.startKeep,durationMs:Ae,durationSeconds:ve}),ce&&me>0&&(ve=ve/me*ce,console.log(`[Sample Merge] Scaled ${ge.name}: ${(Ae/1e3).toFixed(2)}s  ${ve.toFixed(2)}s`))}else we.trimmedDuration&&(ve=we.trimmedDuration);ve===0&&(console.warn(`[Video Sync]  No duration data for ${ge.name}, using 10s fallback`),ve=10),L.push({startTime:K,endTime:K+ve,name:ge.name}),K+=ve}),console.log("[Sample Merge] Timeline built:",L)};R();const z=()=>{const ce=T.duration;console.log("[Sample Merge]  Video loaded, real duration:",ce.toFixed(2),"s"),R(ce),L.length>0&&yi(L[0].name)};T.addEventListener("loadedmetadata",z),T.readyState>=1&&z();const Z=()=>{const ce=T.currentTime;console.log(`[Video Sync] Current time: ${ce.toFixed(2)}s`);const K=L.find(re=>ce>=re.startTime&&ce<re.endTime);K?(console.log(`[Video Sync] Found segment: ${K.name} (${K.startTime.toFixed(2)}s - ${K.endTime.toFixed(2)}s)`),yi(K.name)):console.log(`[Video Sync]  No segment found for time ${ce.toFixed(2)}s`)};return T.addEventListener("timeupdate",Z),T.addEventListener("seeked",Z),L.length>0&&yi(L[0].name),()=>{T.removeEventListener("timeupdate",Z),T.removeEventListener("seeked",Z),T.removeEventListener("loadedmetadata",z)}},[vi,Xa,Y,ay]),N.useEffect(()=>{if(!Hi||!od||xi.length===0)return;const T=document.getElementById("cut-merge-video-player");if(!T)return;let L=[];const R=ce=>{L=[];let K=0;const re=xi.reduce((me,ge)=>{if(ge.cutPoints){const ve=(ge.cutPoints.endKeep||0)-(ge.cutPoints.startKeep||0);return me+ve/1e3}return me+10},0);console.log("[Cut & Merge] Building timeline:",{totalExpectedDuration:re,totalRealDuration:ce,videosCount:xi.length}),xi.forEach(me=>{let ge=0;if(me.cutPoints){const ve=(me.cutPoints.endKeep||0)-(me.cutPoints.startKeep||0);ge=ve/1e3,ce&&re>0&&(ge=ge/re*ce,console.log(`[Cut & Merge] Scaled ${me.videoName}: ${(ve/1e3).toFixed(2)}s  ${ge.toFixed(2)}s`))}else me.trimmedDuration?ge=me.trimmedDuration:(console.warn(`[Cut & Merge Sync]  No duration data for ${me.videoName}, using 10s fallback`),ge=10);L.push({startTime:K,endTime:K+ge,name:me.videoName}),K+=ge}),console.log("[Cut & Merge] Timeline built:",L)};R();const z=()=>{const ce=T.duration;console.log("[Cut & Merge]  Video loaded, real duration:",ce.toFixed(2),"s"),R(ce),L.length>0&&ql(L[0].name)};T.addEventListener("loadedmetadata",z),T.readyState>=1&&z();const Z=()=>{const ce=T.currentTime,K=L.find(re=>ce>=re.startTime&&ce<re.endTime);K&&ql(K.name)};return T.addEventListener("timeupdate",Z),T.addEventListener("seeked",Z),L.length>0&&ql(L[0].name),()=>{T.removeEventListener("timeupdate",Z),T.removeEventListener("seeked",Z),T.removeEventListener("loadedmetadata",z)}},[Hi,od,xi]),N.useEffect(()=>{if(!jr||St.successVideos.length===0)return;const T=document.getElementById("trimming-video-player");if(!T)return;const L=[];let R=0;St.successVideos.forEach(Z=>{const ce=Y.find(me=>me.videoName===Z.name);if(!ce?.cutPoints)return;const re=((ce.cutPoints.endKeep||0)-(ce.cutPoints.startKeep||0))/1e3;L.push({startTime:R,endTime:R+re,name:Z.name}),R+=re}),console.log("[Trimming] Timeline:",L);const z=()=>{const Z=T.currentTime;console.log(`[Trimming Sync] Current time: ${Z.toFixed(2)}s`);const ce=L.find(K=>Z>=K.startTime&&Z<K.endTime);ce?(console.log(`[Trimming Sync] Found segment: ${ce.name} (${ce.startTime.toFixed(2)}s - ${ce.endTime.toFixed(2)}s)`),zl(ce.name)):console.log(`[Trimming Sync]  No segment found for time ${Z.toFixed(2)}s`)};return T.addEventListener("timeupdate",z),T.addEventListener("seeked",z),L.length>0&&zl(L[0].name),()=>{T.removeEventListener("timeupdate",z),T.removeEventListener("seeked",z)}},[jr,St.successVideos,Y]);const[oy,dd]=N.useState(!1),[ly,Lu]=N.useState(!1),[tp,ud]=N.useState(null),[Zl,Hu]=N.useState(null),[o_,l_]=N.useState(null),[Ql,np]=N.useState(null),[Bu,cy]=N.useState(()=>{try{return localStorage.getItem("lastMergedVideosHash")||null}catch{return null}}),[fd,Fo]=N.useState(!1),[Tr,Jl]=N.useState([]),[cr,hd]=N.useState(null),[pd,bi]=N.useState(!1),[dy,rp]=N.useState(!1),[En,sn]=N.useState({status:"countdown",message:"",totalFinalVideos:0,currentFinalVideo:0,currentBatch:0,totalBatches:0,hooksSuccess:[],hooksFailed:[],hooksInProgress:[],bodySuccess:[],bodyFailed:[],bodyInProgress:[]}),[Cn,Ea]=N.useState(null),[Jt,Na]=N.useState({}),[Vu,gd]=N.useState(!1),[gr,ta]=N.useState({status:"countdown",message:"",countdown:0,total:0,current:0,currentBatch:0,totalBatches:0,successVideos:[],failedVideos:[],inProgressVideos:[]}),[dr,Lo]=N.useState([]),[ap,md]=N.useState(!1),[zi,na]=N.useState({total:0,current:0,status:"downloading",message:""});N.useEffect(()=>{vi&&localStorage.setItem("sampleMergedVideoUrl",vi)},[vi]),N.useEffect(()=>{Bu&&localStorage.setItem("lastMergedVideosHash",Bu)},[Bu]);const[c_,Wu]=N.useState(!1),[zu,ip]=N.useState(""),[ec,xd]=N.useState("all"),[Ho,yd]=N.useState([]),[tc,sp]=N.useState("library"),[uy,$u]=N.useState(null),[op,vd]=N.useState(""),[Er,Hs]=N.useState("all"),[lp,bd]=N.useState(null),[qu,nc]=N.useState(""),[rc,_d]=N.useState(null),[Lr,wd]=N.useState(""),[Ka,ac]=N.useState(-1),[Bs,$i]=N.useState(-1),[Vs,Dd]=N.useState({}),{data:qi=[],refetch:fs}=Tt.imageLibrary.list.useQuery({userId:ct.id}),{data:Gu=[]}=Tt.imageLibrary.getCharacters.useQuery({userId:ct.id});Tt.videoEditing.processVideoForEditing.useMutation();const cp=Tt.videoEditing.extractWAVFromVideo.useMutation(),dp=Tt.videoEditing.processAudioWithWhisperCleanVoice.useMutation(),fy=Tt.videoEditing.createDirectory.useMutation(),Xu=Tt.videoEditing.cutVideo.useMutation();Tt.videoEditing.cutAndMergeVideos.useMutation();const Sd=Tt.videoEditing.cutAndMergeAllVideos.useMutation();Tt.videoEditing.save.useMutation();const Ya=Tt.videoEditing.mergeVideos.useMutation(),{data:Ws=[]}=Tt.promptLibrary.list.useQuery({userId:ct.id}),{data:ic=[],refetch:Za}=Tt.tams.list.useQuery({userId:ct.id}),{data:zs=[],refetch:ra}=Tt.coreBeliefs.listByTamId.useQuery({tamId:r},{enabled:!!r}),{data:Gi=[],refetch:sc}=Tt.emotionalAngles.listByCoreBeliefId.useQuery({coreBeliefId:o},{enabled:!!o}),{data:Qa=[],refetch:Bo}=Tt.ads.listByEmotionalAngleId.useQuery({emotionalAngleId:d},{enabled:!!d});N.useEffect(()=>{Qa.length>0&&console.log("[AD Dropdown]  ADs from query:",Qa.map(T=>({id:T.id,name:T.name,emotionalAngleId:T.emotionalAngleId,userId:T.userId})))},[Qa]);const{data:br=[],refetch:hs}=Tt.categoryCharacters.list.useQuery({userId:ct.id}),{data:Ja=[]}=Tt.contextSessions.listByUser.useQuery({userId:ct.id},{staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!1});N.useEffect(()=>{console.log("[Context Sessions Query] localCurrentUser.id:",ct.id),console.log("[Context Sessions Query] allContextSessions.length:",Ja.length),console.log("[Context Sessions Query] allContextSessions:",Ja.map(T=>({id:T.id,userId:T.userId,adId:T.adId,characterId:T.characterId})))},[Ja,ct.id]);const{data:Ku}=Tt.contextSessions.getLatest.useQuery({userId:ct.id}),{data:ei=[]}=Tt.contextSessions.getCharactersWithContextInAd.useQuery({userId:ct.id,adId:h,excludeCharacterId:p||void 0},{enabled:!!(h&&Ot===1)}),[hy,ua]=N.useState(!1),{data:ht,refetch:Hr}=Tt.contextSessions.get.useQuery({userId:ct.id,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p},{enabled:hy&&!!(r&&o&&d&&h&&p),refetchOnMount:"always",refetchOnWindowFocus:!1}),Xi=N.useMemo(()=>{if(console.log("[useMemo finalVideosFromDB] contextSession.finalVideos:",{exists:!!ht?.finalVideos,type:typeof ht?.finalVideos,isArray:Array.isArray(ht?.finalVideos),value:ht?.finalVideos}),!ht?.finalVideos)return console.log("[useMemo finalVideosFromDB]  No finalVideos, returning empty array"),[];let T;try{T=typeof ht.finalVideos=="string"?JSON.parse(ht.finalVideos):ht.finalVideos}catch(L){return console.error("[useMemo finalVideosFromDB]  JSON parse error:",L),[]}return Array.isArray(T)?(console.log("[useMemo finalVideosFromDB]  Returning array with",T.length,"videos"),T):(console.error("[useMemo finalVideosFromDB]  Parsed value is NOT an array!",{type:typeof T,value:T}),[])},[ht?.finalVideos]),Gr=N.useMemo(()=>{console.log("[Character USED/UNUSED]  ========== STARTING DETECTION =========="),console.log("[Character USED/UNUSED]  selectedAdId:",h,"(type:",typeof h,")"),console.log("[Character USED/UNUSED]  Total context sessions:",Ja.length),console.log("[Character USED/UNUSED]  All sessions details:"),Ja.forEach(Z=>{console.log(`  - Session ${Z.id}: adId=${Z.adId} (type: ${typeof Z.adId}), characterId=${Z.characterId}, hasVideoResults=${!!Z.videoResults}`)});const T=new Set,L=Ja.filter(Z=>Z.adId===h);console.log("[Character USED/UNUSED]  Filter: session.adId === selectedAdId"),console.log("[Character USED/UNUSED]  Comparison details:"),Ja.forEach(Z=>{const ce=Z.adId===h;console.log(`  - Session ${Z.id}: ${Z.adId} === ${h} ? ${ce} (types: ${typeof Z.adId} vs ${typeof h})`)}),console.log("[Character USED/UNUSED]  Sessions for current AD:",L.length),L.length>0&&console.log("[Character USED/UNUSED]  Filtered sessions:",L.map(Z=>({id:Z.id,adId:Z.adId,characterId:Z.characterId}))),L.forEach(Z=>{if(console.log(`[Character USED/UNUSED]  Checking session ${Z.id}:`),console.log(`  - characterId: ${Z.characterId} (exists: ${!!Z.characterId})`),console.log(`  - videoResults type: ${typeof Z.videoResults}`),console.log(`  - videoResults is null: ${Z.videoResults===null}`),console.log(`  - videoResults is undefined: ${Z.videoResults===void 0}`),console.log(`  - Will enter if block: ${!!(Z.characterId&&Z.videoResults)}`),Z.characterId&&Z.videoResults)try{console.log(`[Character USED/UNUSED] Session ${Z.id} RAW videoResults:`,JSON.stringify(Z.videoResults).substring(0,200));const ce=typeof Z.videoResults=="string"?JSON.parse(Z.videoResults):Z.videoResults,K=Array.isArray(ce)&&ce.some(re=>re.status==="success"||re.status==="pending"||re.status==="failed");if(console.log(`[Character USED/UNUSED] Session ${Z.id}: characterId=${Z.characterId}, videos=${Array.isArray(ce)?ce.length:0}, hasGenerated=${K}`),Array.isArray(ce)&&ce.length>0){const re=ce.map(me=>me.status).filter(Boolean);console.log(`[Character USED/UNUSED] Session ${Z.id} video statuses:`,re.slice(0,10))}K&&(T.add(Z.characterId),console.log(`[Character USED/UNUSED]  Marked character ${Z.characterId} as USED`))}catch{}});const R=br.filter(Z=>!T.has(Z.id)),z=br.filter(Z=>T.has(Z.id));return console.log("[Character USED/UNUSED]  Final results:"),console.log("[Character USED/UNUSED] UNUSED characters:",R.map(Z=>`${Z.name} (${Z.id})`)),console.log("[Character USED/UNUSED] USED characters:",z.map(Z=>`${Z.name} (${Z.id})`)),R.sort((Z,ce)=>Z.name.localeCompare(ce.name)),z.sort((Z,ce)=>Z.name.localeCompare(ce.name)),{unused:R,used:z,all:[...R,...z]}},[br,Ja,h]),$s=Tt.video.parseAdDocument.useMutation(),Yu=Tt.video.parsePromptDocument.useMutation(),up=Tt.video.uploadImage.useMutation(),Ki=Tt.video.generateBatchVideos.useMutation();Tt.video.generateMultipleVariants.useMutation();const fp=Tt.tams.create.useMutation(),fa=Tt.coreBeliefs.create.useMutation(),qs=Tt.emotionalAngles.create.useMutation(),Gs=Tt.ads.create.useMutation(),oc=Tt.categoryCharacters.create.useMutation(),Xs=Tt.video.processTextAd.useMutation(),Aa=Tt.imageLibrary.upload.useMutation();Tt.promptLibrary.create.useMutation();const Gt=Tt.contextSessions.upsert.useMutation();Tt.appSession.create.useMutation(),Tt.appSession.update.useMutation(),Tt.appSession.delete.useMutation();const{data:Ks,refetch:Yi}=Tt.appSession.getByUserId.useQuery({userId:e.id},{enabled:!0});N.useEffect(()=>{const T=setInterval(()=>{Zt(Date.now())},1e3);return()=>clearInterval(T)},[]),N.useEffect(()=>{if(console.log("[Context Session] useEffect triggered with:",{contextSession:ht?"EXISTS":"NULL",selectedAdId:h,selectedEmotionalAngleId:d,selectedCharacterId:p,contextSessionIds:ht?{adId:ht.adId,emotionalAngleId:ht.emotionalAngleId,characterId:ht.characterId}:null,MATCH:ht?ht.adId===h&&ht.emotionalAngleId===d&&ht.characterId===p:"N/A"}),ht){console.log("[Context Session] Loading data from database:",ht);const T=ve=>{if(!ve)return[];const ue=typeof ve=="string"?JSON.parse(ve):ve;return Array.isArray(ue)?ue:[]},L=T(ht.videoResults),R=ht.currentStep||1;console.log("[Context Session]  Restoring step from database:",R),zn(R),setTimeout(()=>Vl(!1),0),ht.rawTextAd&&C(ht.rawTextAd),ht.processedTextAd&&A(ht.processedTextAd);const z=T(ht.adLines),Z=T(ht.combinations);ae(T(ht.prompts));const K=T(ht.images).map(ve=>{const ue=qi.find(we=>we.id===ve.id);return ue?{...ve,fileName:ue.fileName}:ve});ee(K),console.log("[Context Session]  Synced",K.length,"images with Image Library");const re=Z.map(ve=>{const ue=L.find(we=>we.text===ve.text&&we.imageId===ve.imageId);return ue&&ue.videoName!==ve.videoName?(console.log("[Context Session]  Syncing combination videoName:",ve.videoName,"->",ue.videoName),{...ve,videoName:ue.videoName}):ve}),me=z.map(ve=>{const ue=re.find(we=>we.text===ve.text);return ue&&ue.videoName!==ve.videoName?(console.log("[Context Session]  Syncing adLine videoName:",ve.videoName,"->",ue.videoName),{...ve,videoName:ue.videoName}):ve});if(se(me),le(re),Le(T(ht.deletedCombinations)),Y.length===0){console.log("[Context Session]  LOADING videoResults from DB (first load)",{count:L.length}),L.forEach(ue=>{ue.cutPoints&&console.log(`   ${ue.videoName}: start=${ue.cutPoints.startKeep} end=${ue.cutPoints.endKeep}`)}),oe(L),console.log("[Overlay Settings]  Loading from DB... Total videos:",L.length);const ve={};L.forEach(ue=>{console.log(`[Overlay Settings]  Checking ${ue.videoName}:`,{hasOverlaySettings:!!ue.overlaySettings,overlaySettings:ue.overlaySettings}),ue.overlaySettings&&(ve[ue.videoName]=ue.overlaySettings)}),console.log("[Overlay Settings]  Loaded overlay settings count:",Object.keys(ve).length),Object.keys(ve).length>0?(Dd(ve),console.log("[Overlay Settings]  Loaded from DB:",ve)):console.log("[Overlay Settings]  No overlay settings found in DB!")}else console.log("[Context Session]  SKIPPING videoResults reload - already loaded",{currentCount:Y.length,dbCount:L.length});if(rr(T(ht.reviewHistory)),ht.hookMergedVideos)if(console.log("[Context Session]  LOADING hookMergedVideos - FULL CONTEXT:"),console.log("  Current context:",JSON.stringify({selectedTamId:r,selectedCoreBeliefId:o,selectedEmotionalAngleId:d,selectedAdId:h,selectedCharacterId:p})),console.log("  Session from DB:",JSON.stringify({sessionId:ht.id,tamId:ht.tamId,coreBeliefId:ht.coreBeliefId,emotionalAngleId:ht.emotionalAngleId,adId:ht.adId,characterId:ht.characterId})),!(ht.tamId===r&&ht.coreBeliefId===o&&ht.emotionalAngleId===d&&ht.adId===h&&ht.characterId===p))console.error(" MISMATCH! hookMergedVideos is from DIFFERENT CONTEXT!"),console.error("  Expected:",{selectedTamId:r,selectedCoreBeliefId:o,selectedEmotionalAngleId:d,selectedAdId:h,selectedCharacterId:p}),console.error("  Got:",{tamId:ht.tamId,coreBeliefId:ht.coreBeliefId,emotionalAngleId:ht.emotionalAngleId,adId:ht.adId,characterId:ht.characterId}),Na({}),console.log("[Context Session]  Reset hookMergedVideos to empty (wrong context)");else{const ue=typeof ht.hookMergedVideos=="string"?JSON.parse(ht.hookMergedVideos):ht.hookMergedVideos;Na(ue||{}),console.log("[Context Session]  Loaded hookMergedVideos (context verified):",ue)}else console.log("[Context Session]  No hookMergedVideos in session");if(ht.bodyMergedVideoUrl?(console.log("[Context Session]  LOADING bodyMergedVideoUrl - FULL CONTEXT:"),console.log("  Current context:",JSON.stringify({selectedTamId:r,selectedCoreBeliefId:o,selectedEmotionalAngleId:d,selectedAdId:h,selectedCharacterId:p})),console.log("  Session from DB:",JSON.stringify({sessionId:ht.id,tamId:ht.tamId,coreBeliefId:ht.coreBeliefId,emotionalAngleId:ht.emotionalAngleId,adId:ht.adId,characterId:ht.characterId})),console.log("  bodyMergedVideoUrl:",ht.bodyMergedVideoUrl),ht.tamId===r&&ht.coreBeliefId===o&&ht.emotionalAngleId===d&&ht.adId===h&&ht.characterId===p?(Ea(ht.bodyMergedVideoUrl),console.log("[Context Session]  Loaded bodyMergedVideoUrl (context verified):",ht.bodyMergedVideoUrl)):(console.error(" MISMATCH! bodyMergedVideoUrl is from DIFFERENT CONTEXT!"),console.error("  Expected:",{selectedTamId:r,selectedCoreBeliefId:o,selectedEmotionalAngleId:d,selectedAdId:h,selectedCharacterId:p}),console.error("  Got:",{tamId:ht.tamId,coreBeliefId:ht.coreBeliefId,emotionalAngleId:ht.emotionalAngleId,adId:ht.adId,characterId:ht.characterId}),Ea(null),console.log("[Context Session]  Reset bodyMergedVideoUrl to null (wrong context)"))):console.log("[Context Session]  No bodyMergedVideoUrl in session"),console.log("[Context Session]  Checking finalVideos in DB:",ht.finalVideos?"EXISTS":"NULL"),ht.finalVideos){const ve=typeof ht.finalVideos=="string"?JSON.parse(ht.finalVideos):ht.finalVideos;Lo(ve||[]),console.log("[Context Session]  Loaded finalVideos:",ve)}else console.log("[Context Session]  finalVideos is NULL in database!");p&&(v.current=p),(ht.adId!==h||ht.emotionalAngleId!==d||ht.characterId!==p)&&(console.log("[Context Session]  Context mismatch detected - resetting merged videos"),console.log("[Context Session] Expected:",{selectedAdId:h,selectedEmotionalAngleId:d,selectedCharacterId:p}),console.log("[Context Session] Got:",{adId:ht.adId,emotionalAngleId:ht.emotionalAngleId,characterId:ht.characterId}),Ea(null),Na({}),console.log("[Context Session]  Reset bodyMergedVideoUrl and hookMergedVideos"))}else console.log("[Context Session] No database session found, resetting to empty state"),zn(1),Vl(!1),C(""),A(""),se([]),ae([]),ee([]),le([]),Le([]),oe([]),rr([])},[ht]),N.useEffect(()=>{},[Ot,$,k,q,ne,fe,Y,en,Nt,rn,Pi,Fr,Bl]),N.useEffect(()=>{if(Ot===4&&p&&br){const T=br.find(L=>L.id===p)?.name;T&&(xd(T),console.log("[Step 4] Auto-filtering library by character:",T))}},[Ot,p,br]),N.useEffect(()=>{if(!h||p)return;const T=new Set,L=Ja.filter(R=>R.adId===h&&R.characterId);for(const R of L)if(R.videoResults)try{const z=typeof R.videoResults=="string"?JSON.parse(R.videoResults):R.videoResults;Array.isArray(z)&&z.some(ce=>ce.status==="success"||ce.status==="pending"||ce.status==="failed")&&R.characterId&&T.add(R.characterId)}catch{}},[h,p,Ja]),N.useEffect(()=>{v.current!==null&&p&&p!==v.current&&(console.log("[Context Switch] Character changed from",v.current,"to",p,"- clearing videoResults"),oe([]),zn(1))},[p]);const ha=N.useMemo(()=>(console.log("[useMemo failedVideos] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),Array.isArray(Y)?Y.filter(T=>T.status==="failed"):(console.error("[useMemo failedVideos]  videoResults is NOT an array!",Y),[])),[Y]),aa=N.useMemo(()=>(console.log("[useMemo acceptedVideos] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),Array.isArray(Y)?Y.filter(T=>T.reviewStatus==="accepted"):(console.error("[useMemo acceptedVideos]  videoResults is NOT an array!",Y),[])),[Y]);N.useEffect(()=>{if(Ot===10){if(console.log("[Step 10] Pre-selecting hooks and body..."),console.log("[Step 10] videoResults count:",Y.length),console.log("[Step 10] contextSession loaded:",!!ht),!ht){console.log("[Step 10]  Waiting for contextSession to load from DB...");return}const L=Y.filter(Z=>Z.trimmedVideoUrl&&Z.videoName.toLowerCase().includes("hook")).filter(Z=>/HOOK\d+[A-Z]_/.test(Z.videoName)?!1:/HOOK\d+_/.test(Z.videoName)&&!/HOOK\d+[A-Z]_/.test(Z.videoName)?!Jt[Z.videoName]:!0),R=Object.keys(Jt).map(Z=>Z.replace(/(HOOK\d+)/,"$1M")),z=[...L.map(Z=>Z.videoName),...R];if(Jl(z),Cn)hd("body_merged");else{const Z=Y.filter(ce=>ce.trimmedVideoUrl&&!ce.videoName.toLowerCase().includes("hook"));if(Z.length>0){const ce=Z.find(K=>K.videoName.toLowerCase().includes("body"));hd(ce?ce.videoName:Z[0].videoName)}}}},[Ot,Y,Cn,ht,Jt]),N.useEffect(()=>{if(!r||!o||!d||!h||!p||!ct?.id)return;const T=setTimeout(async()=>{try{console.log("[Auto-save] Saving currentStep to database:",Ot),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log("[Auto-save]  currentStep saved successfully")}catch(L){console.error("[Auto-save]  Failed to save currentStep:",L)}},0);return()=>clearTimeout(T)},[Ot,r,o,d,h,p,ct,Y,Jt,Cn,dr]);const lc=N.useMemo(()=>Y.filter(T=>T.reviewStatus==="regenerate"||T.status==="failed"||T.status==="pending"||T.status===null),[Y]),Cd=N.useMemo(()=>Y.filter(T=>T.status==="pending"),[Y]),Td=N.useMemo(()=>Y.filter(T=>T.status==="success"),[Y]),hp=N.useMemo(()=>ha.length,[ha]),_r=N.useMemo(()=>aa.length,[aa]),Hn=N.useMemo(()=>lc.length,[lc]);N.useMemo(()=>Cd.length,[Cd]),N.useMemo(()=>Td.length,[Td]);const mn=N.useMemo(()=>{if(console.log("[useMemo step5FilteredVideos] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),!Array.isArray(Y))return console.error("[useMemo step5FilteredVideos]  videoResults is NOT an array!",Y),[];const T=Y.filter(Z=>!(Z.isMergedResult??!1)),L=aa.filter(Z=>!(Z.isMergedResult??!1)),R=lc.filter(Z=>!(Z.isMergedResult??!1));let z;return pe==="all"?z=T:pe==="accepted"?z=L:pe==="regenerate"?z=R:z=T,au(z)},[pe,Y,aa,lc]),ps=N.useMemo(()=>{if(console.log("[useMemo step6FilteredVideos] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),!Array.isArray(Y))return console.error("[useMemo step6FilteredVideos]  videoResults is NOT an array!",Y),[];const T=Y.filter(Z=>!(Z.isMergedResult??!1)),L=(aa||[]).filter(Z=>!(Z.isMergedResult??!1)),R=(ha||[]).filter(Z=>!(Z.isMergedResult??!1));let z;return V==="all"?z=T:V==="accepted"?z=L:V==="failed"?z=R:V==="no_decision"?z=T.filter(Z=>!Z.reviewStatus):z=T,au(z)},[V,Y,aa,ha]),Br=N.useMemo(()=>(console.log("[useMemo videosWithoutDecision] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),Array.isArray(Y)?Y.filter(T=>T.reviewStatus===null&&!(T.isMergedResult??!1)):(console.error("[useMemo videosWithoutDecision]  videoResults is NOT an array!",Y),[])),[Y]),Zu=N.useMemo(()=>Br.length,[Br]),pa=N.useMemo(()=>(console.log("[useMemo acceptedVideosWithUrl] videoResults type:",typeof Y,"isArray:",Array.isArray(Y),"length:",Y?.length),Array.isArray(Y)?Y.filter(T=>T.reviewStatus==="accepted"&&T.videoUrl&&!(T.isMergedResult??!1)):(console.error("[useMemo acceptedVideosWithUrl]  videoResults is NOT an array!",Y),[])),[Y]),pp=N.useMemo(()=>{const L=(Y||[]).filter(z=>z.trimmedVideoUrl&&z.reviewStatus==="accepted"&&z.status==="success").filter(z=>z.videoName.match(/HOOK\d+[A-Z]?/)),R={};return L.forEach(z=>{const Z=z.videoName.match(/(.*)(HOOK\d+)[A-Z]?(.*)/);if(Z){const ce=Z[1],K=Z[2],re=Z[3],me=`${ce}${K}${re}`;R[me]||(R[me]=0),R[me]++}}),R},[Y]),gp=N.useMemo(()=>{if(Tr.length===0||!cr)return 0;const T=[];return Tr.forEach(L=>{if(/HOOK\d+M_/.test(L)){const ce=L.replace(/(HOOK\d+)M/,"$1");T.push(ce);return}if(/HOOK\d+[A-Z]_/.test(L)){const ce=L.match(/(.*)(HOOK\d+)[A-Z](.*)/);if(ce){const K=ce[1],re=ce[2],me=ce[3];if(`${K}${re}${me}`in Jt)return}}if(/HOOK\d+_/.test(L)&&!/HOOK\d+[A-Z]_/.test(L)){const ce=L.match(/(.*)(HOOK\d+)(.*)/);if(ce){const K=ce[1],re=ce[2],me=ce[3];if(`${K}${re}${me}`in Jt)return}}T.push(L)}),Array.from(new Set(T)).length},[Tr,cr,Jt]),Vo=async()=>{if(!D||D.trim().length===0){be.error("Please enter or upload text first!");return}try{se([]),O(null),A(""),le([]),oe([]),ae([]),ee([]),Le([]),rr([]),console.log("[Process Text] Clearing database before processing new document"),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:1,rawTextAd:D,processedTextAd:"",adLines:[],prompts:[],images:[],combinations:[],deletedCombinations:[],videoResults:[],reviewHistory:[]}),console.log("[Process Text] Database cleared successfully");const T=await Xs.mutateAsync({rawText:D}),L=T.processedLines.map(je=>je.type==="label"?je.text:je.text+` (${je.charCount} chars)`).join(`
`);A(L);let R="OTHER",z=0;const Z={},ce={};let K="";const re={},me={},ge=[],ve=ic.findIndex(je=>je.id===r)+1||1,ue=zs.findIndex(je=>je.id===o)+1||1,we=Gi.findIndex(je=>je.id===d)+1||1,Ae=Qa.findIndex(je=>je.id===h)+1||1,Be=p?(br?.find(je=>je.id===p)?.name||"UNKNOWN").toUpperCase():"UNKNOWN";for(const je of T.processedLines)if(je.type==="label"){const De=je.category||"OTHER",Je=je.displayName||je.text;R={HOOKS:"HOOKS",MIRROR:"MIRROR",DCS:"DCS",TRANSITION:"TRANSITION",TRANZITION:"TRANSITION",TRANZITIE:"TRANSITION","NEW CAUSE":"NEW_CAUSE","NEW-CAUSE":"NEW_CAUSE",MECHANISM:"MECHANISM","EMOTIONAL PROOF":"EMOTIONAL_PROOF","EMOTIONAL-PROOF":"EMOTIONAL_PROOF",TRANSFORMATION:"TRANSFORMATION",CTA:"CTA"}[De]||"OTHER",K=Je,ce[K]=0,ge.push({id:`label-${Date.now()}-${ge.length}`,text:Je,section:R,promptType:"PROMPT_NEUTRAL",videoName:"",categoryNomber:0,charCount:0})}else if(je.type==="text"){z++;let De="",Je="";if(re[K])De=re[K],Je=me[K];else{De=R.replace(/_/g,"-");const It=ge.length>0?ge[ge.length-1]:null;if(R==="HOOKS"&&It&&It.categoryNomber===0){const Dt=It.text.match(/^H(\d+)$/);Dt&&(De=`HOOK${Dt[1]}`,Je="")}else Je="1";re[K]=De,me[K]=Je}ce[K]++;const ft=ce[K];let ut="";ft>1&&(ut=String.fromCharCode(66+ft-2));const rt=`T${ve}_C${ue}_E${we}_AD${Ae}_${De}${Je}${ut}_${Be}`;let xt="PROMPT_NEUTRAL";if(R==="TRANSFORMATION"||R==="CTA"){const It=je.text.toLowerCase(),Dt=["book","the book","rewrite","tears","lacrami"].some(fn=>It.includes(fn));R==="CTA"&&Dt?xt="PROMPT_CTA":xt="PROMPT_SMILING"}ge.push({id:`line-${Date.now()}-${ge.length}`,text:je.text,section:R,promptType:xt,videoName:rt,categoryNomber:z,charCount:je.charCount||je.text.length,redStart:je.redStart,redEnd:je.redEnd})}se(ge);const Xe=ge.filter(je=>je.categoryNomber>0).length;be.success(`Text processed successfully! ${Xe} lines extracted.`),await ga(2)}catch(T){be.error(`Error processing text: ${T.message}`)}},Ys=async T=>{const L=T.target.files?.[0];if(L)if(L.name.endsWith(".txt")){const R=await L.text();C(R),U(L.name),be.success("Text file loaded!")}else if(L.name.endsWith(".docx")||L.name.endsWith(".doc"))try{const R=await L.arrayBuffer(),z=await fN.extractRawText({arrayBuffer:R});C(z.value),U(L.name),be.success("Word document loaded!")}catch(R){be.error(`Error reading Word document: ${R.message}`)}else be.error("Please upload a .txt, .doc, or .docx file.")},Qu=async T=>{T.preventDefault();const L=T.dataTransfer.files[0];if(L)if(L.name.endsWith(".txt")){const R=await L.text();C(R),U(L.name),be.success("Text file loaded!")}else if(L.name.endsWith(".docx")||L.name.endsWith(".doc"))try{const R=await L.arrayBuffer(),z=await fN.extractRawText({arrayBuffer:R});C(z.value),U(L.name),be.success("Word document loaded!")}catch(R){be.error(`Error reading Word document: ${R.message}`)}else be.error("Please upload a .txt, .doc, or .docx file.")},cc=T=>{T.preventDefault()},Ju=async T=>{T.preventDefault();const L=T.dataTransfer.files[0];L&&(L.name.endsWith(".docx")||L.name.endsWith(".doc"))?(O(L),await _i(L)):be.error("Please upload a .docx document")},Zs=async T=>{const L=T.target.files?.[0];L&&(O(L),await _i(L))},_i=async T=>{try{const L=new FileReader;L.onload=async R=>{const z=R.target?.result,ce=(await $s.mutateAsync({documentData:z})).lines.map((K,re)=>({id:`line-${re}`,text:K.text,section:K.section,promptType:K.promptType,videoName:K.videoName,categoryNomber:K.categoryNomber,charCount:K.text.length}));se(ce),be.success(`${ce.length} lines extracted from document`)},L.readAsDataURL(T)}catch(L){be.error(`Error parsing document: ${L.message}`)}},Zi=async T=>{T.preventDefault();const L=Array.from(T.dataTransfer.files);await Ed(L)},wi=async T=>{const L=Array.from(T.target.files||[]);await Ed(L)},Ed=async T=>{const L=T.filter(R=>R.name.endsWith(".docx")||R.name.endsWith(".doc"));for(const R of L)try{const z=new FileReader;z.onload=async Z=>{const ce=Z.target?.result,K=await Yu.mutateAsync({documentData:ce}),re={id:`prompt-${Date.now()}-${Math.random()}`,name:R.name.replace(/\.(docx|doc)$/i,""),template:K.promptTemplate,file:R};ae(me=>[...me,re]),be.success(`Prompt "${re.name}" loaded`)},z.readAsDataURL(R)}catch(z){be.error(`Error parsing prompt ${R.name}: ${z.message}`)}},ef=T=>{ae(L=>L.filter(R=>R.id!==T))},Wo=async T=>{T.preventDefault();const L=Array.from(T.dataTransfer.files);await gs(L)},Nd=async T=>{const L=Array.from(T.target.files||[]);await gs(L)},gs=async T=>{const L=T.filter(Z=>Z.type.startsWith("image/"));if(L.length===0){be.error("No valid image file selected");return}if(!p){be.error("Please select a character before uploading images");return}const R=p&&br?.find(Z=>Z.id===p)?.name||"Unnamed",z=[];for(const Z of L){const ce=Z.name.replace(/\.[^/.]+$/,"");qi.find(re=>re.imageName===ce&&re.characterName===R)&&z.push(Z.name)}if(z.length>0){be.error(`The following images already exist in library for ${R}: ${z.join(", ")}`);return}try{B(L),J(0);const Z=L.map(async(re,me)=>new Promise((ge,ve)=>{const ue=new FileReader;ue.onload=async we=>{try{const Ae=we.target?.result,Be=await up.mutateAsync({imageData:Ae,fileName:re.name,userId:e.id,sessionId:Ii}),Xe=re.name.toUpperCase().includes("CTA"),je={id:`img-${Date.now()}-${Math.random()}`,url:Be.imageUrl,file:re,fileName:re.name,isCTA:Xe};try{await Aa.mutateAsync({userId:e.id,characterName:p&&br?.find(De=>De.id===p)?.name||"Unnamed",imageName:re.name.replace(/\.[^/.]+$/,""),imageData:Ae}),console.log("[Auto-save] Image saved to library:",re.name)}catch(De){console.error("[Auto-save] Failed to save to library:",De)}ge(je)}catch(Ae){ve(Ae)}},ue.onerror=ve,ue.readAsDataURL(re)})),ce=await Promise.all(Z),K=Rr(ce);ee(re=>[...re,...K]),B([]),J(0),be.success(`${ce.length} images uploaded`)}catch(Z){B([]),J(0),be.error(`Error uploading images: ${Z.message}`)}},Rr=T=>{const L={};T.forEach(z=>{const Z=z.fileName.replace(/CTA/gi,"").replace(/[_-]$/,"").trim();L[Z]||(L[Z]={}),z.isCTA?L[Z].cta=z:L[Z].normal=z});const R=[];return Object.values(L).forEach(z=>{z.normal&&R.push(z.normal),z.cta&&R.push(z.cta)}),R},Ad=T=>{ee(L=>L.filter(R=>R.id!==T))},ms=async T=>{Oe.current=!1;const L=Date.now();console.log("[Batch Processing]  BATCH START at",new Date().toISOString()),console.log("[Batch Processing]  Starting FFmpeg batch processing with",T.length,"videos");const R=ct?.ffmpegBatchSize||15,z=Math.ceil(T.length/R),Z=30+(z-1)*91,ce=Math.ceil(Z/60);P({ffmpeg:{current:0,total:T.length,status:"processing",activeVideos:[]},whisper:{current:0,total:T.length,status:"idle",activeVideos:[]},cleanvoice:{current:0,total:T.length,status:"idle",activeVideos:[]},currentVideoName:"",countdown:0,estimatedMinutes:ce,successVideos:[],failedVideos:[],ffmpegSuccess:[],ffmpegFailed:[],whisperSuccess:[],whisperFailed:[],cleanvoiceSuccess:[],cleanvoiceFailed:[]});const K=new Map,re=[],me=[];let ge=0,ve=1;for(;ge<T.length;){if(Oe.current){console.log("[Batch Processing]  STOPPED by user"),be.info(" Processing stopped by user");break}const Xe=Math.min(ge+R,T.length),je=T.slice(ge,Xe);console.log(`[Batch Processing]  FFmpeg Batch ${ve}/${z}: Processing ${je.length} videos (${ge+1}-${Xe})...`),P(ut=>({...ut,currentVideoName:` Batch ${ve}/${z}: Processing ${je.length} videos...`}));const De=je.map(async ut=>{try{console.log(`[Batch Processing]  FFmpeg START for ${ut.videoName}`),P(xt=>({...xt,ffmpeg:{...xt.ffmpeg,status:"processing",activeVideos:[...xt.ffmpeg.activeVideos,ut.videoName]}}));const rt=await cp.mutateAsync({videoUrl:ut.videoUrl,videoId:parseInt(ut.id||"0"),videoName:ut.videoName,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});return console.log(`[Batch Processing]  FFmpeg SUCCESS for ${ut.videoName}`),P(xt=>({...xt,ffmpeg:{current:xt.ffmpeg.current+1,total:T.length,status:xt.ffmpeg.current+1===T.length?"complete":"processing",activeVideos:xt.ffmpeg.activeVideos.filter(It=>It!==ut.videoName)},ffmpegSuccess:[...xt.ffmpegSuccess,ut.videoName]})),{video:ut,wavUrl:rt.wavUrl,waveformJson:rt.waveformJson,success:!0}}catch(rt){return console.error(`[Batch Processing]  FFmpeg FAILED for ${ut.videoName}:`,rt),P(xt=>({...xt,ffmpeg:{current:xt.ffmpeg.current+1,total:T.length,status:"processing",activeVideos:xt.ffmpeg.activeVideos.filter(It=>It!==ut.videoName)},ffmpegFailed:[...xt.ffmpegFailed,{videoName:ut.videoName,error:rt.message}],failedVideos:[...xt.failedVideos,{videoName:ut.videoName,error:`FFmpeg: ${rt.message}`}]})),re.push({videoName:ut.videoName,error:rt.message,step:"ffmpeg"}),{video:ut,success:!1,error:rt.message}}}),Je=await Promise.all(De);console.log(`[Batch Processing]  FFmpeg Batch ${ve} complete!`);try{const ut=T.map(rt=>{const xt=Je.find(It=>It.video.videoName===rt.videoName);return!xt||!xt.success?rt:{...rt,audioUrl:xt.wavUrl,waveformData:xt.waveformJson}});await Gt.mutateAsync({userId:ct.id,sessionId:contextSessionId,videoResults:ut}),console.log(`[Batch Processing]  DB saved after FFmpeg batch ${ve}`)}catch(ut){console.error(`[Batch Processing]  Failed to save to DB after FFmpeg batch ${ve}:`,ut)}const ft=Je.filter(ut=>ut.success).map(async ut=>{const{video:rt,wavUrl:xt,waveformJson:It}=ut;try{console.log(`[Batch Processing]  Whisper+CleanVoice START for ${rt.videoName}`),P(Bn=>({...Bn,whisper:{...Bn.whisper,status:"processing",activeVideos:[...Bn.whisper.activeVideos,rt.videoName]},cleanvoice:{...Bn.cleanvoice,status:"processing",activeVideos:[...Bn.cleanvoice.activeVideos,rt.videoName]}}));const Mt=rt.redStart!==void 0&&rt.redEnd!==void 0&&rt.redStart>=0&&rt.redEnd>rt.redStart,Dt=Mt?rt.text.substring(rt.redStart,rt.redEnd):"",fn=rt.text.length,ma=Mt?(rt.redEnd||0)>=fn-10?"END":"START":void 0,ur=await dp.mutateAsync({wavUrl:xt,videoId:parseInt(rt.id||"0"),videoName:rt.videoName,fullText:rt.text,redText:Dt,redTextPosition:ma,marginMs:50,userApiKey:ct.openaiApiKey||void 0,cleanvoiceApiKey:ct.cleanvoiceApiKey||void 0,userId:ct.id});console.log(`[Batch Processing]  Whisper+CleanVoice SUCCESS for ${rt.videoName}`),P(Bn=>({...Bn,whisper:{current:Bn.whisper.current+1,total:T.length,status:Bn.whisper.current+1===T.length?"complete":"processing",activeVideos:Bn.whisper.activeVideos.filter(Xr=>Xr!==rt.videoName)},cleanvoice:{current:Bn.cleanvoice.current+1,total:T.length,status:Bn.cleanvoice.current+1===T.length?"complete":"processing",activeVideos:Bn.cleanvoice.activeVideos.filter(Xr=>Xr!==rt.videoName)},whisperSuccess:[...Bn.whisperSuccess,rt.videoName],cleanvoiceSuccess:[...Bn.cleanvoiceSuccess,rt.videoName],successVideos:[...Bn.successVideos,rt.videoName]})),K.set(rt.videoName,{videoName:rt.videoName,success:!0,result:{whisperTranscript:ur.whisperTranscript,cutPoints:ur.cutPoints,words:ur.words,audioUrl:xt,waveformData:It,editingDebugInfo:ur.editingDebugInfo,cleanvoiceAudioUrl:ur.cleanvoiceAudioUrl,noCutNeeded:!1}})}catch(Mt){console.error(`[Batch Processing]  Whisper+CleanVoice FAILED for ${rt.videoName}:`,Mt);const Dt=Mt.message||String(Mt),fn=Dt.includes("CleanVoice failed"),ma=Dt.includes("Whisper failed");P(ur=>({...ur,whisper:{current:ur.whisper.current+1,total:T.length,status:"processing",activeVideos:ur.whisper.activeVideos.filter(Bn=>Bn!==rt.videoName)},cleanvoice:{current:ur.cleanvoice.current+1,total:T.length,status:"processing",activeVideos:ur.cleanvoice.activeVideos.filter(Bn=>Bn!==rt.videoName)},whisperFailed:ma||!fn&&!ma?[...ur.whisperFailed,{videoName:rt.videoName,error:Mt.message}]:ur.whisperFailed,cleanvoiceFailed:fn||!fn&&!ma?[...ur.cleanvoiceFailed,{videoName:rt.videoName,error:Mt.message}]:ur.cleanvoiceFailed,failedVideos:[...ur.failedVideos,{videoName:rt.videoName,error:`Whisper/CleanVoice: ${Mt.message}`}]})),re.push({videoName:rt.videoName,error:Mt.message,step:"whisper"}),K.set(rt.videoName,{videoName:rt.videoName,success:!1,error:Mt.message})}});if(me.push(...ft),ge=Xe,ve++,ge<T.length){console.log(`[Batch Processing]  Waiting 61 seconds before FFmpeg batch ${ve}...`);for(let ut=61;ut>0;ut--)P(rt=>({...rt,countdown:ut,currentVideoName:` FFmpeg rate limit: waiting ${ut}s before batch ${ve}/${z}...`})),await new Promise(rt=>setTimeout(rt,1e3));P(ut=>({...ut,countdown:0}))}}console.log("[Batch Processing]  All FFmpeg batches processed! Waiting for Whisper+CleanVoice to finish..."),P(Xe=>({...Xe,currentVideoName:" Waiting for Whisper + CleanVoice to finish..."})),await Promise.all(me),console.log("[Batch Processing]  All Whisper+CleanVoice processing complete!");const ue=T.map(Xe=>{const je=K.get(Xe.videoName);if(!je)return console.log(`[Batch Processing]  No result for ${Xe.videoName}, preserving original state`),Xe;if(!je.success)return console.log(`[Batch Processing]  Failed audio processing for ${Xe.videoName}:`,je.error),{...Xe,audioProcessingStatus:"failed",audioProcessingError:je.error};console.log(`[Batch Processing]  Success for ${Xe.videoName}`),console.log("[Batch Processing]  Preserving recutStatus:",Xe.recutStatus);const De={...Xe,audioProcessingStatus:"success",audioUrl:je.result.audioUrl,waveformData:je.result.waveformData,cutPoints:je.result.cutPoints,isStartLocked:!0,isEndLocked:!0,whisperTranscript:je.result.whisperTranscript,editingDebugInfo:je.result.editingDebugInfo,cleanvoiceAudioUrl:je.result.cleanvoiceAudioUrl};return console.log("[Batch Processing]  After update, recutStatus:",De.recutStatus),De}),we=await new Promise(Xe=>{oe(je=>{const De=[...je];return ue.forEach(Je=>{const ft=De.findIndex(ut=>ut.videoName===Je.videoName);ft!==-1&&(De[ft]=Je)}),Xe(De),De})});try{await Gt.mutateAsync({userId:ct.id,sessionId:contextSessionId,videoResults:we}),console.log("[Batch Processing]  Final DB save complete")}catch(Xe){console.error("[Batch Processing]  Failed to save final results to database:",Xe)}const Ae=Date.now()-L,Be=T.length-re.length;return console.log(`[Batch Processing]  BATCH COMPLETE in ${Ae}ms (${(Ae/1e3).toFixed(2)}s)`),console.log(`[Batch Processing]  Success: ${Be}, Failed: ${re.length}`),P(Xe=>({...Xe,ffmpeg:{...Xe.ffmpeg,status:"complete"},whisper:{...Xe.whisper,status:"complete"},cleanvoice:{...Xe.cleanvoice,status:"complete"},currentVideoName:Be===T.length?" All videos processed successfully!":` Complete: ${Be} success, ${re.length} failed`,countdown:0,estimatedMinutes:0})),re.length>0?be.warning(` Processing complete: ${Be} success, ${re.length} failed`):be.success(` All ${Be} videos processed successfully!`),K},Md=async(T,L=!1)=>{if(Kl&&Kl!==""){console.log("[Sample Merge]  Merge already in progress, ignoring click");return}const R=Y.filter(K=>K.recutStatus==="recut");if(R.length>0){console.log("[Sample Merge]  Found",R.length,"recut videos, triggering Trim All Videos");const K=document.querySelector("[data-trim-all-videos]");K&&K.click();return}if(!L&&vi){console.log("[Sample Merge]  sampleMergedVideoUrl exists, showing warning"),Io(!0);return}an.current=!1,console.log("[Sample Merge]  Starting Sample Merge..."),console.log("[Sample Merge]  Reloading videoResults from DB to get fresh cut points...");try{const re=(await Hr()).data;if(re&&re.videoResults){const me=re.videoResults;console.log("[Sample Merge]  Fresh videoResults loaded from DB:",Array.isArray(me)?me.length:"N/A"),T=T.map(ge=>{const ve=me.find(ue=>ue.videoName===ge.videoName);return ve?.cutPoints?(console.log(`[Sample Merge]  Updated cutPoints for ${ge.videoName}:`,ve.cutPoints),{...ge,cutPoints:ve.cutPoints}):ge}),Dn.current=me,oe(me),iy(Date.now()),console.log("[Sample Merge]  Updated videoResults state and ref with fresh cutPoints from DB")}else console.log("[Sample Merge]  No videoResults in DB, using local state")}catch(K){console.error("[Sample Merge]  Failed to reload from DB:",K)}const z=T.map(K=>({name:K.videoName,note:K.step9Note||""}));Oo(z),Vi(null),Jr(""),Os(!0);const Z=Date.now();let ce=0;if(Wi){const K=Z-Wi,re=12e4;if(K<re){const me=re-K;ce=Math.ceil(me/1e3),console.log(`[Sample Merge] Cooldown active! ${ce}s remaining`)}}if(ce>0){Ls(ce),Jr(` Waiting ${ce}s before merge (FFmpeg rate limit)...`);for(let K=ce;K>0;K--){if(an.current){console.log("[Sample Merge]  Merge cancelled by user"),Ls(0),Jr("");return}await new Promise(re=>setTimeout(re,1e3)),Ls(K-1),Jr(` Waiting ${K-1}s before merge...`)}}Yl(Date.now()),Ls(0),console.log("[Sample Merge]  User clicked button, re-merging..."),Vi(null),Jr("Preparing videos...");try{const K=ue=>{if(ue.startsWith("/api/proxy-video?url=")){const we=new URLSearchParams(ue.split("?")[1]).get("url");return we?decodeURIComponent(we):ue}return ue},re=T.map(ue=>({url:K(ue.trimmedVideoUrl||ue.videoUrl),name:ue.videoName,startMs:0,endMs:0}));console.log("[Sample Merge] Videos:",re),Jr(`Uploading ${re.length} videos to FFmpeg API...`);const me=await Sd.mutateAsync({videos:re,ffmpegApiKey:ct.ffmpegApiKey||""});console.log("[Sample Merge] Success!",me),Vi(me.downloadUrl),cd(me.downloadUrl),console.log("[Sample Merge]  Updating sampleMergeVideos after merge");const ge=T.map(ue=>({name:ue.videoName,note:ue.step9Note||""}));Oo(ge);const ve=JSON.stringify(T.map(ue=>({name:ue.videoName,startMs:Math.round(ue.cutPoints?.startKeep||0),endMs:Math.round(ue.cutPoints?.endKeep||0)})));cy(ve),console.log("[Sample Merge]  Saving sampleMergedVideoUrl to DB...");try{await Gt.mutateAsync({userId:ct.id,tamId:r||void 0,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,sampleMergedVideoUrl:me.downloadUrl}),console.log("[Sample Merge]  sampleMergedVideoUrl saved to DB!")}catch(ue){console.error("[Sample Merge]  Failed to save to DB:",ue)}Jr(""),be.success(" Sample merge complete!")}catch(K){console.error("[Sample Merge] Error:",K),Jr(`Error: ${K.message}`),be.error(`Sample merge failed: ${K.message}`)}},py=async()=>{if(console.log("[Step 10Step 11] Starting final merge process..."),Tr.length===0||!cr){be.error("Please select at least one hook and one body video!");return}let T=null;if(cr==="body_merged"?T=Cn:(T=Y.find(De=>De.videoName===cr)?.trimmedVideoUrl||null,console.log("[Step 10Step 11] Body video:",cr,"trimmedVideoUrl:",T)),!T){be.error("Body video URL not found!");return}const L=[];for(const je of Tr){console.log(`[Step 10Step 11]  Processing hook: ${je}`);let De=null;if(/HOOK\d+M_/.test(je)){const Je=Object.keys(Jt).find(ft=>{const ut=ft.replace(/(HOOK\d+)/,"$1M");return console.log(`   Checking merged: ${ft}  ${ut} === ${je}? ${je===ut}`),je===ut});Je&&(De=Jt[Je],console.log(`   Found in hookMergedVideos[${Je}]: ${De}`))}else{const Je=je.match(/(.*)(HOOK\d+)(.*)/);if(Je){const ft=Je[1],ut=Je[2],rt=Je[3],xt=`${ft}${ut}${rt}`;Jt[xt]&&(De=Jt[xt],console.log(`   Found MERGED version in hookMergedVideos[${xt}]: ${De}`))}if(!De){const ft=Y.find(ut=>ut.videoName===je);De=ft?.trimmedVideoUrl||null,console.log(`   Using ORIGINAL from videoResults for ${je}:`,ft?`FOUND (trimmedVideoUrl: ${De})`:"NOT FOUND")}}if(De){const Je=je.match(/HOOK(\d+)[A-Z]?/),ft=Je?Je[1]:"1";L.push({name:je,url:De,hookNomber:ft}),console.log(`   Added to hookUrls: ${je} (HOOK${ft})`)}else console.log(`   SKIPPED ${je} - no URL found!`)}if(L.sort((je,De)=>{const Je=parseInt(je.hookNomber),ft=parseInt(De.hookNomber);return Je-ft}),console.log("[Step 10Step 11]  hookUrls array (sorted):",L),console.log("[Step 10Step 11]  selectedHooks:",Tr),console.log("[Step 10Step 11]  hookMergedVideos:",Jt),console.log(`
========== DETAILED DEBUG ==========`),console.log("selectedHooks.length:",Tr.length),console.log("hookUrls.length:",L.length),console.log(`
selectedHooks array:`),Tr.forEach((je,De)=>console.log(`  [${De}] ${je}`)),console.log(`
hookUrls array:`),L.forEach((je,De)=>console.log(`  [${De}] name: ${je.name}, hookNomber: ${je.hookNomber}, url: ${je.url.substring(0,50)}...`)),console.log(`
hookMergedVideos keys:`),Object.keys(Jt).forEach((je,De)=>console.log(`  [${De}] ${je}  ${je.replace(/(HOOK\d+)/,"$1M")}`)),console.log(`====================================
`),L.length===0){be.error("No valid hook URLs found!");return}const R=cr==="body_merged"?Y.find(je=>!je.videoName.toLowerCase().includes("hook")):Y.find(je=>je.videoName===cr);if(!R){be.error("Reference video not found!");return}const z=R.videoName.match(/^(T\d+_C\d+_E\d+_AD\d+)/),Z=R.videoName.match(/_([A-Z]+)_(\d+)$/),ce=z?z[1]:"MERGED",K=Z?Z[1]:"TEST";console.log("[Step 10Step 11] Context:",ce,"Character:",K),gd(!0);const re=[],me=ct?.ffmpegBatchSize||15,ge=Math.ceil(L.length/me);console.log(`[Step 10Step 11]  Batching: ${L.length} final videos in ${ge} batches (max ${me} per batch)`),ta({status:"countdown",message:"Waiting 60s before starting...",countdown:60,total:L.length,current:0,currentBatch:0,totalBatches:ge,successVideos:[],failedVideos:[],inProgressVideos:[],onSkipCountdown:void 0}),console.log("[Step 10Step 11]  Initial countdown 60s...");let ve=!1;ta(je=>({...je,onSkipCountdown:()=>{console.log("[Step 10Step 11]  User skipped countdown!"),ve=!0}}));for(let je=60;je>0;je--){if(ve){console.log("[Step 10Step 11]  Countdown skipped!");break}ta(De=>({...De,countdown:je,message:`Waiting ${je}s before starting...`})),await new Promise(De=>setTimeout(De,1e3))}ta(je=>({...je,status:"processing",countdown:0,onSkipCountdown:void 0,message:"Starting merge process..."})),console.log("[Step 10Step 11]  Starting merge...");let ue=0,we=0;for(let je=0;je<ge;je++){const De=je+1,Je=je*me,ft=L.slice(Je,Math.min(Je+me,L.length));console.log(`[Step 10Step 11]  Processing batch ${De}/${ge} (${ft.length} videos)...`),ta(rt=>({...rt,currentBatch:De,message:`Processing batch ${De}/${ge}...`}));const ut=ft.map(async rt=>{const xt=rt.name.replace(/(HOOK\d+)M/,"$1");console.log(`
[Step 10Step 11]  Merging ${xt}...`),console.log(`  Input hook.name: ${rt.name}`),console.log(`  Output finalVideoName: ${xt}`),console.log(`  Hook URL: ${rt.url.substring(0,60)}...`),console.log(`  Body URL: ${T.substring(0,60)}...`),ta(It=>({...It,inProgressVideos:[...It.inProgressVideos,{name:xt}]}));try{const It=await Ya.mutateAsync({videoUrls:[rt.url,T],outputVideoName:xt,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id,folder:"merged",useSimpleMerge:!1,useLoudnorm:!0}),Mt=re.findIndex(fn=>fn.videoName===xt),Dt={videoName:xt,cdnUrl:It.cdnUrl,hookName:rt.name,bodyName:cr||"body_merged"};Mt>=0?(re[Mt]=Dt,console.log(`[Step 10Step 11]  REPLACED existing ${xt}`)):(re.push(Dt),console.log(`[Step 10Step 11]  ADDED ${xt}`)),ue++,console.log(`[Step 10Step 11]  ${xt} SUCCESS (${ue}/${L.length})`),ta(fn=>({...fn,successVideos:[...fn.successVideos,{name:xt,hookName:rt.name,bodyName:cr||"body_merged"}],inProgressVideos:fn.inProgressVideos.filter(ma=>ma.name!==xt),current:fn.current+1}));try{await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:10,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:re}),console.log(`[Step 10Step 11]  DB saved after ${xt}`)}catch(fn){console.error(`[Step 10Step 11]  DB save failed for ${xt}:`,fn)}return{success:!0}}catch(It){return console.error(`[Step 10Step 11]  ${xt} FAILED:`,It),we++,ta(Mt=>({...Mt,failedVideos:[...Mt.failedVideos,{name:xt,error:It.message}],inProgressVideos:Mt.inProgressVideos.filter(Dt=>Dt.name!==xt)})),{success:!1}}});if(await Promise.all(ut),console.log(`[Step 10Step 11]  Batch ${De}/${ge} complete (${ue}/${L.length} total)`),je<ge-1){console.log(`[Step 10Step 11]  Waiting 60s after batch ${De}...`);for(let rt=60;rt>0;rt--)ta(xt=>({...xt,message:` Waiting ${rt}s before next batch...`})),await new Promise(xt=>setTimeout(xt,1e3));console.log("[Step 10Step 11]  Wait complete, starting next batch...")}}console.log("[Step 10Step 11]  Merging finalVideos..."),console.log("  Previous finalVideos from DB:",Xi.length,"videos"),console.log("  New results:",re.length,"videos");const Ae=new Map(Xi.map(je=>[je.videoName,je]));re.forEach(je=>{const De=Ae.has(je.videoName)?"REPLACED":"ADDED";console.log(`  ${De}: ${je.videoName}`),Ae.set(je.videoName,je)});const Be=Array.from(Ae.values());console.log("  Final merged array:",Be.length,"videos");try{await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:10,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:Be}),console.log("[Step 10Step 11]  Merged finalVideos saved to database:",Be.length,"videos"),await Hr(),console.log("[Step 10Step 11]  Refetched from database")}catch(je){console.error("[Step 10Step 11]  Failed to save/refetch finalVideos:",je)}const Xe=we===0?"complete":"partial";ta(je=>({...je,current:ue,total:L.length,currentVideo:"",status:Xe,message:we===0?` All ${ue} videos merged successfully!`:` ${ue}/${L.length} videos merged (${we} failed)`})),we===0?be.success(` All ${ue} videos merged successfully!`):be.warning(` ${we} videos failed`)},gy=async()=>{const T=gr.failedVideos||[];if(T.length===0){be.info("No failed videos to retry");return}console.log(`[Retry Failed Final Merge] Retrying ${T.length} failed videos...`);let L=null;if(cr==="body_merged"?L=Cn:L=Y.find(me=>me.videoName===cr)?.trimmedVideoUrl||null,!L){be.error("Body video URL not found!");return}ta(re=>({...re,status:"processing",message:`Retrying ${T.length} failed videos...`,failedVideos:[]}));let R=0,z=0;const Z=[];for(const re of T){const me=re.name;console.log(`[Retry Failed Final Merge] Retrying ${me}...`),ta(ge=>({...ge,currentVideo:me,message:`Retrying ${me}...`}));try{let ge=null;const ve=Object.keys(Jt).find(Ae=>{const Be=Ae.replace(/(HOOK\d+)/,"$1M");return me===Be||me.includes(Be)});if(ve?ge=Jt[ve]:ge=Y.find(Be=>Be.videoName===me||me.includes(Be.videoName))?.trimmedVideoUrl||null,!ge)throw new Error("Hook URL not found");const ue=await Ya.mutateAsync({videoUrls:[ge,L],outputVideoName:me,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id,folder:"merged",useLoudnorm:!0}),we={videoName:me,cdnUrl:ue.cdnUrl,hookName:me,bodyName:cr||"body_merged"};Lo(Ae=>[...Ae,we]);try{await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:10,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:[...dr,we]}),console.log(`[Retry Failed Final Merge]  DB saved after ${me}`)}catch(Ae){console.error(`[Retry Failed Final Merge]  DB save failed for ${me}:`,Ae)}R++,console.log(`[Retry Failed Final Merge]  ${me} SUCCESS`),ta(Ae=>({...Ae,successVideos:[...Ae.successVideos,{name:me,hookName:me,bodyName:cr||"body_merged"}]}))}catch(ge){console.error(`[Retry Failed Final Merge]  ${me} FAILED:`,ge),z++,Z.push({name:me,error:ge.message})}}const ce=gr.current+R,K=Z.length===0?"complete":"partial";ta(re=>({...re,current:ce,status:K,failedVideos:Z,message:Z.length===0?` All retries successful! ${ce} videos merged.`:` ${R} retries succeeded, ${z} still failed`})),Z.length===0?be.success(` All ${R} retries successful!`):be.warning(` ${z} videos still failed`)},mr=async()=>{const T=St.failedVideos;if(T.length===0){be.error("No failed videos to retry!");return}console.log(`[Retry] Starting manual retry for ${T.length} failed videos...`),_n(re=>({...re,status:"processing",message:`Retrying ${T.length} failed videos...`}));const L=T.filter(re=>!re.name.includes("(Hooks merge)")&&!re.name.includes("(Body merge)")),R=T.filter(re=>re.name.includes("(Hooks merge)")||re.name.includes("(Body merge)"));for(const re of L){const me=Y.find(ge=>ge.videoName===re.name);if(!me){console.error(`[Retry] Video not found: ${re.name}`);continue}_n(ge=>({...ge,failedVideos:ge.failedVideos.map(ve=>ve.name===re.name?{...ve,status:"retrying",error:""}:ve),message:`Retrying ${re.name}...`}));try{const ge=me.cutPoints?.startKeep||0,ve=me.cutPoints?.endKeep||0;console.log(`[Retry] Processing ${me.videoName}...`);const ue=await Xu.mutateAsync({userId:ct.id,videoUrl:me.videoUrl,videoName:me.videoName,startTimeMs:ge,endTimeMs:ve,ffmpegApiKey:ct.ffmpegApiKey||void 0,cleanVoiceAudioUrl:me.cleanvoiceAudioUrl||void 0,overlaySettings:me.overlaySettings||void 0});if(!ue.success||!ue.downloadUrl)throw new Error("Failed to trim video");const we=(ve-ge)/1e3;oe(Ae=>Ae.map(Be=>Be.videoName===me.videoName?{...Be,trimmedVideoUrl:ue.downloadUrl,recutStatus:"accepted",status:"success",error:void 0,trimmedDuration:we}:Be)),console.log(`[Retry]  ${me.videoName} SUCCESS - Saving to database...`);try{const Ae=await new Promise(Be=>{oe(Xe=>(Be(Xe),Xe))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Ae,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log(`[Retry]  ${me.videoName} saved to database`)}catch(Ae){console.error(`[Retry]  Database save failed for ${me.videoName}:`,Ae)}_n(Ae=>({...Ae,current:Ae.current+1,successVideos:[...Ae.successVideos,{name:me.videoName}],failedVideos:Ae.failedVideos.filter(Be=>Be.name!==me.videoName)}))}catch(ge){console.error(`[Retry]  ${me.videoName} FAILED:`,ge),oe(ve=>ve.map(ue=>ue.videoName===me.videoName?{...ue,error:ge.message||"Unknown error"}:ue));try{const ve=await new Promise(ue=>{oe(we=>(ue(we),we))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ve,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log(`[Retry]  ${me.videoName} failed status saved to database`)}catch(ve){console.error(`[Retry]  Database save failed for ${me.videoName}:`,ve)}_n(ve=>({...ve,failedVideos:ve.failedVideos.map(ue=>ue.name===me.videoName?{...ue,status:void 0,error:ge.message||"Unknown error",retries:(ue.retries||0)+1}:ue)}))}}const z=St.successVideos.length,Z=St.failedVideos.length,ce=Z>0?"partial":"complete";if(_n(re=>({...re,status:ce,message:Z>0?` ${z} succeeded, ${Z} still failed`:" All videos trimmed successfully!"})),console.log(`[Retry] COMPLETE! Success: ${z}, Failed: ${Z}`),z>0){console.log("[Retry]  Saving trimmedVideoUrl to database...");try{await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:selectedCoreBelief,emotionalAngleId:selectedEmotionalAngle,adId:selectedAd,characterId:selectedCharacter,videoResults:Y}),console.log("[Retry]  Database save successful!")}catch(re){console.error("[Retry]  Database save failed:",re),be.error("Failed to save trimmed videos to database")}}for(const re of R){console.log(`[Retry]  Retrying merge: ${re.name}`),_n(me=>({...me,message:`Retrying ${re.name}...`,failedVideos:me.failedVideos.map(ge=>ge.name===re.name?{...ge,status:"retrying",error:""}:ge)}));try{if(re.name.includes("(Hooks merge)")){const me=re.name.replace(" (Hooks merge)",""),ge=Y.filter(Ae=>Ae.videoName.startsWith(me)&&(Ae.videoName.includes("_HOOK")||Ae.videoName.includes("HOOK"))&&Ae.trimmedVideoUrl);if(ge.length===0)throw new Error("No hook videos found for merge");console.log(`[Retry] Found ${ge.length} hook videos for ${me}`);const ve=ge.map(Ae=>({url:Ae.trimmedVideoUrl,name:Ae.videoName})),ue=`${me}_HOOKS_MERGED`,we=await Ya.mutateAsync({videos:ve,outputVideoName:ue,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log(`[Retry]  ${re.name} SUCCESS:`,we.cdnUrl),Na(Ae=>[...Ae.filter(Be=>!Be.name.startsWith(me)),{name:ue,url:we.cdnUrl}]),_n(Ae=>({...Ae,failedVideos:Ae.failedVideos.filter(Be=>Be.name!==re.name),mergedVideos:[...Ae.mergedVideos,{name:ue,type:"hook"}]}))}else if(re.name.includes("(Body merge)")){const me=Y.filter(we=>!we.videoName.includes("_HOOK")&&!we.videoName.includes("HOOK")&&we.trimmedVideoUrl&&we.recutStatus==="accepted");if(me.length===0)throw new Error("No body videos found for merge");console.log(`[Retry] Found ${me.length} body videos`);const ge=me.map(we=>({url:we.trimmedVideoUrl,name:we.videoName})),ve="BODY_MERGED",ue=await Ya.mutateAsync({videos:ge,outputVideoName:ve,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log("[Retry]  BODY merge SUCCESS:",ue.cdnUrl),Ea(ue.cdnUrl),_n(we=>({...we,failedVideos:we.failedVideos.filter(Ae=>Ae.name!==re.name),mergedVideos:[...we.mergedVideos,{name:ve,type:"body"}]}))}await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr})}catch(me){console.error(`[Retry]  ${re.name} FAILED AGAIN:`,me),_n(ge=>({...ge,failedVideos:ge.failedVideos.map(ve=>ve.name===re.name?{...ve,status:"failed",error:me.message}:ve)})),be.error(`Failed to retry ${re.name}: ${me.message}`)}}const K=St.failedVideos.filter(re=>re.status!=="retrying");if(R.length>0&&K.length===0){console.log("[Retry]  All merge retries successful! Continuing with final merge..."),_n(ve=>({...ve,status:"processing",message:"Continuing with final merge..."})),console.log("[Retry]  Waiting 58 seconds before final merge (FFmpeg rate limit)...");for(let ve=58;ve>0;ve--)_n(ue=>({...ue,message:` Waiting ${ve}s before final merge (FFmpeg rate limit)...`,countdown:ve})),await new Promise(ue=>setTimeout(ue,1e3));const ge=((await getContextSessionQuery.refetch()).data?.videoResults||Y).filter(ve=>ve.trimmedVideoUrl&&ve.recutStatus==="accepted"&&!ve.videoName.includes("(Hooks merged)")&&!ve.videoName.includes("(Body merged)"));if(ge.length>0)try{const ve=ge.map(we=>({url:we.trimmedVideoUrl,name:we.videoName})),ue=await Ya.mutateAsync({videos:ve,outputVideoName:"FINAL_PREVIEW_MERGE",ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log("[Retry]  Final merge successful!",ue.cdnUrl),jo(ue.cdnUrl),_n(we=>({...we,status:"complete",mergeStatus:"success",message:" All operations completed successfully!"})),be.success("Final merge successful!")}catch(ve){console.error("[Retry]  Final merge failed:",ve),_n(ue=>({...ue,status:"partial",mergeStatus:"failed",message:` Merge retry complete but final merge failed: ${ve.message}`}))}return}if(Z===0&&z>0&&L.length>0){console.log("[Retry]  All videos successful! Auto-merging..."),_n(re=>({...re,status:"merging",mergeStatus:"pending",message:` Merging ALL ${z} videos... Please wait...`}));try{const re=ue=>{if(ue.startsWith("/api/proxy-video?url=")){const we=new URLSearchParams(ue.split("?")[1]).get("url");return we?decodeURIComponent(we):ue}return ue},ge=Y.filter(ue=>St.successVideos.some(we=>we.name===ue.videoName)).map(ue=>({url:re(ue.videoUrl),name:ue.videoName,startMs:ue.cutPoints?.startKeep||0,endMs:ue.cutPoints?.endKeep||0}));console.log("[Retry]  Calling cutAndMergeAllMutation with:",ge.length,"videos");const ve=await Sd.mutateAsync({videos:ge,ffmpegApiKey:ct.ffmpegApiKey||""});console.log("[Retry]  Auto-merge successful!",ve),jo(ve.downloadUrl),_n(ue=>({...ue,status:"complete",mergeStatus:"success",message:" All videos trimmed and merged successfully!"}))}catch(re){console.error("[Retry]  Auto-merge failed:",re),_n(me=>({...me,status:"partial",mergeStatus:"failed",message:` Retry complete but merge failed: ${re.message}`}))}}},tf=async()=>{const T=Y.filter(Be=>Be.reviewStatus==="accepted"&&Be.recutStatus!=="accepted"&&Be.status==="success"&&Be.videoUrl);if(T.length===0){be.error("No videos to cut!"),Fi(!1);return}const L=T.filter(Be=>!Be.isStartLocked||!Be.isEndLocked);if(L.length>0){const Be=L.map(Xe=>Xe.videoName).join(`
`);be.error(` The following videos are not locked:

${Be}

Please lock START and END for all videos before trimming!`,{duration:8e3}),Fi(!1);return}console.log("[Simple Cut] Starting batch process for",T.length,"videos (10 per batch, 58s wait)");const R=ct?.ffmpegBatchSize||15,z=Math.ceil(T.length/R),Z=T.filter(Be=>Be.cleanvoiceAudioUrl).length,ce=T.length-Z,K=1+Z*4+ce*3;console.log("[Simple Cut]  FFmpeg requests calculation:",{total:K,directory:1,withCleanVoice:Z,withoutCleanVoice:ce}),_n({current:0,total:T.length,currentVideo:"",status:"processing",message:`Starting batch processing (${z} batches)...`,successVideos:[],failedVideos:[],inProgressVideos:[],currentBatch:0,totalBatches:z,batchSize:R,mergeStatus:"idle",ffmpegRequestsCurrent:0,ffmpegRequestsTotal:K,countdown:0,cuttingCurrent:0,cuttingTotal:T.length,mergingCurrent:0,mergingTotal:0,mergedVideos:[]}),Fi(!0);const re=Date.now();let me=0;if(Wi){const Be=re-Wi,Xe=12e4;if(Be<Xe){const je=Xe-Be;me=Math.ceil(je/1e3),console.log(`[Simple Cut] Sample Merge cooldown active! ${me}s remaining`)}}if(me>0){console.log(`[Simple Cut]  Waiting ${me}s cooldown from last Sample Merge...`);for(let Be=me;Be>0;Be--)_n(Xe=>({...Xe,countdown:Be,status:"processing",message:` Cooldown from Sample Merge: ${Be}s remaining...`})),await new Promise(Xe=>setTimeout(Xe,1e3));_n(Be=>({...Be,countdown:0}))}console.log("[Simple Cut]  Creating shared FFmpeg directory...");let ge;try{ge=(await fy.mutateAsync({ffmpegApiKey:ct.ffmpegApiKey||""})).dirId,console.log("[Simple Cut]  Shared directory created:",ge),_n(Xe=>({...Xe,ffmpegRequestsCurrent:Xe.ffmpegRequestsCurrent+1}))}catch(Be){console.error("[Simple Cut]  Failed to create shared directory:",Be)}let ve=0,ue=1;for(;ve<T.length;){const Be=Math.min(ve+R,T.length),Xe=T.slice(ve,Be);console.log(`[Simple Cut]  Batch ${ue}: Processing ${Xe.length} videos (${ve+1}-${Be})...`),_n(De=>({...De,currentBatch:ue,message:` Batch ${ue}/${z}: Cutting ${Xe.length} videos...`}));const je=Xe.map(async De=>{const Je=T.indexOf(De);_n(ft=>({...ft,inProgressVideos:[...ft.inProgressVideos,{name:De.videoName}]}));try{const ft=De.cutPoints?.startKeep||0,ut=De.cutPoints?.endKeep||0;console.log(`[Simple Cut] Processing ${De.videoName} (${Je+1}/${T.length})`);const rt=await Xu.mutateAsync({userId:ct.id,videoUrl:De.videoUrl,videoName:De.videoName,startTimeMs:ft,endTimeMs:ut,ffmpegApiKey:ct.ffmpegApiKey||"",cleanVoiceAudioUrl:De.cleanvoiceAudioUrl||null,dirId:ge,overlaySettings:De.overlaySettings||void 0});if(!rt.success||!rt.downloadUrl)throw new Error("Failed to trim video");const xt=(ut-ft)/1e3;oe(Mt=>Mt.map(Dt=>Dt.videoName===De.videoName?{...Dt,trimmedVideoUrl:rt.downloadUrl,recutStatus:"accepted",trimmedDuration:xt}:Dt)),console.log(`[Simple Cut]  ${De.videoName} SUCCESS - Saving to database...`);try{const Mt=await new Promise(Dt=>{oe(fn=>(Dt(fn),fn))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Mt,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log(`[Simple Cut]  ${De.videoName} saved to database`)}catch(Mt){console.error(`[Simple Cut]  Database save failed for ${De.videoName}:`,Mt)}const It=De.cleanvoiceAudioUrl?3:2;return _n(Mt=>({...Mt,current:Mt.current+1,cuttingCurrent:Mt.cuttingCurrent+1,successVideos:[...Mt.successVideos,{name:De.videoName}],inProgressVideos:Mt.inProgressVideos.filter(Dt=>Dt.name!==De.videoName),ffmpegRequestsCurrent:Mt.ffmpegRequestsCurrent+It})),{video:De,status:"success"}}catch(ft){console.error(`[Simple Cut]  ${De.videoName} FAILED:`,ft),oe(ut=>ut.map(rt=>rt.videoName===De.videoName?{...rt,error:ft.message||"Unknown error"}:rt));try{const ut=await new Promise(rt=>{oe(xt=>(rt(xt),xt))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ut,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log(`[Simple Cut]  ${De.videoName} failed status saved to database`)}catch(ut){console.error(`[Simple Cut]  Database save failed for ${De.videoName}:`,ut)}return _n(ut=>({...ut,current:ut.current+1,failedVideos:[...ut.failedVideos,{name:De.videoName,error:ft.message||"Unknown error",retries:0}],inProgressVideos:ut.inProgressVideos.filter(rt=>rt.name!==De.videoName)})),{video:De,status:"failed",error:ft.message}}});if(await Promise.all(je),console.log(`[Simple Cut]  Batch ${ue} complete!`),ve=Be,ue++,ve<T.length){console.log(`[Simple Cut]  Waiting 58 seconds before batch ${ue}...`);for(let De=58;De>0;De--)_n(Je=>({...Je,message:` Waiting ${De}s before next batch (FFmpeg rate limit)...`,status:"processing",countdown:De})),await new Promise(Je=>setTimeout(Je,1e3));_n(De=>({...De,countdown:0}))}}console.log("[Simple Cut]  All batches processed!");const we=T.length%R||R,Ae=we===R;if(console.log(`[Simple Cut] Last batch size: ${we}, needs cooldown: ${Ae}`),Ae){console.log("[Simple Cut]  Last batch = 10 videos, waiting 60s cooldown...");for(let Be=60;Be>0;Be--)_n(Xe=>({...Xe,countdown:Be,message:` Cooldown: ${Be}s remaining before completion...`})),await new Promise(Xe=>setTimeout(Xe,1e3));_n(Be=>({...Be,countdown:0}))}_n(Be=>{const Xe=Be.successVideos.length,je=Be.failedVideos.length,De=je>0?"partial":"complete";return console.log(`[Simple Cut]  COMPLETE! Success: ${Xe}, Failed: ${je}`),{...Be,status:De,message:je>0?` ${Xe} succeeded, ${je} failed`:` All ${Xe} videos cut successfully!`}})},dc=async()=>{console.log("[Prepare for Merge]  Starting NEW merge process...");const T=Y.filter(we=>we.trimmedVideoUrl&&we.reviewStatus==="accepted"&&we.status==="success");if(T.length===0){be.error("No trimmed videos to merge!"),bi(!1);return}console.log("[Prepare for Merge]  Trimmed videos:",T.length);const L=T.filter(we=>!we.videoName.match(/HOOK\d+[A-Z]?/)),R=T.filter(we=>we.videoName.match(/HOOK\d+[A-Z]?/)),z={};R.forEach(we=>{const Ae=we.videoName.match(/(.*)(HOOK\d+)[A-Z]?(.*)/);if(console.log(`[Prepare for Merge]  Processing: ${we.videoName}`),console.log("[Prepare for Merge]  Match result:",Ae),Ae){const Be=Ae[1],Xe=Ae[2],je=Ae[3],De=`${Be}${Xe}${je}`;console.log(`[Prepare for Merge]  GroupKey: ${De}`),z[De]||(z[De]=[]),z[De].push(we)}}),console.log("[Prepare for Merge]  All hook groups:",Object.keys(z)),Object.entries(z).forEach(([we,Ae])=>{console.log(`[Prepare for Merge]  Group "${we}": ${Ae.length} videos -`,Ae.map(Be=>Be.videoName))});const Z=Object.entries(z).filter(([we,Ae])=>Ae.length>1);if(console.log("[Prepare for Merge]  Groups to merge:",Z.length),console.log("[Prepare for Merge]  Groups NOT to merge (single videos):",Object.entries(z).filter(([we,Ae])=>Ae.length===1).map(([we])=>we)),console.log("[Prepare for Merge]  BODY videos:",L.length),console.log("[Prepare for Merge]  HOOK groups:",Z.length),Object.keys(Jt).length>0||Cn!==null){console.log("[Prepare for Merge]  Found existing merged videos - showing selective merge popup"),console.log("[Prepare for Merge]  New hooks to merge:",Z.length),rp(!0),bi(!1);return}const K=[];if(L.length>0){const we=L[0].videoName,Ae=we.match(/^(T\d+_C\d+_E\d+_AD\d+)/),Be=Ae?Ae[1]:"MERGED",Xe=we.match(/_([A-Z]+)_(\d+)$/),je=Xe?`${Xe[1]}_${Xe[2]}`:"TEST_1",De=`${Be}_BODY_${je}`;K.push({type:"body",name:De,videos:L})}Z.forEach(([we,Ae])=>{K.push({type:"hook",name:we,videos:Ae})});const re=K.length;if(console.log("[Prepare for Merge]  Total final videos to create:",re),re===0){be.info("No videos need merging!"),bi(!1);return}const me=ct?.ffmpegBatchSize||15,ge=[];for(let we=0;we<K.length;we+=me)ge.push(K.slice(we,we+me));console.log("[Prepare for Merge]  Batches:",ge.length),ge.forEach((we,Ae)=>{console.log(`  Batch ${Ae+1}: ${we.length} final videos (${we.map(Be=>Be.name).join(", ")})`)}),sn({status:"countdown",message:"Waiting 60s before starting...",countdown:60,totalFinalVideos:re,currentFinalVideo:0,currentBatch:0,totalBatches:ge.length,hooksSuccess:[],hooksFailed:[],hooksInProgress:[],bodySuccess:[],bodyFailed:[],bodyInProgress:[],onSkipCountdown:void 0}),console.log("[Prepare for Merge]  Initial countdown 60s...");let ve=!1,ue=!1;sn(we=>({...we,onSkipCountdown:()=>{console.log("[Prepare for Merge]  User skipped countdown!"),ve=!0},onCancel:()=>{console.log("[Prepare for Merge]  User cancelled process!"),ue=!0,ve=!0}}));for(let we=60;we>0;we--){if(ue){console.log("[Prepare for Merge]  Process cancelled by user!"),sn(Ae=>({...Ae,status:"error",message:" Process cancelled by user",countdown:0})),bi(!1);return}if(ve){console.log("[Prepare for Merge]  Countdown skipped!");break}sn(Ae=>({...Ae,countdown:we,message:`Waiting ${we}s before starting...`})),await new Promise(Ae=>setTimeout(Ae,1e3))}sn(we=>({...we,status:"processing",countdown:0,onSkipCountdown:void 0,message:"Starting merge process..."})),console.log("[Prepare for Merge]  Starting merge...");try{for(let Ae=0;Ae<ge.length;Ae++){const Be=ge[Ae],Xe=Ae+1;console.log(`[Prepare for Merge]  Processing batch ${Xe}/${ge.length} (${Be.length} final videos)...`),sn(De=>({...De,currentBatch:Xe,message:`Processing batch ${Xe}/${ge.length}...`}));const je=Be.map(async De=>{console.log(`[Prepare for Merge]  Merging ${De.name} (${De.videos.length} videos)...`),sn(Je=>({...Je,hooksInProgress:De.type==="hook"?[...Je.hooksInProgress,{name:De.name}]:Je.hooksInProgress,bodyInProgress:De.type==="body"?[...Je.bodyInProgress,{name:De.name}]:Je.bodyInProgress}));try{console.log(`[Prepare for Merge]  ${De.name} task.videos:`),De.videos.forEach((rt,xt)=>{console.log(`  [${xt}] ${rt.videoName}:`),console.log(`      trimmedVideoUrl: ${rt.trimmedVideoUrl||"NULL"}`),console.log(`      videoUrl: ${rt.videoUrl||"NULL"}`),console.log(`      status: ${rt.status}, reviewStatus: ${rt.reviewStatus}`)});const Je=De.videos.map(rt=>rt.trimmedVideoUrl).filter(Boolean);console.log(`[Prepare for Merge]  ${De.name} videoUrls count:`,Je.length),console.log(`[Prepare for Merge]  ${De.name} videoUrls:`),Je.forEach((rt,xt)=>{console.log(`  [${xt}] ${rt}`)});const ft=De.type==="hook"?De.name.replace(/(HOOK\d+)/,"$1M"):De.name,ut=await Ya.mutateAsync({videoUrls:Je,outputVideoName:ft,ffmpegApiKey:ct.ffmpegApiKey||"",addTextOverlay:!1,userId:ct.id,useSimpleMerge:!0,useLoudnorm:!1});if(console.log(`[Prepare for Merge]  ${De.name} SUCCESS:`,ut.cdnUrl),De.type==="hook"){Na(Dt=>({...Dt,[De.name]:ut.cdnUrl})),console.log(`[Prepare for Merge]  Saved to hookMergedVideos[${De.name}]`);const xt=Y.map(Dt=>Dt.videoName.startsWith(De.name)?{...Dt,isGroupedInMerge:!1}:Dt).map(Dt=>De.videos.some(fn=>fn.videoName===Dt.videoName)?{...Dt,isGroupedInMerge:!0}:Dt),It={videoName:ft,trimmedVideoUrl:ut.cdnUrl,text:De.videos.map(Dt=>{const fn=Dt.text||"";if(Dt.redStart!==void 0&&Dt.redEnd!==void 0&&Dt.redStart>=0&&Dt.redEnd>Dt.redStart){const ma=fn.substring(0,Dt.redStart),ur=fn.substring(Dt.redEnd);return(ma+ur).trim()}return fn.trim()}).filter(Dt=>Dt).join(" "),section:De.videos[0]?.section||"HOOKS",status:"success",isGroupedInMerge:!1,isMergedResult:!0},Mt=xt.findIndex(Dt=>Dt.videoName===ft);Mt>=0?(xt[Mt]=It,console.log(`[Prepare for Merge]  REPLACED existing ${ft} in videoResults`)):(xt.push(It),console.log(`[Prepare for Merge]  ADDED ${ft} to videoResults`)),oe(xt),console.log(`[Prepare for Merge]  Marked ${De.videos.length} videos as grouped`)}else De.type==="body"&&(Ea(ut.cdnUrl),console.log("[Prepare for Merge]  Saved bodyMergedVideoUrl"));return sn(rt=>({...rt,hooksSuccess:De.type==="hook"?[...rt.hooksSuccess,{name:De.name,videoCount:De.videos.length,videoNames:De.videos.map(xt=>xt.videoName)}]:rt.hooksSuccess,hooksInProgress:De.type==="hook"?rt.hooksInProgress.filter(xt=>xt.name!==De.name):rt.hooksInProgress,bodySuccess:De.type==="body"?[...rt.bodySuccess,{name:De.name}]:rt.bodySuccess,bodyInProgress:De.type==="body"?rt.bodyInProgress.filter(xt=>xt.name!==De.name):rt.bodyInProgress,currentFinalVideo:rt.currentFinalVideo+1})),{task:De,status:"success",url:ut.cdnUrl}}catch(Je){return console.error(`[Prepare for Merge]  ${De.name} FAILED:`,Je),sn(ft=>({...ft,hooksFailed:De.type==="hook"?[...ft.hooksFailed,{name:De.name,error:Je.message}]:ft.hooksFailed,hooksInProgress:De.type==="hook"?ft.hooksInProgress.filter(ut=>ut.name!==De.name):ft.hooksInProgress,bodyFailed:De.type==="body"?[...ft.bodyFailed,{name:De.name,error:Je.message}]:ft.bodyFailed,bodyInProgress:De.type==="body"?ft.bodyInProgress.filter(ut=>ut.name!==De.name):ft.bodyInProgress,currentFinalVideo:ft.currentFinalVideo+1})),{task:De,status:"failed",error:Je.message}}});if(await Promise.all(je),Ae<ge.length-1){console.log(`[Prepare for Merge]  Waiting 60s after batch ${Xe}...`);for(let De=60;De>=0;De--)sn(Je=>({...Je,message:` Waiting ${De}s before next batch...`,countdown:De})),De>0&&await new Promise(Je=>setTimeout(Je,1e3));console.log("[Prepare for Merge]  Wait complete, starting next batch...")}}const we=En.hooksFailed.length+En.bodyFailed.length;sn(Ae=>({...Ae,status:we===0?"complete":"partial",message:we===0?` All ${re} merges complete!`:` ${re-we}/${re} merges complete (${we} failed)`})),console.log("[Prepare for Merge]  COMPLETE!"),we===0?be.success(` All ${re} merges completed!`):be.warning(` ${we} merges failed`)}catch(we){console.error("[Prepare for Merge]  Fatal error:",we),sn(Ae=>({...Ae,status:"error",message:`Fatal Error: ${we.message}`})),be.error(`Merge failed: ${we.message}`)}},uc=async(T,L)=>{console.log("[Selective Merge]  Starting selective merge...",{selectedHooks:T,selectedBody:L});const R=Y.filter(ue=>ue.trimmedVideoUrl&&ue.reviewStatus==="accepted"&&ue.status==="success");if(R.length===0){be.error("No trimmed videos to merge!"),bi(!1);return}const z=R.filter(ue=>!ue.videoName.match(/HOOK\d+[A-Z]?/)),Z=R.filter(ue=>ue.videoName.match(/HOOK\d+[A-Z]?/)),ce={};Z.forEach(ue=>{const we=ue.videoName.match(/(.*)(HOOK\d+)[A-Z]?(.*)/);if(console.log("[Selective Merge]  Matching hook:",ue.videoName," match:",we?"YES":"NO"),we){const Ae=we[1],Be=we[2],Xe=we[3],je=`${Ae}${Be}${Xe}`;console.log("[Selective Merge]  Group key:",je),ce[je]||(ce[je]=[]),ce[je].push(ue)}});const K=[];if(L&&z.length>0){const ue=z[0].videoName,we=ue.match(/^(T\d+_C\d+_E\d+_AD\d+)/),Ae=we?we[1]:"MERGED",Be=ue.match(/_([A-Z]+)_(\d+)$/),Xe=Be?`${Be[1]}_${Be[2]}`:"TEST_1",je=`${Ae}_BODY_${Xe}`;K.push({type:"body",name:je,videos:z})}T.forEach(ue=>{const we=ce[ue];we&&we.length>0&&K.push({type:"hook",name:ue,videos:we})});const re=K.length;if(console.log("[Selective Merge]  Total final videos to re-merge:",re),re===0){be.info("No videos selected for merging!"),bi(!1);return}const me=ct?.ffmpegBatchSize||15,ge=[];for(let ue=0;ue<K.length;ue+=me)ge.push(K.slice(ue,ue+me));console.log("[Selective Merge]  Batches:",ge.length),sn({status:"countdown",message:"Waiting 60s before starting...",countdown:60,totalFinalVideos:re,currentFinalVideo:0,currentBatch:0,totalBatches:ge.length,hooksSuccess:[],hooksFailed:[],hooksInProgress:[],bodySuccess:[],bodyFailed:[],bodyInProgress:[],onSkipCountdown:void 0}),console.log("[Selective Merge]  Initial countdown 60s...");let ve=!1;sn(ue=>({...ue,onSkipCountdown:()=>{console.log("[Selective Merge]  User skipped countdown!"),ve=!0}}));for(let ue=60;ue>0;ue--){if(ve){console.log("[Selective Merge]  Countdown skipped!");break}sn(we=>({...we,countdown:ue,message:`Waiting ${ue}s before starting...`})),await new Promise(we=>setTimeout(we,1e3))}sn(ue=>({...ue,status:"processing",countdown:0,onSkipCountdown:void 0,message:"Starting selective merge..."})),console.log("[Selective Merge]  Starting merge...");try{for(let Ae=0;Ae<ge.length;Ae++){const Be=ge[Ae],Xe=Ae+1;console.log(`[Selective Merge]  Processing batch ${Xe}/${ge.length} (${Be.length} final videos)...`),sn(De=>({...De,currentBatch:Xe,message:`Processing batch ${Xe}/${ge.length}...`}));const je=Be.map(async De=>{console.log(`[Selective Merge]  Merging ${De.name} (${De.videos.length} videos)...`),sn(Je=>({...Je,hooksInProgress:De.type==="hook"?[...Je.hooksInProgress,{name:De.name}]:Je.hooksInProgress,bodyInProgress:De.type==="body"?[...Je.bodyInProgress,{name:De.name}]:Je.bodyInProgress}));try{const Je=De.videos.map(rt=>rt.trimmedVideoUrl).filter(Boolean),ft=De.type==="hook"?De.name.replace(/(HOOK\d+)/,"$1M"):De.name,ut=await Ya.mutateAsync({videoUrls:Je,outputVideoName:ft,ffmpegApiKey:ct.ffmpegApiKey||"",addTextOverlay:!1,userId:ct.id,useSimpleMerge:!0,useLoudnorm:!1});if(console.log(`[Selective Merge]  ${De.name} SUCCESS:`,ut.cdnUrl),De.type==="hook"){Na(Dt=>({...Dt,[De.name]:ut.cdnUrl}));const xt=Y.map(Dt=>Dt.videoName.startsWith(De.name)?{...Dt,isGroupedInMerge:!1}:Dt).map(Dt=>De.videos.some(fn=>fn.videoName===Dt.videoName)?{...Dt,isGroupedInMerge:!0}:Dt),It={videoName:ft,trimmedVideoUrl:ut.cdnUrl,text:De.videos.map(Dt=>{const fn=Dt.text||"";if(Dt.redStart!==void 0&&Dt.redEnd!==void 0&&Dt.redStart>=0&&Dt.redEnd>Dt.redStart){const ma=fn.substring(0,Dt.redStart),ur=fn.substring(Dt.redEnd);return(ma+ur).trim()}return fn.trim()}).filter(Dt=>Dt).join(" "),section:De.videos[0]?.section||"HOOKS",status:"success",isGroupedInMerge:!1,isMergedResult:!0},Mt=xt.findIndex(Dt=>Dt.videoName===ft);Mt>=0?xt[Mt]=It:xt.push(It),oe(xt)}else De.type==="body"&&Ea(ut.cdnUrl);return sn(rt=>({...rt,hooksSuccess:De.type==="hook"?[...rt.hooksSuccess,{name:De.name,videoCount:De.videos.length,videoNames:De.videos.map(xt=>xt.videoName)}]:rt.hooksSuccess,hooksInProgress:De.type==="hook"?rt.hooksInProgress.filter(xt=>xt.name!==De.name):rt.hooksInProgress,bodySuccess:De.type==="body"?[...rt.bodySuccess,{name:De.name}]:rt.bodySuccess,bodyInProgress:De.type==="body"?rt.bodyInProgress.filter(xt=>xt.name!==De.name):rt.bodyInProgress,currentFinalVideo:rt.currentFinalVideo+1})),{task:De,status:"success",url:ut.cdnUrl}}catch(Je){return console.error(`[Selective Merge]  ${De.name} FAILED:`,Je),sn(ft=>({...ft,hooksFailed:De.type==="hook"?[...ft.hooksFailed,{name:De.name,error:Je.message}]:ft.hooksFailed,hooksInProgress:De.type==="hook"?ft.hooksInProgress.filter(ut=>ut.name!==De.name):ft.hooksInProgress,bodyFailed:De.type==="body"?[...ft.bodyFailed,{name:De.name,error:Je.message}]:ft.bodyFailed,bodyInProgress:De.type==="body"?ft.bodyInProgress.filter(ut=>ut.name!==De.name):ft.bodyInProgress,currentFinalVideo:ft.currentFinalVideo+1})),{task:De,status:"failed",error:Je.message}}});if(await Promise.all(je),Ae<ge.length-1){console.log(`[Selective Merge]  Waiting 60s after batch ${Xe}...`);for(let De=60;De>=0;De--)sn(Je=>({...Je,message:` Waiting ${De}s before next batch...`,countdown:De})),De>0&&await new Promise(Je=>setTimeout(Je,1e3))}}sn(Ae=>{const Be=Ae.hooksSuccess.length+Ae.bodySuccess.length,Xe=Ae.hooksFailed.length+Ae.bodyFailed.length;return{...Ae,status:Xe>0?"partial":"complete",message:Xe>0?` ${Be} succeeded, ${Xe} failed`:` All ${Be} videos merged successfully!`,countdown:0}});const ue=En.hooksSuccess.length+En.bodySuccess.length,we=En.hooksFailed.length+En.bodyFailed.length;await new Promise(Ae=>setTimeout(Ae,100)),we>0?be.warning(` Selective merge complete: ${re-we} success, ${we} failed`):be.success(` All ${re} videos merged successfully!`)}catch(ue){console.error("[Selective Merge]  Fatal error:",ue),sn(we=>({...we,status:"error",message:`Fatal Error: ${ue.message}`})),be.error(`Selective merge failed: ${ue.message}`)}},nf=async()=>{const T=En.failedItems||[];if(T.length===0){be.info("No failed items to retry!");return}console.log("[Retry Failed Merge]  Retrying",T.length,"failed items...");const L=Y.filter(R=>R.trimmedVideoUrl&&R.reviewStatus==="accepted"&&R.status==="success");sn(R=>({...R,status:"processing",message:`Retrying ${T.length} failed items...`,failedItems:[],bodySuccessVideos:[],bodyFailedVideos:[],bodyInProgressVideos:[],hookSuccessGroups:[],hookFailedGroups:[],hookInProgressGroups:[]}));try{const R=T.filter(K=>K.type==="body_chunk"),z=T.filter(K=>K.type==="body_final"),Z=T.filter(K=>K.type==="hook");if(console.log("[Retry] Body chunks:",R.length),console.log("[Retry] Body final:",z.length),console.log("[Retry] Hooks:",Z.length),R.length>0||z.length>0){console.log("[Retry]  Retrying BODY...");const K=L.filter(ve=>!ve.videoName.match(/HOOK\d+[A-Z]?/)),re=7,me=[];for(let ve=0;ve<K.length;ve+=re)me.push(K.slice(ve,ve+re));const ge=[];for(const ve of R){const ue=parseInt(ve.name.replace("Chunk ","")),we=me[ue-1];if(!we){console.error("[Retry] Chunk not found:",ue);continue}console.log(`[Retry]  Retrying chunk ${ue}...`),sn(Ae=>({...Ae,message:` BODY: Retrying Chunk ${ue}/${me.length}...`}));try{const Ae=De=>{if(De.startsWith("/api/proxy-video?url=")){const Je=new URLSearchParams(De.split("?")[1]).get("url");return Je?decodeURIComponent(Je):De}return De},Be=we.map(De=>Ae(De.trimmedVideoUrl)).filter(Boolean),Xe=`BODY_CHUNK_${ue}_${Date.now()}`,je=await Ya.mutateAsync({videoUrls:Be,outputVideoName:Xe,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log(`[Retry]  Chunk ${ue} SUCCESS:`,je.cdnUrl),ge.push(je.cdnUrl),sn(De=>({...De,bodyInfo:De.bodyInfo?{...De.bodyInfo,chunkResults:De.bodyInfo.chunkResults.map(Je=>Je.chunkNom===ue?{...Je,status:"success",url:je.cdnUrl,error:void 0}:Je)}:null,bodySuccessVideos:[...De.bodySuccessVideos||[],...we.map(Je=>({name:Je.videoName,chunkNom:ue}))],bodyFailedVideos:(De.bodyFailedVideos||[]).filter(Je=>!we.some(ft=>ft.videoName===Je.name))})),console.log("[Retry]  Waiting 60s...");for(let De=60;De>0;De--)sn(Je=>({...Je,message:` FFmpeg rate limit: waiting ${De}s...`,countdown:De})),await new Promise(Je=>setTimeout(Je,1e3))}catch(Ae){console.error(`[Retry]  Chunk ${ue} FAILED AGAIN:`,Ae),sn(Be=>({...Be,failedItems:[...Be.failedItems||[],{type:"body_chunk",name:`Chunk ${ue}`,error:Ae.message}],bodyFailedVideos:[...Be.bodyFailedVideos||[],...we.map(Xe=>{const je=(Be.bodyFailedVideos||[]).find(De=>De.name===Xe.videoName);return{name:Xe.videoName,chunkNom:ue,error:Ae.message,retries:(je?.retries||0)+1}})]}))}}if(z.length>0||ge.length>0){console.log("[Retry]  Retrying BODY final merge...");const ve=En.bodyInfo?.chunkResults.filter(ue=>ue.status==="success"&&ue.url).map(ue=>ue.url)||[];if(ve.length>1){sn(ue=>({...ue,message:` BODY: Final merge (${ve.length} chunks)...`}));try{const ue=K[0].videoName,we=ue.match(/^(T\d+_C\d+_E\d+_AD\d+)/),Ae=we?we[1]:"MERGED",Be=ue.match(/_([A-Z]+)_(\d+)$/),Xe=Be?`${Be[1]}_${Be[2]}`:"TEST_1",je=`${Ae}_BODY_${Xe}`,De=await Ya.mutateAsync({videoUrls:ve,outputVideoName:je,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log("[Retry]  BODY FINAL SUCCESS:",De.cdnUrl),sn(ft=>({...ft,bodyInfo:ft.bodyInfo?{...ft.bodyInfo,finalUrl:De.cdnUrl,status:"success"}:null})),Ea(De.cdnUrl);const Je=await new Promise(ft=>{Ea(ut=>(ft(ut),ut))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Je}),console.log("[Retry]  BODY saved to database")}catch(ue){console.error("[Retry]  BODY FINAL FAILED AGAIN:",ue),sn(we=>({...we,bodyInfo:we.bodyInfo?{...we.bodyInfo,status:"failed"}:null,failedItems:[...we.failedItems||[],{type:"body_final",name:"BODY Final Merge",error:ue.message}]}))}}}}if(Z.length>0){console.log(`[Retry]  Retrying ${Z.length} hooks...`),console.log("[Retry]  Waiting 60s before hooks...");for(let ge=60;ge>0;ge--)sn(ve=>({...ve,message:` FFmpeg rate limit: waiting ${ge}s before hooks...`,countdown:ge})),await new Promise(ve=>setTimeout(ve,1e3));sn(ge=>({...ge,message:` Retrying ${Z.length} hook groups...`}));const K=L.filter(ge=>ge.videoName.match(/HOOK\d+[A-Z]?/)),re={};K.forEach(ge=>{const ve=ge.videoName.match(/(.*)(HOOK\d+)[A-Z]?(.*)/);if(ve){const ue=ve[1],we=ve[2],Ae=ve[3],Be=`${ue}${we}${Ae}`;re[Be]||(re[Be]=[]),re[Be].push(ge)}});const me=Z.map(async ge=>{const ve=ge.name,ue=re[ve];if(!ue||ue.length===0){console.error("[Retry] Hook group not found:",ve);return}console.log(`[Retry]  Retrying ${ve} (${ue.length} videos)...`),sn(we=>({...we,hookGroups:we.hookGroups?.map(Ae=>Ae.baseName===ve?{...Ae,status:"processing"}:Ae)}));try{const we=ue.sort((It,Mt)=>It.videoName.localeCompare(Mt.videoName)),Ae=It=>{if(It.startsWith("/api/proxy-video?url=")){const Mt=new URLSearchParams(It.split("?")[1]).get("url");return Mt?decodeURIComponent(Mt):It}return It},Be=we.map(It=>Ae(It.trimmedVideoUrl)).filter(Boolean),Xe=ve.replace(/(HOOK\d+)/,"$1M"),je=await Ya.mutateAsync({videoUrls:Be,outputVideoName:Xe,ffmpegApiKey:ct.ffmpegApiKey||"",userId:ct.id});console.log(`[Retry]  ${ve} SUCCESS:`,je.cdnUrl),sn(It=>({...It,hookGroups:It.hookGroups?.map(Mt=>Mt.baseName===ve?{...Mt,status:"success",cdnUrl:je.cdnUrl,error:null}:Mt),hookSuccessGroups:[...It.hookSuccessGroups||[],{baseName:ve,videoCount:ue.length,videoNames:ue.map(Mt=>Mt.videoName),batchNom:0}],hookFailedGroups:(It.hookFailedGroups||[]).filter(Mt=>Mt.baseName!==ve),hooksCurrent:(It.hooksCurrent||0)+1})),Na(It=>({...It,[ve]:je.cdnUrl}));const De=await new Promise(It=>{Na(Mt=>(It(Mt),Mt))}),ft=Y.map(It=>It.videoName.startsWith(ve)?{...It,isGroupedInMerge:!1}:It).map(It=>ue.some(Mt=>Mt.videoName===It.videoName)?{...It,isGroupedInMerge:!0}:It),ut=ve.replace(/(HOOK\d+)/,"$1M"),rt={videoName:ut,trimmedVideoUrl:je.cdnUrl,text:ue.map(It=>It.text||"").join(" "),section:ue[0]?.section||"HOOKS",status:"success",isGroupedInMerge:!1,isMergedResult:!0},xt=ft.findIndex(It=>It.videoName===ut);xt>=0?(ft[xt]=rt,console.log(`[Retry]  REPLACED existing ${ut} in videoResults`)):(ft.push(rt),console.log(`[Retry]  ADDED ${ut} to videoResults`)),oe(ft),console.log(`[Retry]  Marked ${ue.length} videos as grouped`),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ft,reviewHistory:en,hookMergedVideos:De,bodyMergedVideoUrl:Cn}),console.log(`[Retry]  ${ve} saved to database`)}catch(we){console.error(`[Retry]  ${ve} FAILED AGAIN:`,we),sn(Ae=>({...Ae,hookGroups:Ae.hookGroups?.map(Be=>Be.baseName===ve?{...Be,status:"failed",error:we.message}:Be),hookFailedGroups:[...(Ae.hookFailedGroups||[]).filter(Be=>Be.baseName!==ve),{baseName:ve,videoCount:ue.length,error:we.message,retries:((Ae.hookFailedGroups||[]).find(Be=>Be.baseName===ve)?.retries||0)+1,batchNom:0}],failedItems:[...Ae.failedItems||[],{type:"hook",name:ve,error:we.message}]}))}});await Promise.all(me)}const ce=En.failedItems?.length||0;sn(K=>({...K,status:ce>0?"partial":"complete",message:ce>0?` Retry complete: ${T.length-ce} succeeded, ${ce} still failed`:` All ${T.length} retries succeeded!`})),ce===0?be.success(` All ${T.length} retries succeeded!`):be.warning(` ${T.length-ce} succeeded, ${ce} still failed`)}catch(R){console.error("[Retry]  Fatal error:",R),sn(z=>({...z,status:"error",message:`Error: ${R.message}`})),be.error(`Retry failed: ${R.message}`)}},zo=async()=>{if($.length===0){be.error("Please upload the ad document first");return}if(q.length===0){be.error("Please upload at least one image");return}const T=q.find(K=>K.fileName?.toUpperCase().includes("CTA")||K.imageName?.toUpperCase().includes("CTA")),L=q.find(K=>!K.fileName?.toUpperCase().includes("CTA")&&!K.imageName?.toUpperCase().includes("CTA"))||q[0];console.log("[CTA Mapping] Images:",q.map(K=>({fileName:K.fileName,hasCTA:K.fileName?.toUpperCase().includes("CTA")}))),console.log("[CTA Mapping] CTA Image found:",T?T.fileName:"NONE"),console.log("[CTA Mapping] Default Image:",L?L.fileName:"NONE");const R=$.filter(K=>K.categoryNomber>0),z=["rewrite","the book","book","tears"];let Z=-1;for(let K=0;K<R.length;K++){const re=R[K].text.toLowerCase(),me=z.some(ge=>re.includes(ge));if(console.log(`[CTA Mapping] Checking line ${K}: section="${R[K].section}", text="${R[K].text.substring(0,40)}...", hasKeyword=${me}`),me){Z=K,console.log(`[CTA Mapping] FOUND! First line with CTA keywords at index ${K}`);break}}console.log("[CTA Mapping] First CTA keyword index:",Z),console.log("[CTA Mapping] Total text lines:",R.length),console.log("[CTA Mapping] All sections:",R.map((K,re)=>`${re}: ${K.section}`).join(", "));const ce=R.map((K,re)=>{let me=L;const ge=T&&Z!==-1&&re>=Z;console.log(`[CTA Mapping] Line ${re}:`),console.log(`  - Section: "${K.section}"`),console.log(`  - Text: "${K.text.substring(0,50)}..."`),console.log(`  - firstCTAKeywordIndex: ${Z}`),console.log(`  - index >= firstCTAKeywordIndex: ${re>=Z}`),console.log(`  - shouldUseCTA: ${ge}`),ge?(me=T,console.log(`  -  Using CTA image: ${me.fileName}`)):console.log(`  -  Using default image: ${me.fileName}`);let ve="";if(me.fileName){const Xe=me.fileName.replace(/\.[^.]+$/,"").replace(/_?CTA$/i,"").match(/_?(\d+)$/);Xe&&(ve=Xe[1])}let ue=K.videoName;ue=ue.replace(/_\d+$/,"");const we=ve?`${ue}_${ve}`:ue;return{id:`combo-${re}`,text:K.text,imageUrl:me.url,imageId:me.id,promptType:K.promptType,videoName:we,section:K.section,categoryNomber:K.categoryNomber,redStart:K.redStart,redEnd:K.redEnd}});if(le(ce),Le([]),se(K=>K.map(re=>{const me=ce.find(ge=>ge.text===re.text);return me&&me.videoName!==re.videoName?(console.log("[Create Mappings] Syncing adLine videoName:",re.videoName,"->",me.videoName),{...re,videoName:me.videoName}):re})),console.log("[Create Mappings] Created",ce.length,"combinations from",R.length,"text lines"),console.log("[Create Mappings] First 3 texts:",R.slice(0,3).map(K=>K.text.substring(0,50))),o&&d&&h&&p)Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:4,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ce,deletedCombinations:[],videoResults:Y,reviewHistory:en},{onSuccess:async()=>{if(console.log("[Step 4] Saved before moving to Step 5"),await ga(5),T&&firstCTAIndex!==-1){const K=R.length-firstCTAIndex;be.success(`${ce.length} combinations created. CTA image mapped to CTA section and all following lines (${K} lines)`)}else be.success(`${ce.length} combinations created with automatic mapping`)},onError:async K=>{if(console.error("[Step 4] Save failed:",K),await ga(5),T&&firstCTAIndex!==-1){const re=R.length-firstCTAIndex;be.success(`${ce.length} combinations created. CTA image mapped to CTA section and all following lines (${re} lines)`)}else be.success(`${ce.length} combinations created with automatic mapping`)}});else if(await ga(5),T&&firstCTAIndex!==-1){const K=R.length-firstCTAIndex;be.success(`${ce.length} combinations created. CTA image mapped to CTA section and all following lines (${K} lines)`)}else be.success(`${ce.length} combinations created with automatic mapping`)},$o=(T,L)=>{le(R=>R.map(z=>z.id===T?{...z,promptType:L}:z))},my=(T,L)=>{const R=q.find(z=>z.id===L);R&&le(z=>z.map(Z=>Z.id===T?{...Z,imageUrl:R.url,imageId:R.id}:Z))},mp=T=>{const L=ne.find(R=>R.id===T);if(L){const R=ne.findIndex(z=>z.id===T);Le(z=>[{...L,originalIndex:R},...z]),le(z=>z.filter(Z=>Z.id!==T))}},xy=()=>{if(fe.length>0){const T=fe[0],L=T.originalIndex??ne.length;le(R=>{const z=[...R];return z.splice(L,0,T),z}),Le(R=>R.slice(1)),be.success("Combination restored to original position")}},xp=async()=>{if(ne.length===0){be.error("No combinations to generate");return}try{zn(6);const T=ne.map(K=>({text:K.text,imageUrl:K.imageUrl,status:"pending",videoName:K.videoName,section:K.section,categoryNomber:K.categoryNomber,reviewStatus:null,redStart:K.redStart,redEnd:K.redEnd,generationCount:0}));oe(T);const L={PROMPT_NEUTRAL:[],PROMPT_SMILING:[],PROMPT_CTA:[],PROMPT_CUSTOM:[]};ne.forEach(K=>{L[K.promptType].push(K)});const R=[],z=20;for(const[K,re]of Object.entries(L)){if(re.length===0)continue;let me,ge,ve;K==="PROMPT_NEUTRAL"?ve=k.find(we=>we.name.toUpperCase().includes("NEUTRAL")):K==="PROMPT_SMILING"?ve=k.find(we=>we.name.toUpperCase().includes("SMILING")):K==="PROMPT_CTA"&&(ve=k.find(we=>we.name.toUpperCase().includes("CTA"))),ve?(me=ve.template,ge=ve.name):(me=`HARDCODED_${K}`,ge=K);const ue=Math.ceil(re.length/z);console.log(`[Batch Processing] ${K}: ${re.length} videos, ${ue} batch(es)`);for(let we=0;we<ue;we++){const Ae=we*z,Be=Math.min(Ae+z,re.length),Xe=re.slice(Ae,Be);console.log(`[Batch ${we+1}/${ue}] Processing ${Xe.length} videos (${Ae+1}-${Be})`),be.info(`Processing batch ${we+1}/${ue} for ${K} (${Xe.length} videos)`);const je=await Ki.mutateAsync({userId:e.id,promptTemplate:me,combinations:Xe.map(Je=>({text:Je.text,imageUrl:Je.imageUrl}))}),De=je.results.map(Je=>{const ft=Xe.find(ut=>ut.text===Je.text);if(!ft){console.error("[CRITICAL] No matching combo found for API result text:",Je.text?.substring(0,50));const ut=Xe[je.results.indexOf(Je)];return{taskId:Je.taskId,text:Je.text,imageUrl:Je.imageUrl,status:Je.success?"pending":"failed",error:Je.error,videoName:ut?.videoName||"UNKNOWN",section:ut?.section||"UNKNOWN",categoryNomber:ut?.categoryNomber||0,reviewStatus:null,redStart:ut?.redStart,redEnd:ut?.redEnd}}return{taskId:Je.taskId,text:Je.text,imageUrl:Je.imageUrl,status:Je.success?"pending":"failed",error:Je.error,videoName:ft.videoName,section:ft.section,categoryNomber:ft.categoryNomber,reviewStatus:null,redStart:ft.redStart,redEnd:ft.redEnd}});R.push(...De),we<ue-1&&(console.log("[Batch Processing] Waiting 2s before next batch..."),await new Promise(Je=>setTimeout(Je,2e3)))}}oe(R);const Z=R.filter(K=>K.status==="pending").length,ce=R.filter(K=>K.status==="failed").length;be.success(`${Z} videouri trimise spre generare`),ce>0&&be.error(`${ce} videos failed`),console.log("[Database Save] Saving session after video generation..."),Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:6,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:R,reviewHistory:en},{onSuccess:()=>{console.log("[Database Save] Session saved successfully after generation!")},onError:K=>{console.error("[Database Save] Failed to save session:",K),be.error("Session could not be saved to database, but is saved locally")}})}catch(T){be.error(`Error generating videos: ${T.message}`)}},Qs=async(T,L)=>{try{console.log(`Checking status for taskId: ${T}, index: ${L}`);const z=await(await fetch(`https://api.kie.ai/api/v1/veo/record-info?taskId=${T}`,{headers:{Authorization:"Bearer a4089052f1c04c6b8be02b026ce87fe8"}})).json();if(console.log("Status response:",z),z.code===200&&z.data){let Z="pending",ce,K;console.log("Processing video status - successFlag:",z.data.successFlag),console.log("Full API response:",JSON.stringify(z.data,null,2)),z.data.successFlag===1?(Z="success",ce=z.data.resultUrls?.[0]||z.data.response?.resultUrls?.[0],console.log("Video SUCCESS - URL:",ce),console.log("resultUrls location:",z.data.resultUrls?"data.data.resultUrls":"data.data.response.resultUrls")):z.data.successFlag===-1||z.data.successFlag===2?(Z="failed",K=z.data.errorMessage||z.data.error||z.data.msg||"Unknown error",console.log("Video FAILED - Error:",K)):z.data.errorMessage||z.data.error?(Z="failed",K=z.data.errorMessage||z.data.error,console.log("Video FAILED (detected via errorMessage) - Error:",K)):z.data.successFlag===0?(Z="pending",console.log("Video PENDING - successFlag:",z.data.successFlag)):(console.log("Video status UNKNOWN - successFlag:",z.data.successFlag),console.log("Setting as pending by default")),oe(ve=>ve.map((ue,we)=>we===L?{...ue,status:Z,videoUrl:ce,error:K,generationCount:Z==="success"?(ue.generationCount||0)+1:ue.generationCount}:ue)),console.log(`Video #${L} updated in videoResults:`,{status:Z,videoUrl:ce,error:K});const re=Y[L],me=Z==="success"&&!re.videoUrl,ge=Z==="failed"&&re.status!=="failed";if(me){be.success(`Video #${L+1} generat cu succes!`);const ve=Y[L].videoName;console.log(`[Selective Cleanup]  Video regenerated: ${ve}`);const ue=ve.includes("HOOK"),we=ve.match(/HOOK(\d+)/);if(ue&&we){const Be=we[1];console.log(`[Selective Cleanup]  Detected HOOK${Be} regeneration`),Na(Xe=>{if(!Xe||typeof Xe!="object")return console.log("[Selective Cleanup]  hookMergedVideos is not an object, skipping cleanup"),Xe;const je={};let De=0;return Object.entries(Xe).forEach(([Je,ft])=>{!Je.includes(`HOOK${Be}`)||Je.includes(`HOOK${Be}M`)?De++:je[Je]=ft}),console.log(`[Selective Cleanup]  Removed HOOK${Be} entries from hookMergedVideos (${Object.keys(Xe).length}  ${Object.keys(je).length}, removed: ${De})`),je})}else console.log(`[Selective Cleanup]  Detected BODY video regeneration (${ve})`),Ea(Be=>(Be&&console.log("[Selective Cleanup]  Cleared bodyMergedVideoUrl"),null));console.log(`[Selective Cleanup]  Cleaning Step 8 data for ${ve}`),oe(Be=>Be.map(Xe=>Xe.videoName===ve?{...Xe,trimmedVideoUrl:void 0,audioWav:void 0,cleanVoiceUrl:void 0,markers:void 0}:Xe)),console.log("[Selective Cleanup]  Cleared: trimmedVideoUrl, audioWav, cleanVoiceUrl, markers");const Ae=Y.map((Be,Xe)=>Xe===L?{...Be,status:Z,videoUrl:ce,error:K,generationCount:(Be.generationCount||0)+1}:Be);await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Ae,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn}),await Hr(),console.log("[Selective Cleanup]  Refetched from DB after cleanup")}else ge&&be.error(`Video #${L+1} failed: ${K}`)}else be.error(`Invalid response from API: ${z.msg||"Unknown error"}`)}catch(R){console.error("Error checking video status:",R),be.error(`Error checking status: ${R.message}`)}},rf=async()=>{const T=Y.map((L,R)=>({video:L,index:R})).filter(({video:L})=>L.status==="failed"||L.reviewStatus==="regenerate"||L.status===null).map(({index:L})=>L);if(T.length===0){be.error("No videos to regenerate");return}try{be.info(`Regenerating ${T.length} videos...`);const L={PROMPT_NEUTRAL:[],PROMPT_SMILING:[],PROMPT_CTA:[],PROMPT_CUSTOM:[]};T.forEach(Z=>{const ce=ne[Z];ce&&L[ce.promptType].push({combo:ce,index:Z})});let R=0,z=0;for(const[Z,ce]of Object.entries(L)){if(ce.length===0)continue;let K,re;Z==="PROMPT_NEUTRAL"?re=k.find(ge=>ge.name.toUpperCase().includes("NEUTRAL")):Z==="PROMPT_SMILING"?re=k.find(ge=>ge.name.toUpperCase().includes("SMILING")):Z==="PROMPT_CTA"&&(re=k.find(ge=>ge.name.toUpperCase().includes("CTA"))),re?K=re.template:K=`HARDCODED_${Z}`,(await Ki.mutateAsync({userId:e.id,promptTemplate:K,combinations:ce.map(({combo:ge})=>({text:ge.text,imageUrl:ge.imageUrl}))})).results.forEach((ge,ve)=>{const ue=ce[ve].index;oe(we=>we.map((Ae,Be)=>Be===ue?{...Ae,taskId:ge.taskId,status:ge.success?"pending":"failed",error:ge.error,videoUrl:void 0,reviewStatus:void 0}:Ae)),ge.success?R++:z++})}R>0&&be.success(`${R} videouri retrimise pentru generare`),z>0&&be.error(`${z} videos failed again`)}catch(L){be.error(`Error batch regeneration: ${L.message}`)}},Js=N.useCallback(T=>{const L=Y.findIndex(me=>me.videoName===T);if(L<0){be.error("Video not found");return}const R=Y[L],z=ne[L];if(!z){be.error("Combination not found");return}const Z=Sq(T),ce=Dq(Z,Y),K={...R,videoName:ce,taskId:void 0,videoUrl:void 0,status:null,reviewStatus:null,generationCount:0,isDuplicate:!0,duplicateNomber:Cq(ce),originalVideoName:Z};console.log("[Duplicate Video] Created:",{originalName:T,duplicateName:ce,originalStatus:R.status,duplicateStatus:K.status,originalVideoUrl:R.videoUrl,duplicateVideoUrl:K.videoUrl});const re={...z,id:`combo-duplicate-${Date.now()}`,videoName:ce};oe(me=>{const ge=[...me];return ge.splice(L+1,0,K),ge}),le(me=>{const ge=[...me];return ge.splice(L+1,0,re),ge}),be.success(`Duplicate creat: ${ce}`)},[Y,ne]),qo=N.useCallback(T=>{const L=Y.findIndex(R=>R.videoName===T);if(L<0){be.error("Video not found");return}oe(R=>R.filter((z,Z)=>Z!==L)),le(R=>R.filter((z,Z)=>Z!==L)),be.success(`Duplicate deleted: ${T}`)},[Y]);N.useEffect(()=>(window.__duplicateVideo=Js,window.__deleteDuplicate=qo,()=>{delete window.__duplicateVideo,delete window.__deleteDuplicate}),[Js,qo]);const Go=async T=>{const L=Y[T];if(!ne[T]){be.error("Combination not found");return}const z=!!(L.audioUrl||L.audioWav||L.trimmedVideoUrl);if(!z){console.log("[Regenerate] No processing data, regenerating directly"),await Ud(T);return}const Z=L.videoName.includes("_HOOK")||L.videoName.includes("HOOK");let ce=null;if(Z){const re=L.videoName.match(/HOOK(\d+[A-Z]?)/);if(re){const ge=`HOOK${re[1]}M`;Jt.some(ue=>ue.videoName===ge)&&(ce=ge)}}else Cn&&(ce="BODY");let K=0;Z&&ce?K=dr.filter(re=>re.videoName.includes(ce)).length:!Z&&Cn&&(K=dr.length),Hu({videoName:L.videoName,isHook:Z,hasProcessingData:z,mergedVideoName:ce,finalVideosCount:K}),ud(T),Lu(!0)},Ud=async T=>{Y[T];const L=ne[T];if(!L){be.error("Combination not found");return}try{Fe(null);let R;const z=L.promptType;let Z;z==="PROMPT_NEUTRAL"?Z=k.find(ge=>ge.name.toUpperCase().includes("NEUTRAL")):z==="PROMPT_SMILING"?Z=k.find(ge=>ge.name.toUpperCase().includes("SMILING")):z==="PROMPT_CTA"&&(Z=k.find(ge=>ge.name.toUpperCase().includes("CTA"))),Z?R=Z.template:R=`HARDCODED_${z}`;const K=(await Ki.mutateAsync({userId:e.id,promptTemplate:R,combinations:[{text:L.text,imageUrl:L.imageUrl}]})).results[0],re=Y[T];if(re.videoName.includes("_HOOK")||re.videoName.includes("HOOK")){const ge=re.videoName.match(/HOOK(\d+[A-Z]?)/);if(ge){const ue=`HOOK${ge[1]}M`;Na(we=>we.filter(Ae=>Ae.videoName!==ue)),console.log(`[Regenerate] Deleted merged HOOK video: ${ue}`),Lo(we=>{const Ae=we.filter(Xe=>!Xe.videoName.includes(ue)),Be=we.length-Ae.length;return Be>0&&console.log(`[Regenerate] Deleted ${Be} final video(s) using ${ue}`),Ae})}}else Cn&&(Ea(null),console.log("[Regenerate] Deleted BODY merged video")),dr.length>0&&(console.log(`[Regenerate] Deleted ALL ${dr.length} final video(s)`),Lo([]));oe(ge=>[...ge.map((ve,ue)=>ue===T?{...ve,taskId:K.taskId,status:K.success?"pending":"failed",error:K.error,videoUrl:void 0,reviewStatus:ve.reviewStatus==="accepted"?"accepted":null,internalNote:ve.internalNote,audioUrl:void 0,audioWav:void 0,waveformData:void 0,cleanvoiceAudioUrl:void 0,whisperTranscript:void 0,audioProcessingStatus:void 0,audioProcessingError:void 0,ffmpegWavUrl:void 0,whisperUrl:void 0,cleanvoiceUrl:void 0,cutPoints:void 0,editingDebugInfo:void 0,isStartLocked:!1,isEndLocked:!1,recutStatus:null,trimmedVideoUrl:void 0,trimmedDuration:void 0,step9Note:void 0}:ve)]),K.success?be.success(`Video #${T+1} retrimis pentru generare`):be.error(`Error resending video #${T+1}: ${K.error}`)}catch(R){be.error(`Regeneration error: ${R.message}`)}};N.useEffect(()=>{if(Y.length===0||Ot!==6)return;const T=Y.filter(R=>R.status==="pending"&&R.taskId&&!R.videoUrl);if(T.length===0)return;console.log(`[Polling] Starting polling for ${T.length} truly pending videos`);const L=setInterval(()=>{const R=Y.filter(z=>z.status==="pending"&&z.taskId&&!z.videoUrl);if(R.length===0){console.log("[Polling] All videos completed, stopping polling"),clearInterval(L);return}console.log(`[Polling] Checking ${R.length} pending videos...`),R.forEach(z=>{const Z=Y.findIndex(ce=>ce.taskId===z.taskId);Z!==-1&&z.taskId&&Qs(z.taskId,Z)})},5e3);return()=>{clearInterval(L)}},[Y,Ot]);const kd=N.useCallback(()=>{const T={HOOKS:[],MIRROR:[],DCS:[],TRANZITION:[],NEW_CAUSE:[],MECHANISM:[],EMOTIONAL_PROOF:[],TRANSFORMATION:[],CTA:[],OTHER:[]};$.forEach(ce=>{T[ce.section].push(ce)});let L=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="UTF-8">
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #2563eb; border-bottom: 3px solid #2563eb; padding-bottom: 10px; }
          h2 { color: #16a34a; margin-top: 30px; border-bottom: 2px solid #16a34a; padding-bottom: 5px; }
          .line-item { margin: 15px 0; padding: 10px; background-color: #f9fafb; border-left: 4px solid #2563eb; }
          .video-name { font-weight: bold; color: #1e40af; margin-bottom: 5px; }
          .line-text { margin: 5px 0; line-height: 1.6; }
          .red-text { color: #dc2626; font-weight: bold; }
        </style>
      </head>
      <body>
        <h1>Linii Extrase - Step 2</h1>
    `;Object.entries(T).forEach(([ce,K])=>{K.length!==0&&(L+=`<h2>${ce}</h2>`,K.forEach(re=>{if(L+='<div class="line-item">',L+=`<div class="video-name">${re.videoName}</div>`,L+='<div class="line-text">',re.redStart!==void 0&&re.redStart>=0&&re.redEnd!==void 0&&re.redEnd>=0){const me=re.text.substring(0,re.redStart),ge=re.text.substring(re.redStart,re.redEnd),ve=re.text.substring(re.redEnd);L+=`${me}<span class="red-text">${ge}</span>${ve}`}else L+=re.text;L+="</div></div>"}))}),L+="</body></html>";const R=new Blob([L],{type:"application/msword"}),z=window.URL.createObjectURL(R),Z=document.createElement("a");Z.href=z,Z.download="Linii_Extrase_Step2.doc",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),window.URL.revokeObjectURL(z),be.success("Word document downloaded!")},[$]),jd=N.useCallback(T=>{oe(L=>L.map(R=>R.videoName===T?{...R,reviewStatus:"accepted"}:R)),rr(L=>[...L,{videoName:T,previousStatus:Y.find(R=>R.videoName===T)?.reviewStatus||null,newStatus:"accepted"}]),be.success(`Video ${T} accepted!`)},[Y]),yp=N.useCallback(T=>{oe(L=>L.map(R=>R.videoName===T?{...R,reviewStatus:"regenerate"}:R)),rr(L=>[...L,{videoName:T,previousStatus:Y.find(R=>R.videoName===T)?.reviewStatus||null,newStatus:"regenerate"}]),be.info(`${T} marcat pentru regenerare`)},[Y]),vp=N.useCallback(T=>{oe(L=>L.map(R=>R.videoName===T?{...R,reviewStatus:null}:R)),be.success(`Decision cancelled for ${T}`)},[Y]);N.useCallback(async(T,L)=>{try{const R=Y.findIndex(ve=>ve.videoName===T);if(R<0){be.error("Video not found");return}const z=Y[R],Z=T.split("_");if(Z.length<6){be.error("Invalid video name format"),console.error("[Category Change] Invalid videoName:",T);return}const K=Z[4].match(/\d+$/),re=K?K[0]:"1";Z[4]=L+re;const me=Z.join("_");console.log("[Category Change]",T,"",me),console.log("[Category Change] Old section:",z.section," New section:",L);const ge=Y.map(ve=>ve.videoName===T?{...ve,videoName:me,section:L}:ve);oe(ge),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ge,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),be.success(` Category changed: ${T}  ${me}`)}catch(R){console.error("[Category Change] Error:",R),be.error(`Failed to save category: ${R.message}`)}},[Ot,r,o,d,h,p,D,M,$,k,q,ne,Y,ct?.id]),N.useEffect(()=>{if(r&&o&&d&&h&&p){const T={tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,timestamp:Date.now()};localStorage.setItem("selectionHistory",JSON.stringify(T)),console.log("[Selection History] Saved to localStorage:",T)}},[r,o,d,h,p]);const eo=N.useCallback(T=>{const L=$[T],R=L.videoName.match(/^(.*?)(HOOK\d+)([A-Z]?)(.*)$/);if(!R){be.error("Cannot duplicate this line");return}const[z,Z,ce,K,re]=R,me=new RegExp(`^${Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}${ce}([A-Z]?)${re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$`),ge=$.map((Xe,je)=>({line:Xe,index:je})).filter(({line:Xe})=>me.test(Xe.videoName)).sort((Xe,je)=>{const De=Xe.line.videoName.match(me)?.[1]||"",Je=je.line.videoName.match(me)?.[1]||"";return De.localeCompare(Je)}),ve=K?K.charCodeAt(0):64,ue=String.fromCharCode(ve+1),we=[...$];ge.forEach(({line:Xe,index:je})=>{const De=Xe.videoName.match(me)?.[1]||"",Je=De?De.charCodeAt(0):64;if(Je>ve){const ft=String.fromCharCode(Je+1),ut=`${Z}${ce}${ft}${re}`;we[je]={...we[je],videoName:ut}}});const Ae=`${Z}${ce}${ue}${re}`,Be={...L,id:`line-${Date.now()}-${Math.random()}`,videoName:Ae};we.splice(T+1,0,Be),se(we),be.success(`Duplicated: ${Ae}`)},[$]),to=N.useCallback(()=>{if(en.length===0){be.error("No actions to undo");return}const T=en[en.length-1];oe(L=>L.map(R=>R.videoName===T.videoName?{...R,reviewStatus:T.previousStatus}:R)),rr(L=>L.slice(0,-1)),be.success(`Action undone for ${T.videoName}`)},[en]),bp=async()=>{zn(7),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:7,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en}),console.log("[goToCheckVideos]  Forcing reload from DB...");const T=await Hr();if(T.data?.videoResults){const L=z=>{if(!z)return[];const Z=typeof z=="string"?JSON.parse(z):z;return Array.isArray(Z)?Z:[]},R=L(T.data.videoResults);console.log("[goToCheckVideos]  Loaded fresh videoResults from DB:",R.length),oe(R),se(L(T.data.adLines)),le(L(T.data.combinations))}},ga=async T=>{zn(T),await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:T,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en});const L=R=>{if(!R)return[];const z=typeof R=="string"?JSON.parse(R):R;return Array.isArray(z)?z:[]};if(T===2){console.log("[goToStep]  Forcing reload from DB for Step 2...");const R=await Hr();if(R.data){const z=L(R.data.adLines),Z=L(R.data.combinations),ce=z.map(K=>{const re=Z.find(me=>me.text===K.text);return re&&re.videoName!==K.videoName?(console.log("[goToStep]  Syncing adLine videoName:",K.videoName,"->",re.videoName),{...K,videoName:re.videoName}):K});console.log("[goToStep]  Loaded fresh adLines from DB:",ce.length),se(ce)}}else if(T===4){console.log("[goToStep]  Forcing reload from DB for Step 4...");const R=await Hr();if(R.data){let z=L(R.data.images);const Z=L(R.data.adLines),ce=L(R.data.combinations),K=await fs();K.data&&(z=z.map(me=>{const ge=K.data.find(ve=>ve.id===me.id);return ge?{...me,fileName:ge.fileName}:me}),console.log("[goToStep]  Synced image names with Image Library"));const re=Z.map(me=>{const ge=ce.find(ve=>ve.text===me.text);return ge&&ge.videoName!==me.videoName?(console.log("[goToStep]  Syncing adLine videoName:",me.videoName,"->",ge.videoName),{...me,videoName:ge.videoName}):me});console.log("[goToStep]  Loaded fresh data from DB:",{images:z.length,adLines:re.length}),ee(z),se(re)}}else if(T===5){console.log("[goToStep]  Forcing reload from DB for Step 5...");const R=await Hr();if(R.data){let z=L(R.data.images);const Z=L(R.data.combinations),ce=L(R.data.videoResults),K=await fs();K.data&&(z=z.map(me=>{const ge=K.data.find(ve=>ve.id===me.id);return ge?{...me,fileName:ge.fileName}:me}),console.log("[goToStep]  Synced image names with Image Library"));const re=Z.map(me=>{const ge=ce.find(ve=>ve.text===me.text&&ve.imageId===me.imageId);return ge&&ge.videoName!==me.videoName?(console.log("[goToStep]  Syncing combination videoName:",me.videoName,"->",ge.videoName),{...me,videoName:ge.videoName}):me});console.log("[goToStep]  Loaded fresh data from DB:",{images:z.length,combinations:re.length}),ee(z),le(re)}}},Xo=()=>{if(Ot>1){if(pn){if(!confirm("You have unsaved changes. Are you sure you want to go back?"))return;Qt(!1)}zn(Ot-1)}};return Bl?l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:8860",className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8861",className:"text-center",children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:8862",className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:8863",className:"text-gray-600",children:"Loading session..."})]})}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8870",className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8872",className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:8873",className:"container max-w-6xl mx-auto px-4",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8874",className:"flex items-center justify-between h-16",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8876",className:"flex items-center gap-3",children:[l.jsx(bA,{"data-loc":"client/src/pages/Home.tsx:8877",className:"w-6 h-6 text-yellow-300"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:8878",className:"text-white font-bold text-sm md:text-lg",children:"A.I Ads Engine"})]}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:8882",onClick:()=>Fo(!fd),className:"md:hidden flex items-center justify-center w-10 h-10 rounded-lg hover:bg-blue-800 transition-colors",children:fd?l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:8887",className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:8888",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:8891",className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:8892",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8898",className:"hidden md:flex items-center gap-6",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8899",onClick:()=>n("/images-library"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Jg,{"data-loc":"client/src/pages/Home.tsx:8903",className:"w-4 h-4"}),"Images Library"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8906",onClick:()=>n("/prompts-library"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(em,{"data-loc":"client/src/pages/Home.tsx:8910",className:"w-4 h-4"}),"Prompts Library"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8913",onClick:()=>n("/category-management"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Nc,{"data-loc":"client/src/pages/Home.tsx:8917",className:"w-4 h-4"}),"Ads Management"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8920",onClick:async()=>{try{const T=await Tt.appAuth.getMe.query({userId:ct.id});T&&(id(T),localStorage.setItem("currentUser",JSON.stringify(T)),console.log("[Settings] Refreshed user from DB:",T))}catch(T){console.error("[Settings] Failed to refresh user:",T)}ju(!0)},className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Yb,{"data-loc":"client/src/pages/Home.tsx:8937",className:"w-4 h-4"}),"Settings"]})]}),l.jsxs(c6,{"data-loc":"client/src/pages/Home.tsx:8943",children:[l.jsx(d6,{"data-loc":"client/src/pages/Home.tsx:8944",asChild:!0,children:l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8945",className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:[ct.profileImageUrl&&l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:8947",src:ct.profileImageUrl,alt:"Profile",className:"w-8 h-8 rounded-full border-2 border-white object-cover"}),!ct.profileImageUrl&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:8954",className:"w-8 h-8 rounded-full border-2 border-white bg-blue-800 flex items-center justify-center",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:8955",className:"text-white font-medium text-sm",children:ct.username.charAt(0).toUpperCase()})}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:8960",className:"text-white text-sm font-medium",children:ct.username}),l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:8961",className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:8962",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),l.jsx(u6,{"data-loc":"client/src/pages/Home.tsx:8966",align:"end",className:"w-48",children:l.jsxs(f6,{"data-loc":"client/src/pages/Home.tsx:8967",onClick:t,className:"cursor-pointer text-red-600",children:[l.jsx(Kb,{"data-loc":"client/src/pages/Home.tsx:8968",className:"w-4 h-4 mr-2"}),"Logout"]})})]})]})}),fd&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:8978",className:"md:hidden bg-blue-700 border-t border-blue-600",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:8979",className:"container max-w-6xl mx-auto px-4 py-4 space-y-3",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8980",onClick:()=>{n("/images-library"),Fo(!1)},className:"flex items-center gap-3 text-white hover:text-yellow-300 transition-colors text-sm font-medium w-full py-2",children:[l.jsx(Jg,{"data-loc":"client/src/pages/Home.tsx:8987",className:"w-5 h-5"}),"Images Library"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:8990",onClick:()=>{n("/prompts-library"),Fo(!1)},className:"flex items-center gap-3 text-white hover:text-yellow-300 transition-colors text-sm font-medium w-full py-2",children:[l.jsx(em,{"data-loc":"client/src/pages/Home.tsx:8997",className:"w-5 h-5"}),"Prompts Library"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9000",onClick:()=>{n("/category-management"),Fo(!1)},className:"flex items-center gap-3 text-white hover:text-yellow-300 transition-colors text-sm font-medium w-full py-2",children:[l.jsx(Nc,{"data-loc":"client/src/pages/Home.tsx:9007",className:"w-5 h-5"}),"Ads Management"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9010",onClick:async()=>{try{const T=await Tt.appAuth.getMe.query({userId:ct.id});T&&(id(T),localStorage.setItem("currentUser",JSON.stringify(T)),console.log("[Settings] Refreshed user from DB:",T))}catch(T){console.error("[Settings] Failed to refresh user:",T)}ju(!0),Fo(!1)},className:"flex items-center gap-3 text-white hover:text-yellow-300 transition-colors text-sm font-medium w-full py-2",children:[l.jsx(Yb,{"data-loc":"client/src/pages/Home.tsx:9028",className:"w-5 h-5"}),"Settings"]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9031",onClick:()=>{t(),Fo(!1)},className:"flex items-center gap-3 text-red-300 hover:text-red-100 transition-colors text-sm font-medium w-full py-2 border-t border-blue-600 pt-3",children:[l.jsx(Kb,{"data-loc":"client/src/pages/Home.tsx:9038",className:"w-5 h-5"}),"Logout"]})]})})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9046",className:"container max-w-6xl mx-auto py-4 md:py-8 px-4 md:px-4",children:[l.jsx(TF,{"data-loc":"client/src/pages/Home.tsx:9049",isOpen:ep,onClose:()=>ju(!1),currentUser:ct,onProfileUpdated:T=>{id(T),localStorage.setItem("currentUser",JSON.stringify(T))}}),l.jsx(uB,{"data-loc":"client/src/pages/Home.tsx:9061",open:de,ffmpegProgress:nt.ffmpeg,whisperProgress:nt.whisper,cleanvoiceProgress:nt.cleanvoice,currentVideoName:nt.currentVideoName,processingStep:he,countdown:nt.countdown,estimatedMinutes:nt.estimatedMinutes,successVideos:nt.successVideos,failedVideos:nt.failedVideos,ffmpegSuccess:nt.ffmpegSuccess,ffmpegFailed:nt.ffmpegFailed,whisperSuccess:nt.whisperSuccess,whisperFailed:nt.whisperFailed,cleanvoiceSuccess:nt.cleanvoiceSuccess,cleanvoiceFailed:nt.cleanvoiceFailed,onClose:()=>_e(!1),onStop:()=>{console.log("[STOP] User clicked STOP button"),Oe.current=!0,be.info(" Stopping processing... (current batch will finish)")},onContinue:()=>{_e(!1),zn(8),be.success(" Proceeding to Step 8")},onRetryFailed:async()=>{console.log("[Retry Failed] Starting retry for failed videos:",nt.failedVideos);const T=nt.failedVideos.map(R=>R.videoName),L=Y.filter(R=>T.includes(R.videoName));if(L.length===0){be.error("No failed videos to retry");return}console.log(`[Retry Failed] Retrying ${L.length} videos...`),be.info(` Retrying ${L.length} failed videos...`),P({ffmpeg:{current:0,total:L.length,status:"idle",activeVideos:[]},whisper:{current:0,total:L.length,status:"idle",activeVideos:[]},cleanvoice:{current:0,total:L.length,status:"idle",activeVideos:[]},currentVideoName:"",countdown:0,estimatedMinutes:0,successVideos:[],failedVideos:[],ffmpegSuccess:[],ffmpegFailed:[],whisperSuccess:[],whisperFailed:[],cleanvoiceSuccess:[],cleanvoiceFailed:[]});try{await ms(L);const R=nt.failedVideos.length;R>0?be.warning(` Retry complete: ${L.length-R} success, ${R} still failed`):be.success(` All ${L.length} retried videos processed successfully! Click Continue to proceed.`)}catch(R){console.error("[Retry Failed] Error:",R),be.error(`Error on retry: ${R.message}`)}}}),l.jsx(fB,{"data-loc":"client/src/pages/Home.tsx:9145",open:pd,status:En.status,message:En.message,countdown:En.countdown,totalFinalVideos:En.totalFinalVideos,currentFinalVideo:En.currentFinalVideo,currentBatch:En.currentBatch,totalBatches:En.totalBatches,hooksSuccess:En.hooksSuccess,hooksFailed:En.hooksFailed,hooksInProgress:En.hooksInProgress,bodySuccess:En.bodySuccess,bodyFailed:En.bodyFailed,bodyInProgress:En.bodyInProgress,onSkipCountdown:En.onSkipCountdown,onCancel:En.onCancel,onRetryFailed:nf,onContinue:()=>{bi(!1),zn(10),be.success(" Proceeding to Step 10")},onClose:()=>{En.status==="countdown"&&En.onCancel&&En.onCancel(),En.status!=="processing"&&bi(!1)}}),l.jsx(vB,{"data-loc":"client/src/pages/Home.tsx:9181",open:dy,onClose:()=>rp(!1),hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,allHookGroups:pp,onConfirm:(T,L)=>{bi(!0),uc(T,L)}}),l.jsx(bB,{"data-loc":"client/src/pages/Home.tsx:9194",open:Ie,onClose:()=>tt(!1),videoResults:Y.filter(T=>T.reviewStatus==="accepted"&&T.status==="success"&&T.videoUrl),hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr,onDeleteMergedVideos:(T,L)=>{console.log("[Step 7 Autoprepare] Deleting merged/final videos:",{mergedToDelete:T,deleteAllFinal:L}),T.length>0&&Na(R=>R.filter(z=>!T.some(Z=>z.videoName.includes(Z)))),L&&Ea(null),L?Lo([]):T.length>0&&Lo(R=>R.filter(z=>!T.some(Z=>z.hookName?.includes(Z))))},onConfirm:async T=>{tt(!1);const L=Y.filter(R=>T.includes(R.videoName));if(console.log(`[Video Editing]  Processing ${L.length} selected videos`),L.length===0){be.error(" No videos selected!");return}oe(R=>R.map(z=>T.includes(z.videoName)?{...z,audioUrl:void 0,audioWav:void 0,waveformData:void 0,cleanvoiceAudioUrl:void 0,whisperTranscript:void 0,audioProcessingStatus:void 0,audioProcessingError:void 0,cutPoints:void 0,editingDebugInfo:void 0,isStartLocked:!1,isEndLocked:!1,editStatus:null,words:void 0,trimmedVideoUrl:void 0,trimmedDuration:void 0,trimStatus:null,recutStatus:null,step9Note:void 0,acceptRejectStatus:null}:z)),P({ffmpeg:{current:0,total:L.length},whisper:{current:0,total:L.length},cleanvoice:{current:0,total:L.length},currentVideoName:""}),ye(null),_e(!0);try{await ms(L);const R=nt.failedVideos.length;R>0?be.warning(` Processing complete: ${nt.successVideos.length} success, ${R} failed. Please retry failed videos.`):be.success(` ${L.length} videos processed successfully! Click Continue to proceed.`)}catch(R){console.error("[Video Editing] Batch processing error:",R),_e(!1),be.error(`Error processing videos: ${R.message}`)}}}),l.jsx(_B,{"data-loc":"client/src/pages/Home.tsx:9296",isOpen:ly,videoName:Zl?.videoName||"",isHook:Zl?.isHook||!1,hasProcessingData:Zl?.hasProcessingData||!1,mergedVideoName:Zl?.mergedVideoName||null,finalVideosCount:Zl?.finalVideosCount||0,onConfirm:async()=>{Lu(!1),tp!==null&&(await Ud(tp),ud(null),Hu(null))},onCancel:()=>{Lu(!1),ud(null),Hu(null)}}),l.jsx(hB,{"data-loc":"client/src/pages/Home.tsx:9319",open:Vu,status:gr.status,message:gr.message,countdown:gr.countdown,total:gr.total,current:gr.current,currentBatch:gr.currentBatch,totalBatches:gr.totalBatches,successVideos:gr.successVideos,failedVideos:gr.failedVideos,inProgressVideos:gr.inProgressVideos,onSkipCountdown:gr.onSkipCountdown,onRetryFailed:gy,onContinue:()=>{gd(!1),be.success(" Final merge complete! Use Continue button to proceed to Step 11.")},onClose:()=>{gr.status!=="processing"&&gr.status!=="countdown"&&gd(!1)}}),l.jsx(pB,{"data-loc":"client/src/pages/Home.tsx:9346",open:ap,total:zi.total,current:zi.current,status:zi.status,message:zi.message}),l.jsx(oi,{"data-loc":"client/src/pages/Home.tsx:9355",open:sd,onOpenChange:T=>{!T&&(St.status==="processing"||St.status==="merging")||Fi(T)},children:l.jsxs(li,{"data-loc":"client/src/pages/Home.tsx:9360",className:"max-w-5xl max-h-[80vh] overflow-y-auto",onInteractOutside:T=>{(St.status==="processing"||St.status==="merging")&&T.preventDefault()},children:[l.jsxs(ci,{"data-loc":"client/src/pages/Home.tsx:9364",children:[l.jsxs(di,{"data-loc":"client/src/pages/Home.tsx:9365",className:"flex items-center gap-2",children:[St.status==="processing"&&l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:9367",className:"w-5 h-5 animate-spin text-red-600"})," Procesare Videouri (FFmpeg + CleanVoice)"]}),l.jsx(rs,{"data-loc":"client/src/pages/Home.tsx:9371",children:"We trim each video at detected timestamps and replace audio with CleanVoice processed version..."})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9376",className:"space-y-4 py-4",children:[(St.status==="processing"||St.status==="merging")&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9379",className:"space-y-3",children:[St.totalBatches>0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9382",className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9383",className:"text-sm font-semibold text-blue-800",children:[" Batch ",St.currentBatch,"/",St.totalBatches]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9390",className:"space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9392",className:"space-y-2",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9393",className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:" Cutting Videos"}),l.jsx(bo,{"data-loc":"client/src/pages/Home.tsx:9396",value:St.cuttingCurrent/St.cuttingTotal*100,className:"h-3 bg-green-100"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9400",className:"text-center text-sm font-medium text-green-700",children:[St.cuttingCurrent,"/",St.cuttingTotal," videos cut"]})]}),St.mergingTotal>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9407",className:"space-y-2",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9408",className:"flex items-center justify-center gap-2",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9409",className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:" Prepare for Merge"}),St.mergingCurrent<St.mergingTotal&&l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:9413",className:"w-4 h-4 animate-spin text-purple-600"})]}),l.jsx(bo,{"data-loc":"client/src/pages/Home.tsx:9416",value:St.mergingCurrent/St.mergingTotal*100,className:"h-3 bg-purple-100"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9420",className:"text-center text-sm font-medium text-purple-700",children:[St.mergingCurrent,"/",St.mergingTotal," merged"]})]}),St.countdown>0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9428",className:"flex items-center justify-center",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9429",className:"bg-orange-50 border-2 border-orange-300 rounded-lg px-6 py-4",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9430",className:"text-center text-4xl font-bold text-orange-600 tabular-nums",children:[" ",St.countdown,"s"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9433",className:"text-center text-xs text-orange-500 mt-2",children:"Waiting for FFmpeg rate limit..."})]})})]}),St.message&&St.status!=="merging"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9443",className:"text-center text-sm font-medium p-2 rounded-lg bg-gray-50 text-gray-600",children:St.message}),St.mergeStatus==="pending"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9450",className:"bg-orange-50 border border-orange-200 rounded-lg p-3 flex items-center gap-3",children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:9451",className:"w-5 h-5 animate-spin text-orange-600"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9452",className:"text-sm font-semibold text-orange-800",children:[" Merging all ",St.total," videos, please wait..."]})]})]}),St.successVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9462",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9463",onClick:()=>Ru(!Li),className:"w-full flex items-center justify-between text-sm font-medium text-green-700 mb-2 hover:text-green-800",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:9467",children:[" Success (",St.successVideos.length,")"]}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9468",className:"text-blue-600 underline text-xs",children:"View log"})]}),Li&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9471",className:"max-h-48 overflow-y-auto bg-green-50 border border-green-200 rounded-lg p-3 space-y-1",children:St.successVideos.map((T,L)=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9473",className:"flex items-center gap-2 text-sm text-green-700",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9474",className:"text-green-600",children:""}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9475",children:T.name})]},L))})]}),St.failedVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9485",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9486",onClick:()=>Rs(!Pu),className:"w-full flex items-center justify-between text-sm font-medium text-red-700 mb-2 hover:text-red-800",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:9490",children:[" Failed (",St.failedVideos.length,")"]}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9491",className:"text-blue-600 underline text-xs",children:"View log"})]}),Pu&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9494",className:"max-h-48 overflow-y-auto bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:St.failedVideos.map((T,L)=>l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9496",className:"text-sm",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9497",className:"flex items-start gap-2",children:[T.status==="retrying"?l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:9500",className:"w-4 h-4 animate-spin text-orange-600 mt-0.5"}):l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9502",className:"text-red-600",children:""}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9504",className:"flex-1",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9505",className:"font-medium text-red-700",children:T.name}),T.error&&T.status!=="retrying"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9507",className:"text-xs text-gray-600 mt-0.5",children:T.error}),T.status==="retrying"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9510",className:"text-xs text-orange-600 mt-0.5",children:"Retrying..."})]})]})},L))})]}),St.mergedVideos?.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9523",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:9524",onClick:()=>Ru(!Li),className:"w-full flex items-center justify-between text-sm font-medium text-purple-700 mb-2 hover:text-purple-800",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:9528",children:[" Merged (",St.mergedVideos.length,")"]}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9529",className:"text-blue-600 underline text-xs",children:"View log"})]}),Li&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9532",className:"max-h-48 overflow-y-auto bg-purple-50 border border-purple-200 rounded-lg p-3 space-y-1",children:St.mergedVideos.map((T,L)=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9534",className:"flex items-center gap-2 text-sm text-purple-700",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9535",children:""}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:9536",children:[T.name," (",T.type==="hooks"?"Hooks merged":"Body merged",")"]})]},L))})]}),St.inProgressVideos.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9546",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9547",className:"text-sm font-medium text-blue-700 mb-2",children:[" Processing (",St.inProgressVideos.length,"):"]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9550",className:"max-h-32 overflow-y-auto bg-blue-50 border border-blue-200 rounded-lg p-3 space-y-1",children:St.inProgressVideos.map((T,L)=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9552",className:"flex items-center gap-2 text-sm text-blue-700",children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:9553",className:"w-4 h-4 animate-spin"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:9554",children:T.name})]},L))})]}),St.mergeStatus==="success"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9563",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9564",className:"text-sm font-medium text-green-700 mb-2",children:" Merge successful!"})}),St.mergeStatus==="failed"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9572",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9573",className:"text-sm font-medium text-red-700 mb-2",children:" Merge failed"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9576",className:"bg-red-50 border border-red-200 rounded-lg p-3 space-y-2",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:9577",className:"text-xs text-red-600",children:"Videos were trimmed but merge operation failed."}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9580",onClick:async()=>{console.log("[Trimming]  Retrying final merge..."),_n(T=>({...T,status:"merging",mergeStatus:"pending",message:" Retrying merge..."}));try{let T=[];oe(z=>(T=z,z));const L=T.filter(z=>z.trimmedVideoUrl);if(L.length===0)throw new Error("No trimmed videos found");const R=await Sd.mutateAsync({videos:L.map(z=>({url:z.trimmedVideoUrl,name:z.videoName,startMs:0,endMs:0})),ffmpegApiKey:ct.ffmpegApiKey||""});if(!R.success||!R.downloadUrl)throw new Error("Merge failed");jo(R.downloadUrl),cd(R.downloadUrl),_n(z=>({...z,status:"complete",mergeStatus:"success",message:" Merge successful!"})),be.success("Merge successful!")}catch(T){console.error("[Trimming]  Retry merge failed:",T),_n(L=>({...L,status:"partial",mergeStatus:"failed",message:` Merge failed: ${T.message}`})),be.error(`Merge failed: ${T.message}`)}},className:"bg-red-600 hover:bg-red-700 text-white text-xs",size:"sm",children:" Retry Merge"})]})]}),St.status!=="processing"&&St.failedVideos.length===0&&St.successVideos.length>0&&jr&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9657",className:"space-y-4 mt-6",children:[l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:9659",id:"trimming-video-player",src:jr,controls:!0,className:"w-full rounded-lg border border-gray-300",style:{maxHeight:"400px"}}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9668",className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-2 text-center",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9669",className:"text-xs font-bold text-yellow-900",id:"trimming-current-video-name",children:[" ",Wl||St.successVideos[0]?.name||"Loading..."]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9675",className:"flex justify-end",children:l.jsx("a",{"data-loc":"client/src/pages/Home.tsx:9676",href:jr,download:"merged-video.mp4",className:"text-blue-600 hover:text-blue-800 underline text-xs italic",children:"Download video"})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9686",className:"bg-purple-50 border-2 border-purple-300 rounded-lg p-4",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:9687",className:"text-sm font-semibold text-gray-900 mb-3",children:" Video Timeline"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9690",className:"space-y-2",children:[(()=>{const T=St.successVideos.findIndex(ce=>ce.name===Wl),L=T>0?St.successVideos[T-1]:null;if(!L)return null;const z=Y.find(ce=>ce.videoName===L.name)?.step9Note||"",Z=pr===L.name;return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9705",className:"flex items-start justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9706",className:"flex-1",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9707",className:"text-sm font-medium text-gray-900",children:[" Previous: ",L.name]}),Z?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9710",className:"mt-2 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:9711",value:ea,onChange:ce=>$n(ce.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add note for Step 9..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9718",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9719",size:"sm",onClick:()=>{const ce=Y.map(K=>K.videoName===L.name?{...K,step9Note:ea}:K);oe(ce),ar(null),$n(""),be.success("Note saved!"),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ce,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr})},className:"bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9757",size:"sm",variant:"outline",onClick:()=>{ar(null),$n("")},children:"Cancel"})]})]}):z&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9771",className:"mt-1 text-xs text-purple-600",children:[" ",z]})]}),!Z&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:9777",onClick:()=>{ar(L.name),$n(z)},className:"text-xs text-blue-600 hover:text-blue-800 underline whitespace-nowrap",children:z?"Edit note":"Add note"})]})})(),(()=>{const T=Wl||St.successVideos[0]?.name||"Loading...",R=Y.find(Z=>Z.videoName===T)?.step9Note||"",z=pr===T;return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9799",className:"flex items-start justify-between gap-3 p-3 bg-white border-2 border-purple-400 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9800",className:"flex-1",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9801",className:"text-sm font-medium text-gray-900 font-bold",children:[" Current: ",T]}),z?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9804",className:"mt-2 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:9805",value:ea,onChange:Z=>$n(Z.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add note for Step 9..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9812",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9813",size:"sm",onClick:()=>{const Z=Y.map(ce=>ce.videoName===T?{...ce,step9Note:ea}:ce);oe(Z),ar(null),$n(""),be.success("Note saved!"),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Z,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr})},className:"bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9851",size:"sm",variant:"outline",onClick:()=>{ar(null),$n("")},children:"Cancel"})]})]}):R&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9865",className:"mt-1 text-xs text-purple-600",children:[" ",R]})]}),!z&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:9871",onClick:()=>{ar(T),$n(R)},className:"text-xs text-blue-600 hover:text-blue-800 underline whitespace-nowrap",children:R?"Edit note":"Add note"})]})})(),(()=>{const T=St.successVideos.findIndex(ce=>ce.name===Wl),L=T>=0&&T<St.successVideos.length-1?St.successVideos[T+1]:null;if(!L)return null;const z=Y.find(ce=>ce.videoName===L.name)?.step9Note||"",Z=pr===L.name;return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9899",className:"flex items-start justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9900",className:"flex-1",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9901",className:"text-sm font-medium text-gray-900",children:["Next  ",L.name]}),Z?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9904",className:"mt-2 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:9905",value:ea,onChange:ce=>$n(ce.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add note for Step 9..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9912",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9913",size:"sm",onClick:()=>{const ce=Y.map(K=>K.videoName===L.name?{...K,step9Note:ea}:K);oe(ce),ar(null),$n(""),be.success("Note saved!"),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ce,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr})},className:"bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:9951",size:"sm",variant:"outline",onClick:()=>{ar(null),$n("")},children:"Cancel"})]})]}):z&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:9965",className:"mt-1 text-xs text-purple-600",children:[" ",z]})]}),!Z&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:9971",onClick:()=>{ar(L.name),$n(z)},className:"text-xs text-blue-600 hover:text-blue-800 underline whitespace-nowrap",children:z?"Edit note":"Add note"})]})})()]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9988",className:"border-t pt-4",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:9989",className:"text-sm font-semibold text-gray-900 mb-3",children:"Videos in this merge:"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:9990",className:"space-y-2",children:St.successVideos.filter(T=>!T.name.includes("(Hooks merged)")&&!T.name.includes("(Body merged)")).map(T=>{const R=Y.find(z=>z.videoName===T.name)?.step9Note||"";return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9998",className:"flex items-start justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:9999",className:"flex-1",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10000",className:"text-sm font-medium text-gray-900",children:T.name}),pr===T.name?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10004",className:"mt-2 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:10005",value:ea,onChange:z=>$n(z.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add note for Step 9..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10012",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10013",size:"sm",onClick:()=>{const z=Y.map(Z=>Z.videoName===T.name?{...Z,step9Note:ea}:Z);oe(z),ar(null),$n(""),be.success("Note saved!"),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:z,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr})},className:"bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10056",size:"sm",variant:"outline",onClick:()=>{ar(null),$n("")},children:"Cancel"})]})]}):R&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:10070",className:"mt-1 text-xs text-gray-600",children:[" ",R]})]}),pr!==T.name&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10077",onClick:()=>{ar(T.name),$n(R)},className:"text-xs text-blue-600 hover:text-blue-800 underline whitespace-nowrap",children:R?"Edit note":"Add note"})]},T.name)})})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10096",className:"space-y-4 mt-6",children:[St.status!=="processing"&&St.successVideos.length>0&&St.successVideos.some(T=>Y.find(R=>R.videoName===T.name)?.trimmedVideoUrl)&&l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:10104",onClick:()=>{const T=Y.filter(L=>L.trimmedVideoUrl);console.log("[Trimming Modal] Using",T.length,"videos with trimmedVideoUrl"),Fi(!1),Md(T)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-4 rounded-lg text-base font-semibold transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:10115",className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:10116",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})," Sample Merge ALL Videos"]}),St.status!=="processing"&&St.successVideos.length>0&&St.successVideos.some(T=>Y.find(R=>R.videoName===T.name)?.trimmedVideoUrl)&&l.jsx("hr",{"data-loc":"client/src/pages/Home.tsx:10129",className:"border-gray-300"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10133",className:"flex gap-2",children:[St.status!=="processing"&&St.failedVideos.length===0&&St.successVideos.length>0&&jr&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10139",onClick:()=>{Fi(!1),zn(10)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" Go to Step 10"}),St.status!=="processing"&&St.failedVideos.length>0&&l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:10152",onClick:mr,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[" Retry Failed (",St.failedVideos.length,")"]}),St.status!=="processing"&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10162",onClick:()=>Fi(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:" Close"})]})]})]})]})}),l.jsx(oi,{"data-loc":"client/src/pages/Home.tsx:10176",open:od,onOpenChange:Ro,children:l.jsxs(li,{"data-loc":"client/src/pages/Home.tsx:10177",className:"max-w-2xl",children:[l.jsxs(ci,{"data-loc":"client/src/pages/Home.tsx:10178",children:[l.jsx(di,{"data-loc":"client/src/pages/Home.tsx:10179",className:"flex items-center gap-2",children:" Cut & Merge (Test)"}),l.jsx(rs,{"data-loc":"client/src/pages/Home.tsx:10182",children:"Preview merged video"})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10187",className:"space-y-4 py-4",children:Hi?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10194",className:"space-y-3",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10195",className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10196",className:"text-sm font-semibold text-green-900",children:" Merge complete! Preview below:"})}),l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:10201",id:"cut-merge-video-player",src:Hi,controls:!0,className:"w-full rounded-lg border border-gray-300",style:{maxHeight:"400px"}}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10210",className:`rounded px-2 py-1 text-center ${$l===Iu?"bg-green-100 border border-green-300":"bg-yellow-100 border border-yellow-300"}`,children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10215",className:`text-xs font-medium ${$l===Iu?"text-green-900":"text-yellow-900"}`,children:$l})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10224",className:"text-xs text-gray-500 text-center",children:' This is a temporary preview. Click "TRIM ALL VIDEOS" to save final cuts.'})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10189",className:"flex flex-col items-center gap-3",children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:10190",className:"w-8 h-8 animate-spin text-blue-600"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10191",className:"text-sm text-gray-600",children:ld})]})}),l.jsx(rm,{"data-loc":"client/src/pages/Home.tsx:10231",children:l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10232",onClick:()=>{Ro(!1),Ou(null),Ta("")},variant:"outline",children:"Close"})})]})}),l.jsx(oi,{"data-loc":"client/src/pages/Home.tsx:10247",open:oy,onOpenChange:dd,children:l.jsxs(li,{"data-loc":"client/src/pages/Home.tsx:10248",className:"max-w-md",children:[l.jsxs(ci,{"data-loc":"client/src/pages/Home.tsx:10249",children:[l.jsxs(di,{"data-loc":"client/src/pages/Home.tsx:10250",className:"flex items-center gap-2",children:[l.jsx(Kf,{"data-loc":"client/src/pages/Home.tsx:10251",className:"w-5 h-5"}),"Download ZIP Archive"]}),l.jsx(rs,{"data-loc":"client/src/pages/Home.tsx:10254",children:"Creez arhiva cu toate videoclipurile acceptate..."})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10259",className:"space-y-4 py-4",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10260",className:"flex flex-col items-center gap-3",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10261",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10262",className:"text-sm text-gray-600 text-center",children:zi})]})})]})}),l.jsx(oi,{"data-loc":"client/src/pages/Home.tsx:10269",open:sy,onOpenChange:Io,children:l.jsxs(li,{"data-loc":"client/src/pages/Home.tsx:10270",className:"max-w-lg",children:[l.jsxs(ci,{"data-loc":"client/src/pages/Home.tsx:10271",children:[l.jsx(di,{"data-loc":"client/src/pages/Home.tsx:10272",className:"flex items-center gap-2 text-red-600 text-lg",children:" Warning"}),l.jsxs(rs,{"data-loc":"client/src/pages/Home.tsx:10275",className:"space-y-3",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:10276",className:"text-sm text-gray-700 leading-relaxed",children:["If you modified the START and END markers on some videos, it is preferable to use the ",l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10277",className:"font-bold bg-yellow-200 px-1.5 py-0.5 rounded",children:"Cut & Merge (Test)"})," function from each video to test each video separately. The Sample Merge function is preferable to use only once or a maximum of 2 times if there are many videos where you modified the markers."]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10280",className:"bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:10281",className:"text-sm text-yellow-800 font-medium",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10282",className:"font-bold",children:"ATTENTION:"})," This function does NOT CUT videos, it only MERGES them. If this is the 2nd or 3rd time you're clicking this button, you should know that after modifying the markers, you need to TRIM/CUT first and then MERGE. Otherwise, the final merged video will not be correct."]})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10286",className:"text-sm text-gray-700 font-medium",children:"Are you sure you want to continue?"})]})]}),l.jsxs(rm,{"data-loc":"client/src/pages/Home.tsx:10292",className:"flex gap-2 mt-4",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10293",onClick:()=>{Io(!1)},className:"bg-gray-600 hover:bg-gray-700 text-white text-sm",children:"CLOSE"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10301",onClick:()=>{Io(!1);const T=Y.filter(L=>L.trimmedVideoUrl);console.log("[Warning Dialog] Using",T.length,"videos with trimmedVideoUrl"),Md(T,!0)},className:"bg-green-600 hover:bg-green-700 text-white text-sm",children:"Continue With Sample Merge"})]})]})}),l.jsx(oi,{"data-loc":"client/src/pages/Home.tsx:10319",open:Bi,onOpenChange:T=>{Os(T),T||(ar(null),$n(""))},children:l.jsxs(li,{"data-loc":"client/src/pages/Home.tsx:10326",className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(ci,{"data-loc":"client/src/pages/Home.tsx:10327",children:[l.jsx(di,{"data-loc":"client/src/pages/Home.tsx:10328",className:"flex items-center gap-2",children:" Sample Merge ALL Videos"}),l.jsx(rs,{"data-loc":"client/src/pages/Home.tsx:10331",children:"Preview all videos merged together"})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10336",className:"space-y-4 py-4",children:vi?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10353",className:"space-y-4",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10354",className:"bg-green-50 border border-green-200 rounded-lg p-3",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10355",className:"text-sm font-semibold text-green-900",children:" Sample merge complete! Preview below:"})}),l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:10361",id:"sample-merge-video-player",src:vi,controls:!0,className:"w-full rounded-lg border border-gray-300",style:{maxHeight:"400px"}}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10370",className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-1.5 text-center",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:10371",className:"text-xs font-bold text-yellow-900",id:"current-video-name",children:[" ",Xl||Xa[0]?.name||"Loading..."]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10377",id:"sample-merge-notes-section",className:"border-t pt-4",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:10378",className:"text-sm font-semibold text-gray-900 mb-3",children:"Videos in this merge:"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10379",className:"space-y-2",children:Xa.map(T=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10381",className:"flex items-start justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10382",className:"flex-1",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10383",className:"text-sm font-medium text-gray-900",children:T.name}),pr===T.name?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10387",className:"mt-2 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:10388",value:ea,onChange:L=>$n(L.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add note for Step 9..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10395",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10396",size:"sm",onClick:()=>{const L=Xa.map(z=>z.name===T.name?{...z,note:ea}:z);Oo(L);const R=Y.map(z=>z.videoName===T.name?{...z,step9Note:ea,recutStatus:"recut"}:z);oe(R),ar(null),$n(""),be.success("Note saved & status changed to Recut!"),Hs("with_notes"),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:R,reviewHistory:en})},className:"bg-orange-600 hover:bg-orange-700",children:" Save & Change Status to 'Recut'"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10445",size:"sm",variant:"outline",onClick:()=>{ar(null),$n("")},children:"Cancel"})]})]}):T.note&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:10459",className:"mt-1 text-xs text-gray-600",children:[" ",T.note]})]}),pr!==T.name&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10466",onClick:()=>{ar(T.name),$n(T.note)},className:"text-xs text-blue-600 hover:text-blue-800 underline whitespace-nowrap",children:T.note?"Edit note":"Add note"})]},T.name))})]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10481",className:"text-xs text-gray-500 text-center",children:' This is a temporary preview. Click "TRIM ALL VIDEOS" to save final cuts.'})]}):l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10338",className:"flex flex-col items-center gap-3",children:Fs>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10341",className:"text-6xl font-bold text-orange-600",children:Fs}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10342",className:"text-sm text-gray-600",children:Kl}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10343",className:"text-xs text-gray-500",children:"Please wait for FFmpeg rate limit..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:10347",className:"w-8 h-8 animate-spin text-blue-600"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10348",className:"text-sm text-gray-600",children:Kl})]})})}),l.jsx(rm,{"data-loc":"client/src/pages/Home.tsx:10488",children:l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:10489",onClick:()=>{an.current=!0,Os(!1),Vi(null),Jr(""),Ls(0),ar(null),$n("")},variant:"outline",children:"Close"})})]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10510",className:"mb-4 p-3 bg-white border border-blue-200 rounded-lg shadow-sm",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10511",className:"mb-3",children:[l.jsxs("h2",{"data-loc":"client/src/pages/Home.tsx:10512",className:"text-sm font-semibold text-blue-900 mb-1 flex items-center gap-2",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10513",className:"text-lg",children:""}),"Select Your Working Context"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10516",className:"text-sm text-gray-600",children:"Choose all 5 categories to start working. This context will apply to all steps."})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10519",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10521",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:10522",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"1. TAM"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:10525",value:r?.toString()||"",onValueChange:async T=>{if(T==="new"){y({open:!0,type:"tam",onConfirm:async L=>{const R=await fp.mutateAsync({userId:ct.id,name:L});i(R.id),Za(),be.success("TAM created!")}});return}else if(T){const L=parseInt(T);i(L),c(null),f(null),m(null),x(null)}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:10556",className:"w-full bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:10557",placeholder:"Select TAM"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:10559",children:[ic.map((T,L)=>l.jsxs(On,{"data-loc":"client/src/pages/Home.tsx:10561",value:T.id.toString(),children:[L+1,". ",T.name]},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10563",value:"new",children:"+ New TAM"})]})]}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10567",onClick:async()=>{console.log("[Load Last Context]  Starting history selection...");const T=localStorage.getItem("selectionHistory");if(!T){be.error("No selection history found");return}try{const L=JSON.parse(T);console.log("[Load Last Context] Loaded history:",L),i(L.tamId),c(null),f(null),m(null),x(null),await new Promise(we=>setTimeout(we,100));const z=(await ra()).data||[];console.log("[Load Last Context] Fetched Core Beliefs:",z.length),c(L.coreBeliefId),f(null),m(null),await new Promise(we=>setTimeout(we,100));const ce=(await sc()).data||[];console.log("[Load Last Context] Fetched Emotional Angles:",ce.length),f(L.emotionalAngleId),m(null),await new Promise(we=>setTimeout(we,100));const re=(await Bo()).data||[];console.log("[Load Last Context] Fetched ADs:",re.length),m(L.adId),x(null);const me=ic.find(we=>we.id===L.tamId),ge=z.find(we=>we.id===L.coreBeliefId),ve=ce.find(we=>we.id===L.emotionalAngleId),ue=re.find(we=>we.id===L.adId);be.success(` Loaded: ${me?.name||"TAM"}  ${ge?.name||"CB"}  ${ve?.name||"EA"}  ${ue?.name||"AD"}`)}catch(L){console.error("[Load Last Context] Error loading history:",L),be.error("Failed to load selection history")}},className:"text-xs text-blue-600 hover:text-blue-800 mt-1 cursor-pointer",children:" Load Last Context"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10636",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:10637",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"2. Core Belief"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:10640",value:o?.toString()||"",disabled:!r,onValueChange:async T=>{if(T==="new"){y({open:!0,type:"coreBelief",onConfirm:async L=>{const R=await fa.mutateAsync({userId:ct.id,tamId:r,name:L});c(R.id),ra(),be.success("Core Belief created!")}});return}else if(T){const L=parseInt(T);c(L),f(null),m(null),x(null)}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:10672",className:"w-full bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:10673",placeholder:"Select Core Belief"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:10675",children:[zs.map((T,L)=>l.jsxs(On,{"data-loc":"client/src/pages/Home.tsx:10677",value:T.id.toString(),children:[L+1,". ",T.name]},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10679",value:"new",children:"+ New Core Belief"})]})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10685",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:10686",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"3. Emotional Angle"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:10689",value:d?.toString()||"",disabled:!o,onValueChange:async T=>{if(T==="new"){y({open:!0,type:"emotionalAngle",onConfirm:async L=>{const R=await qs.mutateAsync({userId:ct.id,coreBeliefId:o,name:L});f(R.id),sc(),be.success("Emotional Angle created!")}});return}else if(T){const L=parseInt(T);f(L),m(null),x(null)}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:10720",className:"w-full bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:10721",placeholder:"Select Emotional Angle"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:10723",children:[Gi.map((T,L)=>l.jsxs(On,{"data-loc":"client/src/pages/Home.tsx:10725",value:T.id.toString(),children:[L+1,". ",T.name]},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10727",value:"new",children:"+ New Emotional Angle"})]})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10733",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:10734",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"4. Ad"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:10737",value:h?.toString()||"",disabled:!d,onValueChange:async T=>{if(T==="new"){y({open:!0,type:"ad",onConfirm:async L=>{const R=await Gs.mutateAsync({userId:ct.id,emotionalAngleId:d,name:L});m(R.id),x(null),Bo(),be.success("Ad created!")}});return}else if(T){const L=parseInt(T);m(L),x(null)}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:10768",className:"w-full bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:10769",placeholder:"Select Ad"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:10771",children:[Qa.map((T,L)=>l.jsxs(On,{"data-loc":"client/src/pages/Home.tsx:10773",value:T.id.toString(),children:[L+1,". ",T.name]},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10775",value:"new",children:"+ New Ad"})]})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10781",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:10782",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"5. Character *"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:10785",value:p?.toString()||"",disabled:!h,onValueChange:async T=>{if(T==="new"){y({open:!0,type:"character",onConfirm:async L=>{if(br.some(z=>z.name.toLowerCase()===L.toLowerCase())){be.error(`Character "${L}" already exists!`);return}try{const z=await oc.mutateAsync({userId:ct.id,name:L});await hs(),x(z.id),be.success("Character created!")}catch(z){be.error(`Failed to create character: ${z.message}`)}}});return}else if(T){const L=parseInt(T);x(L),v.current=L,ua(!0),Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:L})}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:10834",className:"w-full bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:10835",placeholder:"Select Character"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:10837",children:[Gr.unused.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10841",className:"px-2 py-1.5 text-xs font-semibold text-green-600 bg-green-50",children:[" UNUSED (",Gr.unused.length,")"]}),Gr.unused.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10845",value:T.id.toString(),children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10846",className:"flex items-center gap-2",children:[T.thumbnailUrl&&l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:10848",src:T.thumbnailUrl,alt:T.name,className:"w-6 h-6 rounded-full object-cover"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10854",children:T.name})]})},T.id))]}),Gr.used.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10864",className:"px-2 py-1.5 text-xs font-semibold text-gray-500 bg-gray-50 border-t",children:[" USED (",Gr.used.length,")"]}),Gr.used.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:10868",value:T.id.toString(),children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10869",className:"flex items-center gap-2",children:[T.thumbnailUrl&&l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:10871",src:T.thumbnailUrl,alt:T.name,className:"w-6 h-6 rounded-full object-cover"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10877",children:T.name})]})},T.id))]})]})]})]})]})]}),(!r||!o||!d||!h||!p)&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10894",className:"mb-8 p-6 bg-red-50 border-2 border-red-300 rounded-lg",children:[l.jsxs("h3",{"data-loc":"client/src/pages/Home.tsx:10895",className:"text-xl font-bold text-red-900 mb-2 flex items-center gap-2",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10896",className:"text-2xl",children:""}),"Context Required"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:10899",className:"text-red-700",children:"Please select all 5 categories (TAM, Core Belief, Emotional Angle, Ad, Character) in the context selector above to access the workflow steps."})]}),r&&o&&d&&h&&p&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10905",className:"w-full mb-8",children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10906",className:"flex items-center gap-3 md:gap-4 lg:justify-between px-4 md:px-6 py-6 bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:[{num:1,label:"Prepare",fullLabel:"Prepare Ad"},{num:2,label:"Extract",fullLabel:"Extracted Lines"},{num:3,label:"Prompts",fullLabel:"Prompts"},{num:4,label:"Images",fullLabel:"Images"},{num:5,label:"Mapping",fullLabel:"Mapping"},{num:6,label:"Generate",fullLabel:"Generate"},{num:7,label:"Check",fullLabel:"Check Videos"},{num:8,label:"Cut Prep",fullLabel:"Prepare for Cut"},{num:9,label:"Trimmed",fullLabel:"Trimmed Videos"},{num:10,label:"Merge",fullLabel:"Merge Videos"},{num:11,label:"Final",fullLabel:"Final Videos"}].map((T,L,R)=>{const z=T.num<Ot-2||T.num>Ot+2;return l.jsxs(mt.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10926",className:`flex flex-col items-center gap-2 relative group ${z?"hidden md:flex":""}`,children:[l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:10928",onClick:()=>ga(T.num),title:T.fullLabel,className:`
                      w-10 h-10 md:w-14 md:h-14 rounded-full flex-shrink-0 
                      flex items-center justify-center 
                      font-bold text-lg
                      transition-all duration-200
                      relative z-10
                      ${Ot===T.num?"bg-blue-600 text-white shadow-lg ring-4 ring-blue-200":Ot>T.num?"bg-green-500 text-white shadow-md hover:bg-green-600 hover:scale-105":"bg-gray-200 text-gray-500 hover:bg-gray-300"}
                    `,children:Ot>T.num?l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:10947",className:"w-7 h-7"}):T.num}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:10954",className:`
                    text-xs font-semibold text-center
                    whitespace-nowrap
                    transition-colors duration-200
                    ${Ot===T.num?"text-blue-900 font-bold":Ot>T.num?"text-green-700":"text-gray-500"}
                  `,children:T.label}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10970",className:"absolute -top-12 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-20",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:10971",className:"bg-gray-900 text-white text-xs py-1 px-3 rounded shadow-lg whitespace-nowrap",children:[T.fullLabel,l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10973",className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10974",className:"border-4 border-transparent border-t-gray-900"})})]})})]}),L<R.length-1&&(()=>{const Z=R[L+1],ce=Z.num<Ot-2||Z.num>Ot+2,K=z||ce;return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10987",className:`flex-1 flex items-center px-2 ${K?"hidden md:flex":""}`,children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:10988",className:`
                      h-1 w-full rounded-full
                      transition-all duration-300
                      ${Ot>T.num?"bg-green-500":"bg-gray-200"}
                    `})})})()]},T.num)})})}),r&&o&&d&&h&&p&&Ot>1&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11007",className:"mb-4",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11008",onClick:Xo,variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:11014",className:"w-4 h-4"}),"Back to STEP ",Ot-1]})}),r&&o&&d&&h&&p&&l.jsxs(l.Fragment,{children:[Ot===1&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:11025",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:11026",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:11027",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(du,{"data-loc":"client/src/pages/Home.tsx:11028",className:"w-5 h-5"}),"STEP 1 - Prepare Text Ad"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:11031",children:"Select categories and prepare ad text (118-125 characters)."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:11035",className:"pt-4 md:pt-8 px-3 md:px-8 pb-4 md:pb-8",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11037",className:"mb-6 p-4 bg-blue-50/50 border-2 border-blue-200 rounded-lg",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:11038",className:"text-lg font-semibold text-blue-900 mb-4",children:"Current Context"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11039",className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11040",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11041",className:"font-medium text-gray-600",children:"Core Belief:"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11042",className:"text-blue-900 font-semibold",children:zs.find(T=>T.id===o)?.name||"Not selected"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11044",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11045",className:"font-medium text-gray-600",children:"Emotional Angle:"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11046",className:"text-blue-900 font-semibold",children:Gi.find(T=>T.id===d)?.name||"Not selected"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11048",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11049",className:"font-medium text-gray-600",children:"Ad:"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11050",className:"text-blue-900 font-semibold",children:Qa.find(T=>T.id===h)?.name||"Not selected"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11052",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11053",className:"font-medium text-gray-600",children:"Character:"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11054",className:"flex items-center gap-2 mt-1",children:[p&&br.find(T=>T.id===p)?.thumbnailUrl&&l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:11056",src:br.find(T=>T.id===p)?.thumbnailUrl||"",alt:"Character",className:"w-8 h-8 rounded-full object-cover border-2 border-blue-300"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11062",className:"text-blue-900 font-semibold",children:br.find(T=>T.id===p)?.name||"Not selected"})]})]})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11069",className:"mb-6",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11070",onClick:()=>ad(!0),className:"bg-green-600 hover:bg-green-700 text-white",disabled:!h||!p||Jh||ei.length===0,children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:11075",className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:11076",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy context from another character"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11080",className:"text-xs text-gray-500 mt-2",children:ei.length===0?"No other characters with context in this Ad":`${ei.length} character(s) available`}),Jh&&ei.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11088",className:"mt-4 p-4 border border-green-300 rounded-lg bg-green-50",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11089",className:"text-gray-700 font-medium mb-2 block",children:"Select character to copy from:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:11090",className:"w-full p-2 border border-gray-300 rounded mb-3",onChange:async T=>{const L=parseInt(T.target.value);if(!L)return;const R=br.find(Z=>Z.id===L),z=ei.find(Z=>Z.characterId===L);if(!R||!z){be.error("Character not found");return}if(confirm(`Copy context from "${R.name}"?

This will copy extracted lines (Step 2 data) to current character.`))try{const Z=typeof z.adLines=="string"?JSON.parse(z.adLines):z.adLines;await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:2,adLines:Z}),se(Z),await ga(2),ad(!1),be.success(`Context copied from "${R.name}"!`)}catch(Z){be.error(`Failed to copy context: ${Z.message}`)}},children:[l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:11138",value:"",children:"-- Select character --"}),ei.map(T=>{const L=br.find(R=>R.id===T.characterId);return L?l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:11143",value:T.characterId,children:L.name},T.characterId):null})]}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11149",onClick:()=>ad(!1),variant:"outline",className:"w-full",children:"Cancel"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11161",className:"hidden",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11162",className:"mb-4",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11163",className:"text-blue-900 font-medium mb-2 block",children:"Core Belief:"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11164",value:o?.toString()||"",onValueChange:async T=>{if(T==="new"){y({open:!0,type:"coreBelief",onConfirm:async L=>{const R=await fa.mutateAsync({userId:ct.id,tamId:r,name:L});await ra(),c(R.id),f(null),m(null),be.success("Core Belief created!")}});return}else c(parseInt(T)),f(null),m(null)},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11192",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11193",placeholder:"Select Core Belief"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11195",children:[zs.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11197",value:T.id.toString(),children:T.name},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11199",value:"new",children:"+ New Core Belief"})]})]})]}),o&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11206",className:"mb-4",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11207",className:"text-blue-900 font-medium mb-2 block",children:"Emotional Angle:"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11208",value:d?.toString()||"",onValueChange:async T=>{if(T==="new"){y({open:!0,type:"emotionalAngle",onConfirm:async L=>{const R=await qs.mutateAsync({userId:ct.id,coreBeliefId:o,name:L});await sc(),f(R.id),m(null),be.success("Emotional Angle created!")}});return}else f(parseInt(T)),m(null)},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11234",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11235",placeholder:"Select Emotional Angle"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11237",children:[Gi.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11239",value:T.id.toString(),children:T.name},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11241",value:"new",children:"+ New Emotional Angle"})]})]})]}),d&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11249",className:"mb-4",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11250",className:"text-blue-900 font-medium mb-2 block",children:"Ad:"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11251",value:h?.toString()||"",onValueChange:async T=>{if(T==="new"){y({open:!0,type:"ad",onConfirm:async L=>{const R=await Gs.mutateAsync({userId:ct.id,emotionalAngleId:d,name:L});await Bo(),m(R.id),x(null),be.success("Ad created!")}});return}else{const L=parseInt(T),R=Qa.find(z=>z.id===L);console.log("[AD Dropdown]  User selected AD:",{id:L,name:R?.name,emotionalAngleId:R?.emotionalAngleId,userId:R?.userId}),console.log("[AD Dropdown]  Setting selectedAdId to:",L),m(L)}},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11280",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11281",placeholder:"Select Ad"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11283",children:[Qa.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11285",value:T.id.toString(),children:T.name},T.id)),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11287",value:"new",children:"+ New Ad"})]})]})]}),h&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11295",className:"mb-4",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11296",className:"text-blue-900 font-medium mb-2 block",children:"Character (Optional):"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11297",value:p?.toString()||"none",onValueChange:async T=>{if(T==="new"){y({open:!0,type:"character",onConfirm:async L=>{if(br.some(Z=>Z.name.toLowerCase()===L.toLowerCase())){be.error(`Character "${L}" already exists!`);return}const z=await oc.mutateAsync({userId:ct.id,name:L});await hs(),x(z.id),be.success("Character created!")}});return}else x(T==="none"?null:parseInt(T))},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11327",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11328",placeholder:"Select Character (Optional)"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11330",children:[l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11331",value:"none",children:"None"}),Gr.unused.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11336",className:"px-2 py-1.5 text-xs font-semibold text-green-600 bg-green-50",children:[" UNUSED (",Gr.unused.length,")"]}),Gr.unused.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11340",value:T.id.toString(),children:T.name},T.id))]}),Gr.used.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11348",className:"px-2 py-1.5 text-xs font-semibold text-gray-500 bg-gray-50 border-t",children:[" USED (",Gr.used.length,")"]}),Gr.used.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11352",value:T.id.toString(),children:T.name},T.id))]})]})]})]})]}),r&&o&&d&&h&&p&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11366",className:"mb-6",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11367",className:"text-blue-900 font-medium mb-2 block",children:"Input Method:"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11368",value:b,onValueChange:T=>_(T),children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11369",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11370"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11372",children:[l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11373",value:"upload",children:"Upload Ad"}),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11374",value:"paste",children:"Paste Ad"}),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11375",value:"google-doc",children:"Google Doc Link"})]})]})]}),b==="upload"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11382",className:"mb-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11383",className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer bg-blue-50/50",onClick:()=>document.getElementById("text-upload")?.click(),onDrop:Qu,onDragOver:cc,children:[D&&j?l.jsxs(l.Fragment,{children:[l.jsx(du,{"data-loc":"client/src/pages/Home.tsx:11391",className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11392",className:"text-blue-900 font-semibold mb-1",children:j}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11393",className:"text-sm text-gray-600 mb-2",children:[(D.length/1024).toFixed(1)," KB  ",D.length," characters"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11394",className:"text-xs text-blue-600 hover:text-blue-800",children:"Click to replace"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Cc,{"data-loc":"client/src/pages/Home.tsx:11398",className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11399",className:"text-blue-900 font-medium mb-2",children:"Drop text file here or click to upload"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11400",className:"text-sm text-gray-500 italic",children:"Supports .txt, .doc, .docx"})]}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:11403",id:"text-upload",type:"file",accept:".txt,.doc,.docx",className:"hidden",onChange:Ys})]}),D&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11412",className:"mt-4 p-4 bg-white border border-blue-200 rounded-lg",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11413",className:"text-sm text-gray-700 mb-2",children:l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:11413",children:"Preview:"})}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11414",className:"text-sm text-gray-600 whitespace-pre-wrap",children:[D.replace(/\n\s*\n\s*\n+/g,`

`).substring(0,200),D.length>200?"...":""]}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11415",className:"text-xs text-gray-500 mt-2",children:[D.length," characters"]})]})]}),b==="paste"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11423",className:"mb-6",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11424",className:"text-blue-900 font-medium mb-2 block",children:"Paste your ad text:"}),l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:11425",value:D,onChange:T=>C(T.target.value),className:"w-full h-40 p-4 border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none",placeholder:"Paste your ad text here..."}),D&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11432",className:"text-xs text-gray-500 mt-2",children:[D.length," characters"]})]}),b==="google-doc"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11439",className:"mb-6",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11440",className:"text-blue-900 font-medium mb-2 block",children:"Google Doc Link:"}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:11441",type:"text",placeholder:"Paste Google Doc link here (e.g., https://docs.google.com/document/d/...)",className:"w-full p-4 border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none mb-4",onPaste:async T=>{const L=T.clipboardData.getData("text");if(L.includes("docs.google.com/document"))try{const R=L.match(/\/d\/([a-zA-Z0-9-_]+)/);if(!R){be.error("Invalid Google Doc link format");return}const Z=`https://docs.google.com/document/d/${R[1]}/export?format=txt`;be.info("Fetching Google Doc content...");const ce=await fetch(Z);if(!ce.ok){be.error("Failed to fetch Google Doc. Make sure the document is publicly accessible.");return}const K=await ce.text();C(K),U("Google Doc"),be.success("Google Doc loaded successfully!")}catch(R){console.error("Error fetching Google Doc:",R),be.error("Failed to load Google Doc")}else be.error("Please paste a valid Google Doc link")}}),D&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11483",className:"mt-4 p-4 bg-white border border-blue-200 rounded-lg",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11484",className:"text-sm text-gray-700 mb-2",children:l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:11484",children:"Preview:"})}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11485",className:"text-sm text-gray-600 whitespace-pre-wrap",children:[D.substring(0,200),D.length>200?"...":""]}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11486",className:"text-xs text-gray-500 mt-2",children:[D.length," characters"]})]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11492",className:"flex justify-end mt-4",children:l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11493",onClick:Vo,disabled:!D||D.trim().length===0||Xs.isPending,className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:Xs.isPending?"Processing...":l.jsxs(l.Fragment,{children:[l.jsx($S,{"data-loc":"client/src/pages/Home.tsx:11500",className:"w-5 h-5 mr-2"}),"Next: Prepare Ad",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:11502",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:11503",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})]})]}),Ot===2&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:11517",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:11518",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:11519",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(du,{"data-loc":"client/src/pages/Home.tsx:11520",className:"w-5 h-5"}),"STEP 2 - Text Ad Document"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:11523",children:"Upload the ad document (.docx). Lines will be extracted automatically."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:11527",className:"pt-4 md:pt-6 px-3 md:px-6",children:[$.length===0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11530",className:"mb-6 p-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11531",className:"text-yellow-900 text-sm",children:" No lines available from STEP 1. Please go back to STEP 1 to process text."})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11537",onDrop:Ju,onDragOver:T=>T.preventDefault(),className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer bg-blue-50/50",onClick:()=>!F&&document.getElementById("ad-upload")?.click(),style:{display:F||$.length>0?"none":"block"},children:[l.jsx(Cc,{"data-loc":"client/src/pages/Home.tsx:11544",className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11545",className:"text-blue-900 font-medium mb-2",children:"Drop document here or click to upload"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11548",className:"text-sm text-gray-500 italic",children:"Supports .docx, .doc"})]}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:11550",id:"ad-upload",type:"file",accept:".docx,.doc",className:"hidden",onChange:Zs}),F&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11560",className:"mt-4",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11561",onClick:()=>{O(null),se([]);const T=document.getElementById("ad-upload");T&&(T.value=""),be.success("Document deleted. You can upload another one.")},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:11572",className:"w-4 h-4 mr-2"}),"Delete document"]})}),$.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11579",className:"mt-6",children:[I.length>0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11581",className:"mb-4",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11582",onClick:()=>{const T=I[0];se(L=>[...L,T]),Q(L=>L.slice(1)),be.success(`Line restored: ${T.videoName}`)},variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:11593",className:"w-4 h-4"}),"UNDO - Restore last deleted line"]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11598",className:"flex items-center justify-between mb-3",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11599",className:"font-medium text-blue-900",children:[$.filter(T=>T.categoryNomber>0).length," lines extrase:"]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11603",className:"space-y-2",children:$.map(T=>{if(T.categoryNomber===0){const K=/^H\d+$/.test(T.text);return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11611",className:"mt-4 mb-2",children:K?l.jsx("h4",{"data-loc":"client/src/pages/Home.tsx:11613",className:"font-bold text-blue-700 text-base border-b border-blue-200 pb-1",children:T.text}):l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:11617",className:"font-bold text-blue-800 text-lg border-b-2 border-blue-300 pb-1",children:T.text})},T.id)}const L=T.redStart!==void 0&&T.redStart>=0&&T.redEnd!==void 0,R=L?T.text.substring(T.redStart,T.redEnd):"",z=L?T.text.substring(0,T.redStart):"",Z=L?T.text.substring(T.redEnd):T.text,ce=L&&T.redStart===0;return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11636",className:"ml-4","data-line-id":T.id,children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11637",className:"p-3 bg-white rounded border border-blue-200 text-sm relative",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11639",className:"absolute top-2 right-2 flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11640",onClick:()=>{confirm(`Delete line "${T.videoName}"?`)&&(Q(K=>[T,...K]),se(K=>K.filter(re=>re.id!==T.id)),be.success("Line deleted (UNDO available)"))},variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:"Del"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11655",onClick:()=>{const K=$.findIndex(re=>re.id===T.id);K>=0&&eo(K)},variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:"Dup"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11668",onClick:()=>{if(rc===T.id)_d(null);else{_d(T.id);const K=T.text.replace(/\n\s*\n\s*\n+/g,`

`);wd(K),ac(T.redStart??-1),$i(T.redEnd??-1)}},variant:"outline",size:"sm",children:rc===T.id?"Cancel":"Edit"})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11689",className:"mb-1",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11690",className:"text-xs text-gray-500 italic",children:T.videoName})}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11694",className:"text-gray-800 mb-2 pr-16",children:[ce&&l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11695",className:"text-red-600 font-medium",children:R}),z,!ce&&L&&l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11697",className:"text-red-600 font-medium",children:R}),Z]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11702",className:"text-xs text-gray-500",children:[T.charCount," characters"]})]}),rc===T.id&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11709",className:"mt-2 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg space-y-3",children:[l.jsx("h5",{"data-loc":"client/src/pages/Home.tsx:11710",className:"font-bold text-blue-900",children:"Edit Text"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11713",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11714",className:"text-sm text-gray-700 mb-1 block",children:"Text:"}),l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:11715",value:Lr,onChange:K=>{wd(K.target.value)},className:"w-full h-20 p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Enter text..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11723",className:`text-xs mt-1 ${Lr.length>125?"text-orange-600 font-bold":"text-gray-600"}`,children:[Lr.length," / 125 characters",Lr.length>125&&l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11728",className:"ml-2",children:" Warning: Exceeds 125 characters!"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11734",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11735",className:"text-sm text-gray-700 mb-2 block",children:"Mark text as RED:"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11736",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11737",onClick:()=>{const K=document.querySelector("textarea");if(K){const re=K.selectionStart,me=K.selectionEnd;re!==me?(ac(re),$i(me),be.success("Text marked as RED")):be.error("Please select text first")}},size:"sm",className:"bg-red-600 hover:bg-red-700",children:"Mark as RED"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11757",onClick:()=>{ac(-1),$i(-1),be.success("RED marking removed")},size:"sm",variant:"outline",children:"Clear RED"})]})]}),Ka>=0&&Bs>Ka&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11773",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11774",className:"text-sm text-gray-700 mb-1 block",children:"Preview:"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11775",className:"p-3 bg-white border border-gray-300 rounded",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11776",className:"text-gray-800",children:[Lr.substring(0,Ka),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11778",className:"text-red-600 font-medium",children:Lr.substring(Ka,Bs)}),Lr.substring(Bs)]})})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11788",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11789",onClick:()=>{se(K=>K.map(re=>re.id===T.id?{...re,text:Lr,charCount:Lr.length,redStart:Ka,redEnd:Bs}:re)),oe(K=>K.map(re=>re.videoName===T.videoName||re.text===T.text?{...re,text:Lr,redStart:Ka,redEnd:Bs}:re)),le(K=>K.map(re=>re.videoName===T.videoName||re.text===T.text?{...re,text:Lr,redStart:Ka,redEnd:Bs}:re)),be.success("Text saved & synced!"),_d(null),o&&d&&h&&p&&Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:2,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en}),setTimeout(()=>{const K=document.querySelector(`[data-line-id="${T.id}"]`);K&&K.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"bg-blue-600 hover:bg-blue-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:11869",variant:"outline",onClick:()=>_d(null),children:"Cancel"})]})]})]},T.id)})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11882",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11883",variant:"outline",onClick:()=>zn(1),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:11888",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:11891",onClick:()=>{o&&d&&h&&p?Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:2,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en},{onSuccess:()=>{console.log("[Step 2] Saved before moving to Step 3"),zn(3)},onError:T=>{console.error("[Step 2] Save failed:",T),zn(3)}}):zn(3)},className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:[l.jsx(em,{"data-loc":"client/src/pages/Home.tsx:11929",className:"w-5 h-5 mr-2"}),"Next: Choose Prompts",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:11931",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:11932",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11940",className:"hidden",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11941",className:"mb-6",children:[l.jsx(er,{"data-loc":"client/src/pages/Home.tsx:11942",className:"text-blue-900 font-medium mb-2 block",children:"Tip prompturi:"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:11943",value:st,onValueChange:T=>qt(T),children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:11944",className:"w-full",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:11945"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:11947",children:[l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11948",value:"hardcoded",children:"Prompturi hardcodate"}),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11949",value:"custom",children:"Add custom prompts"}),l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:11950",value:"manual",children:"Manual prompt"})]})]})]}),st==="hardcoded"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11957",className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:11958",className:"mb-2",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:11959",className:"font-medium text-green-900",children:"Hardcoded prompts (always active)"})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11961",className:"text-sm text-green-700 space-y-1",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11962",children:" PROMPT_NEUTRAL - for sections up to TRANSFORMATION"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11963",children:" PROMPT_SMILING - for TRANSFORMATION and CTA"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11964",children:" PROMPT_CTA - for CTA with book"})]})]}),st==="custom"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11971",className:"mb-4",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11972",className:"font-medium text-blue-900 mb-3",children:"Add custom prompts (optional):"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11975",onDrop:Zi,onDragOver:T=>T.preventDefault(),className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer bg-blue-50/50 mb-4",onClick:()=>document.getElementById("prompt-upload")?.click(),children:[l.jsx(Cc,{"data-loc":"client/src/pages/Home.tsx:11981",className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11982",className:"text-blue-900 font-medium mb-2",children:"Drop prompt documents here or click to upload"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:11985",className:"text-sm text-gray-500 italic",children:"Supports .docx, .doc (max 3 files)"}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:11986",id:"prompt-upload",type:"file",accept:".docx,.doc",multiple:!0,className:"hidden",onChange:wi})]}),k.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11997",className:"mt-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:11998",className:"flex items-center justify-between mb-3",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:11999",className:"font-medium text-blue-900",children:[k.length," custom prompts loaded:"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12002",onClick:()=>{ae([]);const T=document.getElementById("prompt-upload");T&&(T.value=""),be.success("All custom prompts have been deleted.")},variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12013",className:"w-4 h-4 mr-1"}),"Delete all"]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12017",className:"space-y-2",children:k.map(T=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12019",className:"p-3 bg-white rounded border border-blue-200 flex items-center justify-between",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12020",className:"text-sm font-medium text-blue-900",children:T.name}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:12021",onClick:()=>ef(T.id),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12025",className:"w-4 h-4"})})]},T.id))})]})]}),st==="manual"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12037",className:"mb-4",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12038",className:"border-2 border-blue-300 rounded-lg p-4 bg-white",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12039",className:"block text-sm font-medium text-blue-900 mb-2",children:"Write manual prompt (must contain [INSERT TEXT]):"}),l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:12042",value:Ne,onChange:T=>ze(T.target.value),placeholder:"Example: Generate a video with the following text: [INSERT TEXT]. Make it engaging and professional.",className:"w-full h-32 p-3 border border-blue-200 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12048",onClick:()=>{if(!Ne.includes("[INSERT TEXT]")){be.error("Prompt must contain [INSERT TEXT]");return}if(Ne.trim().length===0){be.error("Prompt cannot be empty");return}const T={id:`manual-${Date.now()}`,name:`Custom Prompt #${k.length+1}`,template:Ne,file:null};ae(L=>[...L,T]),ze(""),be.success("Manual prompt added!")},disabled:!Ne.includes("[INSERT TEXT]")||Ne.trim().length===0,className:"mt-3 bg-blue-600 hover:bg-blue-700",children:"Add Manual Prompt"})]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12080",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12081",variant:"outline",onClick:()=>zn(1),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:12086",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12089",onClick:()=>zn(3),className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:["Next: Choose Prompts",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:12094",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:12095",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})]}),Ot===3&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:12109",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:12110",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:12111",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(du,{"data-loc":"client/src/pages/Home.tsx:12112",className:"w-5 h-5"}),"STEP 3 - Prompts"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:12115",children:"Hardcoded prompts are always active. You can also add custom prompts (.docx)."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:12119",className:"pt-4 md:pt-6 px-3 md:px-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12121",className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12122",className:"mb-2",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12123",className:"font-medium text-green-900",children:"Hardcoded prompts (always active)"})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12125",className:"text-sm text-green-700 space-y-1",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12126",children:" PROMPT_NEUTRAL - for sections up to TRANSFORMATION"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12127",children:" PROMPT_SMILING - for TRANSFORMATION and CTA"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12128",children:" PROMPT_CTA - for CTA with book"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12133",className:"mb-4",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12134",className:"font-medium text-blue-900 mb-3",children:"Add custom prompts (optional):"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12136",onDrop:Zi,onDragOver:T=>T.preventDefault(),className:"border-2 border-dashed border-blue-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer bg-blue-50/50 mb-4",onClick:()=>document.getElementById("prompt-upload")?.click(),children:[l.jsx(Cc,{"data-loc":"client/src/pages/Home.tsx:12142",className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12143",className:"text-blue-900 font-medium mb-2",children:"Drop prompt documents here or click to upload"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12146",className:"text-sm text-gray-500 italic",children:"Supports .docx, .doc (max 3 files)"}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:12147",id:"prompt-upload",type:"file",accept:".docx,.doc",multiple:!0,className:"hidden",onChange:wi})]})]}),k.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12160",className:"mt-4",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12161",className:"font-medium text-blue-900 mb-3",children:[k.length," custom prompts loaded:"]}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12164",onClick:()=>{ae([]);const T=document.getElementById("prompt-upload");T&&(T.value=""),be.success("All custom prompts have been deleted.")},variant:"outline",size:"sm",className:"mb-3",children:"Delete all prompts"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12177",className:"space-y-2",children:k.map(T=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12179",className:"p-3 bg-white rounded border border-blue-200 flex justify-between items-center",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12180",className:"flex-1",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12181",className:"font-medium text-blue-900",children:T.name}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12182",className:"text-xs text-gray-500 truncate",children:[T.template.substring(0,100),"..."]})]}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12184",onClick:()=>{ae(L=>L.filter(R=>R.id!==T.id)),be.success(`Prompt "${T.name}" deleted.`)},variant:"outline",size:"sm",className:"ml-2",children:l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12193",className:"w-4 h-4"})})]},T.id))})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12202",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12203",variant:"outline",onClick:()=>ga(2),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:12208",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12211",onClick:async()=>{o&&d&&h&&p?Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:3,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y,reviewHistory:en},{onSuccess:async()=>{console.log("[Step 3] Saved before moving to Step 4"),await ga(4)},onError:async T=>{console.error("[Step 3] Save failed:",T),await ga(4)}}):await ga(4)},className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:[l.jsx(Jg,{"data-loc":"client/src/pages/Home.tsx:12249",className:"w-5 h-5 mr-2"}),"Next: Select Images",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:12251",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:12252",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),Ot===4&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:12262",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:12263",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:12264",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(Xb,{"data-loc":"client/src/pages/Home.tsx:12265",className:"w-5 h-5"}),"STEP 4 - Images"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:12268",children:"Upload images or select from library (9:16 recommended)"})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:12273",className:"pt-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12275",className:"flex gap-2 mb-6 border-b-2 border-gray-200",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:12276",onClick:()=>sp("library"),className:`flex-1 py-3 px-6 font-semibold transition-all rounded-t-lg ${tc==="library"?"bg-green-500 text-white border-b-4 border-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[" Select from Library (",qi.length,")"]}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:12286",onClick:()=>sp("upload"),className:`flex-1 py-3 px-6 font-semibold transition-all rounded-t-lg ${tc==="upload"?"bg-blue-500 text-white border-b-4 border-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:" Manual Upload"})]}),tc==="upload"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12300",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12302",className:"mb-6 p-4 bg-purple-50 border-2 border-purple-300 rounded-lg",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12303",className:"block text-sm font-medium text-purple-900 mb-2",children:"Select Character *"}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:12306",value:p?.toString()||"",onValueChange:T=>{x(parseInt(T))},children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:12312",className:"bg-white",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:12313",placeholder:"Select or create character"})}),l.jsx(Fa,{"data-loc":"client/src/pages/Home.tsx:12315",children:br?.map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:12317",value:T.id.toString(),children:T.name},T.id))})]}),!p&&l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12324",className:"text-sm text-red-600 mt-2",children:" You must select a character before uploading images"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12330",onDrop:Wo,onDragOver:T=>T.preventDefault(),className:`border-2 border-dashed border-blue-300 rounded-lg p-12 text-center hover:border-blue-500 transition-colors ${p?"cursor-pointer bg-blue-50":"cursor-not-allowed opacity-50 bg-gray-50"}`,onClick:()=>p&&document.getElementById("image-upload")?.click(),children:[l.jsx(Cc,{"data-loc":"client/src/pages/Home.tsx:12338",className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12339",className:"text-xl font-semibold text-blue-900 mb-2",children:"Drop images here or click to upload"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12342",className:"text-sm text-gray-500",children:"Supports .jpg, .png, .webp (9:16 recommended)"}),l.jsx("input",{"data-loc":"client/src/pages/Home.tsx:12345",id:"image-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Nd,disabled:!p})]}),xe.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12358",className:"mt-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12359",className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:12360",className:"text-sm font-medium text-blue-900",children:["Uploading ",xe.length," image(s)..."]}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:12363",className:"text-sm font-bold text-blue-900",children:[te,"%"]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12367",className:"w-full bg-blue-200 rounded-full h-2",children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12368",className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${te}%`}})})]})]}),tc==="library"&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12380",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12382",className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12383",className:"relative",children:[l.jsx(vA,{"data-loc":"client/src/pages/Home.tsx:12384",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx(wa,{"data-loc":"client/src/pages/Home.tsx:12385",placeholder:"Search images by name...",value:zu,onChange:T=>ip(T.target.value),className:"pl-10"})]}),l.jsxs(Pa,{"data-loc":"client/src/pages/Home.tsx:12393",value:ec,onValueChange:xd,children:[l.jsx(Ia,{"data-loc":"client/src/pages/Home.tsx:12394",children:l.jsx(Oa,{"data-loc":"client/src/pages/Home.tsx:12395",placeholder:"Filter by character"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/Home.tsx:12397",children:[l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:12398",value:"all",children:"All Characters"}),Gu.filter(T=>T&&T.trim()!=="").map(T=>l.jsx(On,{"data-loc":"client/src/pages/Home.tsx:12402",value:T,children:T},T))]})]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12411",className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-6 gap-2 md:gap-3 max-h-[400px] overflow-y-auto mb-6 p-2 md:p-3 bg-green-50 rounded-lg border-2 border-green-200",children:qi.filter(T=>{const L=zu.toLowerCase(),R=T.imageName.toLowerCase().includes(L),z=ec==="all"||T.characterName===ec;return R&&z}).map(T=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12420",className:`relative group cursor-pointer rounded border-2 transition-all ${Ho.includes(T.id)?"border-green-500 ring-2 ring-green-300 shadow-lg":"border-gray-200 hover:border-green-400 hover:shadow-md"}`,onClick:()=>{yd(L=>L.includes(T.id)?L.filter(R=>R!==T.id):[...L,T.id])},children:[l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:12435",src:T.imageUrl,alt:T.imageName,className:"w-full aspect-[9/16] object-cover rounded"}),Ho.includes(T.id)&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12441",className:"absolute top-1 right-1 bg-green-600 text-white rounded-full p-1",children:l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:12442",className:"w-4 h-4"})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12445",className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-1 truncate",children:T.imageName})]},T.id))}),Ho.length>0&&l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12454",onClick:()=>{const T=q.map(R=>R.id),L=qi.filter(R=>Ho.includes(R.id)).filter(R=>!T.includes(`library-${R.id}`)).map(R=>({id:`library-${R.id}`,url:R.imageUrl,file:null,fileName:R.imageName,isCTA:!1,fromLibrary:!0}));if(L.length===0){be.warning("All selected images are already added!"),yd([]);return}ee(R=>[...R,...L]),yd([]),be.success(`${L.length} images added from library!`)},className:"bg-green-600 hover:bg-green-700 w-full text-lg py-6",children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:12481",className:"w-5 h-5 mr-2"}),"Add ",Ho.length," Selected Image(s)"]})]}),q.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12490",className:"mt-8 p-4 bg-gray-50 border-2 border-gray-300 rounded-lg",children:[l.jsxs("h4",{"data-loc":"client/src/pages/Home.tsx:12491",className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(Xb,{"data-loc":"client/src/pages/Home.tsx:12492",className:"w-5 h-5"}),"Selected Images (",q.length,")"]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12495",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:q.map(T=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12497",className:"relative group",children:[l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:12498",src:T.url,alt:T.fileName,className:"w-full aspect-[9/16] object-cover rounded border-2 border-gray-300"}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:12503",onClick:()=>Ad(T.id),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-all shadow-lg hover:scale-110 border-2 border-white",children:l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12507",className:"w-4 h-4"})}),T.fromLibrary&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12510",className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-2 py-0.5 rounded",children:"Library"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12514",className:"text-xs text-center mt-1 text-gray-600 truncate",children:T.fileName})]},T.id))})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12524",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12525",variant:"outline",onClick:()=>zn(3),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:12530",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12533",onClick:zo,disabled:q.length===0,className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:[l.jsx(xA,{"data-loc":"client/src/pages/Home.tsx:12538",className:"w-5 h-5 mr-2"}),"Next: Create Mappings (",$.filter(T=>T.categoryNomber>0).length,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:12540",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:12541",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),Ot===5&&ne.length>0&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:12552",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:12553",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:12554",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(RI,{"data-loc":"client/src/pages/Home.tsx:12555",className:"w-5 h-5"}),"STEP 5 - Mapping (Text + Image + Prompt)"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:12558",children:"Configure text, image and prompt combinations for each video. Mapping is done automatically."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:12562",className:"pt-4 md:pt-6 px-3 md:px-6",children:[fe.length>0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12564",className:"mb-4",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12565",onClick:xy,variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:12571",className:"w-4 h-4"}),"UNDO - Restore last deleted combination"]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12577",className:"space-y-4 max-h-[600px] overflow-y-auto mb-6",children:ne.map((T,L)=>l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12579",className:"p-4 bg-white rounded-lg border-2 border-blue-200",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12580",className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12582",className:"flex-shrink-0",children:[l.jsxs("label",{"data-loc":"client/src/pages/Home.tsx:12583",className:"block text-xs font-medium text-blue-900 mb-2",children:["Imagine #",L+1]}),l.jsx("select",{"data-loc":"client/src/pages/Home.tsx:12586",value:T.imageId,onChange:R=>my(T.id,R.target.value),className:"w-full p-2 border border-blue-300 rounded text-sm mb-2",children:q.map(R=>l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:12592",value:R.id,children:R.fileName},R.id))}),l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:12597",src:T.imageUrl,alt:"Selected",className:"w-16 aspect-[9/16] object-cover rounded border-2 border-blue-300"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12605",className:"flex-1",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12607",className:"block text-xs font-medium text-blue-900 mb-1",children:"Video Name"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12610",className:"text-xs text-blue-700 mb-3 font-mono bg-blue-50 p-2 rounded border border-blue-200",children:T.videoName}),l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12614",className:"block text-xs font-medium text-blue-900 mb-2",children:"Text pentru Dialogue"}),l.jsx(Tc,{"data-loc":"client/src/pages/Home.tsx:12617",value:T.text,readOnly:!0,disabled:!0,className:"text-sm mb-3 min-h-[80px] bg-gray-100 text-gray-600 cursor-not-allowed"}),l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12624",className:"block text-xs font-medium text-blue-900 mb-2",children:"Prompt Type"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:12627",value:T.promptType,onChange:R=>$o(T.id,R.target.value),className:"w-full p-2 border border-blue-300 rounded text-sm",children:[l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:12632",value:"PROMPT_NEUTRAL",children:"PROMPT_NEUTRAL"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:12633",value:"PROMPT_SMILING",children:"PROMPT_SMILING"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:12634",value:"PROMPT_CTA",children:"PROMPT_CTA"})]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12639",className:"flex-shrink-0",children:l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:12640",onClick:()=>mp(T.id),className:"p-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",title:"Delete combination",children:l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12645",className:"w-5 h-5"})})})]})},T.id))}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12653",className:"mb-6 p-4 bg-blue-100 rounded-lg",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12654",className:"text-blue-900 font-medium",children:[" Statistici: ",ne.length," videouri vor fi generate"]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12659",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:12660",variant:"outline",onClick:()=>ga(4),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:12665",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12668",onClick:xp,disabled:Ki.isPending,className:"bg-blue-600 hover:bg-blue-700 px-8 py-8 text-lg",children:Ki.isPending?l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:12675",className:"w-5 h-5 mr-2 animate-spin"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(kf,{"data-loc":"client/src/pages/Home.tsx:12680",className:"w-5 h-5 mr-2"}),"Next: Generate (",ne.length,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:12682",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:12683",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})]}),Ot===6&&Y.length>0&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:12695",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:12696",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:12697",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(yA,{"data-loc":"client/src/pages/Home.tsx:12698",className:"w-5 h-5"}),"STEP 6 - Videouri Generate"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:12701",children:"Track video generation progress and download them."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:12705",className:"pt-4 md:pt-6 px-3 md:px-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12707",className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:12708",className:"text-sm font-medium text-blue-900",children:"Filter videos:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:12709",value:pe,onChange:T=>Re(T.target.value),className:"px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:12714",value:"all",children:["Show All (",Y.length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:12715",value:"accepted",children:["Only Accepted (",_r,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:12716",value:"regenerate",children:["Pentru Regenerare (",Hn,")"]})]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12719",className:"space-y-4",children:mn.map((T,L)=>{const R=Y.findIndex(z=>z.videoName===T.videoName);return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12725",id:`video-card-${T.videoName}`,className:"p-3 md:p-4 bg-white rounded-lg border-2 border-blue-200",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12726",className:"flex flex-row items-start gap-3",children:[l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:12727",src:T.imageUrl,alt:"Video thumbnail",className:"w-20 sm:w-12 flex-shrink-0 aspect-[9/16] object-cover rounded border-2 border-blue-300"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12732",className:"flex-1 min-w-0",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:12733",className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-1",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12734",className:"flex items-center gap-2",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12735",className:"text-[10px] sm:text-xs text-blue-600 font-bold break-all",children:T.videoName}),T.generationCount&&T.generationCount>0&&l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:12739",className:"text-[10px] sm:text-xs bg-gray-200 text-gray-700 px-1.5 sm:px-2 py-0.5 rounded font-semibold whitespace-nowrap",children:["Gen: ",T.generationCount]})]})}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12745",className:"text-sm text-blue-900 mb-2",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12746",className:"font-medium",children:"Text:"})," ",T.redStart!==void 0&&T.redEnd!==void 0&&T.redStart>=0?l.jsxs(l.Fragment,{children:[T.text.substring(0,T.redStart),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12750",className:"text-red-600 font-bold",children:T.text.substring(T.redStart,T.redEnd)}),T.text.substring(T.redEnd)]}):T.text]}),T.taskId&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12758",className:"text-xs text-blue-700 mb-1",children:["TaskID: ",T.taskId]}),T.regenerationNote&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12763",className:"text-xs text-orange-600 font-medium mb-1",children:[" ",T.regenerationNote]}),ne[L]?.promptType&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12768",className:"text-xs text-gray-600 mb-2",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12769",className:"font-medium",children:"Prompt:"})," ",ne[L].promptType]}),T.internalNote&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12773",className:"bg-yellow-50 border-2 border-yellow-400 rounded p-2 mb-2",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12774",className:"text-xs text-yellow-800 font-medium mb-1",children:" Internal Note:"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12777",className:"text-xs text-yellow-900 whitespace-pre-wrap",children:T.internalNote})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12782",className:"flex items-center gap-2",children:[T.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:12785",className:"w-4 h-4 animate-spin text-orange-600"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12786",className:"text-sm text-orange-600 font-medium",children:"Generating in progress... (auto-refresh la 5s)"})]}),T.status==="success"&&T.videoUrl&&T.reviewStatus!=="regenerate"&&l.jsx(l.Fragment,{children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12859",className:"inline-flex items-center gap-2 bg-green-50 border-2 border-green-500 px-3 py-2 rounded-lg",children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:12860",className:"w-5 h-5 text-green-600"}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12861",className:"text-sm text-green-700 font-bold",children:"Generated"})]})}),(T.status==="failed"||T.status===null||T.reviewStatus==="regenerate")&&l.jsx(l.Fragment,{children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12868",className:"flex-1",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12869",className:`flex items-center gap-2 px-3 py-2 rounded-lg mb-2 ${T.reviewStatus==="regenerate"?"bg-orange-50 border-2 border-orange-500":"bg-red-50 border-2 border-red-500"}`,children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:12874",className:`w-5 h-5 ${T.reviewStatus==="regenerate"?"text-orange-600":"text-red-600"}`}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:12877",className:`text-sm font-bold ${T.reviewStatus==="regenerate"?"text-orange-700":"text-red-700"}`,children:T.status==="failed"?"Failed":T.status===null?"Not Generated Yet":"Rejected"})]}),T.status==="failed"&&l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:12884",className:"text-sm text-red-600",children:T.error||"Unknown error"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12888",className:"hidden",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12889",size:"sm",variant:"outline",onClick:()=>{Fe(R);const z=ne[R]?.promptType||"PROMPT_NEUTRAL";if(vt(z),z==="PROMPT_CUSTOM"&&jn[R])yt(jn[R]);else{const Z=Ws.find(ce=>ce.promptName===z);Z?.promptTemplate?yt(Z.promptTemplate):yt("")}Xt(T.text),T.redStart!==void 0&&T.redEnd!==void 0&&T.redStart>=0?(Ze(T.redStart),gt(T.redEnd),console.log("[Modify Dialog] Loading red text:",T.redStart,"-",T.redEnd)):(Ze(-1),gt(-1),console.log("[Modify Dialog] No red text found"))},className:"flex-1 border-orange-500 text-orange-700 hover:bg-orange-50",children:"Modify & Regenerate"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12930",size:"sm",variant:"outline",onClick:()=>{Js(T.videoName)},className:"flex-1 border-blue-500 text-blue-700 hover:bg-blue-50",children:"Duplicate"}),T.isDuplicate&&l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:12943",size:"sm",variant:"outline",onClick:()=>{qo(T.videoName)},className:"flex-1 border-red-500 text-red-700 hover:bg-red-50",children:"Delete Duplicate"})]}),Ye[R]&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12958",className:"flex items-center gap-1 mt-2",children:[l.jsx(zS,{"data-loc":"client/src/pages/Home.tsx:12959",className:"w-3 h-3 text-orange-500"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:12960",className:"text-xs text-orange-500 font-bold",children:["Edited ",(()=>{const z=wt-Ye[R],Z=Math.floor(z/6e4);return Z>=1?`${Z} min ago`:`${Math.floor(z/1e3)} sec ago`})()]})]}),Ce===R&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:12977","data-modify-form":R,className:"mt-4 p-3 sm:p-4 bg-white border-2 border-orange-300 rounded-lg space-y-3",children:[l.jsx("h5",{"data-loc":"client/src/pages/Home.tsx:12981",className:"font-bold text-orange-900",children:"Edit Video"}),rn&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13030",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13031",className:"text-sm font-medium text-gray-700 block mb-1",children:"How many regenerations do you want? (1-10):"}),l.jsx("select",{"data-loc":"client/src/pages/Home.tsx:13032",value:Pi,onChange:z=>{const Z=parseInt(z.target.value);Ca(Z);const ce=[...Fr];if(Z>ce.length){const K=Ce!==null?Ce:0,re=ce[0]||{promptType:lt,promptText:Et,dialogueText:_t,imageUrl:Y[K]?.imageUrl||ne[K]?.imageUrl||""};for(;ce.length<Z;)ce.push({...re})}else ce.splice(Z);Oi(ce)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[1,2,3,4,5,6,7,8,9,10].map(z=>l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:13061",value:z,children:[z," regenerations"]},z))})]}),rn?l.jsxs(l.Fragment,{children:[Fr.map((z,Z)=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13450",className:"p-3 bg-gray-50 border border-gray-300 rounded space-y-2",children:[l.jsxs("h6",{"data-loc":"client/src/pages/Home.tsx:13451",className:"font-bold text-gray-900",children:["Varianta ",Z+1]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13454",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13455",className:"text-xs font-medium text-gray-700 block mb-1",children:"Prompt Type:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:13456",value:z.promptType,onChange:async ce=>{const K=ce.target.value,re=[...Fr];if(re[Z]={...re[Z],promptType:K},K!=="PROMPT_CUSTOM")try{const ge=await(await fetch(`/api/trpc/prompt.getHardcodedPrompt?batch=1&input=${encodeURIComponent(JSON.stringify({0:{promptType:K}}))}`)).json();ge[0]?.result?.data?.promptText&&(re[Z].promptText=ge[0].result.data.promptText)}catch(me){console.error("Error loading prompt:",me)}Oi(re)},className:"w-full border border-gray-300 rounded px-2 py-1 text-xs",children:[l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13480",value:"PROMPT_NEUTRAL",children:"PROMPT_NEUTRAL"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13481",value:"PROMPT_SMILING",children:"PROMPT_SMILING"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13482",value:"PROMPT_CTA",children:"PROMPT_CTA"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13483",value:"PROMPT_CUSTOM",children:"PROMPT_CUSTOM"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13488",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13489",className:"text-xs font-medium text-gray-700 block mb-1",children:"Edit Prompt:"}),l.jsx(Tc,{"data-loc":"client/src/pages/Home.tsx:13490",value:z.promptText,onChange:ce=>{const K=[...Fr];K[Z]={...K[Z],promptText:ce.target.value},Oi(K)},placeholder:"Enter prompt here",className:"text-xs min-h-[60px]"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13503",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13504",className:"text-xs font-medium text-gray-700 block mb-1",children:"Edit Text:"}),l.jsx(Tc,{"data-loc":"client/src/pages/Home.tsx:13505",value:z.dialogueText,onChange:ce=>{const K=[...Fr];K[Z]={...K[Z],dialogueText:ce.target.value},Oi(K)},className:"text-xs min-h-[50px]"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:13514",className:`text-xs mt-1 ${z.dialogueText.length>125?"text-red-600 font-bold":"text-gray-500"}`,children:[z.dialogueText.length," characters",z.dialogueText.length>125?` - ${z.dialogueText.length-125} exceeded!`:""]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13522",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13523",className:"text-xs font-medium text-gray-700 block mb-1",children:"Imagine:"}),l.jsx("select",{"data-loc":"client/src/pages/Home.tsx:13524",value:z.imageUrl,onChange:ce=>{const K=[...Fr];K[Z]={...K[Z],imageUrl:ce.target.value},Oi(K)},className:"w-full border border-gray-300 rounded px-2 py-1 text-xs",children:q.map(ce=>l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13534",value:ce.url,children:ce.id},ce.id))})]})]},Z)),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13542",className:"space-y-2",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13543",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13544",size:"sm",onClick:()=>{be.success(`${Fr.length} variants saved!`),Fe(null)},className:"flex-1 bg-green-600 hover:bg-green-700",children:"Save All"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13555",size:"sm",variant:"outline",onClick:()=>Fe(null),className:"flex-1",children:"Cancel"})]})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13072",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13073",className:"text-sm font-medium text-gray-700 block mb-1",children:"Prompt Type:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:13074",value:lt,onChange:async z=>{const Z=z.target.value;if(vt(Z),Z==="PROMPT_CUSTOM"&&jn[Ce])yt(jn[Ce]);else if(Z!=="PROMPT_CUSTOM"){const ce=Ws.find(K=>K.promptName===Z);ce?.promptTemplate?yt(ce.promptTemplate):(yt(""),be.warning(`Prompt ${Z} was not found in session`))}},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[Ws.map(z=>l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13098",value:z.promptName,children:z.promptName},z.id)),Ce!==null&&jn[Ce]&&l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13102",value:"PROMPT_CUSTOM",children:"PROMPT_CUSTOM (session)"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13108",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13109",className:"text-sm font-medium text-gray-700 block mb-1",children:"Edit Prompt (optional):"}),l.jsx(Tc,{"data-loc":"client/src/pages/Home.tsx:13110",value:Et,onChange:z=>{const Z=z.target.value;if(yt(Z),Z.trim().length>0){const ce=Ws.find(re=>re.promptName===lt);(!ce||Z!==ce.promptTemplate)&&lt!=="PROMPT_CUSTOM"&&(vt("PROMPT_CUSTOM"),Ce!==null&&Ln(re=>({...re,[Ce]:Z})))}},placeholder:lt==="PROMPT_CUSTOM"?"Enter custom prompt here":`Edit ${lt} or leave empty to use hardcoded prompt`,rows:3,className:"text-sm min-h-[60px] max-h-[150px] resize-y overflow-y-auto"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13145",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13146",className:"text-sm font-medium text-gray-700 block mb-1",children:"Edit Text:"}),l.jsx(Tc,{"data-loc":"client/src/pages/Home.tsx:13149",value:_t,onChange:z=>Xt(z.target.value),onSelect:z=>{const Z=z.target.selectionStart,ce=z.target.selectionEnd;ce>Z&&(window.__textSelection={start:Z,end:ce})},className:"min-h-[80px] text-sm",placeholder:"Enter text here..."}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13165",className:"flex gap-2 mt-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13166",onClick:()=>{const z=window.__textSelection;z&&z.end>z.start?(Ze(z.start),gt(z.end),be.success("Text marked as red!")):be.warning("Select the text you want to mark as red")},variant:"outline",size:"sm",className:"bg-red-600 text-white hover:bg-red-700",type:"button",children:"Mark as RED"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13184",onClick:()=>{Ze(-1),gt(-1),be.success("Red marking deleted!")},variant:"outline",size:"sm",type:"button",disabled:Me<0,children:"Clear RED"})]}),Me>=0&&pt>Me&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13201",className:"mt-3 p-4 bg-blue-50 rounded-lg border-2 border-blue-300",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13202",className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13203",className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13204",className:"text-sm text-blue-900 font-bold",children:" Preview: Text with red will look like this:"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13206",className:"p-3 bg-white rounded border border-blue-200 text-sm",style:{whiteSpace:"pre-wrap"},children:[_t.substring(0,Me),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:13208",style:{color:"#dc2626",fontWeight:600,backgroundColor:"#fee2e2",padding:"2px 4px",borderRadius:"3px"},children:_t.substring(Me,pt)}),_t.substring(pt)]})]}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:13217",className:`text-xs mt-1 ${_t.length>125?"text-orange-600 font-bold":"text-gray-500"}`,children:[_t.length," characters",_t.length>125?`  Warning: ${_t.length-125} characters exceeded!`:""]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13225",className:"mt-4",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:13226",className:"text-sm font-medium text-gray-700 block mb-2",children:" Select Image:"}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13229",className:"mb-3",children:l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:13230",value:Vt||"all",onChange:z=>Kt(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13235",value:"all",children:"All Characters"}),Gu.map(z=>l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:13237",value:z,children:z},z))]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13243",className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto p-2 bg-gray-50 rounded border border-gray-200",children:qi.filter(z=>Vt==="all"||z.characterName===Vt).map(z=>{const Z=Ce!==null&&ne[Ce]?.imageUrl===z.imageUrl;return l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13249",onClick:()=>{if(Ce!==null){const ce=[...ne];ce[Ce]={...ce[Ce],imageUrl:z.imageUrl,imageId:z.id.toString()},le(ce);const K=[...Y];K[Ce]&&(K[Ce]={...K[Ce],imageUrl:z.imageUrl},oe(K))}},className:`relative cursor-pointer rounded border-2 transition-all ${Z?"border-blue-500 ring-2 ring-blue-300":"border-gray-300 hover:border-blue-400"}`,children:[l.jsx("img",{"data-loc":"client/src/pages/Home.tsx:13279",src:z.thumbnailUrl||z.imageUrl,alt:z.imageName,className:"w-full h-48 object-cover rounded",style:{aspectRatio:"6/16"}}),Z&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13286",className:"absolute top-1 right-1 bg-blue-500 text-white rounded-full p-1",children:l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13287",className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13288",fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},z.id)})}),Ce!==null&&ne[Ce]&&l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:13299",className:"text-xs text-gray-600 mt-2",children:["Selected: ",qi.find(z=>z.imageUrl===ne[Ce].imageUrl)?.imageName||"Unknown"]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13306",className:"flex flex-col sm:flex-row gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13307",size:"sm",onClick:()=>{const z=Ce;console.log("[Save Modify] Starting save | index:",z,"| videoResults.length:",Y.length,"| step5Filter:",pe),console.log("[Save Modify] Saving text with red positions:",Me,"-",pt),lt==="PROMPT_CUSTOM"&&Et.trim().length>0&&(Ln(K=>({...K,[z]:Et})),console.log("[Prompt Save] Custom prompt saved to session (not database):",z));const Z=[...ne];Z[z]={...Z[z],text:_t,promptType:lt},le(Z),se(K=>K.map(re=>re.text===ne[z].text?{...re,text:_t,charCount:_t.length,redStart:Me,redEnd:pt}:re));let ce=[];oe(K=>(ce=K.map((re,me)=>me===z?{...re,text:_t,redStart:Me,redEnd:pt,_forceUpdate:Date.now()}:re),console.log("[Save Modify] BEFORE return - Updated text for index",z,":",_t.substring(0,50)),[...ce])),console.log("[Save Modify] AFTER setVideoResults - Updated videoResults["+z+"] with red text:",Me,"-",pt),Ct(K=>({...K,[z]:Date.now()})),console.log("[Database Save] Saving after text modification..."),Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:Z,deletedCombinations:fe,videoResults:ce,reviewHistory:en},{onSuccess:()=>{console.log("[Database Save] Modifications saved to database!")},onError:K=>{console.error("[Database Save] Failed:",K)}}),be.success("Changes saved!"),Fe(null),setTimeout(()=>{const K=document.getElementById(`video-card-${Y[z]?.videoName}`);K&&K.scrollIntoView({behavior:"smooth",block:"center"})},100)},disabled:_t.trim().length===0,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13436",size:"sm",variant:"outline",onClick:()=>Fe(null),className:"flex-1",children:"Cancel"})]})]})]})]})}),T.status===null&&T.isDuplicate&&l.jsx(l.Fragment,{children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13765",className:"flex-1",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13766",className:"flex items-center gap-2 bg-gray-50 border-2 border-gray-400 px-3 py-2 rounded-lg mb-2",children:[l.jsx(zS,{"data-loc":"client/src/pages/Home.tsx:13767",className:"w-5 h-5 text-gray-600"}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:13768",className:"text-sm text-gray-700 font-bold",children:["Not Generated Yet (Duplicate ",T.duplicateNomber,")"]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13772",className:"hidden",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13773",size:"sm",variant:"outline",onClick:()=>{Fe(R);const z=ne[R]?.promptType||"PROMPT_NEUTRAL";if(vt(z),z==="PROMPT_CUSTOM"&&jn[R])yt(jn[R]);else{const Z=Ws.find(ce=>ce.promptName===z);Z?.promptTemplate?yt(Z.promptTemplate):yt("")}Xt(T.text),T.redStart!==void 0&&T.redEnd!==void 0&&T.redStart>=0?(Ze(T.redStart),gt(T.redEnd)):(Ze(-1),gt(-1))},className:"flex-1 border-orange-500 text-orange-700 hover:bg-orange-50",children:"Modify & Regenerate"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13810",size:"sm",variant:"outline",onClick:()=>{qo(T.videoName)},className:"flex-1 border-red-500 text-red-700 hover:bg-red-50",children:"Delete Duplicate"})]}),Ce===R&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13824","data-modify-form":R,className:"mt-4 p-3 sm:p-4 bg-white border-2 border-orange-300 rounded-lg space-y-3",children:l.jsx("h5",{"data-loc":"client/src/pages/Home.tsx:13828",className:"font-bold text-orange-900",children:"Edit Video"})})]})})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13841",className:"flex flex-col gap-1 flex-shrink-0",children:[l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:13843",onClick:()=>{if(console.log("[Edit Modal] Opening for:",T.videoName,"| realIndex:",R,"| step5Filter:",pe),R===-1){console.error("[Edit Modal] Cannot open - video not found in videoResults:",T.videoName);return}Fe(R);const z=ne[R]?.promptType||"PROMPT_NEUTRAL";if(vt(z),z==="PROMPT_CUSTOM"&&jn[R])yt(jn[R]);else{const ce=Ws.find(K=>K.promptName===z);ce?.promptTemplate?yt(ce.promptTemplate):yt("")}Xt(T.text),T.redStart!==void 0&&T.redEnd!==void 0&&T.redStart>=0?(Ze(T.redStart),gt(T.redEnd)):(Ze(-1),gt(-1));const Z=ne[R]?.imageUrl;if(Z){const ce=qi.find(K=>K.imageUrl===Z);ce?.characterName?Kt(ce.characterName):Kt("all")}else Kt("all")},className:"px-2 py-1.5 border border-orange-500 text-orange-700 hover:bg-orange-50 rounded flex items-center gap-1.5 transition-colors text-xs font-medium",title:"Edit",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13891",className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13892",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:13894",children:"Edit"})]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:13898",onClick:()=>{Go(R)},className:"px-2 py-1.5 border border-green-500 text-green-700 hover:bg-green-50 rounded flex items-center gap-1.5 transition-colors text-xs font-medium",title:"Regenerate",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13905",className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13906",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:13908",children:"Regen"})]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:13912",onClick:()=>{Js(T.videoName)},className:"px-2 py-1.5 border border-blue-500 text-blue-700 hover:bg-blue-50 rounded flex items-center gap-1.5 transition-colors text-xs font-medium",title:"Duplicate",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13919",className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13920",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:13922",children:"Dupl"})]}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:13926",onClick:()=>{qo(T.videoName)},className:"px-2 py-1.5 border border-red-500 text-red-700 hover:bg-red-50 rounded flex items-center gap-1.5 transition-colors text-xs font-medium",title:"Delete",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13933",className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13934",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:13936",children:"Del"})]})]})]})},T.videoName)})}),Y.some(T=>T.status==="failed"||T.reviewStatus==="regenerate")&&Ce===null&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:13947",className:"mt-6 flex justify-end",children:l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:13948",onClick:rf,disabled:Ki.isPending,className:"bg-red-600 hover:bg-red-700 py-8 text-lg px-8",children:Ki.isPending?l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:13955",className:"w-5 h-5 mr-2 animate-spin"}),"Regenerating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(bg,{"data-loc":"client/src/pages/Home.tsx:13960",className:"w-5 h-5 mr-2"}),"Regenerate ALL (",(()=>{const T=Y.filter(z=>z.status==="failed").length,L=Y.filter(z=>z.reviewStatus==="regenerate").length,R=rn?L*Pi:L;return T+R})(),")"]})})}),Y.some(T=>T.status==="success")&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:13977",className:"mt-6 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:13978",variant:"outline",onClick:()=>ga(5),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:13983",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:13986",onClick:bp,className:"bg-green-600 hover:bg-green-700 px-8 py-8 text-lg",children:[l.jsx(AI,{"data-loc":"client/src/pages/Home.tsx:13990",className:"w-5 h-5 mr-2"}),"Next: Check (",Y.filter(T=>T.status==="success").length,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:13992",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:13993",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),!1,Ot===7&&Y.length>0&&(console.log("STEP 7 RENDER - videoResults:",Y.map(T=>({videoName:T.videoName,status:T.status,hasVideoUrl:!!T.videoUrl,videoUrl:T.videoUrl?.substring(0,50)+"..."}))),!0)&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:14424",className:"mb-8 border-2 border-green-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:14425",className:"bg-green-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:14426",className:"flex items-center gap-2 text-green-900",children:[l.jsx(kf,{"data-loc":"client/src/pages/Home.tsx:14427",className:"w-5 h-5"}),"STEP 7 - Check Videos"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:14430",children:"Review generated videos. Accept or mark for regeneration."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:14434",className:"pt-4 md:pt-6 px-3 md:px-6",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14436",className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-4",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14437",className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:14438",className:"text-sm font-medium text-green-900",children:"Filter videos:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:14439",value:V,onChange:T=>X(T.target.value),className:"px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:14444",value:"all",children:["Show All (",Y.length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:14445",value:"accepted",children:["Only Accepted (",_r,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:14446",value:"failed",children:["Doar Failed/Pending (",hp,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:14447",value:"no_decision",children:["Only Without Decision (",Zu,")"]})]}),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:14449",className:"text-xs text-gray-500 italic",children:"Filter works only on refresh"})]})}),en.length>0&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14457",className:"mb-6",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14458",onClick:to,variant:"outline",className:"border-orange-500 text-orange-700 hover:bg-orange-50",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:14463",className:"w-4 h-4 mr-2"}),"UNDO (",en.length," actions)"]})}),["HOOKS","MIRROR","DCS","TRANSITION","NEW_CAUSE","MECHANISM","TRANSFORMATION","CTA"].map(T=>{let L=ps.filter(R=>R.section===T&&R.status==="success"&&R.videoUrl);return L.length===0?null:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14482",className:"mb-8",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:14483",className:"text-xl font-bold text-green-900 mb-4 border-b-2 border-green-300 pb-2",children:T}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14487",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(R=>(console.log(`Rendering video ${R.videoName}:`,{status:R.status,hasVideoUrl:!!R.videoUrl,videoUrl:R.videoUrl}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14495",className:"p-4 bg-white rounded-lg border-2 border-green-200",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14497",className:"mb-2",children:kt===R.videoName?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14499",className:"space-y-2",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14500",className:"flex items-center gap-2",children:l.jsx(wa,{"data-loc":"client/src/pages/Home.tsx:14501",type:"text",value:ln,onChange:z=>Sn(z.target.value),className:"flex-1 text-sm font-bold",autoFocus:!0})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14509",className:"flex items-center gap-2",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:14510",className:"text-sm font-medium text-gray-700 min-w-[80px]",children:"Category:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:14511",value:qr,onChange:z=>Ri(z.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm",children:[l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14516",value:"HOOKS",children:"HOOKS"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14517",value:"MIRROR",children:"MIRROR"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14518",value:"DCS",children:"DCS"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14519",value:"TRANZITION",children:"TRANZITION"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14520",value:"NEW_CAUSE",children:"NEW_CAUSE"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14521",value:"MECHANISM",children:"MECHANISM"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14522",value:"EMOTIONAL_PROOF",children:"EMOTIONAL_PROOF"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14523",value:"TRANSFORMATION",children:"TRANSFORMATION"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14524",value:"CTA",children:"CTA"}),l.jsx("option",{"data-loc":"client/src/pages/Home.tsx:14525",value:"OTHER",children:"OTHER"})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14528",className:"flex items-center gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:14529",size:"sm",onClick:async()=>{const z=R.videoName,Z=ln.trim();if(!Z){be.error("Nomele video nu poate fi gol!");return}if(Y.some(K=>K.videoName===Z&&K.videoName!==z)){be.error("A video with this name already exists!");return}oe(K=>K.map(re=>re.videoName===z?{...re,videoName:Z,section:qr}:re));try{await Gt.mutateAsync({userId:ct.id,tamId:r||void 0,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,sessionData:{currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:Y.map(K=>K.videoName===z?{...K,videoName:Z,section:qr}:K),reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}},{onSuccess:()=>{be.success(`Nome video actualizat: ${Z}`),Wt(null)},onError:K=>{be.error(`Save error: ${K.message}`)}})}catch(K){be.error(`Save error: ${K.message}`)}},className:"bg-green-600 hover:bg-green-700 text-white",children:l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:14598",className:"w-4 h-4"})}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:14600",size:"sm",variant:"outline",onClick:()=>{Wt(null),Sn("")},children:l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:14608",className:"w-4 h-4"})})]})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14613",className:"flex items-center gap-2",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14614",className:"flex-1 flex justify-center items-center gap-2",children:[l.jsx("h4",{"data-loc":"client/src/pages/Home.tsx:14615",className:"font-bold text-center px-3 py-2 bg-green-100 text-green-900 rounded-lg inline-block text-[10px] sm:text-xs",children:R.videoName}),R.generationCount&&R.generationCount>0&&l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14617",className:"text-xs bg-gray-200 text-gray-700 px-2 py-0.5 rounded font-semibold",children:["Regen: ",R.generationCount]})]}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:14622",onClick:()=>{Wt(R.videoName),Sn(R.videoName),Ri(R.section)},className:"text-gray-500 hover:text-green-600 transition-colors",title:"Edit name and category",children:l.jsx($S,{"data-loc":"client/src/pages/Home.tsx:14631",className:"w-4 h-4"})})]})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:14638",className:"text-sm text-gray-700 mb-3",children:R.redStart!==void 0&&R.redStart>=0&&R.redEnd!==void 0&&R.redEnd>=0?l.jsxs(l.Fragment,{children:[R.text.substring(0,R.redStart),l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:14642",className:"text-red-600 font-bold",children:R.text.substring(R.redStart,R.redEnd)}),R.text.substring(R.redEnd)]}):R.text}),R.videoUrl?l.jsxs("video",{"data-loc":"client/src/pages/Home.tsx:14654",controls:!0,preload:"metadata",className:"w-full max-w-[300px] mx-auto aspect-[9/16] object-cover rounded border-2 border-green-300 mb-3",children:[l.jsx("source",{"data-loc":"client/src/pages/Home.tsx:14659",src:R.videoUrl,type:"video/mp4"}),"Your browser doesn't support HTML5 video."]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14663",className:"w-full max-w-[300px] mx-auto aspect-[9/16] bg-blue-50 border-2 border-blue-300 rounded mb-3 flex flex-col items-center justify-center p-4",children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:14664",className:"w-8 h-8 text-blue-600 animate-spin mb-2"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:14665",className:"text-sm text-blue-700 font-medium",children:"Loading video..."})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14670",className:"space-y-2 mt-2",children:[R.reviewStatus?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14693",className:"space-y-2",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14694",className:"flex gap-2 items-center",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14696",className:`flex-1 px-3 py-2 rounded text-xs font-medium text-center ${R.reviewStatus==="accepted"?"bg-green-100 text-green-700 border border-green-300":"bg-red-100 text-red-700 border border-red-300"}`,children:R.reviewStatus==="accepted"?l.jsxs(l.Fragment,{children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:14702",className:"w-3 h-3 inline mr-1"}),"Acceptat"]}):l.jsxs(l.Fragment,{children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:14704",className:"w-3 h-3 inline mr-1"}),"Regenerare"]})}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14709",onClick:()=>vp(R.videoName),size:"sm",variant:"outline",className:"border-gray-400 text-gray-700 hover:bg-gray-100 text-xs py-1",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:14715",className:"w-3 h-3 mr-1"}),"Undo"]})]}),R.reviewStatus==="regenerate"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14722",children:uy===R.videoName?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14724",className:"bg-yellow-50 border-2 border-yellow-400 rounded p-3 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:14725",value:op,onChange:z=>vd(z.target.value),placeholder:"Add internal note...",className:"w-full p-2 border border-yellow-300 rounded text-xs bg-white",rows:3}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14732",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:14733",onClick:()=>{const z=Y.map(Z=>Z.videoName===R.videoName?{...Z,internalNote:op}:Z);oe([...z]),Gt.mutate({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:z,reviewHistory:en}),be.success("Note saved!"),$u(null),vd("")},size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-xs",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:14773",onClick:()=>{$u(null),vd("")},size:"sm",variant:"outline",className:"flex-1 text-xs",children:"Cancel"})]})]}):l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:14787",onClick:()=>{$u(R.videoName),vd(R.internalNote||"")},size:"sm",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-1",children:R.internalNote?" Edit Note":" Add Note"})})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14673",className:"flex gap-2",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14674",onClick:()=>jd(R.videoName),size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs py-1",children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:14679",className:"w-3 h-3 mr-1"}),"Accept"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14683",onClick:()=>yp(R.videoName),size:"sm",className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs py-1",children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:14688",className:"w-4 h-4 mr-1"}),"Regenerate"]})]}),R.videoUrl&&l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14805",size:"sm",variant:"outline",onClick:async()=>{try{be.info(`Downloading ${R.videoName}...`);const Z=await(await fetch(R.videoUrl)).blob(),ce=window.URL.createObjectURL(Z),K=document.createElement("a");K.href=ce,K.download=`${R.videoName}.mp4`,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(ce),be.success(`${R.videoName} downloaded!`)}catch(z){console.error("Download error:",z),be.error(`Download error: ${z}`)}},className:"w-full border-blue-500 text-blue-700 hover:bg-blue-50 text-xs py-1",children:[l.jsx(Kf,{"data-loc":"client/src/pages/Home.tsx:14829",className:"w-3 h-3 mr-1"}),"Download"]})]})]},R.videoName)))})]},T)}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14843",className:"mt-8 p-6 bg-gray-50 border-2 border-gray-300 rounded-lg",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14845",className:"mb-4",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:14846",className:"text-lg font-semibold text-gray-900 mb-2",children:"Statistici Review:"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14847",className:"flex gap-4 text-sm",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14848",className:"text-green-700",children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:14849",className:"w-4 h-4 inline mr-1"}),_r," acceptate"]}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14852",className:"text-red-700",children:[l.jsx(ai,{"data-loc":"client/src/pages/Home.tsx:14853",className:"w-4 h-4 inline mr-1"}),Hn," pentru regenerare"]}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14856",className:"text-gray-600",children:[Br.length," without decision"]})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14860",className:"flex gap-4 text-sm mt-2",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14861",className:"text-blue-700 font-semibold",children:[l.jsx(kf,{"data-loc":"client/src/pages/Home.tsx:14862",className:"w-4 h-4 inline mr-1"}),"Total Generations: ",Y.reduce((T,L)=>T+(L.generationCount||0),0)]}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:14865",className:"text-purple-700 font-semibold",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:14866",className:"inline-block mr-1",children:""}),"Cost: $",(Y.reduce((T,L)=>T+(L.generationCount||0),0)*.3).toFixed(2)]})]})]}),Y.some(T=>T.reviewStatus==="regenerate")&&l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14875",onClick:()=>{Re("regenerate"),be.info("Regenerare videouri marcate..."),zn(6)},className:"w-full bg-red-600 hover:bg-red-700 py-6 text-lg mb-4",children:[l.jsx(bg,{"data-loc":"client/src/pages/Home.tsx:14884",className:"w-5 h-5 mr-2"}),"Regenerate Selected (",Hn,")"]}),Br.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14891",className:"bg-red-100 border-2 border-red-700 rounded p-4 text-center",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:14892",className:"text-red-900 font-medium",children:[" ",Br.length," videouri without decision"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:14895",className:"text-sm text-red-800 mt-1",children:"You can regenerate marked videos even if you haven't made decision for all."})]}),pa.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14903",className:"mt-4",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14904",onClick:async()=>{const T=pa;if(T.length===0){be.error("No accepted videos for download");return}dd(!0),na("Preparing ZIP archive...");try{const L=new kA,R=["HOOKS","MIRROR","DCS","TRANSITION","NEW_CAUSE","MECHANISM","TRANSFORMATION","CTA"],z=[];R.forEach(re=>{const me=T.filter(ge=>ge.section===re);z.push(...me)});for(let re=0;re<z.length;re++){const me=z[re],ge=re+1;na(`Downloading video ${ge}/${z.length}: ${me.videoName}...`);try{const ue=await(await fetch(me.videoUrl)).blob(),we=`${ge}. ${me.videoName}.mp4`;L.file(we,ue)}catch(ve){console.error(`Download error ${me.videoName}:`,ve),be.error(`Download error ${me.videoName}`)}}na("Creez arhiva ZIP...");const Z=await L.generateAsync({type:"blob"});na("Descarc arhiva...");const ce=window.URL.createObjectURL(Z),K=document.createElement("a");K.href=ce,K.download=`Accepted_Videos_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(ce),be.success(`ZIP archive with ${z.length} videos downloaded!`),dd(!1),na("")}catch(L){console.error("Error creating ZIP archive:",L),be.error(`Error: ${L.message}`),dd(!1),na("")}},className:"w-auto mx-auto block border-2 border-blue-600 bg-white hover:bg-blue-50 text-blue-600 px-4 py-2 text-sm",children:[l.jsx(Kf,{"data-loc":"client/src/pages/Home.tsx:14973",className:"w-4 h-4 mr-2 inline"}),"Download Videos (",pa.length,")"]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:14978",className:"mt-3 text-center",children:l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:14979",onClick:kd,className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Download Word document with all extracted lines"})})]})]}),pa.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:14992",className:"mt-8 flex justify-between items-center",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:14993",variant:"outline",onClick:()=>zn(6),className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:14998",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15001",className:"flex flex-col items-center gap-0",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15002",onClick:async()=>{console.log("[Video Editing]  Total videos in videoResults:",Y.length),console.log("[Video Editing]  All video names:",Y.map(z=>z.videoName));const T=Y.filter(z=>{const Z=z.reviewStatus==="accepted",ce=z.status==="success",K=!!z.videoUrl;return console.log(`[Video Editing]  ${z.videoName}:`,{reviewStatus:z.reviewStatus,isAccepted:Z,status:z.status,isSuccess:ce,hasVideoUrl:K,videoUrl:z.videoUrl?.substring(0,50)+"...",PASSES_FILTER:Z&&ce&&K}),Z&&ce&&K});if(T.length===0){be.error("No accepted videos with valid URL for editing");return}const L=T.filter(z=>z.audioUrl),R=T.filter(z=>!z.audioUrl);if(console.log(`[Video Editing] Videos with audioUrl: ${L.length}, Without audioUrl: ${R.length}`),L.length===0){console.log("[Video Editing]  NO videos have audioUrl - processing all directly");const z=T;oe(Z=>Z.map(ce=>ce.editStatus==="processed"?{...ce,editStatus:null,whisperTranscript:void 0,cutPoints:void 0,words:void 0,audioUrl:void 0,waveformData:void 0,trimStatus:null,trimmedVideoUrl:void 0,acceptRejectStatus:null}:ce)),P({ffmpeg:{current:0,total:z.length},whisper:{current:0,total:z.length},cleanvoice:{current:0,total:z.length},currentVideoName:""}),ye(null),_e(!0);try{await ms(z);const Z=nt.failedVideos.length;Z>0?be.warning(` Processing complete: ${nt.successVideos.length} success, ${Z} failed. Please retry failed videos.`):be.success(` ${z.length} videos processed successfully! Click Continue to proceed.`)}catch(Z){console.error("[Video Editing] Batch processing error:",Z),_e(!1),be.error(`Error processing videos: ${Z.message}`)}return}console.log("[Video Editing]  Some videos have audioUrl - showing selective popup"),tt(!0)},className:"w-full bg-purple-600 hover:bg-purple-700 px-4 md:px-8 py-6 md:py-8 text-base md:text-lg",disabled:pa.length===0,children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15092",className:"flex items-center justify-center",children:[l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:15093",className:"text-sm md:text-base",children:["Next: Auto-Prepare for Cutting (",pa.length,")"]}),l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:15094",className:"w-4 h-4 md:w-5 md:h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:15095",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15099",className:"text-center mt-1",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:15100",className:"text-xs opacity-70 font-normal",children:"GO TO STEP 8"})})]})]})]})]}),Ot===8&&(()=>{console.log("[Step 8]  Total videoResults:",Y.length),console.log("[Step 8]  All video names:",Y.map(R=>R.videoName)),console.log("[Step 8]  Looking for T1_C1_E2_AD1_HOOK1_LIDIA:",Y.find(R=>R.videoName==="T1_C1_E2_AD1_HOOK1_LIDIA"));const T=Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl);console.log("[Step 8]  Approved videos count:",T.length),console.log("[Step 8]  Approved video names:",T.map(R=>R.videoName));let L=[...T];return Er==="accepted"?L=L.filter(R=>R.recutStatus==="accepted"||!R.recutStatus):Er==="recut"?L=L.filter(R=>R.recutStatus==="recut"):Er==="unlocked"?L=L.filter(R=>!R.isStartLocked||!R.isEndLocked):Er==="problems"?L=L.filter(R=>R.editingDebugInfo?.status&&R.editingDebugInfo.status!=="success"):Er==="with_notes"&&(L=L.filter(R=>R.step9Note)),L=au(L),l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:15151",className:"mb-8 border-2 border-purple-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:15152",className:"bg-purple-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:15153",className:"flex items-center gap-2 text-purple-900",children:[l.jsx(kf,{"data-loc":"client/src/pages/Home.tsx:15154",className:"w-5 h-5"}),"STEP 8 - Video Editing"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:15157",children:"Edit approved videos: adjust START and END for trimming in Step 9."})]}),l.jsxs(fr,{"data-loc":"client/src/pages/Home.tsx:15161",className:"pt-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15163",className:"mb-6 flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 w-full",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15164",className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 w-full lg:w-auto",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15165",className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:15166",className:"text-sm font-medium text-purple-900",children:"Filter videos:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:15167",value:Er,onChange:R=>Hs(R.target.value),className:"px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 w-full sm:w-auto",children:[l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15172",value:"all",children:["All (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl).length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15173",value:"accepted",children:["Accepted (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&(R.recutStatus==="accepted"||!R.recutStatus)).length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15174",value:"recut",children:["Needs Re-trimming (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&R.recutStatus==="recut").length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15175",value:"unlocked",children:["Without Lock (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&(!R.isStartLocked||!R.isEndLocked)).length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15176",value:"problems",children:["Possible Problems (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&R.editingDebugInfo?.status&&R.editingDebugInfo.status!=="success").length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:15177",value:"with_notes",children:["With Notes (",Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&R.step9Note).length,")"]})]})]}),Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl&&R.editingDebugInfo?.status&&R.editingDebugInfo.status!=="success").length>0&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:15183",onClick:()=>Hs("problems"),className:"text-sm text-red-600 hover:text-red-700 underline font-medium text-left sm:text-center",children:"Check Video with Problems"})]}),Y.some(R=>R.trimmedVideoUrl)&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15194",className:"flex flex-col items-end gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15195",onClick:()=>{const R=Y.filter(z=>z.step9Approved&&z.trimmedVideoUrl);Md(R)},className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",size:"sm",children:" Sample Merge ALL Videos"}),(ht?.sampleMergedVideoUrl||Is)&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:15208",onClick:()=>{const z=Y.filter(ce=>ce.reviewStatus==="accepted"&&ce.status==="success"&&ce.trimmedVideoUrl).map(ce=>({name:ce.videoName,note:ce.step9Note||""}));Oo(z);const Z=ht?.sampleMergedVideoUrl||Is;console.log("[Open Last Sample] Loading URL from:",ht?.sampleMergedVideoUrl?"DB":"localStorage",Z),Vi(Z),Os(!0),Jr("")},className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"Open Last Sample"})]})]}),L.length===0?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15236",className:"text-center py-8",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:15237",className:"text-gray-600",children:"No approved videos for editing."}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15238",onClick:()=>zn(7),className:"mt-4",children:"Back to Step 7"})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15246",className:"space-y-8",children:[L.map((R,z)=>{const Z=R.waveformData?`data:application/json;base64,${btoa(unescape(encodeURIComponent(R.waveformData)))}`:"",ce=R.whisperTranscript?.duration||10;return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15261",className:"space-y-4",children:l.jsx(JH,{"data-loc":"client/src/pages/Home.tsx:15262",video:{id:R.videoName,videoName:R.videoName,videoUrl:`/api/proxy-video?url=${encodeURIComponent(R.videoUrl)}`,audioUrl:R.audioUrl||"",peaksUrl:Z,cutPoints:R.cutPoints||{startKeep:0,endKeep:ce*1e3},duration:ce,text:R.text,redStart:R.redStart,redEnd:R.redEnd,isStartLocked:R.isStartLocked,isEndLocked:R.isEndLocked,step9Note:R.step9Note,editingDebugInfo:R.editingDebugInfo,trimmedVideoUrl:R.trimmedVideoUrl,generationCount:R.generationCount},previousVideo:(()=>{const K=T.findIndex(re=>re.videoName===R.videoName);if(console.log(`[Cut & Merge] Looking for previous of ${R.videoName}:`,{currentIndexInAll:K,totalVideos:T.length,allVideoNames:T.map(re=>re.videoName)}),K>0){const re=T[K-1];return console.log("[Cut & Merge] Found previous:",re.videoName),{videoName:re.videoName,videoUrl:re.videoUrl,cutPoints:re.cutPoints||{startKeep:0,endKeep:1e4}}}return console.log("[Cut & Merge] No previous video found"),null})(),nextVideo:(()=>{const K=T.findIndex(re=>re.videoName===R.videoName);if(K>=0&&K<T.length-1){const re=T[K+1];return{videoName:re.videoName,videoUrl:re.videoUrl,cutPoints:re.cutPoints||{startKeep:0,endKeep:1e4}}}return null})(),onCutAndMerge:async(K,re,me)=>{console.log("[Cut & Merge] Button clicked for:",re.videoName),console.log("[Cut & Merge] Received videos:",{previous:K?.videoName||"NULL",current:re.videoName,next:me?.videoName||"NULL"}),console.log("[Cut & Merge]  Reloading videoResults from DB to get fresh cut points...");try{const Be=(await Hr()).data;if(Be&&Be.videoResults){const Xe=Be.videoResults;if(console.log("[Cut & Merge]  Fresh videoResults loaded from DB:",Array.isArray(Xe)?Xe.length:"N/A"),K){const De=Xe.find(Je=>Je.videoName===K.videoName);De?.cutPoints&&(console.log("[Cut & Merge]  Updated previous cutPoints:",De.cutPoints),K.cutPoints=De.cutPoints),De?.cleanVoiceUrl&&(console.log("[Cut & Merge]  Updated previous cleanVoiceUrl:",De.cleanVoiceUrl),K.cleanVoiceUrl=De.cleanVoiceUrl)}const je=Xe.find(De=>De.videoName===re.videoName);if(je?.cutPoints&&(console.log("[Cut & Merge]  Updated current cutPoints:",je.cutPoints),re.cutPoints=je.cutPoints),je?.cleanVoiceUrl&&(console.log("[Cut & Merge]  Updated current cleanVoiceUrl:",je.cleanVoiceUrl),re.cleanVoiceUrl=je.cleanVoiceUrl),me){const De=Xe.find(Je=>Je.videoName===me.videoName);De?.cutPoints&&(console.log("[Cut & Merge]  Updated next cutPoints:",De.cutPoints),me.cutPoints=De.cutPoints),De?.cleanVoiceUrl&&(console.log("[Cut & Merge]  Updated next cleanVoiceUrl:",De.cleanVoiceUrl),me.cleanVoiceUrl=De.cleanVoiceUrl)}}else console.warn("[Cut & Merge]  No fresh context found in DB, using local state")}catch(Ae){console.error("[Cut & Merge]  Failed to reload from DB:",Ae),be.error("Failed to reload cut points from DB");return}const ge=[K,re,me].filter(Boolean);if(console.log("[Cut & Merge] Starting merge:",ge.map(Ae=>Ae.videoName).join(" + ")),Ps(ge.map(Ae=>({videoName:Ae.videoName,cutPoints:Ae.cutPoints,trimmedDuration:Ae.trimmedDuration}))),Fu(re.videoName),Ro(!0),ge.some(Ae=>!Ae.cutPoints)){be.error(" Cannot merge videos without cut points");return}const ue=JSON.stringify(ge.map(Ae=>({name:Ae.videoName,start:Math.round(Ae.cutPoints.startKeep),end:Math.round(Ae.cutPoints.endKeep)})));if(console.log("[Cut & Merge] Cache check:"),console.log("[Cut & Merge]   Initial hash:",Ql),console.log("[Cut & Merge]   Current hash:",ue),console.log("[Cut & Merge]   Last merged hash:",Po),console.log("[Cut & Merge]   Has cached video:",!!Hi),ue===Po&&Hi){console.log("[Cut & Merge]  Cache hit! Using cached video."),Ta("");return}!Ql?(np(ue),console.log("[Cut & Merge]  First click - Initial pair hash set:",ue)):ue!==Ql?(console.log("[Cut & Merge]  Markers were modified, retransmitting to FFmpeg..."),np(ue)):console.log("[Cut & Merge]  Re-merge with same markers (cache miss)."),Ou(null),Ta("Uploading videos to FFmpeg API...");try{const Ae=je=>{if(je.startsWith("/api/proxy-video?url=")){const De=new URLSearchParams(je.split("?")[1]).get("url");return De?decodeURIComponent(De):je}return je},Be=ge.map(je=>({url:Ae(je.videoUrl),name:je.videoName,startMs:je.cutPoints.startKeep,endMs:je.cutPoints.endKeep,cleanVoiceAudioUrl:je.cleanVoiceUrl||null}));console.log("[Cut & Merge] Merging",Be.length,"videos:",Be.map(je=>je.name).join(" + "));const Xe=await Sd.mutateAsync({videos:Be,ffmpegApiKey:ct.ffmpegApiKey||""});if(Xe.success&&Xe.downloadUrl)Ou(Xe.downloadUrl),Gl(ue),Ta("Merge complete!"),console.log("[Cut & Merge]  Updating cutMergeVideos after merge"),Ps(ge.map(je=>({videoName:je.videoName,cutPoints:je.cutPoints,trimmedDuration:je.trimmedDuration})));else throw new Error("Merge failed")}catch(Ae){console.error("[Cut & Merge] Error:",Ae),be.error(`Merge failed: ${Ae.message}`),Ro(!1)}},onTestOverlay:async(K,re)=>{console.log("[Test Overlay] Starting test for:",K.videoName),console.log("[Test Overlay] Overlay settings:",re);try{const me=Y.find(ve=>ve.videoName===K.videoName);if(!me?.videoUrl)throw new Error("Original video URL not found");console.log("[Test Overlay] Original URL:",me.videoUrl);const ge=await Xu.mutateAsync({userId:ct.id,videoUrl:me.videoUrl,videoName:K.videoName,startTimeMs:K.cutPoints.startKeep,endTimeMs:K.cutPoints.endKeep,ffmpegApiKey:ct.ffmpegApiKey||"",cleanVoiceAudioUrl:Y.find(ve=>ve.videoName===K.videoName)?.cleanvoiceUrl||null,overlaySettings:{...re,videoWidth:1080,videoHeight:1920,scaleFactor:1080/400}});jo(ge.downloadUrl),zl(K.videoName+" (Overlay Test)"),Fi(!0),be.success(" Overlay test ready!")}catch(me){console.error("[Test Overlay] Error:",me),be.error(`Test failed: ${me.message}`)}},onReprocess:async K=>{if(console.log("[Reprocesare] Starting re-processing for:",K),!Y.find(ge=>ge.videoName===K)){be.error("Video not found!");return}const me=await new Promise(ge=>{oe(ve=>{const ue=ve.map(Ae=>Ae.videoName===K?{...Ae,audioUrl:void 0,waveformData:void 0,cleanvoiceAudioUrl:void 0,whisperTranscript:void 0,cutPoints:void 0,editingDebugInfo:void 0,trimmedVideoUrl:void 0,recutStatus:"recut"}:Ae),we=ue.find(Ae=>Ae.videoName===K);return we&&ge(we),ue})});console.log("[Reprocesare] BEFORE - cutPoints:",{startKeep:me.cutPoints?.startKeep,endKeep:me.cutPoints?.endKeep,redPosition:me.cutPoints?.redPosition,confidence:me.cutPoints?.confidence}),console.log("[Reprocesare] Cleared: audioUrl, waveformData, trimmedVideoUrl, cutPoints"),console.log("[Reprocesare]  Set recutStatus to:",me.recutStatus),console.log("[Reprocesare]  Full updated video:",{videoName:me.videoName,recutStatus:me.recutStatus,hasAudioUrl:!!me.audioUrl,hasTrimmedVideoUrl:!!me.trimmedVideoUrl}),P({ffmpeg:{current:0,total:1},whisper:{current:0,total:1},cleanvoice:{current:0,total:1},currentVideoName:K}),ye(null),_e(!0);try{const ve=(await ms([me])).get(K);if(ve){console.log("[Reprocesare] AFTER (from backend) - cutPoints:",{startKeep:ve.cutPoints?.startKeep,endKeep:ve.cutPoints?.endKeep,redPosition:ve.cutPoints?.redPosition,confidence:ve.cutPoints?.confidence}),setTimeout(()=>{const ue=Y.find(we=>we.videoName===K);console.log("[Reprocesare] AFTER (in state) - cutPoints:",{startKeep:ue?.cutPoints?.startKeep,endKeep:ue?.cutPoints?.endKeep,redPosition:ue?.cutPoints?.redPosition,confidence:ue?.cutPoints?.confidence}),console.log("[Reprocesare] AFTER (in state) - cleanvoiceAudioUrl:",ue?.cleanvoiceAudioUrl),console.log("[Reprocesare]  AFTER (in state) - recutStatus:",ue?.recutStatus)},100),console.log("[Reprocesare]  Saving to database...");try{const ue=await new Promise(we=>{oe(Ae=>(we(Ae),Ae))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ue,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log("[Reprocesare]  Database save successful!"),be.success(` ${K} reprocesed and saved to database!`)}catch(ue){console.error("[Reprocesare]  Database save failed:",ue),be.error(` Reprocesare succeeded but database save failed: ${ue.message}`)}}else be.error(` Failed to reprocess ${K}`)}catch(ge){console.error("[Reprocesare] Error:",ge),be.error(`Error: ${ge.message}`)}finally{_e(!1)}},onMarkerModified:async K=>{console.log("[Marker Modified] Marking video for recut:",K),oe(re=>re.map(me=>me.videoName===K?{...me,recutStatus:"recut"}:me));try{const re=await new Promise(me=>{oe(ge=>(me(ge),ge))});await Gt.mutateAsync({userId:ct.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:re,reviewHistory:en,hookMergedVideos:Jt,bodyMergedVideoUrl:Cn,finalVideos:dr}),console.log("[Marker Modified]  Status updated to recut and saved to database"),be.success(`${K} marked for re-trimming`)}catch(re){console.error("[Marker Modified]  Database save failed:",re),be.error(`Failed to update status: ${re.message}`)}},onTrimChange:(K,re,me,ge)=>{console.log("[DEBUG onTrimChange]  CALLED",{videoId:K,cutPoints:{startKeep:re.startKeep,endKeep:re.endKeep},isStartLocked:me,isEndLocked:ge,matchingVideo:Y.find(ve=>ve.videoName===K)?.videoName}),oe(ve=>{const ue=ve.map(we=>we.videoName===K?{...we,cutPoints:re,isStartLocked:me,isEndLocked:ge}:we);if(o&&d&&h&&p){const we=ue.find(Ae=>Ae.videoName===K)?.cutPoints;console.log("[VideoEditorV2]  SAVING TO DB",{videoId:K,cutPoints_param:`start=${re.startKeep} end=${re.endKeep}`,cutPoints_inUpdatedArray:`start=${we?.startKeep} end=${we?.endKeep}`,isStartLocked:me,isEndLocked:ge,updatedVideoResults_length:ue.length}),Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:ue,reviewHistory:en},{onSuccess:()=>{console.log("[VideoEditorV2]  DB SAVE SUCCESS",{videoId:K,savedCutPoints:ue.find(Ae=>Ae.videoName===K)?.cutPoints})},onError:Ae=>{console.error("[VideoEditorV2]  DB SAVE FAILED",{videoId:K,error:Ae.message})}})}return ue})},overlaySettings:(()=>{const K=Vs[R.videoName];return console.log(`[Overlay Settings]  Passing to VideoEditorV2 for ${R.videoName}:`,K),K})(),previousVideoOverlaySettings:(()=>{const K=T.findIndex(re=>re.videoName===R.videoName);if(K>0){const re=T[K-1];return Vs[re.videoName]}})(),onOverlaySettingsChange:async(K,re)=>{if(console.log("[Overlay Settings] Updating settings for:",K,re),Dd(me=>({...me,[K]:re})),console.log("[Overlay Settings]  Checking DB save conditions:",{selectedCoreBeliefId:o,selectedEmotionalAngleId:d,selectedAdId:h,selectedCharacterId:p,canSave:!!(o&&d&&h&&p)}),o&&d&&h&&p){const me=Y.map(ge=>ge.videoName===K?{...ge,overlaySettings:re}:ge);oe(me),console.log("[Overlay Settings]  Saving to DB...",{videoName:K,overlaySettings:re,updatedVideoResultsCount:me.length});try{await Gt.mutateAsync({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:me,reviewHistory:en}),console.log("[Overlay Settings]  Saved to DB successfully!")}catch(ge){console.error("[Overlay Settings]  Failed to save to DB:",ge)}}}},`${R.videoName}-${R.audioUrl||"no-audio"}-${R.step9Note||"no-note"}`)},R.videoName)}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15885",className:"flex flex-col gap-3",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15886",className:"flex flex-col md:flex-row justify-between items-stretch md:items-center gap-4",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:15887",onClick:()=>zn(7),variant:"outline",className:"px-6 py-3",children:[l.jsx(Ni,{"data-loc":"client/src/pages/Home.tsx:15892",className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15897",className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 w-full md:w-auto",children:Y.some(R=>R.trimmedVideoUrl)&&l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15900",className:"flex flex-col items-end gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15901",onClick:()=>{const R=Y.filter(z=>z.step9Approved&&z.trimmedVideoUrl);Md(R)},className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",size:"sm",children:" Sample Merge ALL Videos"}),(ht?.sampleMergedVideoUrl||Is)&&l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:15914",onClick:()=>{const R=L.map(Z=>({name:Z.videoName,note:Z.step9Note||""}));Oo(R);const z=ht?.sampleMergedVideoUrl||Is;console.log("[Open Last Sample] Loading URL from:",ht?.sampleMergedVideoUrl?"DB":"localStorage",z),Vi(z),Os(!0),Jr("")},className:"text-blue-600 hover:text-blue-800 underline text-sm",children:"Open Last Sample"})]})}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:15940",className:"flex flex-col gap-4 items-center mt-4",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15942",onClick:()=>{Fi(!0),tf()},className:"bg-red-600 hover:bg-red-700 px-8 py-8 text-lg w-full max-w-md","data-trim-all-videos":!0,children:(()=>{const R=Y.filter(z=>z.reviewStatus==="accepted"&&z.recutStatus!=="accepted"&&z.status==="success"&&z.videoUrl).length;return l.jsxs(l.Fragment,{children:["Next: Trim All Videos (",R,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:15957",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:15958",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})()}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15964",className:"text-center -mt-4",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:15965",className:"text-xs text-red-600",children:"GO TO STEP 9"})}),Y.some(R=>R.trimmedVideoUrl)&&l.jsxs(l.Fragment,{children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:15971",onClick:()=>zn(9),className:"bg-green-600 hover:bg-green-700 px-8 py-8 text-lg w-full max-w-md",children:(()=>{const R=T.filter(z=>z.trimmedVideoUrl).length;return l.jsxs(l.Fragment,{children:["Next: Check Videos (",R,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:15980",className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:15981",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})()}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:15987",className:"text-center -mt-4",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:15988",className:"text-xs text-green-600",children:"GO TO STEP 9"})})]})]})]})})]})]})]})})(),Ot===9&&(()=>{let T=Y.filter(L=>L.reviewStatus==="accepted"&&L.trimmedVideoUrl);return rd==="accepted"?T=T.filter(L=>L.recutStatus==="accepted"):rd==="recut"&&(T=T.filter(L=>L.recutStatus==="recut")),T=au(T),l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:16020",className:"mb-8 border-2 border-blue-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:16021",className:"bg-blue-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:16022",className:"flex items-center gap-2 text-blue-900",children:[l.jsx(kf,{"data-loc":"client/src/pages/Home.tsx:16023",className:"w-5 h-5"}),"Cut Videos"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:16026",children:"Trimmed videos ready for download."})]}),l.jsx(fr,{"data-loc":"client/src/pages/Home.tsx:16030",className:"pt-6",children:T.length===0?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16032",className:"text-center py-8",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16033",className:"text-gray-600",children:"No trimmed videos yet."}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16034",onClick:()=>zn(8),className:"mt-4",children:"Back to Step 8"})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16042",className:"space-y-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16044",className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16045",className:"flex items-center gap-2",children:[l.jsx("label",{"data-loc":"client/src/pages/Home.tsx:16046",className:"text-sm font-medium text-blue-900",children:"Filter videos:"}),l.jsxs("select",{"data-loc":"client/src/pages/Home.tsx:16047",value:rd||"all",onChange:L=>Qh(L.target.value),className:"px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:16052",value:"all",children:["All (",T.length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:16053",value:"accepted",children:["Accepted (",T.filter(L=>L.recutStatus==="accepted").length,")"]}),l.jsxs("option",{"data-loc":"client/src/pages/Home.tsx:16054",value:"recut",children:["Needs Re-trimming (",T.filter(L=>L.recutStatus==="recut").length,")"]})]})]}),mi.length>0&&l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16062",onClick:()=>{const L=mi[mi.length-1];oe(R=>R.map(z=>z.videoName===L.videoName?{...z,recutStatus:L.previousStatus}:z)),ko(R=>R.slice(0,-1)),be.success(`Action undone for ${L.videoName}`)},variant:"outline",className:"border-orange-500 text-orange-700 hover:bg-orange-50",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:16078",className:"w-4 h-4 mr-2"}),"UNDO (",mi.length," actions)"]})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16085",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(L=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16087",className:"border-2 border-blue-200 rounded-lg p-4 bg-white",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:16089",className:"text-sm font-bold text-gray-900 mb-2 text-center",children:L.videoName}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16094",className:"relative bg-black rounded-lg overflow-hidden mb-3",style:{aspectRatio:"9/16"},children:l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:16095",src:L.trimmedVideoUrl,className:"absolute top-0 left-0 w-full h-full object-contain",controls:!0,playsInline:!0})}),L.text&&l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16105",className:"text-xs text-gray-700 mb-3 text-center",children:(()=>{const R=L.text||"";if(L.redStart!==void 0&&L.redEnd!==void 0){const z=R.substring(0,L.redStart),Z=R.substring(L.redEnd);return(z+Z).trim()}return R.trim()})()}),L.cutPoints&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16121",className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:16122",className:"text-gray-700",children:[l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:16123",children:"Trimmed:"})," ",(L.cutPoints.startKeep/1e3).toFixed(1),"s  ",(L.cutPoints.endKeep/1e3).toFixed(1),"s (",((L.cutPoints.endKeep-L.cutPoints.startKeep)/1e3).toFixed(1),"s total)"]})}),L.step9Note&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16131",className:"mb-3 p-2 bg-yellow-50 border border-yellow-300 rounded text-xs",children:l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:16132",className:"text-gray-700",children:[l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:16132",children:"Note:"})," ",L.step9Note]})}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16137",className:"space-y-2 mb-3",children:L.recutStatus?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16173",className:"flex gap-2 items-center",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16175",className:`flex-1 px-3 py-2 rounded text-xs font-medium text-center ${L.recutStatus==="accepted"?"bg-green-100 text-green-700 border border-green-300":"bg-red-100 text-red-700 border border-red-300"}`,children:L.recutStatus==="accepted"?l.jsxs(l.Fragment,{children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:16181",className:"w-3 h-3 inline mr-1"}),"Acceptat"]}):l.jsxs(l.Fragment,{children:[l.jsx(bg,{"data-loc":"client/src/pages/Home.tsx:16183",className:"w-3 h-3 inline mr-1"}),"Recut"]})}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16188",onClick:()=>{oe(R=>R.map(z=>z.videoName===L.videoName?{...z,recutStatus:null}:z)),be.info("Decision cancelled")},size:"sm",variant:"outline",className:"border-gray-400 text-gray-700 hover:bg-gray-100 text-xs py-1",children:[l.jsx(Dc,{"data-loc":"client/src/pages/Home.tsx:16201",className:"w-3 h-3 mr-1"}),"Undo"]})]}):l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16139",className:"flex gap-2",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16140",onClick:()=>{oe(R=>R.map(z=>z.videoName===L.videoName?{...z,recutStatus:"accepted"}:z)),be.success(` ${L.videoName} accepted!`)},size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs py-1",children:[l.jsx(Ei,{"data-loc":"client/src/pages/Home.tsx:16152",className:"w-3 h-3 mr-1"}),"Accept"]}),l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16156",onClick:()=>{oe(R=>R.map(z=>z.videoName===L.videoName?{...z,recutStatus:"recut"}:z)),be.info(` ${L.videoName} marked for cutting!`)},size:"sm",className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs py-1",children:[l.jsx(bg,{"data-loc":"client/src/pages/Home.tsx:16168",className:"w-3 h-3 mr-1"}),"Recut"]})]})}),L.recutStatus==="recut"&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16210",className:"mb-3",children:lp===L.videoName?l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16212",className:"bg-yellow-50 border-2 border-yellow-400 rounded p-3 space-y-2",children:[l.jsx("textarea",{"data-loc":"client/src/pages/Home.tsx:16213",value:qu,onChange:R=>nc(R.target.value),placeholder:"Add internal note...",className:"w-full p-2 border border-yellow-300 rounded text-xs bg-white",rows:3}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16220",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16221",onClick:()=>{const R=Y.map(z=>z.videoName===L.videoName?{...z,step9Note:qu}:z);oe(R),o&&d&&h&&p&&Gt.mutate({userId:e.id,tamId:r,coreBeliefId:o,emotionalAngleId:d,adId:h,characterId:p,currentStep:Ot,rawTextAd:D,processedTextAd:M,adLines:$,prompts:k,images:q,combinations:ne,deletedCombinations:fe,videoResults:R,reviewHistory:en},{onSuccess:()=>{console.log("[Step9] Note saved to DB"),be.success(`Note saved for ${L.videoName}`)}}),bd(null),nc("")},size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-xs py-1",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16266",onClick:()=>{bd(null),nc("")},size:"sm",variant:"outline",className:"flex-1 text-xs py-1",children:"Cancel"})]})]}):l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16280",onClick:()=>{bd(L.videoName),nc(L.step9Note||"")},size:"sm",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-1",children:L.step9Note?" Edit Note":" Add Note"})}),l.jsxs("button",{"data-loc":"client/src/pages/Home.tsx:16295",onClick:async()=>{try{const z=await(await fetch(L.trimmedVideoUrl)).blob(),Z=URL.createObjectURL(z),ce=L.trimmedVideoUrl.split("/"),K=ce[ce.length-1],re=document.createElement("a");re.href=Z,re.download=K,document.body.appendChild(re),re.click(),document.body.removeChild(re),setTimeout(()=>URL.revokeObjectURL(Z),100),be.success(`Downloading ${L.videoName}...`)}catch(R){be.error(`Download failed: ${R.message}`)}},className:"text-sm text-blue-600 hover:text-blue-700 underline flex items-center justify-center gap-1",children:[l.jsx(Kf,{"data-loc":"client/src/pages/Home.tsx:16324",className:"w-3 h-3"}),"Download"]})]},L.id))}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16332",className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 mt-6",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16333",onClick:()=>zn(8),variant:"outline",className:"w-full sm:w-auto px-4 sm:px-8 py-4 sm:py-6 text-sm sm:text-base order-2 sm:order-1",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16338",className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16339",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16344",className:"flex flex-col items-center gap-0 order-1 sm:order-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16345",onClick:()=>{bi(!0),dc()},className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700 px-4 sm:px-8 py-6 sm:py-8 text-sm sm:text-base",disabled:pd,children:pd?l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/Home.tsx:16355",className:"w-5 h-5 mr-2 animate-spin"}),En.message||"Merging..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16360",className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16361",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:16363",className:"text-xs sm:text-sm md:text-base",children:["Next: Prepare for Merge (",Y.filter(L=>L.reviewStatus==="accepted"&&L.status==="success"&&L.trimmedVideoUrl).length,")"]}),l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16364",className:"w-4 h-4 sm:w-5 sm:h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16365",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),!pd&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16371",className:"text-center mt-1",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:16372",className:"text-xs text-purple-600",children:"GO TO STEP 10"})})]})]})]})})]})})(),Ot===10&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:16386",className:"mb-8 border-2 border-indigo-200",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:16387",className:"bg-indigo-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:16388",className:"flex items-center gap-2 text-indigo-900",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16389",className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16390",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"STEP 10 - Merge Videos"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:16394",children:"Select hooks and body video to create final merged video"})]}),l.jsx(fr,{"data-loc":"client/src/pages/Home.tsx:16398",className:"pt-6",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16399",className:"space-y-8",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16401",className:"space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16402",className:"flex items-center justify-between",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:16403",className:"text-lg font-semibold text-indigo-900",children:"STEP 1 - Choose Hooks"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16404",className:"flex gap-2 mb-4",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16405",size:"sm",variant:"outline",onClick:()=>{const L=Y.filter(Z=>Z.trimmedVideoUrl&&Z.videoName.toLowerCase().includes("hook")&&!(Z.isGroupedInMerge??!1)).filter(Z=>/HOOK\d+[A-Z]_/.test(Z.videoName)?!1:/HOOK\d+_/.test(Z.videoName)&&!/HOOK\d+[A-Z]_/.test(Z.videoName)?!Jt[Z.videoName]:!0),R=Object.entries(Jt).map(([Z,ce])=>({videoName:Z.replace(/(HOOK\d+)/,"$1M"),trimmedVideoUrl:ce,text:""})),z=[...L,...R];Jl(z.map(Z=>Z.videoName))},children:"Select All"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:16442",size:"sm",variant:"outline",onClick:()=>Jl([]),children:"Deselect All"})]}),"                 "]}),(()=>{let T=Y.filter(Z=>Z.trimmedVideoUrl&&Z.videoName.toLowerCase().includes("hook")&&!(Z.isGroupedInMerge??!1));const L=T.filter(Z=>{if(/HOOK\d+[A-Z]_/.test(Z.videoName))return!1;if(/HOOK\d+_/.test(Z.videoName)&&!/HOOK\d+[A-Z]_/.test(Z.videoName)){const re=Z.videoName.match(/(.*)(HOOK\d+)(.*)/);if(re){const me=re[1],ge=re[2],ve=re[3],ue=`${me}${ge}${ve}`;return!Jt[ue]}}return!0}),R=Object.entries(Jt).map(([Z,ce])=>{const K=Z.match(/(.*)(HOOK\d+)(.*)/);if(!K)return{videoName:Z.replace(/(HOOK\d+)/,"$1M"),trimmedVideoUrl:ce,text:""};const re=K[1],me=K[2],ge=K[3],ue=T.filter(we=>{const Ae=we.videoName.match(/(.*)(HOOK\d+)([A-Z])?(.*)/);return Ae?Ae[1]===re&&Ae[2]===me&&Ae[4]===ge:!1}).map(we=>{const Ae=we.text||"";if(we.redStart!==void 0&&we.redEnd!==void 0&&we.redStart>=0&&we.redEnd>we.redStart){const Be=Ae.substring(0,we.redStart),Xe=Ae.substring(we.redEnd);return(Be+Xe).trim()}return Ae.trim()}).filter(we=>we).join(" ");return{videoName:Z.replace(/(HOOK\d+)/,"$1M"),trimmedVideoUrl:ce,text:ue}}),z=[...L,...R];return z.sort((Z,ce)=>{const K=Z.videoName.match(/HOOK(\d+)[A-Z]?/),re=ce.videoName.match(/HOOK(\d+)[A-Z]?/);if(!K||!re)return 0;const me=parseInt(K[1],10),ge=parseInt(re[1],10);return me!==ge?me-ge:Z.videoName.localeCompare(ce.videoName)}),z.length===0?l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16547",className:"text-gray-600 text-sm",children:"No hook videos available"}):l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16552",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(Z=>{const ce=Tr.includes(Z.videoName);return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16556",onClick:()=>{Jl(ce?Tr.filter(K=>K!==Z.videoName):[...Tr,Z.videoName])},className:`cursor-pointer p-4 rounded-lg transition-all ${ce?"border-4 border-blue-500 bg-blue-50 shadow-lg":"border-2 border-gray-300 bg-white hover:border-gray-400 shadow-sm hover:shadow-md"}`,children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16571",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16573",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16574",className:"text-sm font-semibold text-gray-900 text-center flex-1",children:Z.videoName}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16577",className:`w-6 h-6 rounded-full flex items-center justify-center ${ce?"bg-blue-500":"bg-gray-300"}`,children:ce&&l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16581",className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16582",fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16589",className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"9/16"},children:l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:16590",src:Z.trimmedVideoUrl,className:"absolute top-0 left-0 w-full h-full object-contain",controls:!0,playsInline:!0,onClick:K=>K.stopPropagation()})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16600",className:"text-xs text-gray-600 text-center",children:(()=>{const K=Z.text||"";if(Z.videoName.includes("M_TEST"))return K.trim();const re=Y.find(me=>me.videoName===Z.videoName);if(re&&re.redStart!==void 0&&re.redEnd!==void 0&&re.redStart>=0&&re.redEnd>re.redStart){const me=K.substring(0,re.redStart),ge=K.substring(re.redEnd);return(me+ge).trim()}return K.trim()})()})]})},Z.videoName)})})})()]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16632",className:"space-y-4",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:16633",className:"text-lg font-semibold text-indigo-900",children:"STEP 2 - Choose Body"}),(()=>{if(Cn){const z=cr==="body_merged",Z=Y.find(K=>K.trimmedVideoUrl&&!K.videoName.toLowerCase().includes("hook"));let ce="Body (Merged)";if(Z){const K=Z.videoName.match(/^(T\d+_C\d+_E\d+_AD\d+)/),re=K?K[1]:"",me=Z.videoName.match(/_([A-Z]+)_(\d+)$/),ge=me?`${me[1]}_${me[2]}`:"TEST_1";ce=`${re}_BODY_${ge}`}return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16664",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16665",onClick:()=>hd(z?null:"body_merged"),className:`cursor-pointer p-4 rounded-lg transition-all ${z?"border-4 border-green-500 bg-green-50 shadow-lg":"border-2 border-gray-300 bg-white hover:border-gray-400 shadow-sm hover:shadow-md"}`,children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16673",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16675",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16676",className:"text-sm font-semibold text-gray-900 text-center flex-1",children:ce}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16679",className:`w-6 h-6 rounded-full flex items-center justify-center ${z?"bg-green-500":"bg-gray-300"}`,children:z&&l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16683",className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16684",fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16691",className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"9/16"},children:l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:16692",src:Cn,className:"absolute top-0 left-0 w-full h-full object-contain",controls:!0,playsInline:!0,onClick:K=>K.stopPropagation()})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16702",className:"text-xs text-gray-600 text-center",children:"All body videos merged"})]})})})}let T=Y.filter(z=>z.trimmedVideoUrl&&!z.videoName.toLowerCase().includes("hook"));if(T=au(T),T.length===0)return l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16722",className:"text-gray-600 text-sm",children:'No body videos available. Click "Next: Merge Videos" in Step 9 first.'});const L=T[0],R=cr===L.videoName;return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16730",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16731",onClick:()=>hd(R?null:L.videoName),className:`cursor-pointer p-4 rounded-lg transition-all ${R?"border-4 border-green-500 bg-green-50 shadow-lg":"border-2 border-gray-300 bg-white hover:border-gray-400 shadow-sm hover:shadow-md"}`,children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16739",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16741",className:"flex items-center justify-between",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16742",className:"text-sm font-semibold text-gray-900 text-center flex-1",children:L.videoName}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16745",className:`w-6 h-6 rounded-full flex items-center justify-center ${R?"bg-green-500":"bg-gray-300"}`,children:R&&l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16749",className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16750",fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16757",className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"9/16"},children:l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:16758",src:L.trimmedVideoUrl,className:"absolute top-0 left-0 w-full h-full object-contain",controls:!0,playsInline:!0,onClick:z=>z.stopPropagation()})}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16768",className:"text-xs text-gray-600 text-center",children:L.text})]})})})})()]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16779",className:"space-y-4 mt-8",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:16780",className:"text-lg font-semibold text-indigo-900",children:"Final Videos (combinations)"}),(()=>{const T=[];if(Tr.length>0&&cr){const R=cr==="body_merged"?Y.find(z=>!z.videoName.toLowerCase().includes("hook")):Y.find(z=>z.videoName===cr);if(!R&&Tr.length>0){const z=Tr[0],Z=Y.find(ce=>ce.videoName===z);if(Z){const ce=Z.videoName.match(/^(T\d+_C\d+_E\d+_AD\d+)/),K=Z.videoName.match(/_([A-Z]+)_(\d+)$/);ce&&ce[1],K&&K[1],Tr.forEach(re=>{if(/HOOK\d+M_/.test(re)){const ue=re.replace(/(HOOK\d+)M/,"$1");T.push(ue);return}if(/HOOK\d+[A-Z]_/.test(re)){const ue=re.match(/(.*)(HOOK\d+)[A-Z](.*)/);if(ue){const we=ue[1],Ae=ue[2],Be=ue[3];if(`${we}${Ae}${Be}`in Jt){console.log(`[Final Combinations] Skipping ${re} - merged version exists`);return}}}if(/HOOK\d+_/.test(re)&&!/HOOK\d+[A-Z]_/.test(re)){const ue=re.match(/(.*)(HOOK\d+)(.*)/);if(ue){const we=ue[1],Ae=ue[2],Be=ue[3];if(`${we}${Ae}${Be}`in Jt){console.log(`[Final Combinations] Skipping ${re} - merged version exists`);return}}}T.push(re)})}}else if(R){const z=R.videoName.match(/^(T\d+_C\d+_E\d+_AD\d+)/),Z=R.videoName.match(/_([A-Z]+)_(\d+)$/);z&&z[1],Z&&Z[1],Tr.forEach(ce=>{if(/HOOK\d+M_/.test(ce)){const ge=ce.replace(/(HOOK\d+)M/,"$1");T.push(ge);return}if(/HOOK\d+[A-Z]_/.test(ce)){const ge=ce.match(/(.*)(HOOK\d+)[A-Z](.*)/);if(ge){const ve=ge[1],ue=ge[2],we=ge[3];if(`${ve}${ue}${we}`in Jt){console.log(`[Final Combinations] Skipping ${ce} - merged version exists`);return}}}if(/HOOK\d+_/.test(ce)&&!/HOOK\d+[A-Z]_/.test(ce)){const ge=ce.match(/(.*)(HOOK\d+)(.*)/);if(ge){const ve=ge[1],ue=ge[2],we=ge[3];if(`${ve}${ue}${we}`in Jt){console.log(`[Final Combinations] Skipping ${ce} - merged version exists`);return}}}T.push(ce)})}}if(!cr)return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16911",className:"bg-yellow-50 p-4 rounded-lg border-2 border-yellow-400",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16912",className:"text-sm font-semibold text-yellow-800",children:" Please select a body video to create combinations"})});if(Tr.length===0)return l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16922",className:"bg-yellow-50 p-4 rounded-lg border-2 border-yellow-400",children:l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16923",className:"text-sm font-semibold text-yellow-800",children:" Please select at least one hook to create combinations"})});if(T.length===0)return l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16932",className:"text-gray-600 text-sm",children:"Select hooks and body to preview final video combinations"});const L=Array.from(new Set(T));return L.sort((R,z)=>{const Z=R.match(/HOOK(\d+)/),ce=z.match(/HOOK(\d+)/),K=Z?parseInt(Z[1]):0,re=ce?parseInt(ce[1]):0;return K-re}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16949",className:"bg-gray-50 p-4 rounded-lg border border-gray-300",children:[l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:16950",className:"text-xs text-gray-600 mb-2",children:[L.length," final video",L.length>1?"s":""," will be created:"]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16953",className:"space-y-1",children:L.map((R,z)=>l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:16955",className:"text-xs font-mono text-gray-800",children:R},z))})]})})()]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16966",className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 mt-6",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16967",onClick:()=>zn(9),variant:"outline",className:"w-full sm:w-auto px-4 sm:px-8 py-4 sm:py-6 text-sm sm:text-base order-2 sm:order-1",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16972",className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16973",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:16978",className:"flex flex-col items-center gap-0 order-1 sm:order-2",children:[l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:16979",onClick:py,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 px-4 sm:px-8 py-6 sm:py-8 text-sm sm:text-base",disabled:Tr.length===0||!cr||Vu,children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16984",className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16985",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsxs("span",{"data-loc":"client/src/pages/Home.tsx:16987",className:"text-xs sm:text-sm md:text-base",children:["Next: Merge Final Videos (",gp,")"]}),l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:16988",className:"w-4 h-4 sm:w-5 sm:h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:16989",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:16992",className:"text-center mt-1",children:l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:16993",className:"text-xs text-green-600",children:"GO TO STEP 11"})})]})]})]})})]}),Ot===11&&l.jsxs(lr,{"data-loc":"client/src/pages/Home.tsx:17004",className:"shadow-xl border-2 border-green-500",children:[l.jsxs(ya,{"data-loc":"client/src/pages/Home.tsx:17005",className:"bg-gradient-to-r from-green-50 to-emerald-50",children:[l.jsxs(va,{"data-loc":"client/src/pages/Home.tsx:17006",className:"text-3xl font-bold text-green-900 flex items-center gap-3",children:[l.jsx("span",{"data-loc":"client/src/pages/Home.tsx:17007",className:"bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold shadow-lg",children:"11"})," Final Videos"]}),l.jsx(ba,{"data-loc":"client/src/pages/Home.tsx:17010",className:"text-base text-gray-700 mt-2",children:"Your final video combinations are ready! Download individual videos or all at once."})]}),l.jsx(fr,{"data-loc":"client/src/pages/Home.tsx:17014",className:"pt-6",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17015",className:"space-y-6",children:[Xi.length===0?l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:17017",className:"text-gray-600 text-center py-8",children:"No final videos yet. Go back to Step 10 to merge videos."}):l.jsxs(l.Fragment,{children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17021",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:au(Xi).map((T,L)=>l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17024",className:"space-y-3 p-4 border border-gray-300 rounded-lg bg-white shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:17026",className:"text-sm font-semibold text-gray-900 truncate",children:T.videoName}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17031",className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"9/16"},children:l.jsx("video",{"data-loc":"client/src/pages/Home.tsx:17033",src:T.cdnUrl,className:"absolute top-0 left-0 w-full h-full object-contain",controls:!0,playsInline:!0,preload:"metadata"},T.cdnUrl)}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:17044",onClick:async()=>{try{be.info(` Downloading ${T.videoName}...`);const z=await(await fetch(T.cdnUrl)).blob(),Z=URL.createObjectURL(z),ce=T.cdnUrl.split("/"),K=ce[ce.length-1],re=document.createElement("a");re.href=Z,re.download=K||`${T.videoName}.mp4`,re.click(),URL.revokeObjectURL(Z),be.success(` ${T.videoName} downloaded!`)}catch(R){console.error("Download failed:",R),be.error("Download failed!")}},className:"text-blue-600 hover:text-blue-800 underline text-sm text-center block cursor-pointer bg-transparent border-0",children:"Download"})]},L))}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17075",className:"flex justify-center mt-8",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:17076",onClick:async()=>{try{const T=Xi[0];if(!T){be.error("No videos to download");return}const L=T.videoName.replace(/_HOOK\d+_/,"_"),R=Xi.length;md(!0),na({total:R,current:0,status:"downloading",message:"Downloading videos in parallel..."});const z=(await h7(async()=>{const{default:ge}=await Promise.resolve().then(()=>g7);return{default:ge}},void 0)).default,Z=new z;let ce=0;const K=Xi.map(async ge=>{try{const ue=await(await fetch(ge.cdnUrl)).blob();Z.file(`${L}/${ge.videoName}.mp4`,ue),ce++,na(we=>({...we,current:ce}))}catch(ve){console.error(`Failed to download ${ge.videoName}:`,ve)}});await Promise.all(K),na(ge=>({...ge,status:"generating",message:"Generating ZIP file..."}));const re=await Z.generateAsync({type:"blob"}),me=document.createElement("a");me.href=URL.createObjectURL(re),me.download=`${L}.zip`,me.click(),na(ge=>({...ge,status:"complete",message:"Download complete!"})),setTimeout(()=>{md(!1)},1e3),be.success(` All ${R} videos downloaded!`)}catch(T){console.error("ZIP download failed:",T),be.error("Failed to create ZIP archive"),md(!1)}},className:"bg-green-600 hover:bg-green-700 px-12 py-8 text-xl font-bold shadow-xl",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17159",className:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17160",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download All Videos (",Xi.length,")",l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17163",className:"w-6 h-6 ml-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17164",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]})})]}),l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17172",className:"mt-8 flex justify-start",children:l.jsxs(ke,{"data-loc":"client/src/pages/Home.tsx:17173",variant:"outline",onClick:()=>zn(10),className:"px-6 py-3",children:[l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17178",className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17179",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]})})]})})]})]})]}),Ot>=2&&Ot<=11&&l.jsxs(l.Fragment,{children:[l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:17196",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 md:bottom-11 left-4 md:left-6 bg-blue-600 hover:bg-blue-700 text-white p-2 md:p-3 rounded-full shadow-lg transition-all hover:scale-110 z-50",title:"Scroll to Top",children:l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17201",className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17202",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),l.jsx("button",{"data-loc":"client/src/pages/Home.tsx:17207",onClick:()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),className:"fixed bottom-20 md:bottom-11 right-4 md:right-6 bg-blue-600 hover:bg-blue-700 text-white p-2 md:p-3 rounded-full shadow-lg transition-all hover:scale-110 z-50",title:"Scroll to Bottom",children:l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17212",className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17213",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),Qe&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17221",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17222",className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-xl border-4 border-red-500",children:[l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17223",className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17224",className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{"data-loc":"client/src/pages/Home.tsx:17225",className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/pages/Home.tsx:17226",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:17229",className:"text-xl font-bold text-red-600",children:" Warning: Reprocess All Videos"})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17232",className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:[l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:17233",className:"text-red-800 font-semibold mb-2",children:"Are you sure you want to reprocess all videos?"}),l.jsxs("p",{"data-loc":"client/src/pages/Home.tsx:17236",className:"text-red-700 text-sm",children:["This will ",l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:17237",children:"reset ALL markers"})," for ",l.jsx("strong",{"data-loc":"client/src/pages/Home.tsx:17237",children:"ALL videos"}),"!"]}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:17239",className:"text-red-700 text-sm mt-2",children:"All your manual marker adjustments will be lost and replaced with new automated markers."})]}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17244",className:"space-y-3",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:17245",onClick:async()=>{at(!1);const T=Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl),L=T;console.log(`[Video Editing]  REPROCESS ALL: Processing ${L.length} videos`),oe(R=>R.map(z=>T.some(Z=>Z.videoName===z.videoName)?{...z,audioWav:void 0,cleanVoiceUrl:void 0,markers:void 0,trimmedVideoUrl:void 0,whisperTranscript:void 0,cutPoints:void 0,words:void 0,editStatus:null,trimStatus:null,acceptRejectStatus:null}:z)),P({ffmpeg:{current:0,total:L.length},whisper:{current:0,total:L.length},cleanvoice:{current:0,total:L.length},currentVideoName:""}),ye(null),_e(!0);try{await ms(L);const R=nt.failedVideos.length;R>0?be.warning(` Processing complete: ${nt.successVideos.length} success, ${R} failed.`):be.success(` ${L.length} videos reprocessed successfully!`)}catch(R){console.error("[Video Editing] Batch processing error:",R),_e(!1),be.error(`Error reprocessing videos: ${R.message}`)}},className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 font-bold",children:" Yes, Reprocess All Videos"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:17306",onClick:()=>at(!1),variant:"outline",className:"w-full border-2",children:"Cancel"})]})]})}),Ee&&l.jsx("div",{"data-loc":"client/src/pages/Home.tsx:17320",className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17321",className:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-xl",children:[l.jsx("h3",{"data-loc":"client/src/pages/Home.tsx:17322",className:"text-xl font-bold mb-4",children:"Choose Cutting Mode"}),l.jsx("p",{"data-loc":"client/src/pages/Home.tsx:17323",className:"text-gray-600 mb-6",children:"Some videos have already been processed. How would you like to proceed?"}),l.jsxs("div",{"data-loc":"client/src/pages/Home.tsx:17327",className:"space-y-3",children:[l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:17328",onClick:async()=>{He(!1);const L=Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl).filter(R=>!R.ffmpegWavUrl);console.log(`[Video Editing] CUT ONLY REMAINING: Processing ${L.length} videos`),P({ffmpeg:{current:0,total:L.length},whisper:{current:0,total:L.length},cleanvoice:{current:0,total:L.length},currentVideoName:""}),ye(null),_e(!0);try{await ms(L);const R=nt.failedVideos.length;R>0?be.warning(` Processing complete: ${nt.successVideos.length} success, ${R} failed.`):be.success(` ${L.length} videos processed successfully!`)}catch(R){console.error("[Video Editing] Batch processing error:",R),_e(!1),be.error(`Error processing videos: ${R.message}`)}},className:"w-full bg-green-600 hover:bg-green-700 text-white py-3",children:" Cut Only Remaining Videos"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:17370",onClick:async()=>{He(!1);const L=Y.filter(R=>R.reviewStatus==="accepted"&&R.status==="success"&&R.videoUrl);console.log(`[Video Editing] CUT ALL AGAIN: Processing ${L.length} videos`),oe(R=>R.map(z=>z.editStatus==="processed"?{...z,editStatus:null,whisperTranscript:void 0,cutPoints:void 0,words:void 0,audioUrl:void 0,waveformData:void 0,trimStatus:null,trimmedVideoUrl:void 0,acceptRejectStatus:null,ffmpegWavUrl:void 0,whisperUrl:void 0,cleanvoiceUrl:void 0}:z)),P({ffmpeg:{current:0,total:L.length},whisper:{current:0,total:L.length},cleanvoice:{current:0,total:L.length},currentVideoName:""}),ye(null),_e(!0);try{await ms(L);const R=nt.failedVideos.length;R>0?be.warning(` Processing complete: ${nt.successVideos.length} success, ${R} failed.`):be.success(` ${L.length} videos processed successfully!`)}catch(R){console.error("[Video Editing] Batch processing error:",R),_e(!1),be.error(`Error processing videos: ${R.message}`)}},className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-3",children:" Cut All Again"}),l.jsx(ke,{"data-loc":"client/src/pages/Home.tsx:17434",onClick:()=>He(!1),variant:"outline",className:"w-full",children:"Cancel"})]})]})}),l.jsx(EB,{"data-loc":"client/src/pages/Home.tsx:17447",open:w.open,type:w.type,onOpenChange:T=>{T||y({open:!1,type:null,onConfirm:null})},onConfirm:T=>{w.onConfirm&&w.onConfirm(T),y({open:!1,type:null,onConfirm:null})}})]})}const Eq="Video Ads Engine - Veo 3.1",Nq="https://placehold.co/128x128/E1E7EF/1F2937?text=App",Aq=()=>{const n=`${window.location.origin}/api/oauth/callback`,r=btoa(n),i=new URL("undefined/app-auth");return i.searchParams.set("appId",void 0),i.searchParams.set("redirectUri",n),i.searchParams.set("state",r),i.searchParams.set("type","signIn"),i.toString()};function Mq({onLoginSuccess:e}){const[t,n]=N.useState(!0),[r,i]=N.useState(""),[o,c]=N.useState(""),d=Tt.appAuth.login.useMutation(),f=Tt.appAuth.register.useMutation(),h=async m=>{if(m.preventDefault(),!r.trim()||!o.trim()){be.error("Username i password sunt obligatorii!");return}try{if(t){const p=await d.mutateAsync({username:r.trim(),password:o.trim()});p.success&&p.user&&(be.success(`Bun venit, ${p.user.username}!`),e(p.user))}else{if(r.trim().length<3){be.error("Username-ul trebuie s aib minim 3 caractere!");return}const p=await f.mutateAsync({username:r.trim(),password:o.trim()});p.success&&p.user&&(be.success(`Cont creat! Bun venit, ${p.user.username}!`),e(p.user))}}catch(p){console.error("Auth error:",p),be.error(p.message||"Eroare la autentificare!")}};return l.jsx("div",{"data-loc":"client/src/pages/LoginScreen.tsx:64",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:l.jsxs(lr,{"data-loc":"client/src/pages/LoginScreen.tsx:65",className:"w-full max-w-md border-2 border-blue-200 shadow-xl",children:[l.jsxs(ya,{"data-loc":"client/src/pages/LoginScreen.tsx:66",className:"text-center",children:[l.jsx("div",{"data-loc":"client/src/pages/LoginScreen.tsx:68",className:"flex justify-center mb-4",children:l.jsx("img",{"data-loc":"client/src/pages/LoginScreen.tsx:69",src:Nq,alt:"Logo",className:"h-16 w-auto"})}),l.jsx(va,{"data-loc":"client/src/pages/LoginScreen.tsx:72",className:"text-3xl font-bold text-blue-900",children:Eq}),l.jsx(ba,{"data-loc":"client/src/pages/LoginScreen.tsx:75",className:"text-lg text-blue-700",children:t?"Logheaz-te pentru a continua":"Creeaz un cont nou"})]}),l.jsx(fr,{"data-loc":"client/src/pages/LoginScreen.tsx:80",children:l.jsxs("form",{"data-loc":"client/src/pages/LoginScreen.tsx:81",onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/LoginScreen.tsx:82",children:[l.jsx("label",{"data-loc":"client/src/pages/LoginScreen.tsx:83",className:"block text-sm font-medium text-blue-900 mb-2",children:"Username"}),l.jsx("input",{"data-loc":"client/src/pages/LoginScreen.tsx:86",type:"text",value:r,onChange:m=>i(m.target.value),className:"w-full px-4 py-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Introdu username-ul",autoFocus:!0})]}),l.jsxs("div",{"data-loc":"client/src/pages/LoginScreen.tsx:96",children:[l.jsx("label",{"data-loc":"client/src/pages/LoginScreen.tsx:97",className:"block text-sm font-medium text-blue-900 mb-2",children:"Password"}),l.jsx("input",{"data-loc":"client/src/pages/LoginScreen.tsx:100",type:"password",value:o,onChange:m=>c(m.target.value),className:"w-full px-4 py-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Introdu password-ul"})]}),l.jsx(ke,{"data-loc":"client/src/pages/LoginScreen.tsx:109",type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg",disabled:d.isPending||f.isPending,children:d.isPending||f.isPending?"Se proceseaz...":t?"Login":"Creeaz Cont"}),l.jsx("div",{"data-loc":"client/src/pages/LoginScreen.tsx:121",className:"text-center mt-4",children:l.jsx("button",{"data-loc":"client/src/pages/LoginScreen.tsx:122",type:"button",onClick:()=>{n(!t),i(""),c("")},className:"text-blue-600 hover:text-blue-800 font-medium",children:t?"Nu ai cont? Creeaz unul nou":"Ai deja cont? Logheaz-te"})})]})})]})})}function s_({currentUser:e,onLogout:t,onOpenSettings:n}){const[,r]=Eu();return l.jsx("div",{"data-loc":"client/src/components/AppHeader.tsx:24",className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg",children:l.jsx("div",{"data-loc":"client/src/components/AppHeader.tsx:25",className:"container max-w-6xl mx-auto px-4",children:l.jsxs("div",{"data-loc":"client/src/components/AppHeader.tsx:26",className:"flex items-center justify-between h-16",children:[l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:28",onClick:()=>r("/"),className:"flex items-center gap-3 hover:opacity-90 transition-opacity",children:[l.jsx(bA,{"data-loc":"client/src/components/AppHeader.tsx:32",className:"w-6 h-6 text-yellow-300"}),l.jsx("span",{"data-loc":"client/src/components/AppHeader.tsx:33",className:"text-white font-bold text-lg",children:"A.I Ads Engine"})]}),l.jsxs("div",{"data-loc":"client/src/components/AppHeader.tsx:37",className:"hidden md:flex items-center gap-6",children:[l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:38",onClick:()=>r("/images-library"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Jg,{"data-loc":"client/src/components/AppHeader.tsx:42",className:"w-4 h-4"}),"Images Library"]}),l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:45",onClick:()=>r("/prompts-library"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(em,{"data-loc":"client/src/components/AppHeader.tsx:49",className:"w-4 h-4"}),"Prompts Library"]}),l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:52",onClick:()=>r("/category-management"),className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Nc,{"data-loc":"client/src/components/AppHeader.tsx:56",className:"w-4 h-4"}),"Ads Management"]}),n&&l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:60",onClick:n,className:"flex items-center gap-2 text-white hover:text-yellow-300 transition-colors text-sm font-medium",children:[l.jsx(Yb,{"data-loc":"client/src/components/AppHeader.tsx:64",className:"w-4 h-4"}),"Settings"]})]}),l.jsxs(c6,{"data-loc":"client/src/components/AppHeader.tsx:71",children:[l.jsx(d6,{"data-loc":"client/src/components/AppHeader.tsx:72",asChild:!0,children:l.jsxs("button",{"data-loc":"client/src/components/AppHeader.tsx:73",className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:[e.profileImageUrl&&l.jsx("img",{"data-loc":"client/src/components/AppHeader.tsx:75",src:e.profileImageUrl,alt:"Profile",className:"w-8 h-8 rounded-full border-2 border-white object-cover"}),!e.profileImageUrl&&l.jsx("div",{"data-loc":"client/src/components/AppHeader.tsx:82",className:"w-8 h-8 rounded-full border-2 border-white bg-blue-800 flex items-center justify-center",children:l.jsx("span",{"data-loc":"client/src/components/AppHeader.tsx:83",className:"text-white font-medium text-sm",children:e.username.charAt(0).toUpperCase()})}),l.jsx("span",{"data-loc":"client/src/components/AppHeader.tsx:88",className:"text-white text-sm font-medium",children:e.username}),l.jsx("svg",{"data-loc":"client/src/components/AppHeader.tsx:89",className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{"data-loc":"client/src/components/AppHeader.tsx:90",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),l.jsx(u6,{"data-loc":"client/src/components/AppHeader.tsx:94",align:"end",className:"w-48",children:l.jsxs(f6,{"data-loc":"client/src/components/AppHeader.tsx:95",onClick:t,className:"cursor-pointer text-red-600",children:[l.jsx(Kb,{"data-loc":"client/src/components/AppHeader.tsx:96",className:"w-4 h-4 mr-2"}),"Logout"]})})]})]})})})}const mN=["Alina","Alexandra","Ana","Andreea","Adriana","Anca","Antonia","Bianca","Camelia","Carmen","Claudia","Cosmina","Cristina","Dana","Daniela","Daria","Diana","Doina","Dora","Elena","Eliza","Emanuela","Emilia","Eva","Florentina","Florina","Gabriela","Georgiana","Gina","Ileana","Ilinca","Ioana","Ionela","Irina","Isabella","Iulia","Laura","Lavinia","Larisa","Lidia","Liliana","Loredana","Lucia","Madalina","Manuela","Maria","Mariana","Mihaela","Mirela","Monica","Natalia","Nicoleta","Oana","Otilia","Paula","Petra","Raluca","Ramona","Roxana","Sabina","Simona","Sofia","Stefania","Tamara","Teodora","Valentina","Valeria","Vasilica","Veronica","Victoria"];function Uq({currentUser:e}){const[,t]=Eu(),n=Tt.useUtils();if(!e)return l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:43",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:44",className:"text-purple-900 text-xl",children:"Loading..."})});const[r,i]=N.useState("all"),[o,c]=N.useState("__new__"),[d,f]=N.useState(""),[h,m]=N.useState(""),[p,x]=N.useState(""),[v,w]=N.useState([]),[y,b]=N.useState(0),[_,D]=N.useState(""),[C,M]=N.useState(!1),[A,j]=N.useState(null),[U,F]=N.useState(""),[O,$]=N.useState(null),[se,I]=N.useState("small"),[Q,k]=N.useState(""),[ae,H]=N.useState("date"),[G,q]=N.useState("desc"),[ee,xe]=N.useState(!1),[B,te]=N.useState([]),[J,de]=N.useState(new Set),[_e,Oe]=N.useState([]),[Ee,He]=N.useState(!1),[Qe,at]=N.useState(null),Ie=N.useRef(null),{data:tt=[],refetch:nt}=Tt.imageLibrary.list.useQuery({userId:e.id}),{data:P=[]}=Tt.imageLibrary.getCharacters.useQuery({userId:e.id}),{data:he=[],refetch:ye}=Tt.categoryCharacters.list.useQuery({userId:e.id}),{data:ne=[]}=Tt.contextSessions.listByUser.useQuery({userId:e.id}),le=Tt.categoryCharacters.update.useMutation(),fe=N.useMemo(()=>[...P].sort((Ne,ze)=>Ne.localeCompare(ze)),[P]),Le=N.useCallback(Ne=>{for(const ze of ne)if(ze.videoResults)try{const st=typeof ze.videoResults=="string"?JSON.parse(ze.videoResults):ze.videoResults;if(Array.isArray(st)&&st.some(Nt=>{const Ut=Nt.status==="success"||Nt.status==="pending"||Nt.status==="failed",kt=Nt.imageUrl===Ne;return Ut&&kt}))return!0}catch{}return!1},[ne]),qe=N.useCallback(Ne=>he.find(st=>st.name===Ne)?.thumbnailUrl||null,[he]),Se=Tt.imageLibrary.upload.useMutation(),oe=Tt.imageLibrary.updateName.useMutation({onSuccess:()=>{nt(),j(null),be.success("Image updated successfully!")},onError:Ne=>{be.error(`Failed to update image: ${Ne.message}`)}}),Y=Tt.imageLibrary.delete.useMutation({onSuccess:()=>{nt(),be.success("Image deleted successfully!")},onError:Ne=>{be.error(`Failed to delete image: ${Ne.message}`)}}),Ce=Tt.imageLibrary.updateOrder.useMutation({onSuccess:async()=>{console.log("[MOVE ORDER]  Backend update successful, refetching..."),await new Promise(ze=>setTimeout(ze,100));const Ne=await nt();console.log("[MOVE ORDER]  Refetch complete - new order:",Ne.data?.map(ze=>`${ze.imageName}(${ze.displayOrder})`).join(", ")),be.success("Image order updated!")},onError:Ne=>{console.error("[MOVE ORDER]  Backend update failed:",Ne),be.error(`Failed to update order: ${Ne.message}`)}}),Fe=Tt.categoryCharacters.delete.useMutation({onSuccess:async()=>{await nt(),await ye()}}),lt=N.useMemo(()=>{let Ne=r==="all"?tt:tt.filter(ze=>ze.characterName===r);return Q.trim()&&(Ne=Ne.filter(ze=>ze.imageName.toLowerCase().includes(Q.toLowerCase()))),Ne=[...Ne].sort((ze,st)=>{if(ae==="order")return(ze.displayOrder||0)-(st.displayOrder||0);if(ae==="name"){const qt=ze.imageName.match(/_(\d+)(?:_CTA)?$/),Nt=st.imageName.match(/_(\d+)(?:_CTA)?$/),Ut=qt?parseInt(qt[1]):0,kt=Nt?parseInt(Nt[1]):0;if(Ut!==kt)return G==="asc"?Ut-kt:kt-Ut;const Wt=ze.imageName.endsWith("_CTA"),ln=st.imageName.endsWith("_CTA");if(Wt!==ln)return G==="asc"?Wt?1:-1:Wt?-1:1;const Sn=ze.imageName.localeCompare(st.imageName);return G==="asc"?Sn:-Sn}else{const qt=new Date(ze.createdAt||0).getTime(),Nt=new Date(st.createdAt||0).getTime(),Ut=qt-Nt;return G==="asc"?Ut:-Ut}}),Ne},[tt,r,Q,ae,G]),vt=Ne=>{const ze=Array.from(Ne.target.files||[]);ze.length>0&&Me(ze)},Et=Ne=>{Ne.preventDefault(),Ne.stopPropagation(),xe(!0)},yt=Ne=>{Ne.preventDefault(),Ne.stopPropagation(),xe(!1)},_t=Ne=>{Ne.preventDefault(),Ne.stopPropagation()},Xt=Ne=>{Ne.preventDefault(),Ne.stopPropagation(),xe(!1);const ze=Array.from(Ne.dataTransfer.files).filter(st=>st.type.startsWith("image/"));ze.length>0&&Me(ze)},Me=Ne=>{const ze=Ne.map(st=>({file:st,preview:URL.createObjectURL(st)}));te(ze)},Ze=Ne=>{te(ze=>{const st=[...ze];return URL.revokeObjectURL(st[Ne].preview),st.splice(Ne,1),st})},pt=()=>{const Ne=B.map(ze=>ze.file);w(Ne),jn(Ne),B.forEach(ze=>URL.revokeObjectURL(ze.preview)),te([])},gt=Ne=>{de(ze=>{const st=new Set(ze);return st.has(Ne)?st.delete(Ne):st.add(Ne),st})},Vt=()=>{de(new Set(lt.map(Ne=>Ne.id)))},Kt=()=>{de(new Set)},an=async()=>{if(J.size!==0&&confirm(`Delete ${J.size} selected image(s)?`))try{for(const Ne of J)await Y.mutateAsync({id:Ne});de(new Set),He(!1),be.success(`${J.size} image(s) deleted successfully!`)}catch(Ne){be.error(`Failed to delete images: ${Ne.message}`)}},Dn=()=>{J.size!==0&&(J.forEach(Ne=>{const ze=tt.find(st=>st.id===Ne);if(ze){const st=document.createElement("a");st.href=ze.imageUrl,st.download=ze.imageName,st.click()}}),be.success(`Downloading ${J.size} image(s)...`))},jn=async Ne=>{if(o==="__new__"){const st=(h||"").trim();if(st&&st!=="No Character"&&fe.some(Nt=>Nt.toLowerCase()===st.toLowerCase())){x(`Character "${st}" already exists!`),be.error(`Character "${st}" already exists!`);return}}if(p){be.error("Please fix errors before uploading");return}b(0);for(let st=0;st<Ne.length;st++){const qt=Ne[st],Nt=new FileReader;await new Promise(Ut=>{Nt.onload=async kt=>{const Wt=kt.target?.result;try{let ln;o==="__new__"?ln=(h||"").trim()||"No Character":ln=o;const qr=qt.name.replace(/\.[^/.]+$/,"").toLowerCase().includes("cta"),rn=tt.filter(Ca=>Ca.characterName===ln).map(Ca=>{const Fr=Ca.imageName.match(/_(\d+)(?:_CTA)?$/);return Fr?parseInt(Fr[1]):0}).filter(Ca=>Ca>0),Qr=rn.length>0?Math.max(...rn)+1:1,Pi=qr?`${ln}_${Qr}_CTA`:`${ln}_${Qr}`;await Se.mutateAsync({userId:e.id,characterName:ln,imageName:Pi,imageData:Wt})}catch(ln){console.error("Upload failed:",ln)}b(Math.round((st+1)/Ne.length*100)),Ut()},Nt.readAsDataURL(qt)})}nt(),w([]),b(0);let ze;o==="__new__"?ze=(h||"").trim()||"No Character":ze=o,i(ze),D(ze),be.success(`Uploaded ${Ne.length} images to ${ze}!`)},Ln=Ne=>{const ze=tt.find(st=>st.id===Ne);ze&&(j(Ne),F(ze.imageName))},V=()=>{!A||!U.trim()||oe.mutate({id:A,imageName:U})},X=Ne=>{const ze=tt.find(qt=>qt.id===Ne);!ze||!confirm(`Delete image "${ze.imageName}"?`)||(Oe(qt=>[...qt,{type:"delete",data:{characterName:ze.characterName,imageName:ze.imageName,imageUrl:ze.imageUrl,isThumbnail:ze.isThumbnail}}]),Y.mutate({id:Ne}),be.success("Imagine tears (UNDO disponibil)"))},pe=async Ne=>{const ze=he.find(Ut=>Ut.name===Ne);if(!ze){be.error(`Caracterul "${Ne}" nu a fost gsit.`);return}let st=ne.some(Ut=>{if(Ut.characterId===ze.id&&Ut.videoResults)try{const kt=typeof Ut.videoResults=="string"?JSON.parse(Ut.videoResults):Ut.videoResults;return Array.isArray(kt)&&kt.some(Wt=>Wt.status==="success"||Wt.status==="pending"||Wt.status==="failed")}catch{return!1}return!1});if(!st)try{const Ut=localStorage.getItem("savedContext");if(Ut){const kt=JSON.parse(Ut);kt.characterId===ze.id&&kt.videoResults&&(st=(Array.isArray(kt.videoResults)?kt.videoResults:JSON.parse(kt.videoResults)).some(ln=>ln.status==="success"||ln.status==="pending"||ln.status==="failed"))}}catch(Ut){console.error("[Delete Character] Error checking localStorage:",Ut)}if(st){be.error(`Nu poi terge caracterul "${Ne}" pentru c are videouri generate. terge mai nti AD-urile cu videouri.`);return}const qt=tt.filter(Ut=>Ut.characterName===Ne);if(confirm(`tergi caracterul "${Ne}" i toate cele ${qt.length} imagini asociate?`))try{for(const kt of qt)await Y.mutateAsync({id:kt.id});const Ut=he.find(kt=>kt.name===Ne);Ut&&await Fe.mutateAsync({id:Ut.id}),await nt(),await ye(),be.success(`Caracterul "${Ne}" i toate imaginile au fost terse!`)}catch(Ut){be.error(`Eroare la tergere: ${Ut.message}`)}},Re=async Ne=>{const ze=tt.find(st=>st.id===Ne);if(ze)try{const st=he.find(qt=>qt.name===ze.characterName);if(!st){be.error("Character not found!");return}await le.mutateAsync({id:st.id,thumbnailUrl:ze.imageUrl}),await ye(),be.success(`Thumbnail set for ${ze.characterName}!`)}catch(st){be.error(`Failed to set thumbnail: ${st.message}`)}},Ye=Ne=>{$(Ne)},Ct=Ne=>{Ne.preventDefault()},wt=(Ne,ze)=>{Ne.preventDefault(),Ne.stopPropagation(),at(ze)},Zt=()=>{at(null)},pn=Ne=>{if(console.log("[MOVE ORDER]  handleDropOnImage called",{draggedImageId:O,targetImageId:Ne}),!O||O===Ne){console.log("[MOVE ORDER]  No draggedImageId or same image, aborting"),$(null),at(null);return}const ze=tt.find(rn=>rn.id===O),st=tt.find(rn=>rn.id===Ne);if(console.log("[MOVE ORDER]  Found images:",{draggedImage:ze?{id:ze.id,fileName:ze.fileName,characterName:ze.characterName,displayOrder:ze.displayOrder}:null,targetImage:st?{id:st.id,fileName:st.fileName,characterName:st.characterName,displayOrder:st.displayOrder}:null}),!ze||!st){console.log("[MOVE ORDER]  Missing draggedImage or targetImage"),$(null),at(null);return}if(ze.characterName!==st.characterName){console.log("[MOVE ORDER]  Different characters, aborting",{draggedChar:ze.characterName,targetChar:st.characterName}),$(null),at(null);return}const qt=tt.filter(rn=>rn.characterName===ze.characterName);console.log("[MOVE ORDER]  Character images:",qt.map(rn=>({id:rn.id,fileName:rn.fileName,displayOrder:rn.displayOrder})));const Nt=qt.findIndex(rn=>rn.id===O),Ut=qt.findIndex(rn=>rn.id===Ne);if(console.log("[MOVE ORDER]  Indices:",{draggedIndex:Nt,targetIndex:Ut}),Nt===-1||Ut===-1){console.log("[MOVE ORDER]  Invalid indices"),$(null),at(null);return}const kt=[...qt],[Wt]=kt.splice(Nt,1);kt.splice(Ut,0,Wt),console.log("[MOVE ORDER]  Reordered array:",kt.map(rn=>({id:rn.id,fileName:rn.fileName,displayOrder:rn.displayOrder})));const ln=Math.min(...kt.map(rn=>rn.displayOrder||0));console.log("[MOVE ORDER]  Min displayOrder:",ln);const Sn=kt.map((rn,Qr)=>({id:rn.id,displayOrder:ln+Qr}));console.log("[MOVE ORDER]  Sending to backend:",Sn);const qr=n.imageLibrary.list.getData({userId:e.id});console.log("[MOVE ORDER]  Previous data:",qr?.length,"images");const Ri=tt.map(rn=>{const Qr=Sn.find(Pi=>Pi.id===rn.id);return Qr?{...rn,displayOrder:Qr.displayOrder}:rn});Ri.sort((rn,Qr)=>(rn.displayOrder||0)-(Qr.displayOrder||0)),console.log("[MOVE ORDER]  Optimistically updated cache - new order:",Ri.map(rn=>`${rn.imageName}(${rn.displayOrder})`).join(", ")),n.imageLibrary.list.setData({userId:e.id},rn=>[...Ri]),H("order"),console.log("[MOVE ORDER]  Switched to Custom Order view"),Ce.mutate({imageOrders:Sn}),$(null),at(null)},Qt=Ne=>{if(!O)return;const ze=tt.find(st=>st.id===O);if(!ze){$(null);return}if(ze.characterName!==Ne){be.error("Nu poi muta imaginile ntre caractere diferite!"),$(null);return}$(null)};return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:731",className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:[l.jsx(s_,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:733",currentUser:e,onLogout:()=>t("/login")}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:738",className:"max-w-6xl mx-auto p-3 md:p-8",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:740",className:"mb-8",children:[l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:741",onClick:()=>t("/"),variant:"outline",className:"mb-4",children:[l.jsx(Ni,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:746",className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:750",className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:751",children:[l.jsx("h1",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:752",className:"text-2xl md:text-4xl font-bold text-purple-900 mb-2",children:"Images Library"}),l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:755",className:"text-sm md:text-base text-purple-700",children:"Manage your character images and avatars"})]}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:761",className:"flex flex-wrap gap-3",children:Ee&&l.jsxs(l.Fragment,{children:[l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:765",size:"sm",variant:"outline",onClick:Vt,className:"border-purple-300",children:["Select All (",lt.length,")"]}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:773",size:"sm",variant:"outline",onClick:Kt,className:"border-purple-300",disabled:J.size===0,children:"Deselect All"}),l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:782",size:"sm",variant:"outline",onClick:Dn,className:"border-purple-300",disabled:J.size===0,children:[l.jsx(Kf,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:789",className:"w-4 h-4 mr-2"}),"Download (",J.size,")"]}),l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:792",size:"sm",variant:"outline",onClick:an,className:"border-red-300 text-red-600 hover:bg-red-50",disabled:J.size===0,children:[l.jsx(vo,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:799",className:"w-4 h-4 mr-2"}),"Delete (",J.size,")"]})]})})]}),l.jsx(lr,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:810",className:"border-2 border-purple-300 bg-purple-50",children:l.jsx(fr,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:811",className:"pt-6",children:l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:812",className:"space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:814",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:815",children:[l.jsx(er,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:816",className:"text-purple-900 font-medium mb-2 block",children:"Select Character"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:817",className:"relative w-64",children:[l.jsx(wa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:818",placeholder:"Search or select character...",value:d,onChange:Ne=>f(Ne.target.value),className:"bg-white border-purple-300 focus:border-purple-500 focus:ring-purple-500 h-10"}),d&&l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:825",className:"absolute z-10 w-full mt-1 bg-white border border-purple-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[fe.filter(Ne=>Ne&&Ne.trim()!==""&&Ne!=="No Character"&&Ne.toLowerCase().includes(d.toLowerCase())).map(Ne=>{const ze=qe(Ne);return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:836",onClick:()=>{c(Ne),f("")},className:"flex items-center gap-2 px-3 py-2 hover:bg-purple-100 cursor-pointer",children:[ze?l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:845",src:ze,alt:Ne,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:851",className:"w-6 h-6 rounded-full bg-purple-200 flex items-center justify-center text-xs font-semibold text-purple-700",children:Ne.charAt(0).toUpperCase()}),l.jsx("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:855",children:Ne})]},Ne)}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:859",onClick:()=>{c("__new__"),f("")},className:"flex items-center gap-2 px-3 py-2 hover:bg-purple-100 cursor-pointer border-t border-purple-200",children:l.jsx("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:866",className:"text-purple-600 font-medium",children:"+ New Character"})})]})]}),o&&o!=="__new__"&&(()=>{const Ne=tt.filter(qt=>qt.characterName===o),st=Ne.find(qt=>qt.isThumbnail)?.imageUrl||Ne[0]?.imageUrl;return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:877",className:"flex items-center gap-2 mt-2 p-2 bg-purple-50 rounded border border-purple-200",children:[st&&l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:879",src:st,alt:o,className:"w-12 h-12 object-cover rounded"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:885",children:[l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:886",className:"text-xs text-gray-500",children:"Selected Character:"}),l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:887",className:"text-sm font-medium text-purple-900",children:o})]})]})})()]}),o==="__new__"&&l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:895",children:[l.jsx(er,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:896",className:"text-purple-900 font-medium mb-2 block",children:"New Character Name"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:897",className:"flex items-center gap-2",children:[l.jsx(wa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:898",placeholder:"e.g., Alina, Maria",value:h,onChange:Ne=>{const ze=Ne.target.value;if(m(ze),ze.trim()){const st=fe.some(qt=>qt.toLowerCase()===ze.trim().toLowerCase());x(st?`Character "${ze.trim()}" already exists!`:"")}else x("")},className:`bg-white focus:border-purple-500 focus:ring-purple-500 h-10 w-64 ${p?"border-red-500":"border-purple-300"}`,autoFocus:!0}),l.jsx("button",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:922",onClick:()=>{let Ne=0,ze="";for(;Ne<100;){const st=mN[Math.floor(Math.random()*mN.length)];if(!fe.some(Nt=>Nt.toLowerCase()===st.toLowerCase())){ze=st;break}Ne++}ze?(m(ze),x("")):be.error("Could not generate unique name. Please enter manually.")},className:"text-blue-600 underline text-sm hover:text-blue-800 whitespace-nowrap",children:"Fill"})]}),p&&l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:949",className:"text-red-500 text-sm mt-1",children:p})]})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:956",onDragEnter:Et,onDragOver:_t,onDragLeave:yt,onDrop:Xt,onClick:()=>Ie.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${ee?"border-purple-600 bg-purple-100":"border-purple-300 bg-white hover:border-purple-500 hover:bg-purple-50"}`,children:[l.jsx(Cc,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:968",className:"w-12 h-12 mx-auto mb-4 text-purple-600"}),l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:969",className:"text-purple-900 font-medium mb-2",children:ee?"Drop images here":"Drag & drop images here"}),l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:972",className:"text-sm text-purple-600",children:"or click to browse"}),l.jsx("input",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:975",ref:Ie,type:"file",accept:"image/*",multiple:!0,onChange:vt,className:"hidden"})]}),B.length>0&&l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:987",className:"space-y-3",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:988",className:"flex items-center justify-between",children:[l.jsxs("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:989",className:"text-sm text-purple-900 font-medium",children:[B.length," image",B.length>1?"s":""," selected"]}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:992",size:"sm",variant:"outline",onClick:()=>{B.forEach(Ne=>URL.revokeObjectURL(Ne.preview)),te([])},className:"text-xs",children:"Clear All"})]}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1004",className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:B.map((Ne,ze)=>l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1006",className:"relative group",children:[l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1007",src:Ne.preview,alt:`Preview ${ze+1}`,className:"w-full aspect-[9/16] object-cover rounded border border-purple-200"}),l.jsx("button",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1012",onClick:()=>Ze(ze),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},ze))}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1021",onClick:pt,disabled:v.length>0,className:"w-full bg-purple-600 hover:bg-purple-700",children:v.length>0?l.jsxs(l.Fragment,{children:[l.jsx(or,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1028",className:"w-5 h-5 mr-2 animate-spin"}),"Uploading... ",y,"%"]}):l.jsxs(l.Fragment,{children:[l.jsx(Cc,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1033",className:"w-5 h-5 mr-2"}),"Upload ",B.length," Image",B.length>1?"s":""]})})]}),v.length>0&&l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1042",className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1043",className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${y}%`}})})]})})})]}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1055",className:"py-4",children:l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1056",className:"flex flex-wrap gap-8",children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1058",className:"space-y-2 flex-shrink-0",children:[l.jsx(er,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1059",className:"text-purple-900 font-medium text-base",children:"Filter by Character"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1060",className:"relative w-64",children:[l.jsx(wa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1061",placeholder:"Search or select character...",value:_,onChange:Ne=>D(Ne.target.value),onFocus:()=>M(!0),className:"bg-white border-purple-300 focus:border-purple-500 focus:ring-purple-500 h-10"}),C&&_&&l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1069",className:"absolute z-10 w-full mt-1 bg-white border border-purple-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[fe.filter(Ne=>Ne.toLowerCase().includes(_.toLowerCase())).map(Ne=>{const ze=tt.filter(Nt=>Nt.characterName===Ne),qt=ze.find(Nt=>Nt.isThumbnail)?.imageUrl||ze[0]?.imageUrl;return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1080",onClick:()=>{i(Ne),D(Ne),M(!1)},className:"px-3 py-2 hover:bg-purple-100 cursor-pointer flex items-center gap-2",children:[qt&&l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1090",src:qt,alt:Ne,className:"w-8 h-8 object-cover rounded"}),l.jsx("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1096",className:"text-purple-900",children:Ne})]},Ne)}),fe.filter(Ne=>Ne.toLowerCase().includes(_.toLowerCase())).length===0&&l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1103",className:"px-3 py-2 text-gray-500 text-sm",children:"No characters found"})]})]}),r!=="all"&&l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1109",className:"flex items-center gap-2",children:[l.jsxs("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1110",className:"text-sm text-purple-600",children:["Filtered: ",l.jsx("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1110",className:"font-medium",children:r})]}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1111",size:"sm",variant:"outline",onClick:()=>{i("all"),D("")},className:"text-xs border-purple-300",children:"Show All Characters"})]}),_e.length>0&&l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1127",className:"mt-3",children:l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1128",onClick:()=>{const Ne=_e[_e.length-1];Ne.type==="delete"&&(Se.mutate({characterName:Ne.data.characterName,imageName:Ne.data.imageName,imageUrl:Ne.data.imageUrl,isThumbnail:Ne.data.isThumbnail}),Oe(ze=>ze.slice(0,-1)),be.success(`Restaurat: ${Ne.data.imageName}`))},variant:"outline",size:"sm",className:"gap-2 border-orange-500 text-orange-700 hover:bg-orange-50",children:[l.jsx(Dc,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1147",className:"w-4 h-4"}),"UNDO (",_e.length," aciuni)"]})})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1155",className:"space-y-2 flex-shrink-0",children:[l.jsx(er,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1156",className:"text-purple-900 font-medium text-base",children:"View Options"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1157",className:"flex flex-wrap items-center gap-3",children:[l.jsxs(Pa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1159",value:ae,onValueChange:Ne=>H(Ne),children:[l.jsx(Ia,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1160",className:"w-32 h-10",children:l.jsx(Oa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1161"})}),l.jsxs(Fa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1163",children:[l.jsx(On,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1164",value:"name",children:"Name"}),l.jsx(On,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1165",value:"date",children:"Date"}),l.jsx(On,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1166",value:"order",children:"Custom Order"})]})]}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1170",variant:"outline",onClick:()=>q(G==="asc"?"desc":"asc"),className:"border-purple-300 h-10 px-3",title:G==="asc"?"Ascending":"Descending",children:l.jsx(TI,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1176",className:"w-4 h-4"})}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1180",className:"flex gap-1 bg-white border border-purple-300 rounded-lg p-1 h-10",children:[l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1181",size:"sm",variant:se==="small"?"default":"ghost",onClick:()=>I("small"),className:`h-8 ${se==="small"?"bg-purple-600 hover:bg-purple-700":""}`,title:"Large images",children:l.jsx(UI,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1188",className:"w-4 h-4"})}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1190",size:"sm",variant:se==="medium"?"default":"ghost",onClick:()=>I("medium"),className:`h-8 ${se==="medium"?"bg-purple-600 hover:bg-purple-700":""}`,title:"Medium images",children:l.jsx(xA,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1197",className:"w-4 h-4"})}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1199",size:"sm",variant:se==="large"?"default":"ghost",onClick:()=>I("large"),className:`h-8 ${se==="large"?"bg-purple-600 hover:bg-purple-700":""}`,title:"Small images",children:l.jsx(jI,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1206",className:"w-4 h-4"})})]})]})]})]})}),r==="all"?l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1216",className:"space-y-8",children:fe.map(Ne=>{let ze=tt.filter(Nt=>Nt.characterName===Ne);ze=[...ze].sort((Nt,Ut)=>{if(ae==="name"){const kt=Nt.imageName.match(/_(\d+)(?:_CTA)?$/),Wt=Ut.imageName.match(/_(\d+)(?:_CTA)?$/),ln=kt?parseInt(kt[1]):0,Sn=Wt?parseInt(Wt[1]):0;if(ln!==Sn)return G==="asc"?ln-Sn:Sn-ln;const qr=Nt.imageName.endsWith("_CTA"),Ri=Ut.imageName.endsWith("_CTA");if(qr!==Ri)return qr?1:-1;const rn=Nt.imageName.localeCompare(Ut.imageName);return G==="asc"?rn:-rn}else{const kt=new Date(Nt.createdAt||0).getTime(),Wt=new Date(Ut.createdAt||0).getTime(),ln=kt-Wt;return G==="asc"?ln:-ln}});const st={};ze.forEach(Nt=>{const Ut=Nt.imageName.match(/_(\d+)(?:_CTA)?$/),kt=Ut?parseInt(Ut[1]):0;st[kt]||(st[kt]=[]),st[kt].push(Nt)}),Object.keys(st).forEach(Nt=>{const Ut=parseInt(Nt);st[Ut]=st[Ut].sort((kt,Wt)=>{const ln=kt.imageName.endsWith("_CTA"),Sn=Wt.imageName.endsWith("_CTA");return ln!==Sn?ln?1:-1:0})});const qt=["bg-blue-50 border-blue-200","bg-green-50 border-green-200","bg-purple-50 border-purple-200","bg-pink-50 border-pink-200","bg-yellow-50 border-yellow-200","bg-indigo-50 border-indigo-200"];return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1290",onDragOver:Ct,onDrop:()=>Qt(Ne),className:`border-2 rounded-lg p-6 transition-all ${O?"border-purple-400 bg-purple-50":"border-gray-200 bg-white"}`,children:[l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1300",className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1301",className:"text-2xl font-bold text-purple-900",children:[Ne,l.jsxs("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1303",className:"text-sm text-purple-600 ml-2",children:["(",ze.length," images)"]})]}),l.jsxs(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1307",size:"sm",variant:"destructive",onClick:()=>pe(Ne),className:"gap-2",children:[l.jsx(vo,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1313",className:"w-4 h-4"}),"terge Caracterul"]})]}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1319",className:`grid gap-2 ${se==="small"?"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6":se==="medium"?"grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12":"grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 xl:grid-cols-14"}`,children:ze.map(Nt=>{const Ut=Nt.imageName.match(/_(\d+)(?:_CTA)?$/),kt=Ut?parseInt(Ut[1]):0,Wt=Object.keys(st).sort((Sn,qr)=>parseInt(Sn)-parseInt(qr)).indexOf(kt.toString()),ln=qt[Wt%qt.length];return l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1332",draggable:!Ee,onDragStart:()=>Ye(Nt.id),onDragOver:Sn=>wt(Sn,Nt.id),onDragLeave:Zt,onDrop:()=>pn(Nt.id),className:`relative p-2 rounded-lg border-2 ${ln} ${Ee?"cursor-pointer":"cursor-move"} ${Qe===Nt.id?"ring-2 ring-purple-600":""}`,children:[A===Nt.id?l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1345",className:"mb-1 space-y-1",children:[l.jsx(wa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1346",value:U,onChange:Sn=>F(Sn.target.value),className:"text-xs h-6 px-1"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1351",className:"flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1352",size:"sm",onClick:V,className:"flex-1 h-6 text-xs bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1359",size:"sm",variant:"outline",onClick:()=>j(null),className:"flex-1 h-6 text-xs",children:"Cancel"})]})]}):l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1370",className:"mb-1 flex items-center justify-between gap-1",children:[l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1371",className:"text-xs text-purple-900 truncate flex-1",children:Nt.imageName}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1374",size:"sm",variant:"ghost",onClick:()=>Ln(Nt.id),className:"w-5 h-5 p-0 hover:bg-blue-100 flex-shrink-0",title:"Edit name",children:l.jsx(Ac,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1381",className:"w-4 h-4 text-blue-600"})})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1387",className:"relative aspect-[9/16] bg-gray-100 rounded overflow-hidden",onClick:()=>Ee&&gt(Nt.id),children:[l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1391",src:Nt.imageUrl,alt:Nt.imageName,className:"w-full h-full object-cover"}),Ee&&l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1397",className:"absolute top-1 left-1",children:J.has(Nt.id)?l.jsx(XS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1399",className:"w-6 h-6 text-purple-600 bg-white rounded"}):l.jsx(KS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1401",className:"w-6 h-6 text-gray-400 bg-white rounded"})})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1408",className:"mt-1 flex gap-0.5 justify-between",children:[l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1409",size:"sm",variant:"ghost",onClick:()=>Re(Nt.id),className:"w-5 h-5 p-0 hover:bg-yellow-100",title:"Set as Character Thumbnail",children:l.jsx(YS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1416",className:"w-3 h-3 text-yellow-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1418",size:"sm",variant:"ghost",onClick:()=>X(Nt.id),disabled:Le(Nt.imageUrl),className:"w-5 h-5 p-0 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",title:Le(Nt.imageUrl)?"Nu poi terge aceast imagine pentru c are videouri generate. terge mai nti AD-urile cu videouri.":"terge imaginea",children:l.jsx(vo,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1426",className:"w-3 h-3 text-red-600"})})]})]},Nt.id)})})]},Ne)})}):l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1439",children:[r!=="all"&&l.jsxs("h2",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1441",className:"text-2xl font-bold text-purple-900 mb-4",children:[r,l.jsxs("span",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1443",className:"text-sm text-purple-600 ml-2",children:["(",lt.length," images)"]})]}),l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1448",className:`grid gap-2 ${se==="small"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":se==="medium"?"grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10":"grid-cols-3 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12"}`,children:lt.map(Ne=>l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1454",draggable:!Ee,onDragStart:()=>Ye(Ne.id),onDragOver:ze=>wt(ze,Ne.id),onDragLeave:Zt,onDrop:()=>pn(Ne.id),className:`relative ${Ee?"cursor-pointer":"cursor-move"} ${Qe===Ne.id?"ring-2 ring-purple-600":""}`,children:[A===Ne.id?l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1467",className:"mb-1 space-y-1",children:[l.jsx(wa,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1468",value:U,onChange:ze=>F(ze.target.value),className:"text-xs h-6 px-1"}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1473",className:"flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1474",size:"sm",onClick:V,className:"flex-1 h-6 text-xs bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1481",size:"sm",variant:"outline",onClick:()=>j(null),className:"flex-1 h-6 text-xs",children:"Cancel"})]})]}):l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1492",className:"mb-1 flex items-center justify-between gap-1",children:[l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1493",className:"text-xs text-purple-900 truncate flex-1",children:Ne.imageName}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1496",size:"sm",variant:"ghost",onClick:()=>Ln(Ne.id),className:"w-5 h-5 p-0 hover:bg-blue-100 flex-shrink-0",title:"Edit name",children:l.jsx(Ac,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1503",className:"w-4 h-4 text-blue-600"})})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1509",className:"relative aspect-[9/16] bg-gray-100 rounded overflow-hidden",onClick:()=>Ee&&gt(Ne.id),children:[l.jsx("img",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1513",src:Ne.imageUrl,alt:Ne.imageName,className:"w-full h-full object-cover"}),Ee&&l.jsx("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1519",className:"absolute top-1 left-1",children:J.has(Ne.id)?l.jsx(XS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1521",className:"w-6 h-6 text-purple-600 bg-white rounded"}):l.jsx(KS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1523",className:"w-6 h-6 text-gray-400 bg-white rounded"})})]}),l.jsxs("div",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1530",className:"mt-1 flex gap-0.5 justify-between",children:[l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1531",size:"sm",variant:"ghost",onClick:()=>Re(Ne.id),className:"w-5 h-5 p-0 hover:bg-yellow-100",title:"Set as Character Thumbnail",children:l.jsx(YS,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1538",className:"w-3 h-3 text-yellow-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1540",size:"sm",variant:"ghost",onClick:()=>X(Ne.id),disabled:Le(Ne.imageUrl),className:"w-5 h-5 p-0 hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed",title:Le(Ne.imageUrl)?"Nu poi terge aceast imagine pentru c are videouri generate. terge mai nti AD-urile cu videouri.":"terge imaginea",children:l.jsx(vo,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1548",className:"w-3 h-3 text-red-600"})})]})]},Ne.id))})]}),lt.length===0&&l.jsx(lr,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1559",children:l.jsxs(fr,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1560",className:"py-16 text-center text-gray-500",children:[l.jsx(Xb,{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1561",className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{"data-loc":"client/src/pages/ImagesLibraryPage.tsx:1562",className:"text-lg",children:"No images yet. Upload your first image!"})]})})]})]})}function kq({currentUser:e}){const[,t]=Eu();if(!e)return l.jsx("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:28",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-pink-50",children:l.jsx("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:29",className:"text-purple-900 text-xl",children:"Loading..."})});const[n,r]=N.useState(!1),[i,o]=N.useState(null),[c,d]=N.useState(""),[f,h]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),{data:w=[],refetch:y}=Tt.promptLibrary.list.useQuery({userId:e.id}),b=Tt.promptLibrary.create.useMutation({onSuccess:()=>{y(),r(!1),d(""),h(""),be.success("Prompt created successfully!")},onError:O=>{be.error(`Failed to create prompt: ${O.message}`)}}),_=Tt.promptLibrary.update.useMutation({onSuccess:()=>{y(),o(null),be.success("Prompt updated successfully!")},onError:O=>{be.error(`Failed to update prompt: ${O.message}`)}}),D=Tt.promptLibrary.duplicate.useMutation({onSuccess:()=>{y(),be.success("Prompt duplicated successfully!")},onError:O=>{be.error(`Failed to duplicate prompt: ${O.message}`)}}),C=Tt.promptLibrary.delete.useMutation({onSuccess:()=>{y(),be.success("Prompt deleted successfully!")},onError:O=>{be.error(`Failed to delete prompt: ${O.message}`)}}),M=()=>{if(!c.trim()||!f.trim()){be.error("Please fill in both prompt name and template");return}b.mutate({userId:e.id,promptName:c,promptTemplate:f})},A=O=>{const $=w.find(se=>se.id===O);$&&($.isDefault===1&&!confirm("Nu-i recomand s le editezi pe acestea. Eti sigur?")||(o(O),p($.promptName),v($.promptTemplate)))},j=()=>{if(i){if(!m.trim()||!x.trim()){be.error("Please fill in both prompt name and template");return}_.mutate({id:i,promptName:m,promptTemplate:x})}},U=O=>{D.mutate({id:O,userId:e.id})},F=O=>{const $=w.find(I=>I.id===O);if(!$)return;if($.isDefault===1){be.error("Cannot delete default prompts");return}confirm(`Delete prompt "${$.promptName}"?`)&&C.mutate({id:O})};return l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:158",className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[l.jsx(s_,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:160",currentUser:e,onLogout:()=>t("/login")}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:165",className:"max-w-6xl mx-auto p-3 md:p-8",children:[l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:167",className:"mb-8",children:[l.jsxs(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:168",onClick:()=>t("/"),variant:"outline",className:"mb-4",children:[l.jsx(Ni,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:173",className:"w-4 h-4 mr-2"}),"Back to Home"]}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:177",className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:178",children:[l.jsx("h1",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:179",className:"text-2xl md:text-4xl font-bold text-blue-900 mb-2",children:"Prompts Library"}),l.jsx("p",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:182",className:"text-sm md:text-base text-blue-700",children:"Manage your video generation prompts"})]}),l.jsxs(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:187",onClick:()=>r(!0),className:"bg-green-600 hover:bg-green-700",children:[l.jsx(OI,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:191",className:"w-4 h-4 mr-2"}),"Add New Prompt"]})]})]}),n&&l.jsxs(lr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:199",className:"mb-8 border-2 border-green-300",children:[l.jsxs(ya,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:200",className:"bg-green-50",children:[l.jsx(va,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:201",className:"text-green-900",children:"Add New Prompt"}),l.jsx(ba,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:202",children:"Create a custom prompt template for video generation"})]}),l.jsxs(fr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:206",className:"pt-6 space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:207",children:[l.jsx(er,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:208",children:"Prompt Name"}),l.jsx(wa,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:209",placeholder:"e.g., My Custom Prompt",value:c,onChange:O=>d(O.target.value)})]}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:216",children:[l.jsx(er,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:217",children:"Prompt Template"}),l.jsx(Tc,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:218",placeholder:"Enter your prompt template here... Use [INSERT TEXT] for dialogue placeholder.",value:f,onChange:O=>h(O.target.value),rows:12,className:"font-mono text-sm"})]}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:227",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:228",onClick:M,disabled:b.isPending,className:"bg-green-600 hover:bg-green-700",children:"Create Prompt"}),l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:235",variant:"outline",onClick:()=>{r(!1),d(""),h("")},children:"Cancel"})]})]})]}),i&&l.jsxs(lr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:252",className:"mb-8 border-2 border-blue-300",children:[l.jsxs(ya,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:253",className:"bg-blue-50",children:[l.jsx(va,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:254",className:"text-blue-900",children:"Edit Prompt"}),l.jsx(ba,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:255",children:"Modify prompt name and template"})]}),l.jsxs(fr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:259",className:"pt-6 space-y-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:260",children:[l.jsx(er,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:261",children:"Prompt Name"}),l.jsx(wa,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:262",value:m,onChange:O=>p(O.target.value)})]}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:268",children:[l.jsx(er,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:269",children:"Prompt Template"}),l.jsx(Tc,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:270",value:x,onChange:O=>v(O.target.value),rows:12,className:"font-mono text-sm"})]}),l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:278",className:"flex gap-2",children:[l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:279",onClick:j,disabled:_.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Update Prompt"}),l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:286",variant:"outline",onClick:()=>o(null),children:"Cancel"})]})]})]}),l.jsx("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:298",className:"space-y-4",children:w.length===0?l.jsx(lr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:300",children:l.jsxs(fr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:301",className:"py-12 text-center text-gray-500",children:[l.jsx(du,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:302",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:303",children:"No prompts yet. Add your first prompt!"})]})}):w.map(O=>l.jsx(lr,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:308",className:`border-2 ${O.isDefault===1?"border-gray-300 bg-gray-50":"border-blue-200"}`,children:l.jsx(ya,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:316",children:l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:317",className:"flex items-start justify-between",children:[l.jsxs("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:318",className:"flex-1",children:[l.jsxs(va,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:319",className:`flex items-center gap-2 ${O.isDefault===1?"text-gray-600":"text-blue-900"}`,children:[l.jsx(du,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:326",className:"w-5 h-5"}),O.promptName,O.isDefault===1&&l.jsx("span",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:329",className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded",children:"DEFAULT"})]}),l.jsx(ba,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:334",className:"mt-2",children:l.jsxs("pre",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:335",className:"whitespace-pre-wrap font-mono text-xs bg-white p-3 rounded border max-h-32 overflow-y-auto",children:[O.promptTemplate.substring(0,300),O.promptTemplate.length>300&&"..."]})})]}),l.jsx("div",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:342",className:"flex gap-2 ml-4",children:l.jsxs(L1,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:343",children:[l.jsxs(Y0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:344",children:[l.jsx(Z0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:345",asChild:!0,children:l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:346",size:"sm",variant:"outline",onClick:()=>A(O.id),disabled:O.isDefault===1,className:O.isDefault===1?"border-gray-300 text-gray-400 cursor-not-allowed":"border-blue-300 text-blue-700 hover:bg-blue-50",children:l.jsx(Ac,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:357",className:"w-4 h-4"})})}),l.jsx(Q0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:360",children:l.jsx("p",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:361",children:O.isDefault===1?"Cannot edit default prompts":"Edit prompt"})})]}),l.jsxs(Y0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:365",children:[l.jsx(Z0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:366",asChild:!0,children:l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:367",size:"sm",variant:"outline",onClick:()=>U(O.id),className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:l.jsx(MI,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:373",className:"w-4 h-4"})})}),l.jsx(Q0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:376",children:l.jsx("p",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:377",children:"Duplicate prompt"})})]}),l.jsxs(Y0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:381",children:[l.jsx(Z0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:382",asChild:!0,children:l.jsx(ke,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:383",size:"sm",variant:"outline",onClick:()=>F(O.id),disabled:O.isDefault===1,className:O.isDefault===1?"border-gray-300 text-gray-400 cursor-not-allowed":"border-red-300 text-red-700 hover:bg-red-50",children:l.jsx(vo,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:394",className:"w-4 h-4"})})}),l.jsx(Q0,{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:397",children:l.jsx("p",{"data-loc":"client/src/pages/PromptsLibraryPage.tsx:398",children:O.isDefault===1?"Cannot delete default prompts":"Delete prompt"})})]})]})})]})})},O.id))})]})]})}var jq=Symbol("radix.slottable");function Rq(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jq,t}var h6="AlertDialog",[Pq]=Ms(h6,[WA]),Uo=WA(),p6=e=>{const{__scopeAlertDialog:t,...n}=e,r=Uo(t);return l.jsx(i5,{...r,...n,modal:!0})};p6.displayName=h6;var Oq="AlertDialogTrigger",Iq=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return l.jsx(SF,{...i,...r,ref:t})});Iq.displayName=Oq;var Fq="AlertDialogPortal",g6=e=>{const{__scopeAlertDialog:t,...n}=e,r=Uo(t);return l.jsx(s5,{...r,...n})};g6.displayName=Fq;var Lq="AlertDialogOverlay",m6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return l.jsx(o5,{...i,...r,ref:t})});m6.displayName=Lq;var mu="AlertDialogContent",[Hq,Bq]=Pq(mu),Vq=Rq("AlertDialogContent"),x6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Uo(n),c=N.useRef(null),d=Nn(t,c),f=N.useRef(null);return l.jsx(bF,{contentName:mu,titleName:y6,docsSlug:"alert-dialog",children:l.jsx(Hq,{scope:n,cancelRef:f,children:l.jsxs(l5,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:Pt(i.onOpenAutoFocus,h=>{h.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[l.jsx(Vq,{children:r}),l.jsx(zq,{contentRef:c})]})})})});x6.displayName=mu;var y6="AlertDialogTitle",v6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return l.jsx(c5,{...i,...r,ref:t})});v6.displayName=y6;var b6="AlertDialogDescription",_6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return l.jsx(d5,{...i,...r,ref:t})});_6.displayName=b6;var Wq="AlertDialogAction",w6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return l.jsx(K1,{...i,...r,ref:t})});w6.displayName=Wq;var D6="AlertDialogCancel",S6=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Bq(D6,n),o=Uo(n),c=Nn(t,i);return l.jsx(K1,{...o,...r,ref:c})});S6.displayName=D6;var zq=({contentRef:e})=>{const t=`\`${mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mu}\` by passing a \`${b6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$q=p6,qq=g6,Gq=m6,Xq=x6,Kq=w6,Yq=S6,Zq=v6,Qq=_6;function Jq({...e}){return l.jsx($q,{"data-loc":"client/src/components/ui/alert-dialog.tsx:10","data-slot":"alert-dialog",...e})}function eG({...e}){return l.jsx(qq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:25","data-slot":"alert-dialog-portal",...e})}function tG({className:e,...t}){return l.jsx(Gq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:34","data-slot":"alert-dialog-overlay",className:wn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function nG({className:e,...t}){return l.jsxs(eG,{"data-loc":"client/src/components/ui/alert-dialog.tsx:50",children:[l.jsx(tG,{"data-loc":"client/src/components/ui/alert-dialog.tsx:51"}),l.jsx(Xq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:52","data-slot":"alert-dialog-content",className:wn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function rG({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/alert-dialog.tsx:69","data-slot":"alert-dialog-header",className:wn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function aG({className:e,...t}){return l.jsx("div",{"data-loc":"client/src/components/ui/alert-dialog.tsx:82","data-slot":"alert-dialog-footer",className:wn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function iG({className:e,...t}){return l.jsx(Zq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:98","data-slot":"alert-dialog-title",className:wn("text-lg font-semibold",e),...t})}function sG({className:e,...t}){return l.jsx(Qq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:111","data-slot":"alert-dialog-description",className:wn("text-muted-foreground text-sm",e),...t})}function oG({className:e,...t}){return l.jsx(Kq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:124",className:wn(B1(),e),...t})}function lG({className:e,...t}){return l.jsx(Yq,{"data-loc":"client/src/components/ui/alert-dialog.tsx:136",className:wn(B1({variant:"outline"}),e),...t})}function cG({currentUser:e}){const[,t]=Eu(),[n,r]=N.useState(""),[i,o]=N.useState(new Set),[c,d]=N.useState(new Set),[f,h]=N.useState(new Set),[m,p]=N.useState(new Set),[x,v]=N.useState(null),[w,y]=N.useState(""),{data:b=[],refetch:_}=Tt.tams.list.useQuery({userId:e.id}),{data:D=[],refetch:C}=Tt.coreBeliefs.list.useQuery({userId:e.id}),{data:M=[],refetch:A}=Tt.emotionalAngles.list.useQuery({userId:e.id}),{data:j=[],refetch:U}=Tt.ads.list.useQuery({userId:e.id}),{data:F=[]}=Tt.categoryCharacters.list.useQuery({userId:e.id}),{data:O=[]}=Tt.contextSessions.listByUser.useQuery({userId:e.id});N.useEffect(()=>{console.log(`
========== CATEGORY MANAGEMENT DATA ==========`),console.log("[CM]  Total Characters:",F.length),console.log("[CM]  Characters:",F.map(Ie=>({id:Ie.id,name:Ie.name}))),console.log("[CM]  Total Context Sessions:",O.length),console.log("[CM]  Context Sessions:",O.map(Ie=>({id:Ie.id,adId:Ie.adId,characterId:Ie.characterId,hasVideoResults:!!Ie.videoResults,videoResultsType:typeof Ie.videoResults}))),console.log("[CM]  Total ADs:",j.length),console.log("[CM]  ADs:",j.map(Ie=>({id:Ie.id,name:Ie.name,emotionalAngleId:Ie.emotionalAngleId}))),j.forEach(Ie=>{const tt=O.filter(ye=>ye.adId===Ie.id),nt=tt.map(ye=>ye.characterId).filter(Boolean),P=[...new Set(nt)],he=F.filter(ye=>P.includes(ye.id));console.log(`[CM]  AD ${Ie.id} (${Ie.name}):`),console.log(`  - Sessions for this AD: ${tt.length}`),console.log(`  - Character IDs: [${nt.join(", ")}]`),console.log(`  - Unique Character IDs: [${P.join(", ")}]`),console.log(`  - Used Characters: [${he.map(ye=>ye.name).join(", ")}]`)}),console.log(`==============================================
`)},[F,O,j]),N.useEffect(()=>{b.length>0&&o(new Set(b.map(Ie=>Ie.id)))},[b]),N.useEffect(()=>{D.length>0&&d(new Set(D.map(Ie=>Ie.id)))},[D]),N.useEffect(()=>{M.length>0&&h(new Set(M.map(Ie=>Ie.id)))},[M]);const $=Tt.tams.update.useMutation(),se=Tt.tams.delete.useMutation(),I=Tt.coreBeliefs.update.useMutation(),Q=Tt.coreBeliefs.delete.useMutation(),k=Tt.emotionalAngles.update.useMutation(),ae=Tt.emotionalAngles.delete.useMutation(),H=Tt.ads.update.useMutation(),G=Tt.ads.delete.useMutation(),q=Ie=>{o(tt=>{const nt=new Set(tt);return nt.has(Ie)?nt.delete(Ie):nt.add(Ie),nt})},ee=Ie=>{d(tt=>{const nt=new Set(tt);return nt.has(Ie)?nt.delete(Ie):nt.add(Ie),nt})},xe=Ie=>{h(tt=>{const nt=new Set(tt);return nt.has(Ie)?nt.delete(Ie):nt.add(Ie),nt})},B=Ie=>{p(tt=>{const nt=new Set(tt);return nt.has(Ie)?nt.delete(Ie):nt.add(Ie),nt})},te=(Ie,tt,nt)=>{v({type:Ie,id:tt}),y(nt)},J=()=>{v(null),y("")},de=async()=>{if(!x||!w.trim()){console.log("[CM Save]  Validation failed:",{editingId:x,editingName:w});return}console.log("[CM Save]  Starting save:",{type:x.type,id:x.id,newName:w.trim()});try{x.type==="tam"?(console.log("[CM Save]  Calling updateTamMutation..."),await $.mutateAsync({id:x.id,name:w.trim()}),console.log("[CM Save]  TAM updated, refetching..."),await _(),console.log("[CM Save]  TAMs refetched")):x.type==="coreBelief"?(console.log("[CM Save]  Calling updateCoreBeliefMutation..."),await I.mutateAsync({id:x.id,name:w.trim()}),console.log("[CM Save]  Core Belief updated, refetching..."),await C(),console.log("[CM Save]  Core Beliefs refetched")):x.type==="emotionalAngle"?(console.log("[CM Save]  Calling updateEmotionalAngleMutation..."),await k.mutateAsync({id:x.id,name:w.trim()}),console.log("[CM Save]  Emotional Angle updated, refetching..."),await A(),console.log("[CM Save]  Emotional Angles refetched")):x.type==="ad"&&(console.log("[CM Save]  Calling updateAdMutation..."),await H.mutateAsync({id:x.id,name:w.trim()}),console.log("[CM Save]  AD updated, refetching..."),await U(),console.log("[CM Save]  ADs refetched")),console.log("[CM Save]  Save complete!"),be.success("Updated successfully!"),J()}catch(Ie){console.error("[CM Save]  Error:",Ie),be.error(`Failed to update: ${Ie.message}`)}},[_e,Oe]=N.useState(null),Ee=(Ie,tt,nt)=>{Oe({open:!0,type:Ie,id:tt,name:nt})},He=async()=>{if(!_e)return;const{type:Ie,id:tt,name:nt}=_e;try{Ie==="tam"?(await se.mutateAsync({id:tt}),await _(),await C(),await A(),await U()):Ie==="coreBelief"?(await Q.mutateAsync({id:tt}),await C(),await A(),await U()):Ie==="emotionalAngle"?(await ae.mutateAsync({id:tt}),await A(),await U()):Ie==="ad"&&(await G.mutateAsync({id:tt}),await U()),be.success(`Deleted "${nt}" successfully!`),Oe(null)}catch(P){be.error(P.message||`Failed to delete: ${P.message}`),Oe(null)}},Qe=N.useMemo(()=>({totalTams:b.length,totalCoreBeliefs:D.length,totalEmotionalAngles:M.length,totalAds:j.length}),[b,D,M,j]),at=N.useMemo(()=>{if(!n.trim())return b;const Ie=n.toLowerCase();return b.filter(tt=>tt.name.toLowerCase().includes(Ie))},[b,n]);return l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:278",className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[l.jsx(s_,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:280",currentUser:e,onLogout:()=>t("/login")}),l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:286",className:"max-w-6xl mx-auto px-4 py-6",children:l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:287",className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:288",className:"flex items-center gap-4",children:[l.jsxs(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:289",variant:"ghost",onClick:()=>t("/"),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[l.jsx(Ni,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:294",className:"w-5 h-5 mr-1"}),"Back to Home"]}),l.jsx("h1",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:297",className:"text-3xl font-bold text-purple-900",children:"Category Management"})]}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:299",className:"relative",children:[l.jsx(vA,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:300",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-purple-400"}),l.jsx(wa,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:301",type:"text",placeholder:"Search categories...",value:n,onChange:Ie=>r(Ie.target.value),className:"pl-10 w-64 border-purple-300 focus:border-purple-500"})]})]})}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:313",className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:314",className:"grid grid-cols-4 gap-4 mb-6",children:[l.jsx(lr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:315",className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:l.jsxs(fr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:316",className:"p-4",children:[l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:317",className:"text-sm opacity-90",children:"TAMs"}),l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:318",className:"text-3xl font-bold",children:Qe.totalTams})]})}),l.jsx(lr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:321",className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:l.jsxs(fr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:322",className:"p-4",children:[l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:323",className:"text-sm opacity-90",children:"Core Beliefs"}),l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:324",className:"text-3xl font-bold",children:Qe.totalCoreBeliefs})]})}),l.jsx(lr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:327",className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:l.jsxs(fr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:328",className:"p-4",children:[l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:329",className:"text-sm opacity-90",children:"Emotional Angles"}),l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:330",className:"text-3xl font-bold",children:Qe.totalEmotionalAngles})]})}),l.jsx(lr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:333",className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:l.jsxs(fr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:334",className:"p-4",children:[l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:335",className:"text-sm opacity-90",children:"Ads"}),l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:336",className:"text-3xl font-bold",children:Qe.totalAds})]})})]}),l.jsx(lr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:342",children:l.jsx(fr,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:343",className:"p-6",children:l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:344",className:"space-y-2",children:at.map(Ie=>{const tt=i.has(Ie.id),nt=D.filter(he=>he.tamId===Ie.id),P=x?.type==="tam"&&x.id===Ie.id;return l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:351",className:"border-l-4 border-purple-500 pl-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:353",className:"flex items-center gap-2 p-2 hover:bg-purple-50 rounded group",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:354",variant:"ghost",size:"sm",onClick:()=>q(Ie.id),className:"p-0 h-6 w-6",children:tt?l.jsx(cu,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:360",className:"w-4 h-4"}):l.jsx(yg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:360",className:"w-4 h-4"})}),tt?l.jsx(vg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:362",className:"w-5 h-5 text-purple-600"}):l.jsx(Nc,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:362",className:"w-5 h-5 text-purple-600"}),P?l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:365",className:"flex-1 flex items-center gap-2",children:[l.jsx(wa,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:366",value:w,onChange:he=>y(he.target.value),onKeyDown:he=>{he.key==="Enter"&&de(),he.key==="Escape"&&J()},className:"h-8",autoFocus:!0}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:376",size:"sm",onClick:de,className:"h-8 bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:377",size:"sm",variant:"outline",onClick:J,className:"h-8",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:381",className:"flex-1 font-semibold text-purple-900",onDoubleClick:()=>te("tam",Ie.id,Ie.name),children:Ie.name}),l.jsxs("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:384",className:"text-sm text-gray-500",children:[nt.length," Core Beliefs"]}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:385",className:"opacity-0 group-hover:opacity-100 flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:386",size:"sm",variant:"ghost",onClick:()=>te("tam",Ie.id,Ie.name),className:"h-6 w-6 p-0 hover:bg-blue-100",children:l.jsx(Ac,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:392",className:"w-3 h-3 text-blue-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:394",size:"sm",variant:"ghost",onClick:()=>Ee("tam",Ie.id,Ie.name),className:"h-6 w-6 p-0 hover:bg-red-100",children:l.jsx(vo,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:400",className:"w-3 h-3 text-red-600"})})]})]})]}),tt&&l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:409",className:"ml-8 mt-2 space-y-2",children:nt.map(he=>{const ye=c.has(he.id),ne=M.filter(fe=>fe.coreBeliefId===he.id),le=x?.type==="coreBelief"&&x.id===he.id;return l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:416",className:"border-l-4 border-blue-500 pl-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:418",className:"flex items-center gap-2 p-2 hover:bg-blue-50 rounded group",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:419",variant:"ghost",size:"sm",onClick:()=>ee(he.id),className:"p-0 h-6 w-6",children:ye?l.jsx(cu,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:425",className:"w-4 h-4"}):l.jsx(yg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:425",className:"w-4 h-4"})}),ye?l.jsx(vg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:427",className:"w-5 h-5 text-blue-600"}):l.jsx(Nc,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:427",className:"w-5 h-5 text-blue-600"}),le?l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:430",className:"flex-1 flex items-center gap-2",children:[l.jsx(wa,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:431",value:w,onChange:fe=>y(fe.target.value),onKeyDown:fe=>{fe.key==="Enter"&&de(),fe.key==="Escape"&&J()},className:"h-8",autoFocus:!0}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:441",size:"sm",onClick:de,className:"h-8 bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:442",size:"sm",variant:"outline",onClick:J,className:"h-8",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:446",className:"flex-1 font-medium text-blue-900",onDoubleClick:()=>te("coreBelief",he.id,he.name),children:he.name}),l.jsxs("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:449",className:"text-sm text-gray-500",children:[ne.length," Emotional Angles"]}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:450",className:"opacity-0 group-hover:opacity-100 flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:451",size:"sm",variant:"ghost",onClick:()=>te("coreBelief",he.id,he.name),className:"h-6 w-6 p-0 hover:bg-blue-100",children:l.jsx(Ac,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:457",className:"w-3 h-3 text-blue-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:459",size:"sm",variant:"ghost",onClick:()=>Ee("coreBelief",he.id,he.name),className:"h-6 w-6 p-0 hover:bg-red-100",children:l.jsx(vo,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:465",className:"w-3 h-3 text-red-600"})})]})]})]}),ye&&l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:474",className:"ml-8 mt-2 space-y-2",children:ne.map(fe=>{const Le=f.has(fe.id),qe=j.filter(oe=>oe.emotionalAngleId===fe.id),Se=x?.type==="emotionalAngle"&&x.id===fe.id;return l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:481",className:"border-l-4 border-green-500 pl-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:483",className:"flex items-center gap-2 p-2 hover:bg-green-50 rounded group",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:484",variant:"ghost",size:"sm",onClick:()=>xe(fe.id),className:"p-0 h-6 w-6",children:Le?l.jsx(cu,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:490",className:"w-4 h-4"}):l.jsx(yg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:490",className:"w-4 h-4"})}),Le?l.jsx(vg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:492",className:"w-5 h-5 text-green-600"}):l.jsx(Nc,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:492",className:"w-5 h-5 text-green-600"}),Se?l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:495",className:"flex-1 flex items-center gap-2",children:[l.jsx(wa,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:496",value:w,onChange:oe=>y(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&de(),oe.key==="Escape"&&J()},className:"h-8",autoFocus:!0}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:506",size:"sm",onClick:de,className:"h-8 bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:507",size:"sm",variant:"outline",onClick:J,className:"h-8",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:511",className:"flex-1 font-medium text-green-900",onDoubleClick:()=>te("emotionalAngle",fe.id,fe.name),children:fe.name}),l.jsxs("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:514",className:"text-sm text-gray-500",children:[qe.length," Ads"]}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:515",className:"opacity-0 group-hover:opacity-100 flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:516",size:"sm",variant:"ghost",onClick:()=>te("emotionalAngle",fe.id,fe.name),className:"h-6 w-6 p-0 hover:bg-blue-100",children:l.jsx(Ac,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:522",className:"w-3 h-3 text-blue-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:524",size:"sm",variant:"ghost",onClick:()=>Ee("emotionalAngle",fe.id,fe.name),className:"h-6 w-6 p-0 hover:bg-red-100",children:l.jsx(vo,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:530",className:"w-3 h-3 text-red-600"})})]})]})]}),Le&&l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:539",className:"ml-8 mt-2 space-y-2",children:qe.map(oe=>{const Y=m.has(oe.id),Ce=x?.type==="ad"&&x.id===oe.id,Fe=O.filter(Et=>Et.adId===oe.id),lt=new Set(Fe.filter(Et=>{const yt=Et.videoResults;return yt&&yt.some(_t=>_t.status==="success"&&_t.videoUrl)}).map(Et=>Et.characterId).filter(Boolean)),vt=F.filter(Et=>lt.has(Et.id));return l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:559",className:"border-l-4 border-orange-500 pl-4",children:[l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:561",className:"flex items-center gap-2 p-2 hover:bg-orange-50 rounded group",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:562",variant:"ghost",size:"sm",onClick:()=>B(oe.id),className:"p-0 h-6 w-6",children:Y?l.jsx(cu,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:568",className:"w-4 h-4"}):l.jsx(yg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:568",className:"w-4 h-4"})}),Y?l.jsx(vg,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:570",className:"w-5 h-5 text-orange-600"}):l.jsx(Nc,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:570",className:"w-5 h-5 text-orange-600"}),Ce?l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:573",className:"flex-1 flex items-center gap-2",children:[l.jsx(wa,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:574",value:w,onChange:Et=>y(Et.target.value),onKeyDown:Et=>{Et.key==="Enter"&&de(),Et.key==="Escape"&&J()},className:"h-8",autoFocus:!0}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:584",size:"sm",onClick:de,className:"h-8 bg-green-600 hover:bg-green-700",children:"Save"}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:585",size:"sm",variant:"outline",onClick:J,className:"h-8",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:589",className:"flex-1 font-medium text-orange-900",onDoubleClick:()=>te("ad",oe.id,oe.name),children:oe.name}),l.jsxs("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:592",className:"text-sm text-gray-500",children:[vt.length," Characters"]}),l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:593",className:"opacity-0 group-hover:opacity-100 flex gap-1",children:[l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:594",size:"sm",variant:"ghost",onClick:()=>te("ad",oe.id,oe.name),className:"h-6 w-6 p-0 hover:bg-blue-100",children:l.jsx(Ac,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:600",className:"w-3 h-3 text-blue-600"})}),l.jsx(ke,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:602",size:"sm",variant:"ghost",onClick:()=>Ee("ad",oe.id,oe.name),className:"h-6 w-6 p-0 hover:bg-red-100",children:l.jsx(vo,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:608",className:"w-3 h-3 text-red-600"})})]})]})]}),Y&&l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:617",className:"ml-8 mt-2 space-y-2",children:vt.map(Et=>l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:619",className:"border-l-4 border-pink-500 pl-4",children:l.jsxs("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:620",className:"flex items-center gap-2 p-2 hover:bg-pink-50 rounded",children:[l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:621",className:"w-6 h-6 flex items-center justify-center",children:l.jsx("div",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:622",className:"w-2 h-2 rounded-full bg-pink-500"})}),l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:624",className:"flex-1 text-pink-900",children:Et.name})]})},Et.id))})]},oe.id)})})]},fe.id)})})]},he.id)})})]},Ie.id)})})})})]}),l.jsx(Jq,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:656",open:_e?.open||!1,onOpenChange:Ie=>!Ie&&Oe(null),children:l.jsxs(nG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:657",children:[l.jsxs(rG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:658",children:[l.jsx(iG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:659",children:"Confirm Delete"}),l.jsxs(sG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:660",children:['Are you sure you want to delete "',_e?.name,'"?',l.jsx("br",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:662"}),l.jsx("span",{"data-loc":"client/src/pages/CategoryManagementPage.tsx:663",className:"text-red-600 font-semibold",children:"This action cannot be undone."})]})]}),l.jsxs(aG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:666",children:[l.jsx(lG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:667",onClick:()=>Oe(null),children:"Cancel"}),l.jsx(oG,{"data-loc":"client/src/pages/CategoryManagementPage.tsx:668",onClick:He,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function dG(){const[e,t]=N.useState(null),[n,r]=N.useState(!0);N.useEffect(()=>{const c=localStorage.getItem("currentUser");if(c)try{t(JSON.parse(c))}catch(d){console.error("Failed to parse saved user:",d),localStorage.removeItem("currentUser")}r(!1)},[]);const i=c=>{t(c),localStorage.setItem("currentUser",JSON.stringify(c))},o=()=>{t(null),localStorage.removeItem("currentUser")};return n?l.jsx("div",{"data-loc":"client/src/App.tsx:44",className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:l.jsx("div",{"data-loc":"client/src/App.tsx:45",className:"text-blue-900 text-xl",children:"Se ncarc..."})}):e?l.jsxs(o7,{"data-loc":"client/src/App.tsx:57",children:[l.jsx(Zd,{"data-loc":"client/src/App.tsx:58",path:"/",component:()=>l.jsx(Tq,{"data-loc":"client/src/App.tsx:58",currentUser:e,onLogout:o})}),l.jsx(Zd,{"data-loc":"client/src/App.tsx:59",path:"/images-library",component:()=>l.jsx(Uq,{"data-loc":"client/src/App.tsx:59",currentUser:e})}),l.jsx(Zd,{"data-loc":"client/src/App.tsx:60",path:"/prompts-library",component:()=>l.jsx(kq,{"data-loc":"client/src/App.tsx:60",currentUser:e})}),l.jsx(Zd,{"data-loc":"client/src/App.tsx:61",path:"/category-management",component:()=>l.jsx(cG,{"data-loc":"client/src/App.tsx:61",currentUser:e})}),l.jsx(Zd,{"data-loc":"client/src/App.tsx:62",path:"/404",component:iC}),l.jsx(Zd,{"data-loc":"client/src/App.tsx:64",component:iC})]}):l.jsx(Mq,{"data-loc":"client/src/App.tsx:52",onLoginSuccess:i})}function uG(){return l.jsx(l7,{"data-loc":"client/src/App.tsx:76",children:l.jsx(d7,{"data-loc":"client/src/App.tsx:77",defaultTheme:"light",children:l.jsxs(L1,{"data-loc":"client/src/App.tsx:81",children:[l.jsx(dP,{"data-loc":"client/src/App.tsx:82"}),l.jsx(dG,{"data-loc":"client/src/App.tsx:83"})]})})})}const Jm=new uk,C6=e=>{!(e instanceof fh)||typeof window>"u"||!(e.message===Gj)||(window.location.href=Aq())};Jm.getQueryCache().subscribe(e=>{if(e.type==="updated"&&e.action.type==="error"){const t=e.query.state.error;C6(t),console.error("[API Query Error]",t)}});Jm.getMutationCache().subscribe(e=>{if(e.type==="updated"&&e.action.type==="error"){const t=e.mutation.state.error;C6(t),console.error("[API Mutation Error]",t)}});const fG=Tt.createClient({links:[bj({url:"/api/trpc",transformer:Co,fetch(e,t){return globalThis.fetch(e,{...t??{},credentials:"include"})}})]});Jj.createRoot(document.getElementById("root")).render(l.jsx(Tt.Provider,{"data-loc":"client/src/main.tsx:56",client:fG,queryClient:Jm,children:l.jsx(hk,{"data-loc":"client/src/main.tsx:57",client:Jm,children:l.jsx(uG,{"data-loc":"client/src/main.tsx:58"})})}));
